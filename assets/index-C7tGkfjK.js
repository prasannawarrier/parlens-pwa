(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function rd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wh={exports:{}},ll={};var Vg;function cb(){if(Vg)return ll;Vg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(c,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:c,key:_,ref:d!==void 0?d:null,props:p}}return ll.Fragment=s,ll.jsx=l,ll.jsxs=l,ll}var Ig;function fb(){return Ig||(Ig=1,wh.exports=cb()),wh.exports}var x=fb(),Sh={exports:{}},ul={},Eh={exports:{}},Th={};var Yg;function hb(){return Yg||(Yg=1,(function(a){function s(M,Y){var K=M.length;M.push(Y);t:for(;0<K;){var pt=K-1>>>1,W=M[pt];if(0<d(W,Y))M[pt]=Y,M[K]=W,K=pt;else break t}}function l(M){return M.length===0?null:M[0]}function c(M){if(M.length===0)return null;var Y=M[0],K=M.pop();if(K!==Y){M[0]=K;t:for(var pt=0,W=M.length,z=W>>>1;pt<z;){var H=2*(pt+1)-1,rt=M[H],ut=H+1,ht=M[ut];if(0>d(rt,K))ut<W&&0>d(ht,rt)?(M[pt]=ht,M[ut]=K,pt=ut):(M[pt]=rt,M[H]=K,pt=H);else if(ut<W&&0>d(ht,K))M[pt]=ht,M[ut]=K,pt=ut;else break t}}return Y}function d(M,Y){var K=M.sortIndex-Y.sortIndex;return K!==0?K:M.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var _=Date,b=_.now();a.unstable_now=function(){return _.now()-b}}var y=[],w=[],A=1,T=null,k=3,D=!1,U=!1,O=!1,Z=!1,P=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function ft(M){for(var Y=l(w);Y!==null;){if(Y.callback===null)c(w);else if(Y.startTime<=M)c(w),Y.sortIndex=Y.expirationTime,s(y,Y);else break;Y=l(w)}}function lt(M){if(O=!1,ft(M),!U)if(l(y)!==null)U=!0,ot||(ot=!0,_t());else{var Y=l(w);Y!==null&&$(lt,Y.startTime-M)}}var ot=!1,X=-1,et=5,yt=-1;function bt(){return Z?!0:!(a.unstable_now()-yt<et)}function mt(){if(Z=!1,ot){var M=a.unstable_now();yt=M;var Y=!0;try{t:{U=!1,O&&(O=!1,nt(X),X=-1),D=!0;var K=k;try{e:{for(ft(M),T=l(y);T!==null&&!(T.expirationTime>M&&bt());){var pt=T.callback;if(typeof pt=="function"){T.callback=null,k=T.priorityLevel;var W=pt(T.expirationTime<=M);if(M=a.unstable_now(),typeof W=="function"){T.callback=W,ft(M),Y=!0;break e}T===l(y)&&c(y),ft(M)}else c(y);T=l(y)}if(T!==null)Y=!0;else{var z=l(w);z!==null&&$(lt,z.startTime-M),Y=!1}}break t}finally{T=null,k=K,D=!1}Y=void 0}}finally{Y?_t():ot=!1}}}var _t;if(typeof st=="function")_t=function(){st(mt)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,Ct=Lt.port2;Lt.port1.onmessage=mt,_t=function(){Ct.postMessage(null)}}else _t=function(){P(mt,0)};function $(M,Y){X=P(function(){M(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return k},a.unstable_next=function(M){switch(k){case 1:case 2:case 3:var Y=3;break;default:Y=k}var K=k;k=Y;try{return M()}finally{k=K}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=k;k=M;try{return Y()}finally{k=K}},a.unstable_scheduleCallback=function(M,Y,K){var pt=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?pt+K:pt):K=pt,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,M={id:A++,callback:Y,priorityLevel:M,startTime:K,expirationTime:W,sortIndex:-1},K>pt?(M.sortIndex=K,s(w,M),l(y)===null&&M===l(w)&&(O?(nt(X),X=-1):O=!0,$(lt,K-pt))):(M.sortIndex=W,s(y,M),U||D||(U=!0,ot||(ot=!0,_t()))),M},a.unstable_shouldYield=bt,a.unstable_wrapCallback=function(M){var Y=k;return function(){var K=k;k=Y;try{return M.apply(this,arguments)}finally{k=K}}}})(Th)),Th}var Kg;function db(){return Kg||(Kg=1,Eh.exports=hb()),Eh.exports}var Ah={exports:{}},Dt={};var Qg;function mb(){if(Qg)return Dt;Qg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),k=Symbol.iterator;function D(z){return z===null||typeof z!="object"?null:(z=k&&z[k]||z["@@iterator"],typeof z=="function"?z:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,Z={};function P(z,H,rt){this.props=z,this.context=H,this.refs=Z,this.updater=rt||U}P.prototype.isReactComponent={},P.prototype.setState=function(z,H){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,H,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function nt(){}nt.prototype=P.prototype;function st(z,H,rt){this.props=z,this.context=H,this.refs=Z,this.updater=rt||U}var ft=st.prototype=new nt;ft.constructor=st,O(ft,P.prototype),ft.isPureReactComponent=!0;var lt=Array.isArray;function ot(){}var X={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function yt(z,H,rt){var ut=rt.ref;return{$$typeof:a,type:z,key:H,ref:ut!==void 0?ut:null,props:rt}}function bt(z,H){return yt(z.type,H,z.props)}function mt(z){return typeof z=="object"&&z!==null&&z.$$typeof===a}function _t(z){var H={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(rt){return H[rt]})}var Lt=/\/+/g;function Ct(z,H){return typeof z=="object"&&z!==null&&z.key!=null?_t(""+z.key):H.toString(36)}function $(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ot,ot):(z.status="pending",z.then(function(H){z.status==="pending"&&(z.status="fulfilled",z.value=H)},function(H){z.status==="pending"&&(z.status="rejected",z.reason=H)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function M(z,H,rt,ut,ht){var dt=typeof z;(dt==="undefined"||dt==="boolean")&&(z=null);var Et=!1;if(z===null)Et=!0;else switch(dt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(z.$$typeof){case a:case s:Et=!0;break;case A:return Et=z._init,M(Et(z._payload),H,rt,ut,ht)}}if(Et)return ht=ht(z),Et=ut===""?"."+Ct(z,0):ut,lt(ht)?(rt="",Et!=null&&(rt=Et.replace(Lt,"$&/")+"/"),M(ht,H,rt,"",function(Ae){return Ae})):ht!=null&&(mt(ht)&&(ht=bt(ht,rt+(ht.key==null||z&&z.key===ht.key?"":(""+ht.key).replace(Lt,"$&/")+"/")+Et)),H.push(ht)),1;Et=0;var Rt=ut===""?".":ut+":";if(lt(z))for(var kt=0;kt<z.length;kt++)ut=z[kt],dt=Rt+Ct(ut,kt),Et+=M(ut,H,rt,dt,ht);else if(kt=D(z),typeof kt=="function")for(z=kt.call(z),kt=0;!(ut=z.next()).done;)ut=ut.value,dt=Rt+Ct(ut,kt++),Et+=M(ut,H,rt,dt,ht);else if(dt==="object"){if(typeof z.then=="function")return M($(z),H,rt,ut,ht);throw H=String(z),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Y(z,H,rt){if(z==null)return z;var ut=[],ht=0;return M(z,ut,"","",function(dt){return H.call(rt,dt,ht++)}),ut}function K(z){if(z._status===-1){var H=z._result;H=H(),H.then(function(rt){(z._status===0||z._status===-1)&&(z._status=1,z._result=rt)},function(rt){(z._status===0||z._status===-1)&&(z._status=2,z._result=rt)}),z._status===-1&&(z._status=0,z._result=H)}if(z._status===1)return z._result.default;throw z._result}var pt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},W={map:Y,forEach:function(z,H,rt){Y(z,function(){H.apply(this,arguments)},rt)},count:function(z){var H=0;return Y(z,function(){H++}),H},toArray:function(z){return Y(z,function(H){return H})||[]},only:function(z){if(!mt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Dt.Activity=T,Dt.Children=W,Dt.Component=P,Dt.Fragment=l,Dt.Profiler=d,Dt.PureComponent=st,Dt.StrictMode=c,Dt.Suspense=y,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return X.H.useMemoCache(z)}},Dt.cache=function(z){return function(){return z.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(z,H,rt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=O({},z.props),ht=z.key;if(H!=null)for(dt in H.key!==void 0&&(ht=""+H.key),H)!et.call(H,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&H.ref===void 0||(ut[dt]=H[dt]);var dt=arguments.length-2;if(dt===1)ut.children=rt;else if(1<dt){for(var Et=Array(dt),Rt=0;Rt<dt;Rt++)Et[Rt]=arguments[Rt+2];ut.children=Et}return yt(z.type,ht,ut)},Dt.createContext=function(z){return z={$$typeof:_,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:p,_context:z},z},Dt.createElement=function(z,H,rt){var ut,ht={},dt=null;if(H!=null)for(ut in H.key!==void 0&&(dt=""+H.key),H)et.call(H,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ht[ut]=H[ut]);var Et=arguments.length-2;if(Et===1)ht.children=rt;else if(1<Et){for(var Rt=Array(Et),kt=0;kt<Et;kt++)Rt[kt]=arguments[kt+2];ht.children=Rt}if(z&&z.defaultProps)for(ut in Et=z.defaultProps,Et)ht[ut]===void 0&&(ht[ut]=Et[ut]);return yt(z,dt,ht)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(z){return{$$typeof:b,render:z}},Dt.isValidElement=mt,Dt.lazy=function(z){return{$$typeof:A,_payload:{_status:-1,_result:z},_init:K}},Dt.memo=function(z,H){return{$$typeof:w,type:z,compare:H===void 0?null:H}},Dt.startTransition=function(z){var H=X.T,rt={};X.T=rt;try{var ut=z(),ht=X.S;ht!==null&&ht(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ot,pt)}catch(dt){pt(dt)}finally{H!==null&&rt.types!==null&&(H.types=rt.types),X.T=H}},Dt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Dt.use=function(z){return X.H.use(z)},Dt.useActionState=function(z,H,rt){return X.H.useActionState(z,H,rt)},Dt.useCallback=function(z,H){return X.H.useCallback(z,H)},Dt.useContext=function(z){return X.H.useContext(z)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(z,H){return X.H.useDeferredValue(z,H)},Dt.useEffect=function(z,H){return X.H.useEffect(z,H)},Dt.useEffectEvent=function(z){return X.H.useEffectEvent(z)},Dt.useId=function(){return X.H.useId()},Dt.useImperativeHandle=function(z,H,rt){return X.H.useImperativeHandle(z,H,rt)},Dt.useInsertionEffect=function(z,H){return X.H.useInsertionEffect(z,H)},Dt.useLayoutEffect=function(z,H){return X.H.useLayoutEffect(z,H)},Dt.useMemo=function(z,H){return X.H.useMemo(z,H)},Dt.useOptimistic=function(z,H){return X.H.useOptimistic(z,H)},Dt.useReducer=function(z,H,rt){return X.H.useReducer(z,H,rt)},Dt.useRef=function(z){return X.H.useRef(z)},Dt.useState=function(z){return X.H.useState(z)},Dt.useSyncExternalStore=function(z,H,rt){return X.H.useSyncExternalStore(z,H,rt)},Dt.useTransition=function(){return X.H.useTransition()},Dt.version="19.2.3",Dt}var Xg;function od(){return Xg||(Xg=1,Ah.exports=mb()),Ah.exports}var zh={exports:{}},rn={};var Fg;function pb(){if(Fg)return rn;Fg=1;var a=od();function s(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)w+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var c={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(y,w,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:T==null?null:""+T,children:y,containerInfo:w,implementation:A}}var _=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,rn.createPortal=function(y,w){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(s(299));return p(y,w,null,A)},rn.flushSync=function(y){var w=_.T,A=c.p;try{if(_.T=null,c.p=2,y)return y()}finally{_.T=w,c.p=A,c.d.f()}},rn.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,c.d.C(y,w))},rn.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},rn.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var A=w.as,T=b(A,w.crossOrigin),k=typeof w.integrity=="string"?w.integrity:void 0,D=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;A==="style"?c.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:T,integrity:k,fetchPriority:D}):A==="script"&&c.d.X(y,{crossOrigin:T,integrity:k,fetchPriority:D,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},rn.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var A=b(w.as,w.crossOrigin);c.d.M(y,{crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&c.d.M(y)},rn.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var A=w.as,T=b(A,w.crossOrigin);c.d.L(y,A,{crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},rn.preloadModule=function(y,w){if(typeof y=="string")if(w){var A=b(w.as,w.crossOrigin);c.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else c.d.m(y)},rn.requestFormReset=function(y){c.d.r(y)},rn.unstable_batchedUpdates=function(y,w){return y(w)},rn.useFormState=function(y,w,A){return _.H.useFormState(y,w,A)},rn.useFormStatus=function(){return _.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var Jg;function U0(){if(Jg)return zh.exports;Jg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),zh.exports=pb(),zh.exports}var Wg;function gb(){if(Wg)return ul;Wg=1;var a=db(),s=od(),l=U0();function c(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(p(t)!==t)throw Error(c(188))}function w(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(c(188));return e!==t?null:t}for(var i=t,o=e;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return y(f),t;if(h===o)return y(f),e;h=h.sibling}throw Error(c(188))}if(i.return!==o.return)i=f,o=h;else{for(var v=!1,E=f.child;E;){if(E===i){v=!0,i=f,o=h;break}if(E===o){v=!0,o=f,i=h;break}E=E.sibling}if(!v){for(E=h.child;E;){if(E===i){v=!0,i=h,o=f;break}if(E===o){v=!0,o=h,i=f;break}E=E.sibling}if(!v)throw Error(c(189))}}if(i.alternate!==o)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var T=Object.assign,k=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),bt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function _t(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Symbol.for("react.client.reference");function Ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Lt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case P:return"Profiler";case Z:return"StrictMode";case lt:return"Suspense";case ot:return"SuspenseList";case yt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case st:return t.displayName||"Context";case nt:return(t._context.displayName||"Context")+".Consumer";case ft:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return e=t.displayName||null,e!==null?e:Ct(t.type)||"Memo";case et:e=t._payload,t=t._init;try{return Ct(t(e))}catch{}}return null}var $=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},pt=[],W=-1;function z(t){return{current:t}}function H(t){0>W||(t.current=pt[W],pt[W]=null,W--)}function rt(t,e){W++,pt[W]=t.current,t.current=e}var ut=z(null),ht=z(null),dt=z(null),Et=z(null);function Rt(t,e){switch(rt(dt,e),rt(ht,t),rt(ut,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?dg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=dg(e),t=mg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(ut),rt(ut,t)}function kt(){H(ut),H(ht),H(dt)}function Ae(t){t.memoizedState!==null&&rt(Et,t);var e=ut.current,i=mg(e,t.type);e!==i&&(rt(ht,t),rt(ut,i))}function en(t){ht.current===t&&(H(ut),H(ht)),Et.current===t&&(H(Et),al._currentValue=K)}var Jt,Qe;function Me(t){if(Jt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Jt=e&&e[1]||"",Qe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+t+Qe}var mn=!1;function un(t,e){if(!t||mn)return"";mn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Q){var I=Q}Reflect.construct(t,[],at)}else{try{at.call()}catch(Q){I=Q}t.call(at.prototype)}}else{try{throw Error()}catch(Q){I=Q}(at=t())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Q){if(Q&&I&&typeof Q.stack=="string")return[Q.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],E=h[1];if(v&&E){var N=v.split(`
`),G=E.split(`
`);for(f=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===N.length||f===G.length)for(o=N.length-1,f=G.length-1;1<=o&&0<=f&&N[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(N[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||N[o]!==G[f]){var J=`
`+N[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{mn=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Me(i):""}function Ot(t,e){switch(t.tag){case 26:case 27:case 5:return Me(t.type);case 16:return Me("Lazy");case 13:return t.child!==e&&e!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return un(t.type,!1);case 11:return un(t.type.render,!1);case 1:return un(t.type,!0);case 31:return Me("Activity");default:return""}}function ae(t){try{var e="",i=null;do e+=Ot(t,i),i=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ct=Object.prototype.hasOwnProperty,vt=a.unstable_scheduleCallback,xt=a.unstable_cancelCallback,jt=a.unstable_shouldYield,Ft=a.unstable_requestPaint,Zt=a.unstable_now,Yt=a.unstable_getCurrentPriorityLevel,xe=a.unstable_ImmediatePriority,nn=a.unstable_UserBlockingPriority,ze=a.unstable_NormalPriority,Ui=a.unstable_LowPriority,Ln=a.unstable_IdlePriority,mi=a.log,ei=a.unstable_setDisableYieldValue,Nn=null,He=null;function Pn(t){if(typeof mi=="function"&&ei(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Nn,t)}catch{}}var Xe=Math.clz32?Math.clz32:zc,Hi=Math.log,hs=Math.LN2;function zc(t){return t>>>=0,t===0?32:31-(Hi(t)/hs|0)|0}var ds=256,ms=262144,ps=4194304;function Pi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,e,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~h,o!==0?f=Pi(o):(v&=E,v!==0?f=Pi(v):i||(i=E&~t,i!==0&&(f=Pi(i))))):(E=o&~h,E!==0?f=Pi(E):v!==0?f=Pi(v):i||(i=o&~t,i!==0&&(f=Pi(i)))),f===0?0:e!==0&&e!==f&&(e&h)===0&&(h=f&-f,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:f}function gs(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Cc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var t=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),t}function so(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Zi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lc(t,e,i,o,f,h){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,G=t.hiddenUpdates;for(i=v&~i;0<i;){var J=31-Xe(i),at=1<<J;E[J]=0,N[J]=-1;var I=G[J];if(I!==null)for(G[J]=null,J=0;J<I.length;J++){var Q=I[J];Q!==null&&(Q.lane&=-536870913)}i&=~at}o!==0&&Sl(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~e))}function Sl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Xe(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function El(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-Xe(i),f=1<<o;f&e|t[o]&e&&(t[o]|=e),i&=~f}}function Tl(t,e){var i=e&-e;return i=(i&42)!==0?1:pn(i),(i&(t.suspendedLanes|e))!==0?0:i}function pn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ro(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:jg(t.type))}function oo(t,e){var i=Y.p;try{return Y.p=t,e()}finally{Y.p=i}}var ni=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ni,Ge="__reactProps$"+ni,qi="__reactContainer$"+ni,pi="__reactEvents$"+ni,Al="__reactListeners$"+ni,Nc="__reactHandles$"+ni,zl="__reactResources$"+ni,ys="__reactMarker$"+ni;function lo(t){delete t[Oe],delete t[Ge],delete t[pi],delete t[Al],delete t[Nc]}function Gi(t){var e=t[Oe];if(e)return e;for(var i=t.parentNode;i;){if(e=i[qi]||i[Oe]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=xg(t);t!==null;){if(i=t[Oe])return i;t=xg(t)}return e}t=i,i=t.parentNode}return null}function ba(t){if(t=t[Oe]||t[qi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function gi(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(c(33))}function xa(t){var e=t[zl];return e||(e=t[zl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ke(t){t[ys]=!0}var Cl=new Set,Ll={};function Vi(t,e){yi(t,e),yi(t+"Capture",e)}function yi(t,e){for(Ll[t]=e,t=0;t<e.length;t++)Cl.add(e[t])}var vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uo={},co={};function _s(t){return ct.call(co,t)?!0:ct.call(uo,t)?!1:vs.test(t)?co[t]=!0:(uo[t]=!0,!1)}function qt(t,e,i){if(_s(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function le(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function gn(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function Pe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fo(t,e,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bt(t){if(!t._valueTracker){var e=Ii(t)?"checked":"value";t._valueTracker=fo(t,e,""+t[e])}}function ye(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=Ii(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lr=/[\n"\\]/g;function me(t){return t.replace(lr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ho(t,e,i,o,f,h,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Pe(e)):t.value!==""+Pe(e)&&(t.value=""+Pe(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?ii(t,v,Pe(e)):i!=null?ii(t,v,Pe(i)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pe(E):t.removeAttribute("name")}function bs(t,e,i,o,f,h,v,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Bt(t);return}i=i!=null?""+Pe(i):"",e=e!=null?""+Pe(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Bt(t)}function ii(t,e,i){e==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function he(t,e,i,o){if(t=t.options,e){e={};for(var f=0;f<i.length;f++)e["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=e.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Pe(i),e=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function vi(t,e,i){if(e!=null&&(e=""+Pe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Pe(i):""}function Sa(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(c(92));if($(o)){if(1<o.length)throw Error(c(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=Pe(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Bt(t)}function Zn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ea(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||mo.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function ur(t,e,i){if(e!=null&&typeof e!="object")throw Error(c(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in e)o=e[f],e.hasOwnProperty(f)&&i[f]!==o&&Ea(t,f,o)}else for(var h in e)e.hasOwnProperty(h)&&Ea(t,h,e[h])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return po.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var fr=null;function ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aa=null,Mt=null;function Mn(t){var e=ba(t);if(e&&(t=e.stateNode)){var i=t[Ge]||null;t:switch(t=e.stateNode,e.type){case"input":if(ho(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+me(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var f=o[Ge]||null;if(!f)throw Error(c(90));ho(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&ye(o)}break t;case"textarea":vi(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&he(t,!!i.multiple,e,!1)}}}var se=!1;function go(t,e,i){if(se)return t(e,i);se=!0;try{var o=t(e);return o}finally{if(se=!1,(Aa!==null||Mt!==null)&&(Tu(),Aa&&(e=Aa,t=Mt,Mt=Aa=null,Mn(e),t)))for(e=0;e<t.length;e++)Mn(t[e])}}function Yi(t,e){var i=t.stateNode;if(i===null)return null;var o=i[Ge]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(c(231,e,typeof i));return i}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(On)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Ss=!1}var qn=null,Ki=null,we=null;function _i(){if(we)return we;var t,e=Ki,i=e.length,o,f="value"in qn?qn.value:qn.textContent,h=f.length;for(t=0;t<i&&e[t]===f[t];t++);var v=i-t;for(o=1;o<=v&&e[i-o]===f[h-o];o++);return we=f.slice(t,1<o?1-o:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function Nl(){return!1}function Fe(t){function e(i,o,f,h,v){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ts:Nl,this.isPropagationStopped=Nl,this}return T(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),e}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Fe(ai),za=T({},ai,{view:0,detail:0}),Kt=Fe(za),yo,cn,si,As=T({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(yo=t.screenX-si.screenX,cn=t.screenY-si.screenY):cn=yo=0,si=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),Ml=Fe(As),vo=T({},As,{dataTransfer:0}),Mc=Fe(vo),Ol=T({},za,{relatedTarget:0}),_o=Fe(Ol),Oc=T({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),bo=Fe(Oc),kc=T({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gn=Fe(kc),Rc=T({},ai,{data:0}),xo=Fe(Rc),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rl[t])?!!e[t]:!1}function So(){return wo}var Bl=T({},za,{key:function(t){if(t.key){var e=bi[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dl=Fe(Bl),Bc=T({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Fe(Bc),Eo=T({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),Dc=Fe(Eo),Ul=T({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hl=Fe(Ul),dr=T({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qi=Fe(dr),jc=T({},ai,{newState:0,oldState:0}),zs=Fe(jc),vn=[9,13,27,32],mr=On&&"CompositionEvent"in window,Ca=null;On&&"documentMode"in document&&(Ca=document.documentMode);var Uc=On&&"TextEvent"in window&&!Ca,pr=On&&(!mr||Ca&&8<Ca&&11>=Ca),gr=" ",Pl=!1;function Zl(t,e){switch(t){case"keyup":return vn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function To(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function Rn(t,e){switch(t){case"compositionend":return To(e);case"keypress":return e.which!==32?null:(Pl=!0,gr);case"textInput":return t=e.data,t===gr&&Pl?null:t;default:return null}}function Na(t,e){if(La)return t==="compositionend"||!mr&&Zl(t,e)?(t=_i(),we=Ki=qn=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pr&&e.locale!=="ko"?null:e.data;default:return null}}var Hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hc[t.type]:e==="textarea"}function ql(t,e,i,o){Aa?Mt?Mt.push(o):Mt=[o]:Aa=o,e=Ou(e,"onChange"),0<e.length&&(i=new hr("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var In=null,Cs=null;function Ls(t){og(t,0)}function Ns(t){var e=gi(t);if(ye(e))return t}function Ms(t,e){if(t==="change")return e}var Gl=!1;if(On){var Yn;if(On){var Ma="oninput"in document;if(!Ma){var Vl=document.createElement("div");Vl.setAttribute("oninput","return;"),Ma=typeof Vl.oninput=="function"}Yn=Ma}else Yn=!1;Gl=Yn&&(!document.documentMode||9<document.documentMode)}function yr(){In&&(In.detachEvent("onpropertychange",Il),Cs=In=null)}function Il(t){if(t.propertyName==="value"&&Ns(Cs)){var e=[];ql(e,Cs,t,ws(t)),go(Ls,e)}}function ri(t,e,i){t==="focusin"?(yr(),In=e,Cs=i,In.attachEvent("onpropertychange",Il)):t==="focusout"&&yr()}function Pc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ns(Cs)}function Oa(t,e){if(t==="click")return Ns(e)}function Zc(t,e){if(t==="input"||t==="change")return Ns(e)}function oi(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ve=typeof Object.is=="function"?Object.is:oi;function ka(t,e){if(Ve(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!ct.call(e,f)||!Ve(t[f],e[f]))return!1}return!0}function vr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Os(t,e){var i=vr(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=vr(i)}}function _r(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_r(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ks(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=wa(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=wa(t.document)}return e}function xi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var br=On&&"documentMode"in document&&11>=document.documentMode,wi=null,xr=null,Rs=null,Ra=!1;function Yl(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ra||wi==null||wi!==wa(o)||(o=wi,"selectionStart"in o&&xi(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rs&&ka(Rs,o)||(Rs=o,o=Ou(xr,"onSelect"),0<o.length&&(e=new hr("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=wi)))}function Si(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ba={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},wr={},Kl={};On&&(Kl=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Ie(t){if(wr[t])return wr[t];if(!Ba[t])return t;var e=Ba[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Kl)return wr[t]=e[i];return t}var Bs=Ie("animationend"),Ql=Ie("animationiteration"),Ds=Ie("animationstart"),qc=Ie("transitionrun"),Xl=Ie("transitionstart"),Gc=Ie("transitioncancel"),Da=Ie("transitionend"),Fl=new Map,Ei="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ei.push("scrollEnd");function _n(t,e){Fl.set(t,e),Vi(e,[t])}var js=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],an=0,Sr=0;function Us(){for(var t=an,e=Sr=an=0;e<t;){var i=bn[e];bn[e++]=null;var o=bn[e];bn[e++]=null;var f=bn[e];bn[e++]=null;var h=bn[e];if(bn[e++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&ja(i,f,h)}}function Ti(t,e,i,o){bn[an++]=t,bn[an++]=e,bn[an++]=i,bn[an++]=o,Sr|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ao(t,e,i,o){return Ti(t,e,i,o),Hs(t)}function Kn(t,e){return Ti(t,null,null,e),Hs(t)}function ja(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&e!==null&&(f=31-Xe(i),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[e]:o.push(e),e.lane=i|536870912),h):null}function Hs(t){if(50<Jo)throw Jo=0,Yf=null,Error(c(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Xi={};function Vc(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,i,o){return new Vc(t,e,i,o)}function Er(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qn(t,e){var i=t.alternate;return i===null?(i=sn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function zo(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ps(t,e,i,o,f,h){var v=0;if(o=t,typeof t=="function")Er(t)&&(v=1);else if(typeof t=="string")v=W_(t,i,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case yt:return t=sn(31,i,e,f),t.elementType=yt,t.lanes=h,t;case O:return Fi(i.children,f,h,e);case Z:v=8,f|=24;break;case P:return t=sn(12,i,e,f|2),t.elementType=P,t.lanes=h,t;case lt:return t=sn(13,i,e,f),t.elementType=lt,t.lanes=h,t;case ot:return t=sn(19,i,e,f),t.elementType=ot,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:v=10;break t;case nt:v=9;break t;case ft:v=11;break t;case X:v=14;break t;case et:v=16,o=null;break t}v=29,i=Error(c(130,t===null?"null":typeof t,"")),o=null}return e=sn(v,i,e,f),e.elementType=t,e.type=o,e.lanes=h,e}function Fi(t,e,i,o){return t=sn(7,t,o,e),t.lanes=i,t}function Tr(t,e,i){return t=sn(6,t,null,e),t.lanes=i,t}function Co(t){var e=sn(18,null,null,0);return e.stateNode=t,e}function Lo(t,e,i){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function r(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ae(e)},n.set(t,e),e)}return{value:t,source:e,stack:ae(e)}}var u=[],m=0,g=null,S=0,C=[],j=0,V=null,it=1,gt="";function At(t,e){u[m++]=S,u[m++]=g,g=t,S=e}function Ht(t,e,i){C[j++]=it,C[j++]=gt,C[j++]=V,V=t;var o=it;t=gt;var f=32-Xe(o)-1;o&=~(1<<f),i+=1;var h=32-Xe(e)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,it=1<<32-Xe(e)+f|i<<f|o,gt=h+t}else it=1<<h|i<<f|o,gt=t}function Ze(t){t.return!==null&&(At(t,1),Ht(t,1,0))}function Se(t){for(;t===g;)g=u[--m],u[m]=null,S=u[--m],u[m]=null;for(;t===V;)V=C[--j],C[j]=null,gt=C[--j],C[j]=null,it=C[--j],C[j]=null}function fn(t,e){C[j++]=it,C[j++]=gt,C[j++]=V,it=e.id,gt=e.overflow,V=t}var Wt=null,$t=null,Gt=!1,Ai=null,xn=!1,Ar=Error(c(519));function zi(t){var e=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zs(r(e,t)),Ar}function No(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[Oe]=t,e[Ge]=o,i){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(i=0;i<$o.length;i++)It($o[i],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),bs(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),Sa(e,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||fg(e.textContent,i)?(o.popover!=null&&(It("beforetoggle",e),It("toggle",e)),o.onScroll!=null&&It("scroll",e),o.onScrollEnd!=null&&It("scrollend",e),o.onClick!=null&&(e.onclick=yn),e=!0):e=!1,e||zi(t,!0)}function be(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Wt=Wt.return}}function li(t){if(t!==Wt)return!1;if(!Gt)return be(t),Gt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||oh(t.type,t.memoizedProps)),i=!i),i&&$t&&zi(t),be(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));$t=bg(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));$t=bg(t)}else e===27?(e=$t,Ja(t.type)?(t=hh,hh=null,$t=t):$t=e):$t=Wt?Fn(t.stateNode.nextSibling):null;return!0}function Ji(){$t=Wt=null,Gt=!1}function Mo(){var t=Ai;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Ai=null),t}function Zs(t){Ai===null?Ai=[t]:Ai.push(t)}var qs=z(null),Ci=null,ui=null;function Ua(t,e,i){rt(qs,e._currentValue),e._currentValue=i}function Wi(t){t._currentValue=qs.current,H(qs)}function Ic(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Yc(t,e,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=f;for(var N=0;N<e.length;N++)if(E.context===e[N]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Ic(h.return,i,t),o||(v=null);break t}h=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(c(341));v.lanes|=i,h=v.alternate,h!==null&&(h.lanes|=i),Ic(v,i,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function zr(t,e,i,o){t=null;for(var f=e,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(c(387));if(v=v.memoizedProps,v!==null){var E=f.type;Ve(f.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(f===Et.current){if(v=f.alternate,v===null)throw Error(c(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(al):t=[al])}f=f.return}t!==null&&Yc(e,t,i,o),e.flags|=262144}function Jl(t){for(t=t.firstContext;t!==null;){if(!Ve(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Ci=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return Fd(Ci,t)}function Wl(t,e){return Ci===null&&Gs(t),Fd(t,e)}function Fd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ui===null){if(t===null)throw Error(c(308));ui=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ui=ui.next=e;return i}var Qv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Xv=a.unstable_scheduleCallback,Fv=a.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Qv,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&Xv(Fv,function(){t.controller.abort()})}var ko=null,Qc=0,Cr=0,Lr=null;function Jv(t,e){if(ko===null){var i=ko=[];Qc=0,Cr=Wf(),Lr={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Qc++,e.then(Jd,Jd),e}function Jd(){if(--Qc===0&&ko!==null){Lr!==null&&(Lr.status="fulfilled");var t=ko;ko=null,Cr=0,Lr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Wv(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var f=0;f<i.length;f++)(0,i[f])(e)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Wd=M.S;M.S=function(t,e){Bp=Zt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Jv(t,e),Wd!==null&&Wd(t,e)};var Vs=z(null);function Xc(){var t=Vs.current;return t!==null?t:de.pooledCache}function $l(t,e){e===null?rt(Vs,Vs.current):rt(Vs,e.pool)}function $d(){var t=Xc();return t===null?null:{parent:Re._currentValue,pool:t}}var Nr=Error(c(460)),Fc=Error(c(474)),tu=Error(c(542)),eu={then:function(){}};function tm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function em(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(yn,yn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,im(t),t;default:if(typeof e.status=="string")e.then(yn,yn);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=o}},function(o){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,im(t),t}throw Ys=e,Nr}}function Is(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ys=i,Nr):i}}var Ys=null;function nm(){if(Ys===null)throw Error(c(459));var t=Ys;return Ys=null,t}function im(t){if(t===Nr||t===tu)throw Error(c(483))}var Mr=null,Ro=0;function nu(t){var e=Ro;return Ro+=1,Mr===null&&(Mr=[]),em(Mr,t,e)}function Bo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function iu(t,e){throw e.$$typeof===k?Error(c(525)):(t=Object.prototype.toString.call(e),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function am(t){function e(B,R){if(t){var q=B.deletions;q===null?(B.deletions=[R],B.flags|=16):q.push(R)}}function i(B,R){if(!t)return null;for(;R!==null;)e(B,R),R=R.sibling;return null}function o(B){for(var R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function f(B,R){return B=Qn(B,R),B.index=0,B.sibling=null,B}function h(B,R,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<R?(B.flags|=67108866,R):q):(B.flags|=67108866,R)):(B.flags|=1048576,R)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function E(B,R,q,tt){return R===null||R.tag!==6?(R=Tr(q,B.mode,tt),R.return=B,R):(R=f(R,q),R.return=B,R)}function N(B,R,q,tt){var zt=q.type;return zt===O?J(B,R,q.props.children,tt,q.key):R!==null&&(R.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===et&&Is(zt)===R.type)?(R=f(R,q.props),Bo(R,q),R.return=B,R):(R=Ps(q.type,q.key,q.props,null,B.mode,tt),Bo(R,q),R.return=B,R)}function G(B,R,q,tt){return R===null||R.tag!==4||R.stateNode.containerInfo!==q.containerInfo||R.stateNode.implementation!==q.implementation?(R=Lo(q,B.mode,tt),R.return=B,R):(R=f(R,q.children||[]),R.return=B,R)}function J(B,R,q,tt,zt){return R===null||R.tag!==7?(R=Fi(q,B.mode,tt,zt),R.return=B,R):(R=f(R,q),R.return=B,R)}function at(B,R,q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Tr(""+R,B.mode,q),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case D:return q=Ps(R.type,R.key,R.props,null,B.mode,q),Bo(q,R),q.return=B,q;case U:return R=Lo(R,B.mode,q),R.return=B,R;case et:return R=Is(R),at(B,R,q)}if($(R)||_t(R))return R=Fi(R,B.mode,q,null),R.return=B,R;if(typeof R.then=="function")return at(B,nu(R),q);if(R.$$typeof===st)return at(B,Wl(B,R),q);iu(B,R)}return null}function I(B,R,q,tt){var zt=R!==null?R.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return zt!==null?null:E(B,R,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return q.key===zt?N(B,R,q,tt):null;case U:return q.key===zt?G(B,R,q,tt):null;case et:return q=Is(q),I(B,R,q,tt)}if($(q)||_t(q))return zt!==null?null:J(B,R,q,tt,null);if(typeof q.then=="function")return I(B,R,nu(q),tt);if(q.$$typeof===st)return I(B,R,Wl(B,q),tt);iu(B,q)}return null}function Q(B,R,q,tt,zt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(q)||null,E(R,B,""+tt,zt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case D:return B=B.get(tt.key===null?q:tt.key)||null,N(R,B,tt,zt);case U:return B=B.get(tt.key===null?q:tt.key)||null,G(R,B,tt,zt);case et:return tt=Is(tt),Q(B,R,q,tt,zt)}if($(tt)||_t(tt))return B=B.get(q)||null,J(R,B,tt,zt,null);if(typeof tt.then=="function")return Q(B,R,q,nu(tt),zt);if(tt.$$typeof===st)return Q(B,R,q,Wl(R,tt),zt);iu(R,tt)}return null}function wt(B,R,q,tt){for(var zt=null,te=null,St=R,Pt=R=0,Xt=null;St!==null&&Pt<q.length;Pt++){St.index>Pt?(Xt=St,St=null):Xt=St.sibling;var ee=I(B,St,q[Pt],tt);if(ee===null){St===null&&(St=Xt);break}t&&St&&ee.alternate===null&&e(B,St),R=h(ee,R,Pt),te===null?zt=ee:te.sibling=ee,te=ee,St=Xt}if(Pt===q.length)return i(B,St),Gt&&At(B,Pt),zt;if(St===null){for(;Pt<q.length;Pt++)St=at(B,q[Pt],tt),St!==null&&(R=h(St,R,Pt),te===null?zt=St:te.sibling=St,te=St);return Gt&&At(B,Pt),zt}for(St=o(St);Pt<q.length;Pt++)Xt=Q(St,B,Pt,q[Pt],tt),Xt!==null&&(t&&Xt.alternate!==null&&St.delete(Xt.key===null?Pt:Xt.key),R=h(Xt,R,Pt),te===null?zt=Xt:te.sibling=Xt,te=Xt);return t&&St.forEach(function(ns){return e(B,ns)}),Gt&&At(B,Pt),zt}function Nt(B,R,q,tt){if(q==null)throw Error(c(151));for(var zt=null,te=null,St=R,Pt=R=0,Xt=null,ee=q.next();St!==null&&!ee.done;Pt++,ee=q.next()){St.index>Pt?(Xt=St,St=null):Xt=St.sibling;var ns=I(B,St,ee.value,tt);if(ns===null){St===null&&(St=Xt);break}t&&St&&ns.alternate===null&&e(B,St),R=h(ns,R,Pt),te===null?zt=ns:te.sibling=ns,te=ns,St=Xt}if(ee.done)return i(B,St),Gt&&At(B,Pt),zt;if(St===null){for(;!ee.done;Pt++,ee=q.next())ee=at(B,ee.value,tt),ee!==null&&(R=h(ee,R,Pt),te===null?zt=ee:te.sibling=ee,te=ee);return Gt&&At(B,Pt),zt}for(St=o(St);!ee.done;Pt++,ee=q.next())ee=Q(St,B,Pt,ee.value,tt),ee!==null&&(t&&ee.alternate!==null&&St.delete(ee.key===null?Pt:ee.key),R=h(ee,R,Pt),te===null?zt=ee:te.sibling=ee,te=ee);return t&&St.forEach(function(ub){return e(B,ub)}),Gt&&At(B,Pt),zt}function fe(B,R,q,tt){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case D:t:{for(var zt=q.key;R!==null;){if(R.key===zt){if(zt=q.type,zt===O){if(R.tag===7){i(B,R.sibling),tt=f(R,q.props.children),tt.return=B,B=tt;break t}}else if(R.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===et&&Is(zt)===R.type){i(B,R.sibling),tt=f(R,q.props),Bo(tt,q),tt.return=B,B=tt;break t}i(B,R);break}else e(B,R);R=R.sibling}q.type===O?(tt=Fi(q.props.children,B.mode,tt,q.key),tt.return=B,B=tt):(tt=Ps(q.type,q.key,q.props,null,B.mode,tt),Bo(tt,q),tt.return=B,B=tt)}return v(B);case U:t:{for(zt=q.key;R!==null;){if(R.key===zt)if(R.tag===4&&R.stateNode.containerInfo===q.containerInfo&&R.stateNode.implementation===q.implementation){i(B,R.sibling),tt=f(R,q.children||[]),tt.return=B,B=tt;break t}else{i(B,R);break}else e(B,R);R=R.sibling}tt=Lo(q,B.mode,tt),tt.return=B,B=tt}return v(B);case et:return q=Is(q),fe(B,R,q,tt)}if($(q))return wt(B,R,q,tt);if(_t(q)){if(zt=_t(q),typeof zt!="function")throw Error(c(150));return q=zt.call(q),Nt(B,R,q,tt)}if(typeof q.then=="function")return fe(B,R,nu(q),tt);if(q.$$typeof===st)return fe(B,R,Wl(B,q),tt);iu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,R!==null&&R.tag===6?(i(B,R.sibling),tt=f(R,q),tt.return=B,B=tt):(i(B,R),tt=Tr(q,B.mode,tt),tt.return=B,B=tt),v(B)):i(B,R)}return function(B,R,q,tt){try{Ro=0;var zt=fe(B,R,q,tt);return Mr=null,zt}catch(St){if(St===Nr||St===tu)throw St;var te=sn(29,St,null,B.mode);return te.lanes=tt,te.return=B,te}}}var Ks=am(!0),sm=am(!1),Ha=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Za(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ie&2)!==0){var f=o.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),o.pending=e,e=Hs(t),ja(t,null,i),e}return Ti(t,o,e,i),Hs(t)}function Do(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,El(t,i)}}function $c(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?f=h=e:h=h.next=e}else f=h=e;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var tf=!1;function jo(){if(tf){var t=Lr;if(t!==null)throw t}}function Uo(t,e,i,o){tf=!1;var f=t.updateQueue;Ha=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var N=E,G=N.next;N.next=null,v===null?h=G:v.next=G,v=N;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==v&&(E===null?J.firstBaseUpdate=G:E.next=G,J.lastBaseUpdate=N))}if(h!==null){var at=f.baseState;v=0,J=G=N=null,E=h;do{var I=E.lane&-536870913,Q=I!==E.lane;if(Q?(Qt&I)===I:(o&I)===I){I!==0&&I===Cr&&(tf=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var wt=t,Nt=E;I=e;var fe=i;switch(Nt.tag){case 1:if(wt=Nt.payload,typeof wt=="function"){at=wt.call(fe,at,I);break t}at=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Nt.payload,I=typeof wt=="function"?wt.call(fe,at,I):wt,I==null)break t;at=T({},at,I);break t;case 2:Ha=!0}}I=E.callback,I!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[I]:Q.push(I))}else Q={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(G=J=Q,N=at):J=J.next=Q,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(N=at),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=J,h===null&&(f.shared.lanes=0),Ya|=v,t.lanes=v,t.memoizedState=at}}function rm(t,e){if(typeof t!="function")throw Error(c(191,t));t.call(e)}function om(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)rm(i[t],e)}var Or=z(null),au=z(0);function lm(t,e){t=oa,rt(au,t),rt(Or,e),oa=t|e.baseLanes}function ef(){rt(au,oa),rt(Or,Or.current)}function nf(){oa=au.current,H(Or),H(au)}var Bn=z(null),Xn=null;function qa(t){var e=t.alternate;rt(Ce,Ce.current&1),rt(Bn,t),Xn===null&&(e===null||Or.current!==null||e.memoizedState!==null)&&(Xn=t)}function af(t){rt(Ce,Ce.current),rt(Bn,t),Xn===null&&(Xn=t)}function um(t){t.tag===22?(rt(Ce,Ce.current),rt(Bn,t),Xn===null&&(Xn=t)):Ga()}function Ga(){rt(Ce,Ce.current),rt(Bn,Bn.current)}function Dn(t){H(Bn),Xn===t&&(Xn=null),H(Ce)}var Ce=z(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ch(i)||fh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $i=0,Ut=null,ue=null,Be=null,ru=!1,kr=!1,Qs=!1,ou=0,Ho=0,Rr=null,$v=0;function Ee(){throw Error(c(321))}function sf(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ve(t[i],e[i]))return!1;return!0}function rf(t,e,i,o,f,h){return $i=h,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=t===null||t.memoizedState===null?Ym:xf,Qs=!1,h=i(o,f),Qs=!1,kr&&(h=fm(e,i,o,f)),cm(t),h}function cm(t){M.H=qo;var e=ue!==null&&ue.next!==null;if($i=0,Be=ue=Ut=null,ru=!1,Ho=0,Rr=null,e)throw Error(c(300));t===null||De||(t=t.dependencies,t!==null&&Jl(t)&&(De=!0))}function fm(t,e,i,o){Ut=t;var f=0;do{if(kr&&(Rr=null),Ho=0,kr=!1,25<=f)throw Error(c(301));if(f+=1,Be=ue=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=Km,h=e(i,o)}while(kr);return h}function t_(){var t=M.H,e=t.useState()[0];return e=typeof e.then=="function"?Po(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(Ut.flags|=1024),e}function of(){var t=ou!==0;return ou=0,t}function lf(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function uf(t){if(ru){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ru=!1}$i=0,Be=ue=Ut=null,kr=!1,Ho=ou=0,Rr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ut.memoizedState=Be=t:Be=Be.next=t,Be}function Le(){if(ue===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=Be===null?Ut.memoizedState:Be.next;if(e!==null)Be=e,ue=t;else{if(t===null)throw Ut.alternate===null?Error(c(467)):Error(c(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Be===null?Ut.memoizedState=Be=t:Be=Be.next=t}return Be}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(t){var e=Ho;return Ho+=1,Rr===null&&(Rr=[]),t=em(Rr,t,e),e=Ut,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,M.H=e===null||e.memoizedState===null?Ym:xf),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Po(t);if(t.$$typeof===st)return Je(t)}throw Error(c(438,String(t)))}function cf(t){var e=null,i=Ut.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=Ut.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=lu(),Ut.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=bt;return e.index++,i}function ta(t,e){return typeof e=="function"?e(t):e}function cu(t){var e=Le();return ff(e,ue,t)}function ff(t,e,i){var o=t.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=i;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}e.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{e=f.next;var E=v=null,N=null,G=e,J=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(Qt&at)===at:($i&at)===at){var I=G.revertLane;if(I===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===Cr&&(J=!0);else if(($i&I)===I){G=G.next,I===Cr&&(J=!0);continue}else at={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(E=N=at,v=h):N=N.next=at,Ut.lanes|=I,Ya|=I;at=G.action,Qs&&i(h,at),h=G.hasEagerState?G.eagerState:i(h,at)}else I={lane:at,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(E=N=I,v=h):N=N.next=I,Ut.lanes|=at,Ya|=at;G=G.next}while(G!==null&&G!==e);if(N===null?v=h:N.next=E,!Ve(h,t.memoizedState)&&(De=!0,J&&(i=Lr,i!==null)))throw i;t.memoizedState=h,t.baseState=v,t.baseQueue=N,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function hf(t){var e=Le(),i=e.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,h=e.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);Ve(h,e.memoizedState)||(De=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,o]}function hm(t,e,i){var o=Ut,f=Le(),h=Gt;if(h){if(i===void 0)throw Error(c(407));i=i()}else i=e();var v=!Ve((ue||f).memoizedState,i);if(v&&(f.memoizedState=i,De=!0),f=f.queue,pf(pm.bind(null,o,f,t),[t]),f.getSnapshot!==e||v||Be!==null&&Be.memoizedState.tag&1){if(o.flags|=2048,Br(9,{destroy:void 0},mm.bind(null,o,f,i,e),null),de===null)throw Error(c(349));h||($i&127)!==0||dm(o,e,i)}return i}function dm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ut.updateQueue,e===null?(e=lu(),Ut.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function mm(t,e,i,o){e.value=i,e.getSnapshot=o,gm(e)&&ym(t)}function pm(t,e,i){return i(function(){gm(e)&&ym(t)})}function gm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ve(t,i)}catch{return!0}}function ym(t){var e=Kn(t,2);e!==null&&An(e,t,2)}function df(t){var e=hn();if(typeof t=="function"){var i=t;if(t=i(),Qs){Pn(!0);try{i()}finally{Pn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e}function vm(t,e,i,o){return t.baseState=i,ff(t,ue,typeof o=="function"?o:ta)}function e_(t,e,i,o,f){if(du(t))throw Error(c(485));if(t=e.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};M.T!==null?i(!0):h.isTransition=!1,o(h),i=e.pending,i===null?(h.next=e.pending=h,_m(e,h)):(h.next=i.next,e.pending=i.next=h)}}function _m(t,e){var i=e.action,o=e.payload,f=t.state;if(e.isTransition){var h=M.T,v={};M.T=v;try{var E=i(f,o),N=M.S;N!==null&&N(v,E),bm(t,e,E)}catch(G){mf(t,e,G)}finally{h!==null&&v.types!==null&&(h.types=v.types),M.T=h}}else try{h=i(f,o),bm(t,e,h)}catch(G){mf(t,e,G)}}function bm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){xm(t,e,o)},function(o){return mf(t,e,o)}):xm(t,e,i)}function xm(t,e,i){e.status="fulfilled",e.value=i,wm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,_m(t,i)))}function mf(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,wm(e),e=e.next;while(e!==o)}t.action=null}function wm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Sm(t,e){return e}function Em(t,e){if(Gt){var i=de.formState;if(i!==null){t:{var o=Ut;if(Gt){if($t){e:{for(var f=$t,h=xn;f.nodeType!==8;){if(!h){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){$t=Fn(f.nextSibling),o=f.data==="F!";break t}}zi(o)}o=!1}o&&(e=i[0])}}return i=hn(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},i.queue=o,i=Gm.bind(null,Ut,o),o.dispatch=i,o=df(!1),h=bf.bind(null,Ut,!1,o.queue),o=hn(),f={state:e,dispatch:null,action:t,pending:null},o.queue=f,i=e_.bind(null,Ut,f,h,i),f.dispatch=i,o.memoizedState=t,[e,i,!1]}function Tm(t){var e=Le();return Am(e,ue,t)}function Am(t,e,i){if(e=ff(t,e,Sm)[0],t=cu(ta)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=Po(e)}catch(v){throw v===Nr?tu:v}else o=e;e=Le();var f=e.queue,h=f.dispatch;return i!==e.memoizedState&&(Ut.flags|=2048,Br(9,{destroy:void 0},n_.bind(null,f,i),null)),[o,h,t]}function n_(t,e){t.action=e}function zm(t){var e=Le(),i=ue;if(i!==null)return Am(e,i,t);Le(),e=e.memoizedState,i=Le();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function Br(t,e,i,o){return t={tag:t,create:i,deps:o,inst:e,next:null},e=Ut.updateQueue,e===null&&(e=lu(),Ut.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function Cm(){return Le().memoizedState}function fu(t,e,i,o){var f=hn();Ut.flags|=t,f.memoizedState=Br(1|e,{destroy:void 0},i,o===void 0?null:o)}function hu(t,e,i,o){var f=Le();o=o===void 0?null:o;var h=f.memoizedState.inst;ue!==null&&o!==null&&sf(o,ue.memoizedState.deps)?f.memoizedState=Br(e,h,i,o):(Ut.flags|=t,f.memoizedState=Br(1|e,h,i,o))}function Lm(t,e){fu(8390656,8,t,e)}function pf(t,e){hu(2048,8,t,e)}function i_(t){Ut.flags|=4;var e=Ut.updateQueue;if(e===null)e=lu(),Ut.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Nm(t){var e=Le().memoizedState;return i_({ref:e,nextImpl:t}),function(){if((ie&2)!==0)throw Error(c(440));return e.impl.apply(void 0,arguments)}}function Mm(t,e){return hu(4,2,t,e)}function Om(t,e){return hu(4,4,t,e)}function km(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rm(t,e,i){i=i!=null?i.concat([t]):null,hu(4,4,km.bind(null,e,t),i)}function gf(){}function Bm(t,e){var i=Le();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&sf(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function Dm(t,e){var i=Le();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&sf(e,o[1]))return o[0];if(o=t(),Qs){Pn(!0);try{t()}finally{Pn(!1)}}return i.memoizedState=[o,e],o}function yf(t,e,i){return i===void 0||($i&1073741824)!==0&&(Qt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=jp(),Ut.lanes|=t,Ya|=t,i)}function jm(t,e,i,o){return Ve(i,e)?i:Or.current!==null?(t=yf(t,i,o),Ve(t,e)||(De=!0),t):($i&42)===0||($i&1073741824)!==0&&(Qt&261930)===0?(De=!0,t.memoizedState=i):(t=jp(),Ut.lanes|=t,Ya|=t,e)}function Um(t,e,i,o,f){var h=Y.p;Y.p=h!==0&&8>h?h:8;var v=M.T,E={};M.T=E,bf(t,!1,e,i);try{var N=f(),G=M.S;if(G!==null&&G(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=Wv(N,o);Zo(t,e,J,Hn(t))}else Zo(t,e,o,Hn(t))}catch(at){Zo(t,e,{then:function(){},status:"rejected",reason:at},Hn())}finally{Y.p=h,v!==null&&E.types!==null&&(v.types=E.types),M.T=v}}function a_(){}function vf(t,e,i,o){if(t.tag!==5)throw Error(c(476));var f=Hm(t).queue;Um(t,f,e,K,i===null?a_:function(){return Pm(t),i(o)})}function Hm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:K},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Pm(t){var e=Hm(t);e.next===null&&(e=t.alternate.memoizedState),Zo(t,e.next.queue,{},Hn())}function _f(){return Je(al)}function Zm(){return Le().memoizedState}function qm(){return Le().memoizedState}function s_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Hn();t=Pa(i);var o=Za(e,t,i);o!==null&&(An(o,e,i),Do(o,e,i)),e={cache:Kc()},t.payload=e;return}e=e.return}}function r_(t,e,i){var o=Hn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},du(t)?Vm(e,i):(i=Ao(t,e,i,o),i!==null&&(An(i,t,o),Im(i,e,o)))}function Gm(t,e,i){var o=Hn();Zo(t,e,i,o)}function Zo(t,e,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(du(t))Vm(e,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var v=e.lastRenderedState,E=h(v,i);if(f.hasEagerState=!0,f.eagerState=E,Ve(E,v))return Ti(t,e,f,0),de===null&&Us(),!1}catch{}if(i=Ao(t,e,f,o),i!==null)return An(i,t,o),Im(i,e,o),!0}return!1}function bf(t,e,i,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},du(t)){if(e)throw Error(c(479))}else e=Ao(t,i,o,2),e!==null&&An(e,t,2)}function du(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function Vm(t,e){kr=ru=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Im(t,e,i){if((i&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,El(t,i)}}var qo={readContext:Je,use:uu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};qo.useEffectEvent=Ee;var Ym={readContext:Je,use:uu,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:Lm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,fu(4194308,4,km.bind(null,e,t),i)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){fu(4,2,t,e)},useMemo:function(t,e){var i=hn();e=e===void 0?null:e;var o=t();if(Qs){Pn(!0);try{t()}finally{Pn(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=hn();if(i!==void 0){var f=i(e);if(Qs){Pn(!0);try{i(e)}finally{Pn(!1)}}}else f=e;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=r_.bind(null,Ut,t),[o.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:function(t){t=df(t);var e=t.queue,i=Gm.bind(null,Ut,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:gf,useDeferredValue:function(t,e){var i=hn();return yf(i,t,e)},useTransition:function(){var t=df(!1);return t=Um.bind(null,Ut,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=Ut,f=hn();if(Gt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=e(),de===null)throw Error(c(349));(Qt&127)!==0||dm(o,e,i)}f.memoizedState=i;var h={value:i,getSnapshot:e};return f.queue=h,Lm(pm.bind(null,o,h,t),[t]),o.flags|=2048,Br(9,{destroy:void 0},mm.bind(null,o,h,i,e),null),i},useId:function(){var t=hn(),e=de.identifierPrefix;if(Gt){var i=gt,o=it;i=(o&~(1<<32-Xe(o)-1)).toString(32)+i,e="_"+e+"R_"+i,i=ou++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=$v++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:_f,useFormState:Em,useActionState:Em,useOptimistic:function(t){var e=hn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=bf.bind(null,Ut,!0,i),i.dispatch=e,[t,e]},useMemoCache:cf,useCacheRefresh:function(){return hn().memoizedState=s_.bind(null,Ut)},useEffectEvent:function(t){var e=hn(),i={impl:t};return e.memoizedState=i,function(){if((ie&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},xf={readContext:Je,use:uu,useCallback:Bm,useContext:Je,useEffect:pf,useImperativeHandle:Rm,useInsertionEffect:Mm,useLayoutEffect:Om,useMemo:Dm,useReducer:cu,useRef:Cm,useState:function(){return cu(ta)},useDebugValue:gf,useDeferredValue:function(t,e){var i=Le();return jm(i,ue.memoizedState,t,e)},useTransition:function(){var t=cu(ta)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:Po(t),e]},useSyncExternalStore:hm,useId:Zm,useHostTransitionStatus:_f,useFormState:Tm,useActionState:Tm,useOptimistic:function(t,e){var i=Le();return vm(i,ue,t,e)},useMemoCache:cf,useCacheRefresh:qm};xf.useEffectEvent=Nm;var Km={readContext:Je,use:uu,useCallback:Bm,useContext:Je,useEffect:pf,useImperativeHandle:Rm,useInsertionEffect:Mm,useLayoutEffect:Om,useMemo:Dm,useReducer:hf,useRef:Cm,useState:function(){return hf(ta)},useDebugValue:gf,useDeferredValue:function(t,e){var i=Le();return ue===null?yf(i,t,e):jm(i,ue.memoizedState,t,e)},useTransition:function(){var t=hf(ta)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:Po(t),e]},useSyncExternalStore:hm,useId:Zm,useHostTransitionStatus:_f,useFormState:zm,useActionState:zm,useOptimistic:function(t,e){var i=Le();return ue!==null?vm(i,ue,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:cf,useCacheRefresh:qm};Km.useEffectEvent=Nm;function wf(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:T({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Sf={enqueueSetState:function(t,e,i){t=t._reactInternals;var o=Hn(),f=Pa(o);f.payload=e,i!=null&&(f.callback=i),e=Za(t,f,o),e!==null&&(An(e,t,o),Do(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=Hn(),f=Pa(o);f.tag=1,f.payload=e,i!=null&&(f.callback=i),e=Za(t,f,o),e!==null&&(An(e,t,o),Do(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Hn(),o=Pa(i);o.tag=2,e!=null&&(o.callback=e),e=Za(t,o,i),e!==null&&(An(e,t,i),Do(e,t,i))}};function Qm(t,e,i,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):e.prototype&&e.prototype.isPureReactComponent?!ka(i,o)||!ka(f,h):!0}function Xm(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Xs(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=T({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function Fm(t){js(t)}function Jm(t){console.error(t)}function Wm(t){js(t)}function mu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function $m(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ef(t,e,i){return i=Pa(i),i.tag=3,i.payload={element:null},i.callback=function(){mu(t,e)},i}function tp(t){return t=Pa(t),t.tag=3,t}function ep(t,e,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){$m(e,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){$m(e,i,o),typeof f!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function o_(t,e,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&zr(e,i,f,!0),i=Bn.current,i!==null){switch(i.tag){case 31:case 13:return Xn===null?Au():i.alternate===null&&Te===0&&(Te=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===eu?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),Xf(t,o,f)),!1;case 22:return i.flags|=65536,o===eu?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),Xf(t,o,f)),!1}throw Error(c(435,i.tag))}return Xf(t,o,f),Au(),!1}if(Gt)return e=Bn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,o!==Ar&&(t=Error(c(422),{cause:o}),Zs(r(t,i)))):(o!==Ar&&(e=Error(c(423),{cause:o}),Zs(r(e,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=r(o,i),f=Ef(t.stateNode,o,f),$c(t,f),Te!==4&&(Te=2)),!1;var h=Error(c(520),{cause:o});if(h=r(h,i),Fo===null?Fo=[h]:Fo.push(h),Te!==4&&(Te=2),e===null)return!0;o=r(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Ef(i.stateNode,o,t),$c(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ka===null||!Ka.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=tp(f),ep(f,t,i,o),$c(i,f),!1}i=i.return}while(i!==null);return!1}var Tf=Error(c(461)),De=!1;function We(t,e,i,o){e.child=t===null?sm(e,null,i,o):Ks(e,t.child,i,o)}function np(t,e,i,o,f){i=i.render;var h=e.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Gs(e),o=rf(t,e,i,v,h,f),E=of(),t!==null&&!De?(lf(t,e,f),ea(t,e,f)):(Gt&&E&&Ze(e),e.flags|=1,We(t,e,o,f),e.child)}function ip(t,e,i,o,f){if(t===null){var h=i.type;return typeof h=="function"&&!Er(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,ap(t,e,h,o,f)):(t=Ps(i.type,null,o,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!kf(t,f)){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:ka,i(v,o)&&t.ref===e.ref)return ea(t,e,f)}return e.flags|=1,t=Qn(h,o),t.ref=e.ref,t.return=e,e.child=t}function ap(t,e,i,o,f){if(t!==null){var h=t.memoizedProps;if(ka(h,o)&&t.ref===e.ref)if(De=!1,e.pendingProps=o=h,kf(t,f))(t.flags&131072)!==0&&(De=!0);else return e.lanes=t.lanes,ea(t,e,f)}return Af(t,e,i,o,f)}function sp(t,e,i,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,e.child=null;return rp(t,e,h,i,o)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&$l(e,h!==null?h.cachePool:null),h!==null?lm(e,h):ef(),um(e);else return o=e.lanes=536870912,rp(t,e,h!==null?h.baseLanes|i:i,i,o)}else h!==null?($l(e,h.cachePool),lm(e,h),Ga(),e.memoizedState=null):(t!==null&&$l(e,null),ef(),Ga());return We(t,e,f,i),e.child}function Go(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function rp(t,e,i,o,f){var h=Xc();return h=h===null?null:{parent:Re._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&$l(e,null),ef(),um(e),t!==null&&zr(t,e,o,!0),e.childLanes=f,null}function pu(t,e){return e=yu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function op(t,e,i){return Ks(e,t.child,null,i),t=pu(e,e.pendingProps),t.flags|=2,Dn(e),e.memoizedState=null,t}function l_(t,e,i){var o=e.pendingProps,f=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Gt){if(o.mode==="hidden")return t=pu(e,o),e.lanes=536870912,Go(null,t);if(af(e),(t=$t)?(t=_g(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:V!==null?{id:it,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},i=Co(t),i.return=e,e.child=i,Wt=e,$t=null)):t=null,t===null)throw zi(e);return e.lanes=536870912,null}return pu(e,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(af(e),f)if(e.flags&256)e.flags&=-257,e=op(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(c(558));else if(De||zr(t,e,i,!1),f=(i&t.childLanes)!==0,De||f){if(o=de,o!==null&&(v=Tl(o,i),v!==0&&v!==h.retryLane))throw h.retryLane=v,Kn(t,v),An(o,t,v),Tf;Au(),e=op(t,e,i)}else t=h.treeContext,$t=Fn(v.nextSibling),Wt=e,Gt=!0,Ai=null,xn=!1,t!==null&&fn(e,t),e=pu(e,o),e.flags|=4096;return e}return t=Qn(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function gu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Af(t,e,i,o,f){return Gs(e),i=rf(t,e,i,o,void 0,f),o=of(),t!==null&&!De?(lf(t,e,f),ea(t,e,f)):(Gt&&o&&Ze(e),e.flags|=1,We(t,e,i,f),e.child)}function lp(t,e,i,o,f,h){return Gs(e),e.updateQueue=null,i=fm(e,o,i,f),cm(t),o=of(),t!==null&&!De?(lf(t,e,h),ea(t,e,h)):(Gt&&o&&Ze(e),e.flags|=1,We(t,e,i,h),e.child)}function up(t,e,i,o,f){if(Gs(e),e.stateNode===null){var h=Xi,v=i.contextType;typeof v=="object"&&v!==null&&(h=Je(v)),h=new i(o,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=o,h.state=e.memoizedState,h.refs={},Jc(e),v=i.contextType,h.context=typeof v=="object"&&v!==null?Je(v):Xi,h.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(wf(e,i,v,o),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Sf.enqueueReplaceState(h,h.state,null),Uo(e,o,h,f),jo(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,N=Xs(i,E);h.props=N;var G=h.context,J=i.contextType;v=Xi,typeof J=="object"&&J!==null&&(v=Je(J));var at=i.getDerivedStateFromProps;J=typeof at=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||G!==v)&&Xm(e,h,o,v),Ha=!1;var I=e.memoizedState;h.state=I,Uo(e,o,h,f),jo(),G=e.memoizedState,E||I!==G||Ha?(typeof at=="function"&&(wf(e,i,at,o),G=e.memoizedState),(N=Ha||Qm(e,i,N,o,I,G,v))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=G),h.props=o,h.state=G,h.context=v,o=N):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,Wc(t,e),v=e.memoizedProps,J=Xs(i,v),h.props=J,at=e.pendingProps,I=h.context,G=i.contextType,N=Xi,typeof G=="object"&&G!==null&&(N=Je(G)),E=i.getDerivedStateFromProps,(G=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==at||I!==N)&&Xm(e,h,o,N),Ha=!1,I=e.memoizedState,h.state=I,Uo(e,o,h,f),jo();var Q=e.memoizedState;v!==at||I!==Q||Ha||t!==null&&t.dependencies!==null&&Jl(t.dependencies)?(typeof E=="function"&&(wf(e,i,E,o),Q=e.memoizedState),(J=Ha||Qm(e,i,J,o,I,Q,N)||t!==null&&t.dependencies!==null&&Jl(t.dependencies))?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Q,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Q,N)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=Q),h.props=o,h.state=Q,h.context=N,o=J):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),o=!1)}return h=o,gu(t,e),o=(e.flags&128)!==0,h||o?(h=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&o?(e.child=Ks(e,t.child,null,f),e.child=Ks(e,null,i,f)):We(t,e,i,f),e.memoizedState=h.state,t=e.child):t=ea(t,e,f),t}function cp(t,e,i,o){return Ji(),e.flags|=256,We(t,e,i,o),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:$d()}}function Lf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Un),t}function fp(t,e,i){var o=e.pendingProps,f=!1,h=(e.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),v&&(f=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Gt){if(f?qa(e):Ga(),(t=$t)?(t=_g(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:V!==null?{id:it,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},i=Co(t),i.return=e,e.child=i,Wt=e,$t=null)):t=null,t===null)throw zi(e);return fh(t)?e.lanes=32:e.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Ga(),f=e.mode,E=yu({mode:"hidden",children:E},f),o=Fi(o,f,i,null),E.return=e,o.return=e,E.sibling=o,e.child=E,o=e.child,o.memoizedState=Cf(i),o.childLanes=Lf(t,v,i),e.memoizedState=zf,Go(null,o)):(qa(e),Nf(e,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(h)e.flags&256?(qa(e),e.flags&=-257,e=Mf(t,e,i)):e.memoizedState!==null?(Ga(),e.child=t.child,e.flags|=128,e=null):(Ga(),E=o.fallback,f=e.mode,o=yu({mode:"visible",children:o.children},f),E=Fi(E,f,i,null),E.flags|=2,o.return=e,E.return=e,o.sibling=E,e.child=o,Ks(e,t.child,null,i),o=e.child,o.memoizedState=Cf(i),o.childLanes=Lf(t,v,i),e.memoizedState=zf,e=Go(null,o));else if(qa(e),fh(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var G=v.dgst;v=G,o=Error(c(419)),o.stack="",o.digest=v,Zs({value:o,source:null,stack:null}),e=Mf(t,e,i)}else if(De||zr(t,e,i,!1),v=(i&t.childLanes)!==0,De||v){if(v=de,v!==null&&(o=Tl(v,i),o!==0&&o!==N.retryLane))throw N.retryLane=o,Kn(t,o),An(v,t,o),Tf;ch(E)||Au(),e=Mf(t,e,i)}else ch(E)?(e.flags|=192,e.child=t.child,e=null):(t=N.treeContext,$t=Fn(E.nextSibling),Wt=e,Gt=!0,Ai=null,xn=!1,t!==null&&fn(e,t),e=Nf(e,o.children),e.flags|=4096);return e}return f?(Ga(),E=o.fallback,f=e.mode,N=t.child,G=N.sibling,o=Qn(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,G!==null?E=Qn(G,E):(E=Fi(E,f,i,null),E.flags|=2),E.return=e,o.return=e,o.sibling=E,e.child=o,Go(null,o),o=e.child,E=t.child.memoizedState,E===null?E=Cf(i):(f=E.cachePool,f!==null?(N=Re._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=$d(),E={baseLanes:E.baseLanes|i,cachePool:f}),o.memoizedState=E,o.childLanes=Lf(t,v,i),e.memoizedState=zf,Go(t.child,o)):(qa(e),i=t.child,t=i.sibling,i=Qn(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Nf(t,e){return e=yu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function yu(t,e){return t=sn(22,t,null,e),t.lanes=0,t}function Mf(t,e,i){return Ks(e,t.child,null,i),t=Nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hp(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Ic(t.return,e,i)}function Of(t,e,i,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:h}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=f,v.treeForkCount=h)}function dp(t,e,i){var o=e.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=Ce.current,E=(v&2)!==0;if(E?(v=v&1|2,e.flags|=128):v&=1,rt(Ce,v),We(t,e,o,i),o=Gt?S:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,i,e);else if(t.tag===19)hp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=e.child,f=null;i!==null;)t=i.alternate,t!==null&&su(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=e.child,e.child=null):(f=i.sibling,i.sibling=null),Of(e,!1,f,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&su(t)===null){e.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Of(e,!0,i,null,h,o);break;case"together":Of(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function ea(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Ya|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(zr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(c(153));if(e.child!==null){for(t=e.child,i=Qn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Qn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function kf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Jl(t)))}function u_(t,e,i){switch(e.tag){case 3:Rt(e,e.stateNode.containerInfo),Ua(e,Re,t.memoizedState.cache),Ji();break;case 27:case 5:Ae(e);break;case 4:Rt(e,e.stateNode.containerInfo);break;case 10:Ua(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,af(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(qa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?fp(t,e,i):(qa(e),t=ea(t,e,i),t!==null?t.sibling:null);qa(e);break;case 19:var f=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(zr(t,e,i,!1),o=(i&e.childLanes)!==0),f){if(o)return dp(t,e,i);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Ce,Ce.current),o)break;return null;case 22:return e.lanes=0,sp(t,e,i,e.pendingProps);case 24:Ua(e,Re,t.memoizedState.cache)}return ea(t,e,i)}function mp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)De=!0;else{if(!kf(t,i)&&(e.flags&128)===0)return De=!1,u_(t,e,i);De=(t.flags&131072)!==0}else De=!1,Gt&&(e.flags&1048576)!==0&&Ht(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=Is(e.elementType),e.type=t,typeof t=="function")Er(t)?(o=Xs(t,o),e.tag=1,e=up(null,e,t,o,i)):(e.tag=0,e=Af(null,e,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===ft){e.tag=11,e=np(null,e,t,o,i);break t}else if(f===X){e.tag=14,e=ip(null,e,t,o,i);break t}}throw e=Ct(t)||t,Error(c(306,e,""))}}return e;case 0:return Af(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,f=Xs(o,e.pendingProps),up(t,e,o,f,i);case 3:t:{if(Rt(e,e.stateNode.containerInfo),t===null)throw Error(c(387));o=e.pendingProps;var h=e.memoizedState;f=h.element,Wc(t,e),Uo(e,o,null,i);var v=e.memoizedState;if(o=v.cache,Ua(e,Re,o),o!==h.cache&&Yc(e,[Re],i,!0),jo(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=cp(t,e,o,i);break t}else if(o!==f){f=r(Error(c(424)),e),Zs(f),e=cp(t,e,o,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,$t=Fn(t.firstChild),Wt=e,Gt=!0,Ai=null,xn=!0,i=sm(e,null,o,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ji(),o===f){e=ea(t,e,i);break t}We(t,e,o,i)}e=e.child}return e;case 26:return gu(t,e),t===null?(i=Tg(e.type,null,e.pendingProps,null))?e.memoizedState=i:Gt||(i=e.type,t=e.pendingProps,o=ku(dt.current).createElement(i),o[Oe]=e,o[Ge]=t,$e(o,i,t),ke(o),e.stateNode=o):e.memoizedState=Tg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ae(e),t===null&&Gt&&(o=e.stateNode=wg(e.type,e.pendingProps,dt.current),Wt=e,xn=!0,f=$t,Ja(e.type)?(hh=f,$t=Fn(o.firstChild)):$t=f),We(t,e,e.pendingProps.children,i),gu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Gt&&((f=o=$t)&&(o=H_(o,e.type,e.pendingProps,xn),o!==null?(e.stateNode=o,Wt=e,$t=Fn(o.firstChild),xn=!1,f=!0):f=!1),f||zi(e)),Ae(e),f=e.type,h=e.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,oh(f,h)?o=null:v!==null&&oh(f,v)&&(e.flags|=32),e.memoizedState!==null&&(f=rf(t,e,t_,null,null,i),al._currentValue=f),gu(t,e),We(t,e,o,i),e.child;case 6:return t===null&&Gt&&((t=i=$t)&&(i=P_(i,e.pendingProps,xn),i!==null?(e.stateNode=i,Wt=e,$t=null,t=!0):t=!1),t||zi(e)),null;case 13:return fp(t,e,i);case 4:return Rt(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Ks(e,null,o,i):We(t,e,o,i),e.child;case 11:return np(t,e,e.type,e.pendingProps,i);case 7:return We(t,e,e.pendingProps,i),e.child;case 8:return We(t,e,e.pendingProps.children,i),e.child;case 12:return We(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,Ua(e,e.type,o.value),We(t,e,o.children,i),e.child;case 9:return f=e.type._context,o=e.pendingProps.children,Gs(e),f=Je(f),o=o(f),e.flags|=1,We(t,e,o,i),e.child;case 14:return ip(t,e,e.type,e.pendingProps,i);case 15:return ap(t,e,e.type,e.pendingProps,i);case 19:return dp(t,e,i);case 31:return l_(t,e,i);case 22:return sp(t,e,i,e.pendingProps);case 24:return Gs(e),o=Je(Re),t===null?(f=Xc(),f===null&&(f=de,h=Kc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),e.memoizedState={parent:o,cache:f},Jc(e),Ua(e,Re,f)):((t.lanes&i)!==0&&(Wc(t,e),Uo(e,null,null,i),jo()),f=t.memoizedState,h=e.memoizedState,f.parent!==o?(f={parent:o,cache:o},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),Ua(e,Re,o)):(o=h.cache,Ua(e,Re,o),o!==f.cache&&Yc(e,[Re],i,!0))),We(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(c(156,e.tag))}function na(t){t.flags|=4}function Rf(t,e,i,o,f){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Zp())t.flags|=8192;else throw Ys=eu,Fc}else t.flags&=-16777217}function pp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ng(e))if(Zp())t.flags|=8192;else throw Ys=eu,Fc}function vu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?wl():536870912,t.lanes|=e,Hr|=e)}function Vo(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function c_(t,e,i){var o=e.pendingProps;switch(Se(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return pe(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Wi(Re),kt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(li(e)?na(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Mo())),pe(e),null;case 26:var f=e.type,h=e.memoizedState;return t===null?(na(e),h!==null?(pe(e),pp(e,h)):(pe(e),Rf(e,f,null,o,i))):h?h!==t.memoizedState?(na(e),pe(e),pp(e,h)):(pe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&na(e),pe(e),Rf(e,f,t,o,i)),null;case 27:if(en(e),i=dt.current,f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&na(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return pe(e),null}t=ut.current,li(e)?No(e):(t=wg(f,o,i),e.stateNode=t,na(e))}return pe(e),null;case 5:if(en(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&na(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return pe(e),null}if(h=ut.current,li(e))No(e);else{var v=ku(dt.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[Oe]=e,h[Ge]=o;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=h;t:switch($e(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&na(e)}}return pe(e),Rf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&na(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(c(166));if(t=dt.current,li(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Oe]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||fg(t.nodeValue,i)),t||zi(e,!0)}else t=ku(t).createTextNode(o),t[Oe]=e,e.stateNode=t}return pe(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(o=li(e),i!==null){if(t===null){if(!o)throw Error(c(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[Oe]=e}else Ji(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;pe(e),t=!1}else i=Mo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(Dn(e),e):(Dn(e),null);if((e.flags&128)!==0)throw Error(c(558))}return pe(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=li(e),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(c(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(c(317));f[Oe]=e}else Ji(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;pe(e),f=!1}else f=Mo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(Dn(e),e):(Dn(e),null)}return Dn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=e.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),vu(e,e.updateQueue),pe(e),null);case 4:return kt(),t===null&&nh(e.stateNode.containerInfo),pe(e),null;case 10:return Wi(e.type),pe(e),null;case 19:if(H(Ce),o=e.memoizedState,o===null)return pe(e),null;if(f=(e.flags&128)!==0,h=o.rendering,h===null)if(f)Vo(o,!1);else{if(Te!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=su(t),h!==null){for(e.flags|=128,Vo(o,!1),t=h.updateQueue,e.updateQueue=t,vu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)zo(i,t),i=i.sibling;return rt(Ce,Ce.current&1|2),Gt&&At(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Zt()>Su&&(e.flags|=128,f=!0,Vo(o,!1),e.lanes=4194304)}else{if(!f)if(t=su(h),t!==null){if(e.flags|=128,f=!0,t=t.updateQueue,e.updateQueue=t,vu(e,t),Vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Gt)return pe(e),null}else 2*Zt()-o.renderingStartTime>Su&&i!==536870912&&(e.flags|=128,f=!0,Vo(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,i=Ce.current,rt(Ce,f?i&1|2:i&1),Gt&&At(e,o.treeForkCount),t):(pe(e),null);case 22:case 23:return Dn(e),nf(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(i&536870912)!==0&&(e.flags&128)===0&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),i=e.updateQueue,i!==null&&vu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&H(Vs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Wi(Re),pe(e),null;case 25:return null;case 30:return null}throw Error(c(156,e.tag))}function f_(t,e){switch(Se(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(Re),kt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return en(e),null;case 31:if(e.memoizedState!==null){if(Dn(e),e.alternate===null)throw Error(c(340));Ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Dn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(c(340));Ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(Ce),null;case 4:return kt(),null;case 10:return Wi(e.type),null;case 22:case 23:return Dn(e),nf(),t!==null&&H(Vs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Wi(Re),null;case 25:return null;default:return null}}function gp(t,e){switch(Se(e),e.tag){case 3:Wi(Re),kt();break;case 26:case 27:case 5:en(e);break;case 4:kt();break;case 31:e.memoizedState!==null&&Dn(e);break;case 13:Dn(e);break;case 19:H(Ce);break;case 10:Wi(e.type);break;case 22:case 23:Dn(e),nf(),t!==null&&H(Vs);break;case 24:Wi(Re)}}function Io(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var h=i.create,v=i.inst;o=h(),v.destroy=o}i=i.next}while(i!==f)}}catch(E){oe(e,e.return,E)}}function Va(t,e,i){try{var o=e.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=e;var N=i,G=E;try{G()}catch(J){oe(f,N,J)}}}o=o.next}while(o!==h)}}catch(J){oe(e,e.return,J)}}function yp(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{om(e,i)}catch(o){oe(t,t.return,o)}}}function vp(t,e,i){i.props=Xs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){oe(t,e,o)}}function Yo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){oe(t,e,f)}}function Li(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){oe(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){oe(t,e,f)}else i.current=null}function _p(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){oe(t,t.return,f)}}function Bf(t,e,i){try{var o=t.stateNode;k_(o,t.type,i,e),o[Ge]=e}catch(f){oe(t,t.return,f)}}function bp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ja(t.type)||t.tag===4}function Df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ja(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=yn));else if(o!==4&&(o===27&&Ja(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(jf(t,e,i),t=t.sibling;t!==null;)jf(t,e,i),t=t.sibling}function _u(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&(o===27&&Ja(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(_u(t,e,i),t=t.sibling;t!==null;)_u(t,e,i),t=t.sibling}function xp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);$e(e,o,i),e[Oe]=t,e[Ge]=i}catch(h){oe(t,t.return,h)}}var ia=!1,je=!1,Uf=!1,wp=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function h_(t,e){if(t=t.containerInfo,sh=Pu,t=ks(t),xi(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var v=0,E=-1,N=-1,G=0,J=0,at=t,I=null;e:for(;;){for(var Q;at!==i||f!==0&&at.nodeType!==3||(E=v+f),at!==h||o!==0&&at.nodeType!==3||(N=v+o),at.nodeType===3&&(v+=at.nodeValue.length),(Q=at.firstChild)!==null;)I=at,at=Q;for(;;){if(at===t)break e;if(I===i&&++G===f&&(E=v),I===h&&++J===o&&(N=v),(Q=at.nextSibling)!==null)break;at=I,I=at.parentNode}at=Q}i=E===-1||N===-1?null:{start:E,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(rh={focusedElem:t,selectionRange:i},Pu=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){switch(e=Ye,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,f=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var wt=Xs(i.type,f);t=o.getSnapshotBeforeUpdate(wt,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Nt){oe(i,i.return,Nt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)uh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}}function Sp(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:sa(t,i),o&4&&Io(5,i);break;case 1:if(sa(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){oe(i,i.return,v)}else{var f=Xs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){oe(i,i.return,v)}}o&64&&yp(i),o&512&&Yo(i,i.return);break;case 3:if(sa(t,i),o&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{om(t,e)}catch(v){oe(i,i.return,v)}}break;case 27:e===null&&o&4&&xp(i);case 26:case 5:sa(t,i),e===null&&o&4&&_p(i),o&512&&Yo(i,i.return);break;case 12:sa(t,i);break;case 31:sa(t,i),o&4&&Ap(t,i);break;case 13:sa(t,i),o&4&&zp(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=x_.bind(null,i),Z_(t,i))));break;case 22:if(o=i.memoizedState!==null||ia,!o){e=e!==null&&e.memoizedState!==null||je,f=ia;var h=je;ia=o,(je=e)&&!h?ra(t,i,(i.subtreeFlags&8772)!==0):sa(t,i),ia=f,je=h}break;case 30:break;default:sa(t,i)}}function Ep(t){var e=t.alternate;e!==null&&(t.alternate=null,Ep(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lo(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ve=null,wn=!1;function aa(t,e,i){for(i=i.child;i!==null;)Tp(t,e,i),i=i.sibling}function Tp(t,e,i){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Nn,i)}catch{}switch(i.tag){case 26:je||Li(i,e),aa(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:je||Li(i,e);var o=ve,f=wn;Ja(i.type)&&(ve=i.stateNode,wn=!1),aa(t,e,i),el(i.stateNode),ve=o,wn=f;break;case 5:je||Li(i,e);case 6:if(o=ve,f=wn,ve=null,aa(t,e,i),ve=o,wn=f,ve!==null)if(wn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(i.stateNode)}catch(h){oe(i,e,h)}else try{ve.removeChild(i.stateNode)}catch(h){oe(i,e,h)}break;case 18:ve!==null&&(wn?(t=ve,yg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Kr(t)):yg(ve,i.stateNode));break;case 4:o=ve,f=wn,ve=i.stateNode.containerInfo,wn=!0,aa(t,e,i),ve=o,wn=f;break;case 0:case 11:case 14:case 15:Va(2,i,e),je||Va(4,i,e),aa(t,e,i);break;case 1:je||(Li(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&vp(i,e,o)),aa(t,e,i);break;case 21:aa(t,e,i);break;case 22:je=(o=je)||i.memoizedState!==null,aa(t,e,i),je=o;break;default:aa(t,e,i)}}function Ap(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Kr(t)}catch(i){oe(e,e.return,i)}}}function zp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kr(t)}catch(i){oe(e,e.return,i)}}function d_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new wp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new wp),e;default:throw Error(c(435,t.tag))}}function bu(t,e){var i=d_(t);e.forEach(function(o){if(!i.has(o)){i.add(o);var f=w_.bind(null,t,o);o.then(f,f)}})}function Sn(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],h=t,v=e,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Ja(E.type)){ve=E.stateNode,wn=!1;break t}break;case 5:ve=E.stateNode,wn=!1;break t;case 3:case 4:ve=E.stateNode.containerInfo,wn=!0;break t}E=E.return}if(ve===null)throw Error(c(160));Tp(h,v,f),ve=null,wn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Cp(e,t),e=e.sibling}var ci=null;function Cp(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(e,t),En(t),o&4&&(Va(3,t,t.return),Io(3,t),Va(5,t,t.return));break;case 1:Sn(e,t),En(t),o&512&&(je||i===null||Li(i,i.return)),o&64&&ia&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=ci;if(Sn(e,t),En(t),o&512&&(je||i===null||Li(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ys]||h[Oe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),$e(h,o,i),h[Oe]=t,ke(h),o=h;break t;case"link":var v=Cg("link","href",f).get(o+(i.href||""));if(v){for(var E=0;E<v.length;E++)if(h=v[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(E,1);break e}}h=f.createElement(o),$e(h,o,i),f.head.appendChild(h);break;case"meta":if(v=Cg("meta","content",f).get(o+(i.content||""))){for(E=0;E<v.length;E++)if(h=v[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(E,1);break e}}h=f.createElement(o),$e(h,o,i),f.head.appendChild(h);break;default:throw Error(c(468,o))}h[Oe]=t,ke(h),o=h}t.stateNode=o}else Lg(f,t.type,t.stateNode);else t.stateNode=zg(f,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?Lg(f,t.type,t.stateNode):zg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,i.memoizedProps)}break;case 27:Sn(e,t),En(t),o&512&&(je||i===null||Li(i,i.return)),i!==null&&o&4&&Bf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Sn(e,t),En(t),o&512&&(je||i===null||Li(i,i.return)),t.flags&32){f=t.stateNode;try{Zn(f,"")}catch(wt){oe(t,t.return,wt)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Bf(t,f,i!==null?i.memoizedProps:f)),o&1024&&(Uf=!0);break;case 6:if(Sn(e,t),En(t),o&4){if(t.stateNode===null)throw Error(c(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(wt){oe(t,t.return,wt)}}break;case 3:if(Du=null,f=ci,ci=Ru(e.containerInfo),Sn(e,t),ci=f,En(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Kr(e.containerInfo)}catch(wt){oe(t,t.return,wt)}Uf&&(Uf=!1,Lp(t));break;case 4:o=ci,ci=Ru(t.stateNode.containerInfo),Sn(e,t),En(t),ci=o;break;case 12:Sn(e,t),En(t);break;case 31:Sn(e,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bu(t,o)));break;case 13:Sn(e,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(wu=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bu(t,o)));break;case 22:f=t.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,G=ia,J=je;if(ia=G||f,je=J||N,Sn(e,t),je=J,ia=G,En(t),o&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(i===null||N||ia||je||Fs(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){N=i=e;try{if(h=N.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=N.stateNode;var at=N.memoizedProps.style,I=at!=null&&at.hasOwnProperty("display")?at.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(wt){oe(N,N.return,wt)}}}else if(e.tag===6){if(i===null){N=e;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(wt){oe(N,N.return,wt)}}}else if(e.tag===18){if(i===null){N=e;try{var Q=N.stateNode;f?vg(Q,!0):vg(N.stateNode,!1)}catch(wt){oe(N,N.return,wt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,bu(t,i))));break;case 19:Sn(e,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bu(t,o)));break;case 30:break;case 21:break;default:Sn(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{for(var i,o=t.return;o!==null;){if(bp(o)){i=o;break}o=o.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var f=i.stateNode,h=Df(t);_u(t,h,f);break;case 5:var v=i.stateNode;i.flags&32&&(Zn(v,""),i.flags&=-33);var E=Df(t);_u(t,E,v);break;case 3:case 4:var N=i.stateNode.containerInfo,G=Df(t);jf(t,G,N);break;default:throw Error(c(161))}}catch(J){oe(t,t.return,J)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Lp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function sa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Sp(t,e.alternate,e),e=e.sibling}function Fs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Va(4,e,e.return),Fs(e);break;case 1:Li(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&vp(e,e.return,i),Fs(e);break;case 27:el(e.stateNode);case 26:case 5:Li(e,e.return),Fs(e);break;case 22:e.memoizedState===null&&Fs(e);break;case 30:Fs(e);break;default:Fs(e)}t=t.sibling}}function ra(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,f=t,h=e,v=h.flags;switch(h.tag){case 0:case 11:case 15:ra(f,h,i),Io(4,h);break;case 1:if(ra(f,h,i),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){oe(o,o.return,G)}if(o=h,f=o.updateQueue,f!==null){var E=o.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)rm(N[f],E)}catch(G){oe(o,o.return,G)}}i&&v&64&&yp(h),Yo(h,h.return);break;case 27:xp(h);case 26:case 5:ra(f,h,i),i&&o===null&&v&4&&_p(h),Yo(h,h.return);break;case 12:ra(f,h,i);break;case 31:ra(f,h,i),i&&v&4&&Ap(f,h);break;case 13:ra(f,h,i),i&&v&4&&zp(f,h);break;case 22:h.memoizedState===null&&ra(f,h,i),Yo(h,h.return);break;case 30:break;default:ra(f,h,i)}e=e.sibling}}function Hf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Oo(i))}function Pf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Oo(t))}function fi(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Np(t,e,i,o),e=e.sibling}function Np(t,e,i,o){var f=e.flags;switch(e.tag){case 0:case 11:case 15:fi(t,e,i,o),f&2048&&Io(9,e);break;case 1:fi(t,e,i,o);break;case 3:fi(t,e,i,o),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Oo(t)));break;case 12:if(f&2048){fi(t,e,i,o),t=e.stateNode;try{var h=e.memoizedProps,v=h.id,E=h.onPostCommit;typeof E=="function"&&E(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){oe(e,e.return,N)}}else fi(t,e,i,o);break;case 31:fi(t,e,i,o);break;case 13:fi(t,e,i,o);break;case 23:break;case 22:h=e.stateNode,v=e.alternate,e.memoizedState!==null?h._visibility&2?fi(t,e,i,o):Ko(t,e):h._visibility&2?fi(t,e,i,o):(h._visibility|=2,Dr(t,e,i,o,(e.subtreeFlags&10256)!==0||!1)),f&2048&&Hf(v,e);break;case 24:fi(t,e,i,o),f&2048&&Pf(e.alternate,e);break;default:fi(t,e,i,o)}}function Dr(t,e,i,o,f){for(f=f&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,v=e,E=i,N=o,G=v.flags;switch(v.tag){case 0:case 11:case 15:Dr(h,v,E,N,f),Io(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?Dr(h,v,E,N,f):Ko(h,v):(J._visibility|=2,Dr(h,v,E,N,f)),f&&G&2048&&Hf(v.alternate,v);break;case 24:Dr(h,v,E,N,f),f&&G&2048&&Pf(v.alternate,v);break;default:Dr(h,v,E,N,f)}e=e.sibling}}function Ko(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,f=o.flags;switch(o.tag){case 22:Ko(i,o),f&2048&&Hf(o.alternate,o);break;case 24:Ko(i,o),f&2048&&Pf(o.alternate,o);break;default:Ko(i,o)}e=e.sibling}}var Qo=8192;function jr(t,e,i){if(t.subtreeFlags&Qo)for(t=t.child;t!==null;)Mp(t,e,i),t=t.sibling}function Mp(t,e,i){switch(t.tag){case 26:jr(t,e,i),t.flags&Qo&&t.memoizedState!==null&&$_(i,ci,t.memoizedState,t.memoizedProps);break;case 5:jr(t,e,i);break;case 3:case 4:var o=ci;ci=Ru(t.stateNode.containerInfo),jr(t,e,i),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,jr(t,e,i),Qo=o):jr(t,e,i));break;default:jr(t,e,i)}}function Op(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Xo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Ye=o,Rp(o,t)}Op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&Va(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,xu(t)):Xo(t);break;default:Xo(t)}}function xu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Ye=o,Rp(o,t)}Op(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Va(8,e,e.return),xu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,xu(e));break;default:xu(e)}t=t.sibling}}function Rp(t,e){for(;Ye!==null;){var i=Ye;switch(i.tag){case 0:case 11:case 15:Va(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ye=o;else t:for(i=t;Ye!==null;){o=Ye;var f=o.sibling,h=o.return;if(Ep(o),o===i){Ye=null;break t}if(f!==null){f.return=h,Ye=f;break t}Ye=h}}}var m_={getCacheForType:function(t){var e=Je(Re),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Je(Re).controller.signal}},p_=typeof WeakMap=="function"?WeakMap:Map,ie=0,de=null,Vt=null,Qt=0,re=0,jn=null,Ia=!1,Ur=!1,Zf=!1,oa=0,Te=0,Ya=0,Js=0,qf=0,Un=0,Hr=0,Fo=null,Tn=null,Gf=!1,wu=0,Bp=0,Su=1/0,Eu=null,Ka=null,qe=0,Qa=null,Pr=null,la=0,Vf=0,If=null,Dp=null,Jo=0,Yf=null;function Hn(){return(ie&2)!==0&&Qt!==0?Qt&-Qt:M.T!==null?Wf():ro()}function jp(){if(Un===0)if((Qt&536870912)===0||Gt){var t=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),Un=t}else Un=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Un}function An(t,e,i){(t===de&&(re===2||re===9)||t.cancelPendingCommit!==null)&&(Zr(t,0),Xa(t,Qt,Un,!1)),Zi(t,i),((ie&2)===0||t!==de)&&(t===de&&((ie&2)===0&&(Js|=i),Te===4&&Xa(t,Qt,Un,!1)),Ni(t))}function Up(t,e,i){if((ie&6)!==0)throw Error(c(327));var o=!i&&(e&127)===0&&(e&t.expiredLanes)===0||gs(t,e),f=o?v_(t,e):Qf(t,e,!0),h=o;do{if(f===0){Ur&&!o&&Xa(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!g_(i)){f=Qf(t,e,!1),h=!1;continue}if(f===2){if(h=e,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var E=t;f=Fo;var N=E.current.memoizedState.isDehydrated;if(N&&(Zr(E,v).flags|=256),v=Qf(E,v,!1),v!==2){if(Zf&&!N){E.errorRecoveryDisabledLanes|=h,Js|=h,f=4;break t}h=Tn,Tn=f,h!==null&&(Tn===null?Tn=h:Tn.push.apply(Tn,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){Zr(t,0),Xa(t,e,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(c(345));case 4:if((e&4194048)!==e)break;case 6:Xa(o,e,Un,!Ia);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((e&62914560)===e&&(f=wu+300-Zt(),10<f)){if(Xa(o,e,Un,!Ia),or(o,0,!0)!==0)break t;la=e,o.timeoutHandle=pg(Hp.bind(null,o,i,Tn,Eu,Gf,e,Un,Js,Hr,Ia,h,"Throttled",-0,0),f);break t}Hp(o,i,Tn,Eu,Gf,e,Un,Js,Hr,Ia,h,null,-0,0)}}break}while(!0);Ni(t)}function Hp(t,e,i,o,f,h,v,E,N,G,J,at,I,Q){if(t.timeoutHandle=-1,at=e.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Mp(e,h,at);var wt=(h&62914560)===h?wu-Zt():(h&4194048)===h?Bp-Zt():0;if(wt=tb(at,wt),wt!==null){la=h,t.cancelPendingCommit=wt(Kp.bind(null,t,e,h,i,o,f,v,E,N,J,at,null,I,Q)),Xa(t,h,v,!G);return}}Kp(t,e,h,i,o,f,v,E,N)}function g_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],h=f.getSnapshot;f=f.value;try{if(!Ve(h(),f))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xa(t,e,i,o){e&=~qf,e&=~Js,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var f=e;0<f;){var h=31-Xe(f),v=1<<h;o[h]=-1,f&=~v}i!==0&&Sl(t,i,e)}function Tu(){return(ie&6)===0?(Wo(0),!1):!0}function Kf(){if(Vt!==null){if(re===0)var t=Vt.return;else t=Vt,ui=Ci=null,uf(t),Mr=null,Ro=0,t=Vt;for(;t!==null;)gp(t.alternate,t),t=t.return;Vt=null}}function Zr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,D_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),la=0,Kf(),de=t,Vt=i=Qn(t.current,null),Qt=e,re=0,jn=null,Ia=!1,Ur=gs(t,e),Zf=!1,Hr=Un=qf=Js=Ya=Te=0,Tn=Fo=null,Gf=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var f=31-Xe(o),h=1<<f;e|=t[f],o&=~h}return oa=e,Us(),i}function Pp(t,e){Ut=null,M.H=qo,e===Nr||e===tu?(e=nm(),re=3):e===Fc?(e=nm(),re=4):re=e===Tf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,jn=e,Vt===null&&(Te=1,mu(t,r(e,t.current)))}function Zp(){var t=Bn.current;return t===null?!0:(Qt&4194048)===Qt?Xn===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?t===Xn:!1}function qp(){var t=M.H;return M.H=qo,t===null?qo:t}function Gp(){var t=M.A;return M.A=m_,t}function Au(){Te=4,Ia||(Qt&4194048)!==Qt&&Bn.current!==null||(Ur=!0),(Ya&134217727)===0&&(Js&134217727)===0||de===null||Xa(de,Qt,Un,!1)}function Qf(t,e,i){var o=ie;ie|=2;var f=qp(),h=Gp();(de!==t||Qt!==e)&&(Eu=null,Zr(t,e)),e=!1;var v=Te;t:do try{if(re!==0&&Vt!==null){var E=Vt,N=jn;switch(re){case 8:Kf(),v=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(e=!0);var G=re;if(re=0,jn=null,qr(t,E,N,G),i&&Ur){v=0;break t}break;default:G=re,re=0,jn=null,qr(t,E,N,G)}}y_(),v=Te;break}catch(J){Pp(t,J)}while(!0);return e&&t.shellSuspendCounter++,ui=Ci=null,ie=o,M.H=f,M.A=h,Vt===null&&(de=null,Qt=0,Us()),v}function y_(){for(;Vt!==null;)Vp(Vt)}function v_(t,e){var i=ie;ie|=2;var o=qp(),f=Gp();de!==t||Qt!==e?(Eu=null,Su=Zt()+500,Zr(t,e)):Ur=gs(t,e);t:do try{if(re!==0&&Vt!==null){e=Vt;var h=jn;e:switch(re){case 1:re=0,jn=null,qr(t,e,h,1);break;case 2:case 9:if(tm(h)){re=0,jn=null,Ip(e);break}e=function(){re!==2&&re!==9||de!==t||(re=7),Ni(t)},h.then(e,e);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:tm(h)?(re=0,jn=null,Ip(e)):(re=0,jn=null,qr(t,e,h,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(v?Ng(v):E.stateNode.complete){re=0,jn=null;var N=E.sibling;if(N!==null)Vt=N;else{var G=E.return;G!==null?(Vt=G,zu(G)):Vt=null}break e}}re=0,jn=null,qr(t,e,h,5);break;case 6:re=0,jn=null,qr(t,e,h,6);break;case 8:Kf(),Te=6;break t;default:throw Error(c(462))}}__();break}catch(J){Pp(t,J)}while(!0);return ui=Ci=null,M.H=o,M.A=f,ie=i,Vt!==null?0:(de=null,Qt=0,Us(),Te)}function __(){for(;Vt!==null&&!jt();)Vp(Vt)}function Vp(t){var e=mp(t.alternate,t,oa);t.memoizedProps=t.pendingProps,e===null?zu(t):Vt=e}function Ip(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=lp(i,e,e.pendingProps,e.type,void 0,Qt);break;case 11:e=lp(i,e,e.pendingProps,e.type.render,e.ref,Qt);break;case 5:uf(e);default:gp(i,e),e=Vt=zo(e,oa),e=mp(i,e,oa)}t.memoizedProps=t.pendingProps,e===null?zu(t):Vt=e}function qr(t,e,i,o){ui=Ci=null,uf(e),Mr=null,Ro=0;var f=e.return;try{if(o_(t,f,e,i,Qt)){Te=1,mu(t,r(i,t.current)),Vt=null;return}}catch(h){if(f!==null)throw Vt=f,h;Te=1,mu(t,r(i,t.current)),Vt=null;return}e.flags&32768?(Gt||o===1?t=!0:Ur||(Qt&536870912)!==0?t=!1:(Ia=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yp(e,t)):zu(e)}function zu(t){var e=t;do{if((e.flags&32768)!==0){Yp(e,Ia);return}t=e.return;var i=c_(e.alternate,e,oa);if(i!==null){Vt=i;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Te===0&&(Te=5)}function Yp(t,e){do{var i=f_(t.alternate,t);if(i!==null){i.flags&=32767,Vt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=i}while(t!==null);Te=6,Vt=null}function Kp(t,e,i,o,f,h,v,E,N){t.cancelPendingCommit=null;do Cu();while(qe!==0);if((ie&6)!==0)throw Error(c(327));if(e!==null){if(e===t.current)throw Error(c(177));if(h=e.lanes|e.childLanes,h|=Sr,Lc(t,i,h,v,E,N),t===de&&(Vt=de=null,Qt=0),Pr=e,Qa=t,la=i,Vf=h,If=f,Dp=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,S_(ze,function(){return Wp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,f=Y.p,Y.p=2,v=ie,ie|=4;try{h_(t,e,i)}finally{ie=v,Y.p=f,M.T=o}}qe=1,Qp(),Xp(),Fp()}}function Qp(){if(qe===1){qe=0;var t=Qa,e=Pr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var o=Y.p;Y.p=2;var f=ie;ie|=4;try{Cp(e,t);var h=rh,v=ks(t.containerInfo),E=h.focusedElem,N=h.selectionRange;if(v!==E&&E&&E.ownerDocument&&_r(E.ownerDocument.documentElement,E)){if(N!==null&&xi(E)){var G=N.start,J=N.end;if(J===void 0&&(J=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(J,E.value.length);else{var at=E.ownerDocument||document,I=at&&at.defaultView||window;if(I.getSelection){var Q=I.getSelection(),wt=E.textContent.length,Nt=Math.min(N.start,wt),fe=N.end===void 0?Nt:Math.min(N.end,wt);!Q.extend&&Nt>fe&&(v=fe,fe=Nt,Nt=v);var B=Os(E,Nt),R=Os(E,fe);if(B&&R&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==R.node||Q.focusOffset!==R.offset)){var q=at.createRange();q.setStart(B.node,B.offset),Q.removeAllRanges(),Nt>fe?(Q.addRange(q),Q.extend(R.node,R.offset)):(q.setEnd(R.node,R.offset),Q.addRange(q))}}}}for(at=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&at.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<at.length;E++){var tt=at[E];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Pu=!!sh,rh=sh=null}finally{ie=f,Y.p=o,M.T=i}}t.current=e,qe=2}}function Xp(){if(qe===2){qe=0;var t=Qa,e=Pr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var o=Y.p;Y.p=2;var f=ie;ie|=4;try{Sp(t,e.alternate,e)}finally{ie=f,Y.p=o,M.T=i}}qe=3}}function Fp(){if(qe===4||qe===3){qe=0,Ft();var t=Qa,e=Pr,i=la,o=Dp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?qe=5:(qe=0,Pr=Qa=null,Jp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ka=null),Tt(i),e=e.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Nn,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=M.T,f=Y.p,Y.p=2,M.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];h(E.value,{componentStack:E.stack})}}finally{M.T=e,Y.p=f}}(la&3)!==0&&Cu(),Ni(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===Yf?Jo++:(Jo=0,Yf=t):Jo=0,Wo(0)}}function Jp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Oo(e)))}function Cu(){return Qp(),Xp(),Fp(),Wp()}function Wp(){if(qe!==5)return!1;var t=Qa,e=Vf;Vf=0;var i=Tt(la),o=M.T,f=Y.p;try{Y.p=32>i?32:i,M.T=null,i=If,If=null;var h=Qa,v=la;if(qe=0,Pr=Qa=null,la=0,(ie&6)!==0)throw Error(c(331));var E=ie;if(ie|=4,kp(h.current),Np(h,h.current,v,i),ie=E,Wo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Nn,h)}catch{}return!0}finally{Y.p=f,M.T=o,Jp(t,e)}}function $p(t,e,i){e=r(i,e),e=Ef(t.stateNode,e,2),t=Za(t,e,2),t!==null&&(Zi(t,2),Ni(t))}function oe(t,e,i){if(t.tag===3)$p(t,t,i);else for(;e!==null;){if(e.tag===3){$p(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ka===null||!Ka.has(o))){t=r(i,t),i=tp(2),o=Za(e,i,2),o!==null&&(ep(i,o,e,t),Zi(o,2),Ni(o));break}}e=e.return}}function Xf(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new p_;var f=new Set;o.set(e,f)}else f=o.get(e),f===void 0&&(f=new Set,o.set(e,f));f.has(i)||(Zf=!0,f.add(i),t=b_.bind(null,t,e,i),e.then(t,t))}function b_(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,de===t&&(Qt&i)===i&&(Te===4||Te===3&&(Qt&62914560)===Qt&&300>Zt()-wu?(ie&2)===0&&Zr(t,0):qf|=i,Hr===Qt&&(Hr=0)),Ni(t)}function tg(t,e){e===0&&(e=wl()),t=Kn(t,e),t!==null&&(Zi(t,e),Ni(t))}function x_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),tg(t,i)}function w_(t,e){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(c(314))}o!==null&&o.delete(e),tg(t,i)}function S_(t,e){return vt(t,e)}var Lu=null,Gr=null,Ff=!1,Nu=!1,Jf=!1,Fa=0;function Ni(t){t!==Gr&&t.next===null&&(Gr===null?Lu=Gr=t:Gr=Gr.next=t),Nu=!0,Ff||(Ff=!0,T_())}function Wo(t,e){if(!Jf&&Nu){Jf=!0;do for(var i=!1,o=Lu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,E=o.pingedLanes;h=(1<<31-Xe(42|t)+1)-1,h&=f&~(v&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,ag(o,h))}else h=Qt,h=or(o,o===de?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||gs(o,h)||(i=!0,ag(o,h));o=o.next}while(i);Jf=!1}}function E_(){eg()}function eg(){Nu=Ff=!1;var t=0;Fa!==0&&B_()&&(t=Fa);for(var e=Zt(),i=null,o=Lu;o!==null;){var f=o.next,h=ng(o,e);h===0?(o.next=null,i===null?Lu=f:i.next=f,f===null&&(Gr=i)):(i=o,(t!==0||(h&3)!==0)&&(Nu=!0)),o=f}qe!==0&&qe!==5||Wo(t),Fa!==0&&(Fa=0)}function ng(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-Xe(h),E=1<<v,N=f[v];N===-1?((E&i)===0||(E&o)!==0)&&(f[v]=Cc(E,e)):N<=e&&(t.expiredLanes|=E),h&=~E}if(e=de,i=Qt,i=or(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===e&&(re===2||re===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xt(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||gs(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&xt(o),Tt(i)){case 2:case 8:i=nn;break;case 32:i=ze;break;case 268435456:i=Ln;break;default:i=ze}return o=ig.bind(null,t),i=vt(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&xt(o),t.callbackPriority=2,t.callbackNode=null,2}function ig(t,e){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Cu()&&t.callbackNode!==i)return null;var o=Qt;return o=or(t,t===de?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Up(t,o,e),ng(t,Zt()),t.callbackNode!=null&&t.callbackNode===i?ig.bind(null,t):null)}function ag(t,e){if(Cu())return null;Up(t,e,!0)}function T_(){j_(function(){(ie&6)!==0?vt(xe,E_):eg()})}function Wf(){if(Fa===0){var t=Cr;t===0&&(t=ds,ds<<=1,(ds&261888)===0&&(ds=256)),Fa=t}return Fa}function sg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function rg(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function A_(t,e,i,o,f){if(e==="submit"&&i&&i.stateNode===f){var h=sg((f[Ge]||null).action),v=o.submitter;v&&(e=(e=v[Ge]||null)?sg(e.formAction):v.getAttribute("formAction"),e!==null&&(h=e,v=null));var E=new hr("action","action",null,o,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fa!==0){var N=v?rg(f,v):new FormData(f);vf(i,{pending:!0,data:N,method:f.method,action:h},null,N)}}else typeof h=="function"&&(E.preventDefault(),N=v?rg(f,v):new FormData(f),vf(i,{pending:!0,data:N,method:f.method,action:h},h,N))},currentTarget:f}]})}}for(var $f=0;$f<Ei.length;$f++){var th=Ei[$f],z_=th.toLowerCase(),C_=th[0].toUpperCase()+th.slice(1);_n(z_,"on"+C_)}_n(Bs,"onAnimationEnd"),_n(Ql,"onAnimationIteration"),_n(Ds,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(qc,"onTransitionRun"),_n(Xl,"onTransitionStart"),_n(Gc,"onTransitionCancel"),_n(Da,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function og(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var v=o.length-1;0<=v;v--){var E=o[v],N=E.instance,G=E.currentTarget;if(E=E.listener,N!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=G;try{h(f)}catch(J){js(J)}f.currentTarget=null,h=N}else for(v=0;v<o.length;v++){if(E=o[v],N=E.instance,G=E.currentTarget,E=E.listener,N!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=G;try{h(f)}catch(J){js(J)}f.currentTarget=null,h=N}}}}function It(t,e){var i=e[pi];i===void 0&&(i=e[pi]=new Set);var o=t+"__bubble";i.has(o)||(lg(e,t,2,!1),i.add(o))}function eh(t,e,i){var o=0;e&&(o|=4),lg(i,t,o,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[Mu]){t[Mu]=!0,Cl.forEach(function(i){i!=="selectionchange"&&(L_.has(i)||eh(i,!1,t),eh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,eh("selectionchange",!1,e))}}function lg(t,e,i,o){switch(jg(e)){case 2:var f=ib;break;case 8:f=ab;break;default:f=yh}i=f.bind(null,e,i,t),f=void 0,!Ss||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(e,i,{capture:!0,passive:f}):t.addEventListener(e,i,!0):f!==void 0?t.addEventListener(e,i,{passive:f}):t.addEventListener(e,i,!1)}function ih(t,e,i,o,f){var h=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=o.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Gi(E),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){o=h=v;continue t}E=E.parentNode}}o=o.return}go(function(){var G=h,J=ws(i),at=[];t:{var I=Fl.get(t);if(I!==void 0){var Q=hr,wt=t;switch(t){case"keypress":if(Es(i)===0)break t;case"keydown":case"keyup":Q=Dl;break;case"focusin":wt="focus",Q=_o;break;case"focusout":wt="blur",Q=_o;break;case"beforeblur":case"afterblur":Q=_o;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Dc;break;case Bs:case Ql:case Ds:Q=bo;break;case Da:Q=Hl;break;case"scroll":case"scrollend":Q=Kt;break;case"wheel":Q=Qi;break;case"copy":case"cut":case"paste":Q=Gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=jl;break;case"toggle":case"beforetoggle":Q=zs}var Nt=(e&4)!==0,fe=!Nt&&(t==="scroll"||t==="scrollend"),B=Nt?I!==null?I+"Capture":null:I;Nt=[];for(var R=G,q;R!==null;){var tt=R;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||B===null||(tt=Yi(R,B),tt!=null&&Nt.push(tl(R,tt,q))),fe)break;R=R.return}0<Nt.length&&(I=new Q(I,wt,null,i,J),at.push({event:I,listeners:Nt}))}}if((e&7)===0){t:{if(I=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",I&&i!==fr&&(wt=i.relatedTarget||i.fromElement)&&(Gi(wt)||wt[qi]))break t;if((Q||I)&&(I=J.window===J?J:(I=J.ownerDocument)?I.defaultView||I.parentWindow:window,Q?(wt=i.relatedTarget||i.toElement,Q=G,wt=wt?Gi(wt):null,wt!==null&&(fe=p(wt),Nt=wt.tag,wt!==fe||Nt!==5&&Nt!==27&&Nt!==6)&&(wt=null)):(Q=null,wt=G),Q!==wt)){if(Nt=Ml,tt="onMouseLeave",B="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(Nt=jl,tt="onPointerLeave",B="onPointerEnter",R="pointer"),fe=Q==null?I:gi(Q),q=wt==null?I:gi(wt),I=new Nt(tt,R+"leave",Q,i,J),I.target=fe,I.relatedTarget=q,tt=null,Gi(J)===G&&(Nt=new Nt(B,R+"enter",wt,i,J),Nt.target=q,Nt.relatedTarget=fe,tt=Nt),fe=tt,Q&&wt)e:{for(Nt=N_,B=Q,R=wt,q=0,tt=B;tt;tt=Nt(tt))q++;tt=0;for(var zt=R;zt;zt=Nt(zt))tt++;for(;0<q-tt;)B=Nt(B),q--;for(;0<tt-q;)R=Nt(R),tt--;for(;q--;){if(B===R||R!==null&&B===R.alternate){Nt=B;break e}B=Nt(B),R=Nt(R)}Nt=null}else Nt=null;Q!==null&&ug(at,I,Q,Nt,!1),wt!==null&&fe!==null&&ug(at,fe,wt,Nt,!0)}}t:{if(I=G?gi(G):window,Q=I.nodeName&&I.nodeName.toLowerCase(),Q==="select"||Q==="input"&&I.type==="file")var te=Ms;else if(Vn(I))if(Gl)te=Zc;else{te=Pc;var St=ri}else Q=I.nodeName,!Q||Q.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?G&&xs(G.elementType)&&(te=Ms):te=Oa;if(te&&(te=te(t,G))){ql(at,te,i,J);break t}St&&St(t,I,G),t==="focusout"&&G&&I.type==="number"&&G.memoizedProps.value!=null&&ii(I,"number",I.value)}switch(St=G?gi(G):window,t){case"focusin":(Vn(St)||St.contentEditable==="true")&&(wi=St,xr=G,Rs=null);break;case"focusout":Rs=xr=wi=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,Yl(at,i,J);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Yl(at,i,J)}var Pt;if(mr)t:{switch(t){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else La?Zl(t,i)&&(Xt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Xt="onCompositionStart");Xt&&(pr&&i.locale!=="ko"&&(La||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&La&&(Pt=_i()):(qn=J,Ki="value"in qn?qn.value:qn.textContent,La=!0)),St=Ou(G,Xt),0<St.length&&(Xt=new xo(Xt,t,null,i,J),at.push({event:Xt,listeners:St}),Pt?Xt.data=Pt:(Pt=To(i),Pt!==null&&(Xt.data=Pt)))),(Pt=Uc?Rn(t,i):Na(t,i))&&(Xt=Ou(G,"onBeforeInput"),0<Xt.length&&(St=new xo("onBeforeInput","beforeinput",null,i,J),at.push({event:St,listeners:Xt}),St.data=Pt)),A_(at,t,G,i,J)}og(at,e)})}function tl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Ou(t,e){for(var i=e+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Yi(t,i),f!=null&&o.unshift(tl(t,f,h)),f=Yi(t,e),f!=null&&o.push(tl(t,f,h))),t.tag===3)return o;t=t.return}return[]}function N_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ug(t,e,i,o,f){for(var h=e._reactName,v=[];i!==null&&i!==o;){var E=i,N=E.alternate,G=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||G===null||(N=G,f?(G=Yi(i,h),G!=null&&v.unshift(tl(i,G,N))):f||(G=Yi(i,h),G!=null&&v.push(tl(i,G,N)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var M_=/\r\n?/g,O_=/\u0000|\uFFFD/g;function cg(t){return(typeof t=="string"?t:""+t).replace(M_,`
`).replace(O_,"")}function fg(t,e){return e=cg(e),cg(t)===e}function ce(t,e,i,o,f,h){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||Zn(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&Zn(t,""+o);break;case"className":le(t,"class",o);break;case"tabIndex":le(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":le(t,i,o);break;case"style":ur(t,o,h);break;case"data":if(e!=="object"){le(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Ta(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&ce(t,e,"name",f.name,f,null),ce(t,e,"formEncType",f.formEncType,f,null),ce(t,e,"formMethod",f.formMethod,f,null),ce(t,e,"formTarget",f.formTarget,f,null)):(ce(t,e,"encType",f.encType,f,null),ce(t,e,"method",f.method,f,null),ce(t,e,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Ta(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=yn);break;case"onScroll":o!=null&&It("scroll",t);break;case"onScrollEnd":o!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=Ta(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":It("beforetoggle",t),It("toggle",t),qt(t,"popover",o);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=cr.get(i)||i,qt(t,i,o))}}function ah(t,e,i,o,f,h){switch(i){case"style":ur(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"children":typeof o=="string"?Zn(t,o):(typeof o=="number"||typeof o=="bigint")&&Zn(t,""+o);break;case"onScroll":o!=null&&It("scroll",t);break;case"onScrollEnd":o!=null&&It("scrollend",t);break;case"onClick":o!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),e=i.slice(2,f?i.length-7:void 0),h=t[Ge]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,f);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):qt(t,i,o)}}}function $e(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var o=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var v=i[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:ce(t,e,h,v,i,null)}}f&&ce(t,e,"srcSet",i.srcSet,i,null),o&&ce(t,e,"src",i.src,i,null);return;case"input":It("invalid",t);var E=h=v=f=null,N=null,G=null;for(o in i)if(i.hasOwnProperty(o)){var J=i[o];if(J!=null)switch(o){case"name":f=J;break;case"type":v=J;break;case"checked":N=J;break;case"defaultChecked":G=J;break;case"value":h=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,e));break;default:ce(t,e,o,J,i,null)}}bs(t,h,E,N,G,v,f,!1);return;case"select":It("invalid",t),o=v=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:ce(t,e,f,E,i,null)}e=h,i=v,t.multiple=!!o,e!=null?he(t,!!o,e,!1):i!=null&&he(t,!!o,i,!0);return;case"textarea":It("invalid",t),h=f=o=null;for(v in i)if(i.hasOwnProperty(v)&&(E=i[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(c(91));break;default:ce(t,e,v,E,i,null)}Sa(t,o,f,h);return;case"option":for(N in i)i.hasOwnProperty(N)&&(o=i[N],o!=null)&&(N==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ce(t,e,N,o,i,null));return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(o=0;o<$o.length;o++)It($o[o],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(o=i[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:ce(t,e,G,o,i,null)}return;default:if(xs(e)){for(J in i)i.hasOwnProperty(J)&&(o=i[J],o!==void 0&&ah(t,e,J,o,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(o=i[E],o!=null&&ce(t,e,E,o,i,null))}function k_(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,E=null,N=null,G=null,J=null;for(Q in i){var at=i[Q];if(i.hasOwnProperty(Q)&&at!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=at;default:o.hasOwnProperty(Q)||ce(t,e,Q,null,o,at)}}for(var I in o){var Q=o[I];if(at=i[I],o.hasOwnProperty(I)&&(Q!=null||at!=null))switch(I){case"type":h=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":v=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,e));break;default:Q!==at&&ce(t,e,I,Q,o,at)}}ho(t,v,E,N,G,J,h,f);return;case"select":Q=v=E=I=null;for(h in i)if(N=i[h],i.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":Q=N;default:o.hasOwnProperty(h)||ce(t,e,h,null,o,N)}for(f in o)if(h=o[f],N=i[f],o.hasOwnProperty(f)&&(h!=null||N!=null))switch(f){case"value":I=h;break;case"defaultValue":E=h;break;case"multiple":v=h;default:h!==N&&ce(t,e,f,h,o,N)}e=E,i=v,o=Q,I!=null?he(t,!!i,I,!1):!!o!=!!i&&(e!=null?he(t,!!i,e,!0):he(t,!!i,i?[]:"",!1));return;case"textarea":Q=I=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ce(t,e,E,null,o,f)}for(v in o)if(f=o[v],h=i[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":I=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:f!==h&&ce(t,e,v,f,o,h)}vi(t,I,Q);return;case"option":for(var wt in i)I=i[wt],i.hasOwnProperty(wt)&&I!=null&&!o.hasOwnProperty(wt)&&(wt==="selected"?t.selected=!1:ce(t,e,wt,null,o,I));for(N in o)I=o[N],Q=i[N],o.hasOwnProperty(N)&&I!==Q&&(I!=null||Q!=null)&&(N==="selected"?t.selected=I&&typeof I!="function"&&typeof I!="symbol":ce(t,e,N,I,o,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in i)I=i[Nt],i.hasOwnProperty(Nt)&&I!=null&&!o.hasOwnProperty(Nt)&&ce(t,e,Nt,null,o,I);for(G in o)if(I=o[G],Q=i[G],o.hasOwnProperty(G)&&I!==Q&&(I!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,e));break;default:ce(t,e,G,I,o,Q)}return;default:if(xs(e)){for(var fe in i)I=i[fe],i.hasOwnProperty(fe)&&I!==void 0&&!o.hasOwnProperty(fe)&&ah(t,e,fe,void 0,o,I);for(J in o)I=o[J],Q=i[J],!o.hasOwnProperty(J)||I===Q||I===void 0&&Q===void 0||ah(t,e,J,I,o,Q);return}}for(var B in i)I=i[B],i.hasOwnProperty(B)&&I!=null&&!o.hasOwnProperty(B)&&ce(t,e,B,null,o,I);for(at in o)I=o[at],Q=i[at],!o.hasOwnProperty(at)||I===Q||I==null&&Q==null||ce(t,e,at,I,o,Q)}function hg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],h=f.transferSize,v=f.initiatorType,E=f.duration;if(h&&E&&hg(v)){for(v=0,E=f.responseEnd,o+=1;o<i.length;o++){var N=i[o],G=N.startTime;if(G>E)break;var J=N.transferSize,at=N.initiatorType;J&&hg(at)&&(N=N.responseEnd,v+=J*(N<E?1:(E-G)/(N-G)))}if(--o,e+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sh=null,rh=null;function ku(t){return t.nodeType===9?t:t.ownerDocument}function dg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=null;function B_(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,D_=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(t){return gg.resolve(null).then(t).catch(U_)}:pg;function U_(t){setTimeout(function(){throw t})}function Ja(t){return t==="head"}function yg(t,e){var i=e,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Kr(e);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")el(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,el(i);for(var h=i.firstChild;h;){var v=h.nextSibling,E=h.nodeName;h[ys]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=v}}else i==="body"&&el(t.ownerDocument.body);i=f}while(i);Kr(e)}function vg(t,e){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function uh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":uh(i),lo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function H_(t,e,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ys])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function P_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function _g(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Fn(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$?"||t.data==="$~"}function fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Z_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var o=function(){e(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var hh=null;function bg(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Fn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function xg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function wg(t,e,i){switch(e=ku(i),t){case"html":if(t=e.documentElement,!t)throw Error(c(452));return t;case"head":if(t=e.head,!t)throw Error(c(453));return t;case"body":if(t=e.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function el(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lo(t)}var Jn=new Map,Sg=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ua=Y.d;Y.d={f:q_,r:G_,D:V_,C:I_,L:Y_,m:K_,X:X_,S:Q_,M:F_};function q_(){var t=ua.f(),e=Tu();return t||e}function G_(t){var e=ba(t);e!==null&&e.tag===5&&e.type==="form"?Pm(e):ua.r(t)}var Vr=typeof document>"u"?null:document;function Eg(t,e,i){var o=Vr;if(o&&typeof e=="string"&&e){var f=me(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Sg.has(f)||(Sg.add(f),t={rel:t,crossOrigin:i,href:e},o.querySelector(f)===null&&(e=o.createElement("link"),$e(e,"link",t),ke(e),o.head.appendChild(e)))}}function V_(t){ua.D(t),Eg("dns-prefetch",t,null)}function I_(t,e){ua.C(t,e),Eg("preconnect",t,e)}function Y_(t,e,i){ua.L(t,e,i);var o=Vr;if(o&&t&&e){var f='link[rel="preload"][as="'+me(e)+'"]';e==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+me(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+me(i.imageSizes)+'"]')):f+='[href="'+me(t)+'"]';var h=f;switch(e){case"style":h=Ir(t);break;case"script":h=Yr(t)}Jn.has(h)||(t=T({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Jn.set(h,t),o.querySelector(f)!==null||e==="style"&&o.querySelector(nl(h))||e==="script"&&o.querySelector(il(h))||(e=o.createElement("link"),$e(e,"link",t),ke(e),o.head.appendChild(e)))}}function K_(t,e){ua.m(t,e);var i=Vr;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Yr(t)}if(!Jn.has(h)&&(t=T({rel:"modulepreload",href:t},e),Jn.set(h,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(il(h)))return}o=i.createElement("link"),$e(o,"link",t),ke(o),i.head.appendChild(o)}}}function Q_(t,e,i){ua.S(t,e,i);var o=Vr;if(o&&t){var f=xa(o).hoistableStyles,h=Ir(t);e=e||"default";var v=f.get(h);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(nl(h)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Jn.get(h))&&dh(t,i);var N=v=o.createElement("link");ke(N),$e(N,"link",t),N._p=new Promise(function(G,J){N.onload=G,N.onerror=J}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Bu(v,e,o)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(h,v)}}}function X_(t,e){ua.X(t,e);var i=Vr;if(i&&t){var o=xa(i).hoistableScripts,f=Yr(t),h=o.get(f);h||(h=i.querySelector(il(f)),h||(t=T({src:t,async:!0},e),(e=Jn.get(f))&&mh(t,e),h=i.createElement("script"),ke(h),$e(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function F_(t,e){ua.M(t,e);var i=Vr;if(i&&t){var o=xa(i).hoistableScripts,f=Yr(t),h=o.get(f);h||(h=i.querySelector(il(f)),h||(t=T({src:t,async:!0,type:"module"},e),(e=Jn.get(f))&&mh(t,e),h=i.createElement("script"),ke(h),$e(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Tg(t,e,i,o){var f=(f=dt.current)?Ru(f):null;if(!f)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Ir(i.href),i=xa(f).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Ir(i.href);var h=xa(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(nl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),Jn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Jn.set(t,i),h||J_(f,t,i,v.state))),e&&o===null)throw Error(c(528,""));return v}if(e&&o!==null)throw Error(c(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Yr(i),i=xa(f).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Ir(t){return'href="'+me(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function Ag(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function J_(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),$e(e,"link",i),ke(e),t.head.appendChild(e))}function Yr(t){return'[src="'+me(t)+'"]'}function il(t){return"script[async]"+t}function zg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+me(i.href)+'"]');if(o)return e.instance=o,ke(o),o;var f=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ke(o),$e(o,"style",f),Bu(o,i.precedence,t),e.instance=o;case"stylesheet":f=Ir(i.href);var h=t.querySelector(nl(f));if(h)return e.state.loading|=4,e.instance=h,ke(h),h;o=Ag(i),(f=Jn.get(f))&&dh(o,f),h=(t.ownerDocument||t).createElement("link"),ke(h);var v=h;return v._p=new Promise(function(E,N){v.onload=E,v.onerror=N}),$e(h,"link",o),e.state.loading|=4,Bu(h,i.precedence,t),e.instance=h;case"script":return h=Yr(i.src),(f=t.querySelector(il(h)))?(e.instance=f,ke(f),f):(o=i,(f=Jn.get(h))&&(o=T({},i),mh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),ke(f),$e(f,"link",o),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(c(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,Bu(o,i.precedence,t));return e.instance}function Bu(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===e)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function dh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Du=null;function Cg(t,e,i){if(Du===null){var o=new Map,f=Du=new Map;f.set(i,o)}else f=Du,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[ys]||h[Oe]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(e)||"";v=t+v;var E=o.get(v);E?E.push(h):o.set(v,[h])}}return o}function Lg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function W_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ng(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $_(t,e,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ir(o.href),h=e.querySelector(nl(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ju.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,ke(h);return}h=e.ownerDocument||e,o=Ag(o),(f=Jn.get(f))&&dh(o,f),h=h.createElement("link"),ke(h);var v=h;v._p=new Promise(function(E,N){v.onload=E,v.onerror=N}),$e(h,"link",o),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ju.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var ph=0;function tb(t,e){return t.stylesheets&&t.count===0&&Hu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Hu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&ph===0&&(ph=62500*R_());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>ph?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Hu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,e.forEach(eb,t),Uu=null,ju.call(t))}function eb(t,e){if(!(e.state.loading&4)){var i=Uu.get(t);if(i)var o=i.get(null);else{i=new Map,Uu.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}f=e.instance,v=f.getAttribute("data-precedence"),h=i.get(v)||o,h===o&&i.set(null,f),i.set(v,f),this.count++,o=ju.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var al={$$typeof:st,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function nb(t,e,i,o,f,h,v,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=so(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.hiddenUpdates=so(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Mg(t,e,i,o,f,h,v,E,N,G,J,at){return t=new nb(t,e,i,v,N,G,J,at,E),e=1,h===!0&&(e|=24),h=sn(3,null,null,e),t.current=h,h.stateNode=t,e=Kc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:e},Jc(h),t}function Og(t){return t?(t=Xi,t):Xi}function kg(t,e,i,o,f,h){f=Og(f),o.context===null?o.context=f:o.pendingContext=f,o=Pa(e),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Za(t,o,e),i!==null&&(An(i,t,e),Do(i,t,e))}function Rg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function gh(t,e){Rg(t,e),(t=t.alternate)&&Rg(t,e)}function Bg(t){if(t.tag===13||t.tag===31){var e=Kn(t,67108864);e!==null&&An(e,t,67108864),gh(t,67108864)}}function Dg(t){if(t.tag===13||t.tag===31){var e=Hn();e=pn(e);var i=Kn(t,e);i!==null&&An(i,t,e),gh(t,e)}}var Pu=!0;function ib(t,e,i,o){var f=M.T;M.T=null;var h=Y.p;try{Y.p=2,yh(t,e,i,o)}finally{Y.p=h,M.T=f}}function ab(t,e,i,o){var f=M.T;M.T=null;var h=Y.p;try{Y.p=8,yh(t,e,i,o)}finally{Y.p=h,M.T=f}}function yh(t,e,i,o){if(Pu){var f=vh(o);if(f===null)ih(t,e,o,Zu,i),Ug(t,o);else if(rb(f,t,e,i,o))o.stopPropagation();else if(Ug(t,o),e&4&&-1<sb.indexOf(t)){for(;f!==null;){var h=ba(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Pi(h.pendingLanes);if(v!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var N=1<<31-Xe(v);E.entanglements[1]|=N,v&=~N}Ni(h),(ie&6)===0&&(Su=Zt()+500,Wo(0))}}break;case 31:case 13:E=Kn(h,2),E!==null&&An(E,h,2),Tu(),gh(h,2)}if(h=vh(o),h===null&&ih(t,e,o,Zu,i),h===f)break;f=h}f!==null&&o.stopPropagation()}else ih(t,e,o,null,i)}}function vh(t){return t=ws(t),_h(t)}var Zu=null;function _h(t){if(Zu=null,t=Gi(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Zu=t,null}function jg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case xe:return 2;case nn:return 8;case ze:case Ui:return 32;case Ln:return 268435456;default:return 32}default:return 32}}var bh=!1,Wa=null,$a=null,ts=null,sl=new Map,rl=new Map,es=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ug(t,e){switch(t){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function ol(t,e,i,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},e!==null&&(e=ba(e),e!==null&&Bg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function rb(t,e,i,o,f){switch(e){case"focusin":return Wa=ol(Wa,t,e,i,o,f),!0;case"dragenter":return $a=ol($a,t,e,i,o,f),!0;case"mouseover":return ts=ol(ts,t,e,i,o,f),!0;case"pointerover":var h=f.pointerId;return sl.set(h,ol(sl.get(h)||null,t,e,i,o,f)),!0;case"gotpointercapture":return h=f.pointerId,rl.set(h,ol(rl.get(h)||null,t,e,i,o,f)),!0}return!1}function Hg(t){var e=Gi(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,oo(t.priority,function(){Dg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,oo(t.priority,function(){Dg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=vh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);fr=o,i.target.dispatchEvent(o),fr=null}else return e=ba(i),e!==null&&Bg(e),t.blockedOn=i,!1;e.shift()}return!0}function Pg(t,e,i){qu(t)&&i.delete(e)}function ob(){bh=!1,Wa!==null&&qu(Wa)&&(Wa=null),$a!==null&&qu($a)&&($a=null),ts!==null&&qu(ts)&&(ts=null),sl.forEach(Pg),rl.forEach(Pg)}function Gu(t,e){t.blockedOn===e&&(t.blockedOn=null,bh||(bh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ob)))}var Vu=null;function Zg(t){Vu!==t&&(Vu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vu===t&&(Vu=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],f=t[e+2];if(typeof o!="function"){if(_h(o||i)===null)continue;break}var h=ba(i);h!==null&&(t.splice(e,3),e-=3,vf(h,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Kr(t){function e(N){return Gu(N,t)}Wa!==null&&Gu(Wa,t),$a!==null&&Gu($a,t),ts!==null&&Gu(ts,t),sl.forEach(e),rl.forEach(e);for(var i=0;i<es.length;i++){var o=es[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<es.length&&(i=es[0],i.blockedOn===null);)Hg(i),i.blockedOn===null&&es.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],v=f[Ge]||null;if(typeof h=="function")v||Zg(i);else if(v){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Ge]||null)E=v.formAction;else if(_h(f)!==null)continue}else E=v.action;typeof E=="function"?i[o+1]=E:(i.splice(o,3),o-=3),Zg(i)}}}function qg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function e(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),f!==null&&(f(),f=null)}}}function xh(t){this._internalRoot=t}Iu.prototype.render=xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(c(409));var i=e.current,o=Hn();kg(i,o,t,e,null,null)},Iu.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kg(t.current,2,null,t,null,null),Tu(),e[qi]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ro();t={blockedOn:null,target:t,priority:e};for(var i=0;i<es.length&&e!==0&&e<es[i].priority;i++);es.splice(i,0,t),i===0&&Hg(t)}};var Gg=s.version;if(Gg!=="19.2.3")throw Error(c(527,Gg,"19.2.3"));Y.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=w(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var lb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{Nn=Yu.inject(lb),He=Yu}catch{}}return ul.createRoot=function(t,e){if(!d(t))throw Error(c(299));var i=!1,o="",f=Fm,h=Jm,v=Wm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=Mg(t,1,!1,null,null,i,o,null,f,h,v,qg),t[qi]=e.current,nh(t),new xh(e)},ul.hydrateRoot=function(t,e,i){if(!d(t))throw Error(c(299));var o=!1,f="",h=Fm,v=Jm,E=Wm,N=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),e=Mg(t,1,!0,e,i??null,o,f,N,h,v,E,qg),e.context=Og(null),i=e.current,o=Hn(),o=pn(o),f=Pa(o),f.callback=null,Za(i,f,o),i=o,e.current.lanes=i,Zi(e,i),Ni(e),t[qi]=e.current,nh(t),new Iu(e)},ul.version="19.2.3",ul}var $g;function yb(){if($g)return Sh.exports;$g=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),Sh.exports=gb(),Sh.exports}var vb=yb();const _b=rd(vb),bb="modulepreload",xb=function(a){return"/parlens-pwa/"+a},t0={},wb=function(s,l,c){let d=Promise.resolve();if(l&&l.length>0){let w=function(A){return Promise.all(A.map(T=>Promise.resolve(T).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var _=w;document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),y=b?.nonce||b?.getAttribute("nonce");d=w(l.map(A=>{if(A=xb(A),A in t0)return;t0[A]=!0;const T=A.endsWith(".css"),k=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${k}`))return;const D=document.createElement("link");if(D.rel=T?"stylesheet":bb,T||(D.as="script"),D.crossOrigin="",D.href=A,y&&D.setAttribute("nonce",y),document.head.appendChild(D),T)return new Promise((U,O)=>{D.addEventListener("load",U),D.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${A}`)))})}))}function p(b){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=b,window.dispatchEvent(y),!y.defaultPrevented)throw b}return d.then(b=>{for(const y of b||[])y.status==="rejected"&&p(y.reason);return s().catch(p)})};var F=od();const hl=rd(F);function e0(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function H0(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function Sb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e0(a.outputLen),e0(a.blockLen)}function $u(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function Eb(a,s){H0(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Ch=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const P0=a=>a instanceof Uint8Array,Lh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),Mi=(a,s)=>a<<32-s|a>>>s,Tb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tb)throw new Error("Non little-endian hardware is not supported");function Ab(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function ld(a){if(typeof a=="string"&&(a=Ab(a)),!P0(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function zb(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!P0(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}let Z0=class{clone(){return this._cloneInto()}};function Cb(a){const s=c=>a().update(ld(c)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function q0(a=32){if(Ch&&typeof Ch.getRandomValues=="function")return Ch.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Lb(a,s,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,c);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),y=c?4:0,w=c?0:4;a.setUint32(s+y,_,c),a.setUint32(s+w,b,c)}let Nb=class extends Z0{constructor(s,l,c,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Lh(this.buffer)}update(s){$u(this);const{view:l,buffer:c,blockLen:d}=this;s=ld(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const y=Lh(s);for(;d<=p-_;_+=d)this.process(y,_);continue}c.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){$u(this),Eb(s,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(c,0),_=0);for(let T=_;T<d;T++)l[T]=0;Lb(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Lh(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=y/4,A=this.get();if(w>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<w;T++)b.setUint32(4*T,A[T],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const c=s.slice(0,l);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(c),s}};const Mb=(a,s,l)=>a&s^~a&l,Ob=(a,s,l)=>a&s^a&l^s&l,kb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),is=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),as=new Uint32Array(64);let Rb=class extends Nb{constructor(){super(64,32,8,!1),this.A=is[0]|0,this.B=is[1]|0,this.C=is[2]|0,this.D=is[3]|0,this.E=is[4]|0,this.F=is[5]|0,this.G=is[6]|0,this.H=is[7]|0}get(){const{A:s,B:l,C:c,D:d,E:p,F:_,G:b,H:y}=this;return[s,l,c,d,p,_,b,y]}set(s,l,c,d,p,_,b,y){this.A=s|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=y|0}process(s,l){for(let T=0;T<16;T++,l+=4)as[T]=s.getUint32(l,!1);for(let T=16;T<64;T++){const k=as[T-15],D=as[T-2],U=Mi(k,7)^Mi(k,18)^k>>>3,O=Mi(D,17)^Mi(D,19)^D>>>10;as[T]=O+as[T-7]+U+as[T-16]|0}let{A:c,B:d,C:p,D:_,E:b,F:y,G:w,H:A}=this;for(let T=0;T<64;T++){const k=Mi(b,6)^Mi(b,11)^Mi(b,25),D=A+k+Mb(b,y,w)+kb[T]+as[T]|0,O=(Mi(c,2)^Mi(c,13)^Mi(c,22))+Ob(c,d,p)|0;A=w,w=y,y=b,b=_+D|0,_=p,p=d,d=c,c=D+O|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,y=y+this.F|0,w=w+this.G|0,A=A+this.H|0,this.set(c,d,p,_,b,y,w,A)}roundClean(){as.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const qh=Cb(()=>new Rb);const G0=BigInt(0),cc=BigInt(1),Bb=BigInt(2),fc=a=>a instanceof Uint8Array,Db=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Jr(a){if(!fc(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=Db[a[l]];return s}function V0(a){const s=a.toString(16);return s.length&1?`0${s}`:s}function ud(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Wr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[c]=_}return l}function Cn(a){return ud(Jr(a))}function cd(a){if(!fc(a))throw new Error("Uint8Array expected");return ud(Jr(Uint8Array.from(a).reverse()))}function us(a,s){return Wr(a.toString(16).padStart(s*2,"0"))}function fd(a,s){return us(a,s).reverse()}function jb(a){return Wr(V0(a))}function on(a,s,l){let c;if(typeof s=="string")try{c=Wr(s)}catch(p){throw new Error(`${a} must be valid hex string, got "${s}". Cause: ${p}`)}else if(fc(s))c=Uint8Array.from(s);else throw new Error(`${a} must be hex string or Uint8Array`);const d=c.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return c}function sr(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!fc(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}function Ub(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0}function Hb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Pb(a){let s;for(s=0;a>G0;a>>=cc,s+=1);return s}function Zb(a,s){return a>>BigInt(s)&cc}const qb=(a,s,l)=>a|(l?cc:G0)<<BigInt(s),hd=a=>(Bb<<BigInt(a-1))-cc,Nh=a=>new Uint8Array(a),n0=a=>Uint8Array.from(a);function I0(a,s,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let c=Nh(a),d=Nh(a),p=0;const _=()=>{c.fill(1),d.fill(0),p=0},b=(...T)=>l(d,c,...T),y=(T=Nh())=>{d=b(n0([0]),T),c=b(),T.length!==0&&(d=b(n0([1]),T),c=b())},w=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const k=[];for(;T<s;){c=b();const D=c.slice();k.push(D),T+=c.length}return sr(...k)};return(T,k)=>{_(),y(T);let D;for(;!(D=k(w()));)y();return _(),D}}const Gb={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function bl(a,s,l={}){const c=(d,p,_)=>{const b=Gb[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const y=a[d];if(!(_&&y===void 0)&&!b(y,a))throw new Error(`Invalid param ${String(d)}=${y} (${typeof y}), expected ${p}`)};for(const[d,p]of Object.entries(s))c(d,p,!1);for(const[d,p]of Object.entries(l))c(d,p,!0);return a}const Vb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Zb,bitLen:Pb,bitMask:hd,bitSet:qb,bytesToHex:Jr,bytesToNumberBE:Cn,bytesToNumberLE:cd,concatBytes:sr,createHmacDrbg:I0,ensureBytes:on,equalBytes:Ub,hexToBytes:Wr,hexToNumber:ud,numberToBytesBE:us,numberToBytesLE:fd,numberToHexUnpadded:V0,numberToVarBytesBE:jb,utf8ToBytes:Hb,validateObject:bl},Symbol.toStringTag,{value:"Module"}));const Ke=BigInt(0),Ne=BigInt(1),er=BigInt(2),Ib=BigInt(3),Gh=BigInt(4),i0=BigInt(5),a0=BigInt(8);BigInt(9);BigInt(16);function tn(a,s){const l=a%s;return l>=Ke?l:s+l}function Yb(a,s,l){if(l<=Ke||s<Ke)throw new Error("Expected power/modulo > 0");if(l===Ne)return Ke;let c=Ne;for(;s>Ke;)s&Ne&&(c=c*a%l),a=a*a%l,s>>=Ne;return c}function Wn(a,s,l){let c=a;for(;s-- >Ke;)c*=c,c%=l;return c}function Vh(a,s){if(a===Ke||s<=Ke)throw new Error(`invert: expected positive integers, got n=${a} mod=${s}`);let l=tn(a,s),c=s,d=Ke,p=Ne;for(;l!==Ke;){const b=c/l,y=c%l,w=d-p*b;c=l,l=y,d=p,p=w}if(c!==Ne)throw new Error("invert: does not exist");return tn(d,s)}function Kb(a){const s=(a-Ne)/er;let l,c,d;for(l=a-Ne,c=0;l%er===Ke;l/=er,c++);for(d=er;d<a&&Yb(d,s,a)!==a-Ne;d++);if(c===1){const _=(a+Ne)/Gh;return function(y,w){const A=y.pow(w,_);if(!y.eql(y.sqr(A),w))throw new Error("Cannot find square root");return A}}const p=(l+Ne)/er;return function(b,y){if(b.pow(y,s)===b.neg(b.ONE))throw new Error("Cannot find square root");let w=c,A=b.pow(b.mul(b.ONE,d),l),T=b.pow(y,p),k=b.pow(y,l);for(;!b.eql(k,b.ONE);){if(b.eql(k,b.ZERO))return b.ZERO;let D=1;for(let O=b.sqr(k);D<w&&!b.eql(O,b.ONE);D++)O=b.sqr(O);const U=b.pow(A,Ne<<BigInt(w-D-1));A=b.sqr(U),T=b.mul(T,U),k=b.mul(k,A),w=D}return T}}function Qb(a){if(a%Gh===Ib){const s=(a+Ne)/Gh;return function(c,d){const p=c.pow(d,s);if(!c.eql(c.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%a0===i0){const s=(a-i0)/a0;return function(c,d){const p=c.mul(d,er),_=c.pow(p,s),b=c.mul(d,_),y=c.mul(c.mul(b,er),_),w=c.mul(b,c.sub(y,c.ONE));if(!c.eql(c.sqr(w),d))throw new Error("Cannot find square root");return w}}return Kb(a)}const Xb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fb(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=Xb.reduce((c,d)=>(c[d]="function",c),s);return bl(a,l)}function Jb(a,s,l){if(l<Ke)throw new Error("Expected power > 0");if(l===Ke)return a.ONE;if(l===Ne)return s;let c=a.ONE,d=s;for(;l>Ke;)l&Ne&&(c=a.mul(c,d)),d=a.sqr(d),l>>=Ne;return c}function Wb(a,s){const l=new Array(s.length),c=s.reduce((p,_,b)=>a.is0(_)?p:(l[b]=p,a.mul(p,_)),a.ONE),d=a.inv(c);return s.reduceRight((p,_,b)=>a.is0(_)?p:(l[b]=a.mul(p,l[b]),a.mul(p,_)),d),l}function Y0(a,s){const l=s!==void 0?s:a.toString(2).length,c=Math.ceil(l/8);return{nBitLength:l,nByteLength:c}}function $b(a,s,l=!1,c={}){if(a<=Ke)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=Y0(a,s);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _=Qb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:hd(d),ZERO:Ke,ONE:Ne,create:y=>tn(y,a),isValid:y=>{if(typeof y!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof y}`);return Ke<=y&&y<a},is0:y=>y===Ke,isOdd:y=>(y&Ne)===Ne,neg:y=>tn(-y,a),eql:(y,w)=>y===w,sqr:y=>tn(y*y,a),add:(y,w)=>tn(y+w,a),sub:(y,w)=>tn(y-w,a),mul:(y,w)=>tn(y*w,a),pow:(y,w)=>Jb(b,y,w),div:(y,w)=>tn(y*Vh(w,a),a),sqrN:y=>y*y,addN:(y,w)=>y+w,subN:(y,w)=>y-w,mulN:(y,w)=>y*w,inv:y=>Vh(y,a),sqrt:c.sqrt||(y=>_(b,y)),invertBatch:y=>Wb(b,y),cmov:(y,w,A)=>A?w:y,toBytes:y=>l?fd(y,p):us(y,p),fromBytes:y=>{if(y.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${y.length}`);return l?cd(y):Cn(y)}});return Object.freeze(b)}function K0(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const s=a.toString(2).length;return Math.ceil(s/8)}function Q0(a){const s=K0(a);return s+Math.ceil(s/2)}function tx(a,s,l=!1){const c=a.length,d=K0(s),p=Q0(s);if(c<16||c<p||c>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${c}`);const _=l?Cn(a):cd(a),b=tn(_,s-Ne)+Ne;return l?fd(b,d):us(b,d)}const ex=BigInt(0),Mh=BigInt(1);function nx(a,s){const l=(d,p)=>{const _=p.negate();return d?_:p},c=d=>{const p=Math.ceil(s/d)+1,_=2**(d-1);return{windows:p,windowSize:_}};return{constTimeNegate:l,unsafeLadder(d,p){let _=a.ZERO,b=d;for(;p>ex;)p&Mh&&(_=_.add(b)),b=b.double(),p>>=Mh;return _},precomputeWindow(d,p){const{windows:_,windowSize:b}=c(p),y=[];let w=d,A=w;for(let T=0;T<_;T++){A=w,y.push(A);for(let k=1;k<b;k++)A=A.add(w),y.push(A);w=A.double()}return y},wNAF(d,p,_){const{windows:b,windowSize:y}=c(d);let w=a.ZERO,A=a.BASE;const T=BigInt(2**d-1),k=2**d,D=BigInt(d);for(let U=0;U<b;U++){const O=U*y;let Z=Number(_&T);_>>=D,Z>y&&(Z-=k,_+=Mh);const P=O,nt=O+Math.abs(Z)-1,st=U%2!==0,ft=Z<0;Z===0?A=A.add(l(st,p[P])):w=w.add(l(ft,p[nt]))}return{p:w,f:A}},wNAFCached(d,p,_,b){const y=d._WINDOW_SIZE||1;let w=p.get(d);return w||(w=this.precomputeWindow(d,y),y!==1&&p.set(d,b(w))),this.wNAF(y,w,_)}}}function X0(a){return Fb(a.Fp),bl(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y0(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function ix(a){const s=X0(a);bl(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:c,a:d}=s;if(l){if(!c.eql(d,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:ax,hexToBytes:sx}=Vb,ir={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(a){const{Err:s}=ir;if(a.length<2||a[0]!==2)throw new s("Invalid signature integer tag");const l=a[1],c=a.subarray(2,l+2);if(!l||c.length!==l)throw new s("Invalid signature integer: wrong length");if(c[0]&128)throw new s("Invalid signature integer: negative");if(c[0]===0&&!(c[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:ax(c),l:a.subarray(l+2)}},toSig(a){const{Err:s}=ir,l=typeof a=="string"?sx(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let c=l.length;if(c<2||l[0]!=48)throw new s("Invalid signature tag");if(l[1]!==c-2)throw new s("Invalid signature: incorrect length");const{d,l:p}=ir._parseInt(l.subarray(2)),{d:_,l:b}=ir._parseInt(p);if(b.length)throw new s("Invalid signature: left bytes after parsing");return{r:d,s:_}},hexFromSig(a){const s=w=>Number.parseInt(w[0],16)&8?"00"+w:w,l=w=>{const A=w.toString(16);return A.length&1?`0${A}`:A},c=s(l(a.s)),d=s(l(a.r)),p=c.length/2,_=d.length/2,b=l(p),y=l(_);return`30${l(_+p+4)}02${y}${d}02${b}${c}`}},ha=BigInt(0),$n=BigInt(1);BigInt(2);const s0=BigInt(3);BigInt(4);function rx(a){const s=ix(a),{Fp:l}=s,c=s.toBytes||((U,O,Z)=>{const P=O.toAffine();return sr(Uint8Array.from([4]),l.toBytes(P.x),l.toBytes(P.y))}),d=s.fromBytes||(U=>{const O=U.subarray(1),Z=l.fromBytes(O.subarray(0,l.BYTES)),P=l.fromBytes(O.subarray(l.BYTES,2*l.BYTES));return{x:Z,y:P}});function p(U){const{a:O,b:Z}=s,P=l.sqr(U),nt=l.mul(P,U);return l.add(l.add(nt,l.mul(U,O)),Z)}if(!l.eql(l.sqr(s.Gy),p(s.Gx)))throw new Error("bad generator point: equation left != right");function _(U){return typeof U=="bigint"&&ha<U&&U<s.n}function b(U){if(!_(U))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(U){const{allowedPrivateKeyLengths:O,nByteLength:Z,wrapPrivateKey:P,n:nt}=s;if(O&&typeof U!="bigint"){if(U instanceof Uint8Array&&(U=Jr(U)),typeof U!="string"||!O.includes(U.length))throw new Error("Invalid key");U=U.padStart(Z*2,"0")}let st;try{st=typeof U=="bigint"?U:Cn(on("private key",U,Z))}catch{throw new Error(`private key must be ${Z} bytes, hex or bigint, not ${typeof U}`)}return P&&(st=tn(st,nt)),b(st),st}const w=new Map;function A(U){if(!(U instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(O,Z,P){if(this.px=O,this.py=Z,this.pz=P,O==null||!l.isValid(O))throw new Error("x required");if(Z==null||!l.isValid(Z))throw new Error("y required");if(P==null||!l.isValid(P))throw new Error("z required")}static fromAffine(O){const{x:Z,y:P}=O||{};if(!O||!l.isValid(Z)||!l.isValid(P))throw new Error("invalid affine point");if(O instanceof T)throw new Error("projective point not allowed");const nt=st=>l.eql(st,l.ZERO);return nt(Z)&&nt(P)?T.ZERO:new T(Z,P,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const Z=l.invertBatch(O.map(P=>P.pz));return O.map((P,nt)=>P.toAffine(Z[nt])).map(T.fromAffine)}static fromHex(O){const Z=T.fromAffine(d(on("pointHex",O)));return Z.assertValidity(),Z}static fromPrivateKey(O){return T.BASE.multiply(y(O))}_setWindowSize(O){this._WINDOW_SIZE=O,w.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:Z}=this.toAffine();if(!l.isValid(O)||!l.isValid(Z))throw new Error("bad point: x or y not FE");const P=l.sqr(Z),nt=p(O);if(!l.eql(P,nt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(l.isOdd)return!l.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){A(O);const{px:Z,py:P,pz:nt}=this,{px:st,py:ft,pz:lt}=O,ot=l.eql(l.mul(Z,lt),l.mul(st,nt)),X=l.eql(l.mul(P,lt),l.mul(ft,nt));return ot&&X}negate(){return new T(this.px,l.neg(this.py),this.pz)}double(){const{a:O,b:Z}=s,P=l.mul(Z,s0),{px:nt,py:st,pz:ft}=this;let lt=l.ZERO,ot=l.ZERO,X=l.ZERO,et=l.mul(nt,nt),yt=l.mul(st,st),bt=l.mul(ft,ft),mt=l.mul(nt,st);return mt=l.add(mt,mt),X=l.mul(nt,ft),X=l.add(X,X),lt=l.mul(O,X),ot=l.mul(P,bt),ot=l.add(lt,ot),lt=l.sub(yt,ot),ot=l.add(yt,ot),ot=l.mul(lt,ot),lt=l.mul(mt,lt),X=l.mul(P,X),bt=l.mul(O,bt),mt=l.sub(et,bt),mt=l.mul(O,mt),mt=l.add(mt,X),X=l.add(et,et),et=l.add(X,et),et=l.add(et,bt),et=l.mul(et,mt),ot=l.add(ot,et),bt=l.mul(st,ft),bt=l.add(bt,bt),et=l.mul(bt,mt),lt=l.sub(lt,et),X=l.mul(bt,yt),X=l.add(X,X),X=l.add(X,X),new T(lt,ot,X)}add(O){A(O);const{px:Z,py:P,pz:nt}=this,{px:st,py:ft,pz:lt}=O;let ot=l.ZERO,X=l.ZERO,et=l.ZERO;const yt=s.a,bt=l.mul(s.b,s0);let mt=l.mul(Z,st),_t=l.mul(P,ft),Lt=l.mul(nt,lt),Ct=l.add(Z,P),$=l.add(st,ft);Ct=l.mul(Ct,$),$=l.add(mt,_t),Ct=l.sub(Ct,$),$=l.add(Z,nt);let M=l.add(st,lt);return $=l.mul($,M),M=l.add(mt,Lt),$=l.sub($,M),M=l.add(P,nt),ot=l.add(ft,lt),M=l.mul(M,ot),ot=l.add(_t,Lt),M=l.sub(M,ot),et=l.mul(yt,$),ot=l.mul(bt,Lt),et=l.add(ot,et),ot=l.sub(_t,et),et=l.add(_t,et),X=l.mul(ot,et),_t=l.add(mt,mt),_t=l.add(_t,mt),Lt=l.mul(yt,Lt),$=l.mul(bt,$),_t=l.add(_t,Lt),Lt=l.sub(mt,Lt),Lt=l.mul(yt,Lt),$=l.add($,Lt),mt=l.mul(_t,$),X=l.add(X,mt),mt=l.mul(M,$),ot=l.mul(Ct,ot),ot=l.sub(ot,mt),mt=l.mul(Ct,_t),et=l.mul(M,et),et=l.add(et,mt),new T(ot,X,et)}subtract(O){return this.add(O.negate())}is0(){return this.equals(T.ZERO)}wNAF(O){return D.wNAFCached(this,w,O,Z=>{const P=l.invertBatch(Z.map(nt=>nt.pz));return Z.map((nt,st)=>nt.toAffine(P[st])).map(T.fromAffine)})}multiplyUnsafe(O){const Z=T.ZERO;if(O===ha)return Z;if(b(O),O===$n)return this;const{endo:P}=s;if(!P)return D.unsafeLadder(this,O);let{k1neg:nt,k1:st,k2neg:ft,k2:lt}=P.splitScalar(O),ot=Z,X=Z,et=this;for(;st>ha||lt>ha;)st&$n&&(ot=ot.add(et)),lt&$n&&(X=X.add(et)),et=et.double(),st>>=$n,lt>>=$n;return nt&&(ot=ot.negate()),ft&&(X=X.negate()),X=new T(l.mul(X.px,P.beta),X.py,X.pz),ot.add(X)}multiply(O){b(O);let Z=O,P,nt;const{endo:st}=s;if(st){const{k1neg:ft,k1:lt,k2neg:ot,k2:X}=st.splitScalar(Z);let{p:et,f:yt}=this.wNAF(lt),{p:bt,f:mt}=this.wNAF(X);et=D.constTimeNegate(ft,et),bt=D.constTimeNegate(ot,bt),bt=new T(l.mul(bt.px,st.beta),bt.py,bt.pz),P=et.add(bt),nt=yt.add(mt)}else{const{p:ft,f:lt}=this.wNAF(Z);P=ft,nt=lt}return T.normalizeZ([P,nt])[0]}multiplyAndAddUnsafe(O,Z,P){const nt=T.BASE,st=(lt,ot)=>ot===ha||ot===$n||!lt.equals(nt)?lt.multiplyUnsafe(ot):lt.multiply(ot),ft=st(this,Z).add(st(O,P));return ft.is0()?void 0:ft}toAffine(O){const{px:Z,py:P,pz:nt}=this,st=this.is0();O==null&&(O=st?l.ONE:l.inv(nt));const ft=l.mul(Z,O),lt=l.mul(P,O),ot=l.mul(nt,O);if(st)return{x:l.ZERO,y:l.ZERO};if(!l.eql(ot,l.ONE))throw new Error("invZ was invalid");return{x:ft,y:lt}}isTorsionFree(){const{h:O,isTorsionFree:Z}=s;if(O===$n)return!0;if(Z)return Z(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:Z}=s;return O===$n?this:Z?Z(T,this):this.multiplyUnsafe(s.h)}toRawBytes(O=!0){return this.assertValidity(),c(T,this,O)}toHex(O=!0){return Jr(this.toRawBytes(O))}}T.BASE=new T(s.Gx,s.Gy,l.ONE),T.ZERO=new T(l.ZERO,l.ONE,l.ZERO);const k=s.nBitLength,D=nx(T,s.endo?Math.ceil(k/2):k);return{CURVE:s,ProjectivePoint:T,normPrivateKeyToScalar:y,weierstrassEquation:p,isWithinCurveOrder:_}}function ox(a){const s=X0(a);return bl(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function lx(a){const s=ox(a),{Fp:l,n:c}=s,d=l.BYTES+1,p=2*l.BYTES+1;function _($){return ha<$&&$<l.ORDER}function b($){return tn($,c)}function y($){return Vh($,c)}const{ProjectivePoint:w,normPrivateKeyToScalar:A,weierstrassEquation:T,isWithinCurveOrder:k}=rx({...s,toBytes($,M,Y){const K=M.toAffine(),pt=l.toBytes(K.x),W=sr;return Y?W(Uint8Array.from([M.hasEvenY()?2:3]),pt):W(Uint8Array.from([4]),pt,l.toBytes(K.y))},fromBytes($){const M=$.length,Y=$[0],K=$.subarray(1);if(M===d&&(Y===2||Y===3)){const pt=Cn(K);if(!_(pt))throw new Error("Point is not on curve");const W=T(pt);let z=l.sqrt(W);const H=(z&$n)===$n;return(Y&1)===1!==H&&(z=l.neg(z)),{x:pt,y:z}}else if(M===p&&Y===4){const pt=l.fromBytes(K.subarray(0,l.BYTES)),W=l.fromBytes(K.subarray(l.BYTES,2*l.BYTES));return{x:pt,y:W}}else throw new Error(`Point of length ${M} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),D=$=>Jr(us($,s.nByteLength));function U($){const M=c>>$n;return $>M}function O($){return U($)?b(-$):$}const Z=($,M,Y)=>Cn($.slice(M,Y));class P{constructor(M,Y,K){this.r=M,this.s=Y,this.recovery=K,this.assertValidity()}static fromCompact(M){const Y=s.nByteLength;return M=on("compactSignature",M,Y*2),new P(Z(M,0,Y),Z(M,Y,2*Y))}static fromDER(M){const{r:Y,s:K}=ir.toSig(on("DER",M));return new P(Y,K)}assertValidity(){if(!k(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!k(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new P(this.r,this.s,M)}recoverPublicKey(M){const{r:Y,s:K,recovery:pt}=this,W=X(on("msgHash",M));if(pt==null||![0,1,2,3].includes(pt))throw new Error("recovery id invalid");const z=pt===2||pt===3?Y+s.n:Y;if(z>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=(pt&1)===0?"02":"03",rt=w.fromHex(H+D(z)),ut=y(z),ht=b(-W*ut),dt=b(K*ut),Et=w.BASE.multiplyAndAddUnsafe(rt,ht,dt);if(!Et)throw new Error("point at infinify");return Et.assertValidity(),Et}hasHighS(){return U(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return Wr(this.toDERHex())}toDERHex(){return ir.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Wr(this.toCompactHex())}toCompactHex(){return D(this.r)+D(this.s)}}const nt={isValidPrivateKey($){try{return A($),!0}catch{return!1}},normPrivateKeyToScalar:A,randomPrivateKey:()=>{const $=Q0(s.n);return tx(s.randomBytes($),s.n)},precompute($=8,M=w.BASE){return M._setWindowSize($),M.multiply(BigInt(3)),M}};function st($,M=!0){return w.fromPrivateKey($).toRawBytes(M)}function ft($){const M=$ instanceof Uint8Array,Y=typeof $=="string",K=(M||Y)&&$.length;return M?K===d||K===p:Y?K===2*d||K===2*p:$ instanceof w}function lt($,M,Y=!0){if(ft($))throw new Error("first arg must be private key");if(!ft(M))throw new Error("second arg must be public key");return w.fromHex(M).multiply(A($)).toRawBytes(Y)}const ot=s.bits2int||function($){const M=Cn($),Y=$.length*8-s.nBitLength;return Y>0?M>>BigInt(Y):M},X=s.bits2int_modN||function($){return b(ot($))},et=hd(s.nBitLength);function yt($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(ha<=$&&$<et))throw new Error(`bigint expected < 2^${s.nBitLength}`);return us($,s.nByteLength)}function bt($,M,Y=mt){if(["recovered","canonical"].some(kt=>kt in Y))throw new Error("sign() legacy options not supported");const{hash:K,randomBytes:pt}=s;let{lowS:W,prehash:z,extraEntropy:H}=Y;W==null&&(W=!0),$=on("msgHash",$),z&&($=on("prehashed msgHash",K($)));const rt=X($),ut=A(M),ht=[yt(ut),yt(rt)];if(H!=null){const kt=H===!0?pt(l.BYTES):H;ht.push(on("extraEntropy",kt))}const dt=sr(...ht),Et=rt;function Rt(kt){const Ae=ot(kt);if(!k(Ae))return;const en=y(Ae),Jt=w.BASE.multiply(Ae).toAffine(),Qe=b(Jt.x);if(Qe===ha)return;const Me=b(en*b(Et+Qe*ut));if(Me===ha)return;let mn=(Jt.x===Qe?0:2)|Number(Jt.y&$n),un=Me;return W&&U(Me)&&(un=O(Me),mn^=1),new P(Qe,un,mn)}return{seed:dt,k2sig:Rt}}const mt={lowS:s.lowS,prehash:!1},_t={lowS:s.lowS,prehash:!1};function Lt($,M,Y=mt){const{seed:K,k2sig:pt}=bt($,M,Y),W=s;return I0(W.hash.outputLen,W.nByteLength,W.hmac)(K,pt)}w.BASE._setWindowSize(8);function Ct($,M,Y,K=_t){const pt=$;if(M=on("msgHash",M),Y=on("publicKey",Y),"strict"in K)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:z}=K;let H,rt;try{if(typeof pt=="string"||pt instanceof Uint8Array)try{H=P.fromDER(pt)}catch(Jt){if(!(Jt instanceof ir.Err))throw Jt;H=P.fromCompact(pt)}else if(typeof pt=="object"&&typeof pt.r=="bigint"&&typeof pt.s=="bigint"){const{r:Jt,s:Qe}=pt;H=new P(Jt,Qe)}else throw new Error("PARSE");rt=w.fromHex(Y)}catch(Jt){if(Jt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&H.hasHighS())return!1;z&&(M=s.hash(M));const{r:ut,s:ht}=H,dt=X(M),Et=y(ht),Rt=b(dt*Et),kt=b(ut*Et),Ae=w.BASE.multiplyAndAddUnsafe(rt,Rt,kt)?.toAffine();return Ae?b(Ae.x)===ut:!1}return{CURVE:s,getPublicKey:st,getSharedSecret:lt,sign:Lt,verify:Ct,ProjectivePoint:w,Signature:P,utils:nt}}let F0=class extends Z0{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,Sb(s);const c=ld(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?s.create().update(c).digest():c);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return $u(this),this.iHash.update(s),this}digestInto(s){$u(this),H0(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const J0=(a,s,l)=>new F0(a,s).update(l).digest();J0.create=(a,s)=>new F0(a,s);function ux(a){return{hash:a,hmac:(s,...l)=>J0(a,s,zb(...l)),randomBytes:q0}}function cx(a,s){const l=c=>lx({...a,...ux(c)});return Object.freeze({...l(s),create:l})}const hc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),W0=BigInt(1),ec=BigInt(2),r0=(a,s)=>(a+s/ec)/s;function $0(a){const s=hc,l=BigInt(3),c=BigInt(6),d=BigInt(11),p=BigInt(22),_=BigInt(23),b=BigInt(44),y=BigInt(88),w=a*a*a%s,A=w*w*a%s,T=Wn(A,l,s)*A%s,k=Wn(T,l,s)*A%s,D=Wn(k,ec,s)*w%s,U=Wn(D,d,s)*D%s,O=Wn(U,p,s)*U%s,Z=Wn(O,b,s)*O%s,P=Wn(Z,y,s)*Z%s,nt=Wn(P,b,s)*O%s,st=Wn(nt,l,s)*A%s,ft=Wn(st,_,s)*U%s,lt=Wn(ft,c,s)*w%s,ot=Wn(lt,ec,s);if(!Ih.eql(Ih.sqr(ot),a))throw new Error("Cannot find square root");return ot}const Ih=$b(hc,void 0,void 0,{sqrt:$0}),eo=cx({a:BigInt(0),b:BigInt(7),Fp:Ih,n:tc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const s=tc,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-W0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,_=BigInt("0x100000000000000000000000000000000"),b=r0(p*a,s),y=r0(-c*a,s);let w=tn(a-b*l-y*d,s),A=tn(-b*c-y*p,s);const T=w>_,k=A>_;if(T&&(w=s-w),k&&(A=s-A),w>_||A>_)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:T,k1:w,k2neg:k,k2:A}}}},qh),dc=BigInt(0),ty=a=>typeof a=="bigint"&&dc<a&&a<hc,fx=a=>typeof a=="bigint"&&dc<a&&a<tc,o0={};function nc(a,...s){let l=o0[a];if(l===void 0){const c=qh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=sr(c,c),o0[a]=l}return qh(sr(l,...s))}const dd=a=>a.toRawBytes(!0).slice(1),Yh=a=>us(a,32),Oh=a=>tn(a,hc),dl=a=>tn(a,tc),md=eo.ProjectivePoint,hx=(a,s,l)=>md.BASE.multiplyAndAddUnsafe(a,s,l);function Kh(a){let s=eo.utils.normPrivateKeyToScalar(a),l=md.fromPrivateKey(s);return{scalar:l.hasEvenY()?s:dl(-s),bytes:dd(l)}}function ey(a){if(!ty(a))throw new Error("bad x: need 0 < x < p");const s=Oh(a*a),l=Oh(s*a+BigInt(7));let c=$0(l);c%ec!==dc&&(c=Oh(-c));const d=new md(a,c,W0);return d.assertValidity(),d}function ny(...a){return dl(Cn(nc("BIP0340/challenge",...a)))}function dx(a){return Kh(a).bytes}function mx(a,s,l=q0(32)){const c=on("message",a),{bytes:d,scalar:p}=Kh(s),_=on("auxRand",l,32),b=Yh(p^Cn(nc("BIP0340/aux",_))),y=nc("BIP0340/nonce",b,d,c),w=dl(Cn(y));if(w===dc)throw new Error("sign failed: k is zero");const{bytes:A,scalar:T}=Kh(w),k=ny(A,d,c),D=new Uint8Array(64);if(D.set(A,0),D.set(Yh(dl(T+k*p)),32),!iy(D,c,d))throw new Error("sign: Invalid signature produced");return D}function iy(a,s,l){const c=on("signature",a,64),d=on("message",s),p=on("publicKey",l,32);try{const _=ey(Cn(p)),b=Cn(c.subarray(0,32));if(!ty(b))return!1;const y=Cn(c.subarray(32,64));if(!fx(y))return!1;const w=ny(Yh(b),dd(_),d),A=hx(_,y,dl(-w));return!(!A||!A.hasEvenY()||A.toAffine().x!==b)}catch{return!1}}const ki={getPublicKey:dx,sign:mx,verify:iy,utils:{randomPrivateKey:eo.utils.randomPrivateKey,lift_x:ey,pointToBytes:dd,numberToBytesBE:us,bytesToNumberBE:Cn,taggedHash:nc,mod:tn}},kh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const pd=a=>a instanceof Uint8Array,Rh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),Oi=(a,s)=>a<<32-s|a>>>s,px=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!px)throw new Error("Non little-endian hardware is not supported");const gx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Ue(a){if(!pd(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=gx[a[l]];return s}function rr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[c]=_}return l}function yx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function ml(a){if(typeof a=="string"&&(a=yx(a)),!pd(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function mc(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!pd(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}class ay{clone(){return this._cloneInto()}}function sy(a){const s=c=>a().update(ml(c)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function ry(a=32){if(kh&&typeof kh.getRandomValues=="function")return kh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Qh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function vx(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function oy(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function _x(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qh(a.outputLen),Qh(a.blockLen)}function bx(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function xx(a,s){oy(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Ri={number:Qh,bool:vx,bytes:oy,hash:_x,exists:bx,output:xx};function wx(a,s,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,c);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),y=c?4:0,w=c?0:4;a.setUint32(s+y,_,c),a.setUint32(s+w,b,c)}class Sx extends ay{constructor(s,l,c,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Rh(this.buffer)}update(s){Ri.exists(this);const{view:l,buffer:c,blockLen:d}=this;s=ml(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const y=Rh(s);for(;d<=p-_;_+=d)this.process(y,_);continue}c.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){Ri.exists(this),Ri.output(s,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(c,0),_=0);for(let T=_;T<d;T++)l[T]=0;wx(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Rh(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=y/4,A=this.get();if(w>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<w;T++)b.setUint32(4*T,A[T],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const c=s.slice(0,l);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(c),s}}const Ex=(a,s,l)=>a&s^~a&l,Tx=(a,s,l)=>a&s^a&l^s&l,Ax=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ss=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rs=new Uint32Array(64);class ly extends Sx{constructor(){super(64,32,8,!1),this.A=ss[0]|0,this.B=ss[1]|0,this.C=ss[2]|0,this.D=ss[3]|0,this.E=ss[4]|0,this.F=ss[5]|0,this.G=ss[6]|0,this.H=ss[7]|0}get(){const{A:s,B:l,C:c,D:d,E:p,F:_,G:b,H:y}=this;return[s,l,c,d,p,_,b,y]}set(s,l,c,d,p,_,b,y){this.A=s|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=y|0}process(s,l){for(let T=0;T<16;T++,l+=4)rs[T]=s.getUint32(l,!1);for(let T=16;T<64;T++){const k=rs[T-15],D=rs[T-2],U=Oi(k,7)^Oi(k,18)^k>>>3,O=Oi(D,17)^Oi(D,19)^D>>>10;rs[T]=O+rs[T-7]+U+rs[T-16]|0}let{A:c,B:d,C:p,D:_,E:b,F:y,G:w,H:A}=this;for(let T=0;T<64;T++){const k=Oi(b,6)^Oi(b,11)^Oi(b,25),D=A+k+Ex(b,y,w)+Ax[T]+rs[T]|0,O=(Oi(c,2)^Oi(c,13)^Oi(c,22))+Tx(c,d,p)|0;A=w,w=y,y=b,b=_+D|0,_=p,p=d,d=c,c=D+O|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,y=y+this.F|0,w=w+this.G|0,A=A+this.H|0,this.set(c,d,p,_,b,y,w,A)}roundClean(){rs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class zx extends ly{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const cs=sy(()=>new ly);sy(()=>new zx);function no(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function ya(...a){const s=(d,p)=>_=>d(p(_)),l=Array.from(a).reverse().reduce((d,p)=>d?s(d,p.encode):p.encode,void 0),c=a.reduce((d,p)=>d?s(d,p.decode):p.decode,void 0);return{encode:l,decode:c}}function va(a){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(l=>{if(no(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const c=a.indexOf(l);if(c===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return c})}}}function _a(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of s)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return s.join(a)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(a)}}}function pc(a,s="="){if(no(a),typeof s!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of l)if(typeof c!="string")throw new Error(`padding.encode: non-string input=${c}`);for(;l.length*a%8;)l.push(s);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let c=l.length;if(c*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;c>0&&l[c-1]===s;c--)if(!((c-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,c)}}}function uy(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>a(s)}}function l0(a,s,l){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let c=0;const d=[],p=Array.from(a);for(p.forEach(_=>{if(no(_),_<0||_>=s)throw new Error(`Wrong integer: ${_}`)});;){let _=0,b=!0;for(let y=c;y<p.length;y++){const w=p[y],A=s*_+w;if(!Number.isSafeInteger(A)||s*_/s!==_||A-w!==s*_)throw new Error("convertRadix: carry overflow");if(_=A%l,p[y]=Math.floor(A/l),!Number.isSafeInteger(p[y])||p[y]*l+_!==A)throw new Error("convertRadix: carry overflow");if(b)p[y]?b=!1:c=y;else continue}if(d.push(_),b)break}for(let _=0;_<a.length-1&&a[_]===0;_++)d.push(0);return d.reverse()}const cy=(a,s)=>s?cy(s,a%s):a,ic=(a,s)=>a+(s-cy(a,s));function Xh(a,s,l,c){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if(ic(s,l)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${l} carryBits=${ic(s,l)}`);let d=0,p=0;const _=2**l-1,b=[];for(const y of a){if(no(y),y>=2**s)throw new Error(`convertRadix2: invalid data word=${y} from=${s}`);if(d=d<<s|y,p+s>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${s}`);for(p+=s;p>=l;p-=l)b.push((d>>p-l&_)>>>0);d&=2**p-1}if(d=d<<l-p&_,!c&&p>=s)throw new Error("Excess padding");if(!c&&d)throw new Error(`Non-zero padding: ${d}`);return c&&p>0&&b.push(d>>>0),b}function Cx(a){return no(a),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return l0(Array.from(s),2**8,a)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(l0(s,a,2**8))}}}function fs(a,s=!1){if(no(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(ic(8,a)>32||ic(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Xh(Array.from(l),8,a,!s)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Xh(l,a,8,s))}}}function u0(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return a.apply(null,s)}catch{}}}const Lx=ya(fs(4),va("0123456789ABCDEF"),_a("")),Nx=ya(fs(5),va("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),pc(5),_a(""));ya(fs(5),va("0123456789ABCDEFGHIJKLMNOPQRSTUV"),pc(5),_a(""));ya(fs(5),va("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),_a(""),uy(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const pa=ya(fs(6),va("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),pc(6),_a("")),Mx=ya(fs(6),va("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),pc(6),_a("")),gd=a=>ya(Cx(58),va(a),_a("")),Fh=gd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");gd("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");gd("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const c0=[0,2,3,5,6,7,9,10,11],Ox={encode(a){let s="";for(let l=0;l<a.length;l+=8){const c=a.subarray(l,l+8);s+=Fh.encode(c).padStart(c0[c.length],"1")}return s},decode(a){let s=[];for(let l=0;l<a.length;l+=11){const c=a.slice(l,l+11),d=c0.indexOf(c.length),p=Fh.decode(c);for(let _=0;_<p.length-d;_++)if(p[_]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(s)}},Jh=ya(va("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),_a("")),f0=[996825010,642813549,513874426,1027748829,705979059];function cl(a){const s=a>>25;let l=(a&33554431)<<5;for(let c=0;c<f0.length;c++)(s>>c&1)===1&&(l^=f0[c]);return l}function h0(a,s,l=1){const c=a.length;let d=1;for(let p=0;p<c;p++){const _=a.charCodeAt(p);if(_<33||_>126)throw new Error(`Invalid prefix (${a})`);d=cl(d)^_>>5}d=cl(d);for(let p=0;p<c;p++)d=cl(d)^a.charCodeAt(p)&31;for(let p of s)d=cl(d)^p;for(let p=0;p<6;p++)d=cl(d);return d^=l,Jh.encode(Xh([d%2**30],30,5,!1))}function fy(a){const s=a==="bech32"?1:734539939,l=fs(5),c=l.decode,d=l.encode,p=u0(c);function _(A,T,k=90){if(typeof A!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof A}`);if(!Array.isArray(T)||T.length&&typeof T[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof T}`);const D=A.length+7+T.length;if(k!==!1&&D>k)throw new TypeError(`Length ${D} exceeds limit ${k}`);return A=A.toLowerCase(),`${A}1${Jh.encode(T)}${h0(A,T,s)}`}function b(A,T=90){if(typeof A!="string")throw new Error(`bech32.decode input should be string, not ${typeof A}`);if(A.length<8||T!==!1&&A.length>T)throw new TypeError(`Wrong string length: ${A.length} (${A}). Expected (8..${T})`);const k=A.toLowerCase();if(A!==k&&A!==A.toUpperCase())throw new Error("String must be lowercase or uppercase");A=k;const D=A.lastIndexOf("1");if(D===0||D===-1)throw new Error('Letter "1" must be present between prefix and data only');const U=A.slice(0,D),O=A.slice(D+1);if(O.length<6)throw new Error("Data must be at least 6 characters long");const Z=Jh.decode(O).slice(0,-6),P=h0(U,Z,s);if(!O.endsWith(P))throw new Error(`Invalid checksum in ${A}: expected "${P}"`);return{prefix:U,words:Z}}const y=u0(b);function w(A){const{prefix:T,words:k}=b(A,!1);return{prefix:T,words:k,bytes:c(k)}}return{encode:_,decode:b,decodeToBytes:w,decodeUnsafe:y,fromWords:c,fromWordsUnsafe:p,toWords:d}}const $r=fy("bech32");fy("bech32m");const kx={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},Rx=ya(fs(4),va("0123456789abcdef"),_a(""),uy(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),Bx={utf8:kx,hex:Rx,base16:Lx,base32:Nx,base64:pa,base64url:Mx,base58:Fh,base58xmr:Ox};`${Object.keys(Bx).join(", ")}`;function Bh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function d0(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function Dx(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function Bi(a,...s){if(!Dx(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${a.length}`)}const ln=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),jx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jx)throw new Error("Non little-endian hardware is not supported");const Ux=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Qr(a){Bi(a);let s="";for(let l=0;l<a.length;l++)s+=Ux[a[l]];return s}const ca={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m0(a){if(a>=ca._0&&a<=ca._9)return a-ca._0;if(a>=ca._A&&a<=ca._F)return a-(ca._A-10);if(a>=ca._a&&a<=ca._f)return a-(ca._a-10)}function hy(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,l=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const c=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const _=m0(a.charCodeAt(p)),b=m0(a.charCodeAt(p+1));if(_===void 0||b===void 0){const y=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+p)}c[d]=_*16+b}return c}function Hx(a,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(a,s)}function Px(a,s){if(a.length!==s.length)return!1;let l=0;for(let c=0;c<a.length;c++)l|=a[c]^s[c];return l===0}const Zx=(a,s)=>(Object.assign(s,a),s),ls=16,qx=283;function yd(a){return a<<1^qx&-(a>>7)}function Xr(a,s){let l=0;for(;s>0;s>>=1)l^=a&-(s&1),a=yd(a);return l}const Wh=(()=>{let a=new Uint8Array(256);for(let l=0,c=1;l<256;l++,c^=yd(c))a[l]=c;const s=new Uint8Array(256);s[0]=99;for(let l=0;l<255;l++){let c=a[255-l];c|=c<<8,s[a[l]]=(c^c>>4^c>>5^c>>6^c>>7^99)&255}return s})(),Gx=Wh.map((a,s)=>Wh.indexOf(s)),Vx=a=>a<<24|a>>>8,Dh=a=>a<<8|a>>>24;function dy(a,s){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((w,A)=>s(a[A])),c=l.map(Dh),d=c.map(Dh),p=d.map(Dh),_=new Uint32Array(256*256),b=new Uint32Array(256*256),y=new Uint16Array(256*256);for(let w=0;w<256;w++)for(let A=0;A<256;A++){const T=w*256+A;_[T]=l[w]^c[A],b[T]=d[w]^p[A],y[T]=a[w]<<8|a[A]}return{sbox:a,sbox2:y,T0:l,T1:c,T2:d,T3:p,T01:_,T23:b}}const vd=dy(Wh,a=>Xr(a,3)<<24|a<<16|a<<8|Xr(a,2)),my=dy(Gx,a=>Xr(a,11)<<24|Xr(a,13)<<16|Xr(a,9)<<8|Xr(a,14)),Ix=(()=>{const a=new Uint8Array(16);for(let s=0,l=1;s<16;s++,l=yd(l))a[s]=l;return a})();function py(a){Bi(a);const s=a.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:l}=vd,c=ln(a),d=c.length,p=b=>Di(l,b,b,b,b),_=new Uint32Array(s+28);_.set(c);for(let b=d;b<_.length;b++){let y=_[b-1];b%d===0?y=p(Vx(y))^Ix[b/d-1]:d>6&&b%d===4&&(y=p(y)),_[b]=_[b-d]^y}return _}function Yx(a){const s=py(a),l=s.slice(),c=s.length,{sbox2:d}=vd,{T0:p,T1:_,T2:b,T3:y}=my;for(let w=0;w<c;w+=4)for(let A=0;A<4;A++)l[w+A]=s[c-w-4+A];s.fill(0);for(let w=4;w<c-4;w++){const A=l[w],T=Di(d,A,A,A,A);l[w]=p[T&255]^_[T>>>8&255]^b[T>>>16&255]^y[T>>>24]}return l}function os(a,s,l,c,d,p){return a[l<<8&65280|c>>>8&255]^s[d>>>8&65280|p>>>24&255]}function Di(a,s,l,c,d){return a[s&255|l&65280]|a[c>>>16&255|d>>>16&65280]<<16}function p0(a,s,l,c,d){const{sbox2:p,T01:_,T23:b}=vd;let y=0;s^=a[y++],l^=a[y++],c^=a[y++],d^=a[y++];const w=a.length/4-2;for(let U=0;U<w;U++){const O=a[y++]^os(_,b,s,l,c,d),Z=a[y++]^os(_,b,l,c,d,s),P=a[y++]^os(_,b,c,d,s,l),nt=a[y++]^os(_,b,d,s,l,c);s=O,l=Z,c=P,d=nt}const A=a[y++]^Di(p,s,l,c,d),T=a[y++]^Di(p,l,c,d,s),k=a[y++]^Di(p,c,d,s,l),D=a[y++]^Di(p,d,s,l,c);return{s0:A,s1:T,s2:k,s3:D}}function Kx(a,s,l,c,d){const{sbox2:p,T01:_,T23:b}=my;let y=0;s^=a[y++],l^=a[y++],c^=a[y++],d^=a[y++];const w=a.length/4-2;for(let U=0;U<w;U++){const O=a[y++]^os(_,b,s,d,c,l),Z=a[y++]^os(_,b,l,s,d,c),P=a[y++]^os(_,b,c,l,s,d),nt=a[y++]^os(_,b,d,c,l,s);s=O,l=Z,c=P,d=nt}const A=a[y++]^Di(p,s,d,c,l),T=a[y++]^Di(p,l,s,d,c),k=a[y++]^Di(p,c,l,s,d),D=a[y++]^Di(p,d,c,l,s);return{s0:A,s1:T,s2:k,s3:D}}function gy(a,s){if(!s)return new Uint8Array(a);if(Bi(s),s.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${s.length}`);return s}function Qx(a){if(Bi(a),a.length%ls!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${ls}`)}function Xx(a,s,l){let c=a.length;const d=c%ls;if(!s&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=ln(a);if(s){let y=ls-d;y||(y=ls),c=c+y}const _=gy(c,l),b=ln(_);return{b:p,o:b,out:_}}function Fx(a,s){if(!s)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const c=a[l-1];if(c<=0||c>16)throw new Error(`aes/pcks5: wrong padding byte: ${c}`);const d=a.subarray(0,-c);for(let p=0;p<c;p++)if(a[l-p-1]!==c)throw new Error("aes/pcks5: wrong padding");return d}function Jx(a){const s=new Uint8Array(16),l=ln(s);s.set(a);const c=ls-a.length;for(let d=ls-c;d<ls;d++)s[d]=c;return l}const yy=Zx({blockSize:16,nonceLength:16},function(s,l,c={}){Bi(s),Bi(l,16);const d=!c.disablePadding;return{encrypt:(p,_)=>{const b=py(s),{b:y,o:w,out:A}=Xx(p,d,_),T=ln(l);let k=T[0],D=T[1],U=T[2],O=T[3],Z=0;for(;Z+4<=y.length;)k^=y[Z+0],D^=y[Z+1],U^=y[Z+2],O^=y[Z+3],{s0:k,s1:D,s2:U,s3:O}=p0(b,k,D,U,O),w[Z++]=k,w[Z++]=D,w[Z++]=U,w[Z++]=O;if(d){const P=Jx(p.subarray(Z*4));k^=P[0],D^=P[1],U^=P[2],O^=P[3],{s0:k,s1:D,s2:U,s3:O}=p0(b,k,D,U,O),w[Z++]=k,w[Z++]=D,w[Z++]=U,w[Z++]=O}return b.fill(0),A},decrypt:(p,_)=>{Qx(p);const b=Yx(s),y=ln(l),w=gy(p.length,_),A=ln(p),T=ln(w);let k=y[0],D=y[1],U=y[2],O=y[3];for(let Z=0;Z+4<=A.length;){const P=k,nt=D,st=U,ft=O;k=A[Z+0],D=A[Z+1],U=A[Z+2],O=A[Z+3];const{s0:lt,s1:ot,s2:X,s3:et}=Kx(b,k,D,U,O);T[Z++]=lt^P,T[Z++]=ot^nt,T[Z++]=X^st,T[Z++]=et^ft}return b.fill(0),Fx(w,d)}}}),vy=a=>Uint8Array.from(a.split("").map(s=>s.charCodeAt(0))),Wx=vy("expand 16-byte k"),$x=vy("expand 32-byte k"),t1=ln(Wx),_y=ln($x);_y.slice();function ne(a,s){return a<<s|a>>>32-s}function $h(a){return a.byteOffset%4===0}const Ku=64,e1=16,by=2**32-1,g0=new Uint32Array;function n1(a,s,l,c,d,p,_,b){const y=d.length,w=new Uint8Array(Ku),A=ln(w),T=$h(d)&&$h(p),k=T?ln(d):g0,D=T?ln(p):g0;for(let U=0;U<y;_++){if(a(s,l,c,A,_,b),_>=by)throw new Error("arx: counter overflow");const O=Math.min(Ku,y-U);if(T&&O===Ku){const Z=U/4;if(U%4!==0)throw new Error("arx: invalid block position");for(let P=0,nt;P<e1;P++)nt=Z+P,D[nt]=k[nt]^A[P];U+=Ku;continue}for(let Z=0,P;Z<O;Z++)P=U+Z,p[P]=d[P]^w[Z];U+=O}}function i1(a,s){const{allowShortKeys:l,extendNonceFn:c,counterLength:d,counterRight:p,rounds:_}=Hx({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof a!="function")throw new Error("core must be a function");return Bh(d),Bh(_),d0(p),d0(l),(b,y,w,A,T=0)=>{Bi(b),Bi(y),Bi(w);const k=w.length;if(A||(A=new Uint8Array(k)),Bi(A),Bh(T),T<0||T>=by)throw new Error("arx: counter overflow");if(A.length<k)throw new Error(`arx: output (${A.length}) is shorter than data (${k})`);const D=[];let U=b.length,O,Z;if(U===32)O=b.slice(),D.push(O),Z=_y;else if(U===16&&l)O=new Uint8Array(32),O.set(b),O.set(b,16),Z=t1,D.push(O);else throw new Error(`arx: invalid 32-byte key, got length=${U}`);$h(y)||(y=y.slice(),D.push(y));const P=ln(O);if(c){if(y.length!==24)throw new Error("arx: extended nonce must be 24 bytes");c(Z,P,ln(y.subarray(0,16)),P),y=y.subarray(16)}const nt=16-d;if(nt!==y.length)throw new Error(`arx: nonce must be ${nt} or 16 bytes`);if(nt!==12){const ft=new Uint8Array(12);ft.set(y,p?0:12-y.length),y=ft,D.push(y)}const st=ln(y);for(n1(a,Z,P,st,w,A,T,_);D.length>0;)D.pop().fill(0);return A}}function a1(a,s,l,c,d,p=20){let _=a[0],b=a[1],y=a[2],w=a[3],A=s[0],T=s[1],k=s[2],D=s[3],U=s[4],O=s[5],Z=s[6],P=s[7],nt=d,st=l[0],ft=l[1],lt=l[2],ot=_,X=b,et=y,yt=w,bt=A,mt=T,_t=k,Lt=D,Ct=U,$=O,M=Z,Y=P,K=nt,pt=st,W=ft,z=lt;for(let rt=0;rt<p;rt+=2)ot=ot+bt|0,K=ne(K^ot,16),Ct=Ct+K|0,bt=ne(bt^Ct,12),ot=ot+bt|0,K=ne(K^ot,8),Ct=Ct+K|0,bt=ne(bt^Ct,7),X=X+mt|0,pt=ne(pt^X,16),$=$+pt|0,mt=ne(mt^$,12),X=X+mt|0,pt=ne(pt^X,8),$=$+pt|0,mt=ne(mt^$,7),et=et+_t|0,W=ne(W^et,16),M=M+W|0,_t=ne(_t^M,12),et=et+_t|0,W=ne(W^et,8),M=M+W|0,_t=ne(_t^M,7),yt=yt+Lt|0,z=ne(z^yt,16),Y=Y+z|0,Lt=ne(Lt^Y,12),yt=yt+Lt|0,z=ne(z^yt,8),Y=Y+z|0,Lt=ne(Lt^Y,7),ot=ot+mt|0,z=ne(z^ot,16),M=M+z|0,mt=ne(mt^M,12),ot=ot+mt|0,z=ne(z^ot,8),M=M+z|0,mt=ne(mt^M,7),X=X+_t|0,K=ne(K^X,16),Y=Y+K|0,_t=ne(_t^Y,12),X=X+_t|0,K=ne(K^X,8),Y=Y+K|0,_t=ne(_t^Y,7),et=et+Lt|0,pt=ne(pt^et,16),Ct=Ct+pt|0,Lt=ne(Lt^Ct,12),et=et+Lt|0,pt=ne(pt^et,8),Ct=Ct+pt|0,Lt=ne(Lt^Ct,7),yt=yt+bt|0,W=ne(W^yt,16),$=$+W|0,bt=ne(bt^$,12),yt=yt+bt|0,W=ne(W^yt,8),$=$+W|0,bt=ne(bt^$,7);let H=0;c[H++]=_+ot|0,c[H++]=b+X|0,c[H++]=y+et|0,c[H++]=w+yt|0,c[H++]=A+bt|0,c[H++]=T+mt|0,c[H++]=k+_t|0,c[H++]=D+Lt|0,c[H++]=U+Ct|0,c[H++]=O+$|0,c[H++]=Z+M|0,c[H++]=P+Y|0,c[H++]=nt+K|0,c[H++]=st+pt|0,c[H++]=ft+W|0,c[H++]=lt+z|0}const xy=i1(a1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class wy extends ay{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,Ri.hash(s);const c=ml(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?s.create().update(c).digest():c);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return Ri.exists(this),this.iHash.update(s),this}digestInto(s){Ri.exists(this),Ri.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gc=(a,s,l)=>new wy(a,s).update(l).digest();gc.create=(a,s)=>new wy(a,s);function s1(a,s,l){return Ri.hash(a),gc(a,ml(l),ml(s))}const jh=new Uint8Array([0]),y0=new Uint8Array;function r1(a,s,l,c=32){if(Ri.hash(a),Ri.number(c),c>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(c/a.outputLen);l===void 0&&(l=y0);const p=new Uint8Array(d*a.outputLen),_=gc.create(a,s),b=_._cloneInto(),y=new Uint8Array(_.outputLen);for(let w=0;w<d;w++)jh[0]=w+1,b.update(w===0?y0:y).update(l).update(jh).digestInto(y),p.set(y,a.outputLen*w),_._cloneInto(b);return _.destroy(),b.destroy(),y.fill(0),jh.fill(0),p.slice(0,c)}var o1=Object.defineProperty,ge=(a,s)=>{for(var l in s)o1(a,l,{get:s[l],enumerable:!0})},$s=Symbol("verified"),l1=a=>a instanceof Object;function _d(a){if(!l1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}var u1={};ge(u1,{Queue:()=>Ey,QueueNode:()=>Sy,binarySearch:()=>bd,bytesToHex:()=>Ue,hexToBytes:()=>rr,insertEventIntoAscendingList:()=>f1,insertEventIntoDescendingList:()=>c1,normalizeURL:()=>nr,utf8Decoder:()=>ma,utf8Encoder:()=>di});var ma=new TextDecoder("utf-8"),di=new TextEncoder;function nr(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let s=new URL(a);return s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function c1(a,s){const[l,c]=bd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:d.created_at-s.created_at);return c||a.splice(l,0,s),a}function f1(a,s){const[l,c]=bd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:s.created_at-d.created_at);return c||a.splice(l,0,s),a}function bd(a,s){let l=0,c=a.length-1;for(;l<=c;){const d=Math.floor((l+c)/2),p=s(a[d]);if(p===0)return[d,!0];p<0?c=d-1:l=d+1}return[l,!1]}var Sy=class{value;next=null;prev=null;constructor(a){this.value=a}},Ey=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const s=new Sy(a);return this.last?this.last===this.first?(this.last=s,this.last.prev=this.first,this.first.next=s):(s.prev=this.last,this.last.next=s,this.last=s):(this.first=s,this.last=s),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const s=this.first;return this.first=null,this.last=null,s.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},h1=class{generateSecretKey(){return ki.utils.randomPrivateKey()}getPublicKey(s){return Ue(ki.getPublicKey(s))}finalizeEvent(s,l){const c=s;return c.pubkey=Ue(ki.getPublicKey(l)),c.id=Fu(c),c.sig=Ue(ki.sign(Fu(c),l)),c[$s]=!0,c}verifyEvent(s){if(typeof s[$s]=="boolean")return s[$s];const l=Fu(s);if(l!==s.id)return s[$s]=!1,!1;try{const c=ki.verify(s.sig,l,s.pubkey);return s[$s]=c,c}catch{return s[$s]=!1,!1}}};function d1(a){if(!_d(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Fu(a){let s=cs(di.encode(d1(a)));return Ue(s)}var yc=new h1,Ty=yc.generateSecretKey,pl=yc.getPublicKey,ti=yc.finalizeEvent,vc=yc.verifyEvent,m1={};ge(m1,{Application:()=>Aw,BadgeAward:()=>w1,BadgeDefinition:()=>_w,BlockedRelaysList:()=>ew,BlossomServerList:()=>lw,BookmarkList:()=>W1,Bookmarksets:()=>gw,Calendar:()=>kw,CalendarEventRSVP:()=>Rw,ChannelCreation:()=>My,ChannelHideMessage:()=>Ry,ChannelMessage:()=>ky,ChannelMetadata:()=>Oy,ChannelMuteUser:()=>By,ChatMessage:()=>S1,ClassifiedListing:()=>Lw,ClientAuth:()=>jy,Comment:()=>O1,CommunitiesList:()=>$1,CommunityDefinition:()=>Uw,CommunityPostApproval:()=>P1,Contacts:()=>_1,CreateOrUpdateProduct:()=>ww,CreateOrUpdateStall:()=>xw,Curationsets:()=>yw,Date:()=>Mw,DirectMessageRelaysList:()=>rw,DraftClassifiedListing:()=>Nw,DraftLong:()=>Ew,Emojisets:()=>Tw,EncryptedDirectMessage:()=>b1,EventDeletion:()=>x1,FavoriteRelays:()=>iw,FileMessage:()=>T1,FileMetadata:()=>M1,FileServerPreference:()=>ow,Followsets:()=>dw,ForumThread:()=>E1,GenericRepost:()=>Td,Genericlists:()=>mw,GiftWrap:()=>Dy,GroupMetadata:()=>Hw,HTTPAuth:()=>Ad,Handlerinformation:()=>jw,Handlerrecommendation:()=>Dw,Highlights:()=>K1,InterestsList:()=>aw,Interestsets:()=>bw,JobFeedback:()=>G1,JobRequest:()=>Z1,JobResult:()=>q1,Label:()=>H1,LightningPubRPC:()=>cw,LiveChatMessage:()=>k1,LiveEvent:()=>zw,LongFormArticle:()=>Sw,Metadata:()=>y1,Mutelist:()=>X1,NWCWalletInfo:()=>uw,NWCWalletRequest:()=>Uy,NWCWalletResponse:()=>fw,NormalVideo:()=>z1,NostrConnect:()=>hw,OpenTimestamps:()=>L1,Photo:()=>A1,Pinlist:()=>F1,Poll:()=>N1,PollResponse:()=>Q1,PrivateDirectMessage:()=>Ny,ProblemTracker:()=>D1,ProfileBadges:()=>vw,PublicChatsList:()=>tw,Reaction:()=>Ed,RecommendRelay:()=>v1,RelayList:()=>J1,RelayReview:()=>Bw,Relaysets:()=>pw,Report:()=>j1,Reporting:()=>U1,Repost:()=>Sd,Seal:()=>Ly,SearchRelaysList:()=>nw,ShortTextNote:()=>Cy,ShortVideo:()=>C1,Time:()=>Ow,UserEmojiList:()=>sw,UserStatuses:()=>Cw,Voice:()=>R1,VoiceComment:()=>B1,Zap:()=>Y1,ZapGoal:()=>V1,ZapRequest:()=>I1,classifyKind:()=>p1,isAddressableKind:()=>wd,isEphemeralKind:()=>zy,isKind:()=>g1,isRegularKind:()=>Ay,isReplaceableKind:()=>xd});function Ay(a){return a<1e4&&a!==0&&a!==3}function xd(a){return a===0||a===3||1e4<=a&&a<2e4}function zy(a){return 2e4<=a&&a<3e4}function wd(a){return 3e4<=a&&a<4e4}function p1(a){return Ay(a)?"regular":xd(a)?"replaceable":zy(a)?"ephemeral":wd(a)?"parameterized":"unknown"}function g1(a,s){const l=s instanceof Array?s:[s];return _d(a)&&l.includes(a.kind)||!1}var y1=0,Cy=1,v1=2,_1=3,b1=4,x1=5,Sd=6,Ed=7,w1=8,S1=9,E1=11,Ly=13,Ny=14,T1=15,Td=16,A1=20,z1=21,C1=22,My=40,Oy=41,ky=42,Ry=43,By=44,L1=1040,Dy=1059,N1=1068,M1=1063,O1=1111,k1=1311,R1=1222,B1=1244,D1=1971,j1=1984,U1=1984,H1=1985,P1=4550,Z1=5999,q1=6999,G1=7e3,V1=9041,I1=9734,Y1=9735,K1=9802,Q1=1018,X1=1e4,F1=10001,J1=10002,W1=10003,$1=10004,tw=10005,ew=10006,nw=10007,iw=10012,aw=10015,sw=10030,rw=10050,ow=10096,lw=10063,uw=13194,cw=21e3,jy=22242,Uy=23194,fw=23195,hw=24133,Ad=27235,dw=3e4,mw=30001,pw=30002,gw=30003,yw=30004,vw=30008,_w=30009,bw=30015,xw=30017,ww=30018,Sw=30023,Ew=30024,Tw=30030,Aw=30078,zw=30311,Cw=30315,Lw=30402,Nw=30403,Mw=31922,Ow=31923,kw=31924,Rw=31925,Bw=31987,Dw=31989,jw=31990,Uw=34550,Hw=39e3;function Pw(a,s){if(a.ids&&a.ids.indexOf(s.id)===-1||a.kinds&&a.kinds.indexOf(s.kind)===-1||a.authors&&a.authors.indexOf(s.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let c=l.slice(1),d=a[`#${c}`];if(d&&!s.tags.find(([p,_])=>p===l.slice(1)&&d.indexOf(_)!==-1))return!1}return!(a.since&&s.created_at<a.since||a.until&&s.created_at>a.until)}function Zw(a,s){for(let l=0;l<a.length;l++)if(Pw(a[l],s))return!0;return!1}var qw={};ge(qw,{getHex64:()=>_c,getInt:()=>Hy,getSubscriptionId:()=>Py,matchEventId:()=>Gw,matchEventKind:()=>Iw,matchEventPubkey:()=>Vw});function _c(a,s){let l=s.length+3,c=a.indexOf(`"${s}":`)+l,d=a.slice(c).indexOf('"')+c+1;return a.slice(d,d+64)}function Hy(a,s){let l=s.length,c=a.indexOf(`"${s}":`)+l+3,d=a.slice(c),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function Py(a){let s=a.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let l=a.slice(s+7+1).indexOf('"');if(l===-1)return null;let c=s+7+1+l,d=a.slice(c+1,80).indexOf('"');if(d===-1)return null;let p=c+1+d;return a.slice(c+1,p)}function Gw(a,s){return s===_c(a,"id")}function Vw(a,s){return s===_c(a,"pubkey")}function Iw(a,s){return s===Hy(a,"kind")}var Yw={};ge(Yw,{makeAuthEvent:()=>Zy});function Zy(a,s){return{kind:jy,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",s]],content:""}}async function Kw(){return new Promise((a,s)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,c=()=>{l.port1.removeEventListener("message",c),a()};l.port1.addEventListener("message",c),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),s(l)}})}var Qw=a=>(a[$s]=!0,!0),qy=class extends Error{constructor(a,s){super(`Tried to send message '${a} on a closed connection to ${s}.`),this.name="SendingOnClosedConnection"}},Gy=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new Ey;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,s){this.url=nr(a),this.verifyEvent=s.verifyEvent,this._WebSocket=s.websocketImplementation||WebSocket,this.enablePing=s.enablePing,this.enableReconnect=s.enableReconnect||!1}static async connect(a,s){const l=new Gy(a,s);return await l.connect(),l}closeAllSubscriptions(a){for(let[s,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[s,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[s,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const s=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!s?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,s)=>{this.connectionTimeoutHandle=setTimeout(()=>{s("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),s(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const c of this.openSubs.values()){if(c.eosed=!1,l)for(let d=0;d<c.filters.length;d++)c.lastEmitted&&(c.filters[d].since=c.lastEmitted+1);c.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,s)=>{if(!this.connectionPromise)return s(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){s(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(s=>setTimeout(()=>s(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Kw();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const s=Py(a);if(s){const l=this.openSubs.get(s);if(!l)return;const c=_c(a,"id"),d=l.alreadyHaveEvent?.(c);if(l.receivedEvent?.(this,c),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const c=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&Zw(c.filters,d)&&c.onevent(d),(!c.lastEmitted||c.lastEmitted<d.created_at)&&(c.lastEmitted=d.created_at);return}case"COUNT":{const c=l[1],d=l[2],p=this.openCountRequests.get(c);p&&(p.resolve(d.count),this.openCountRequests.delete(c));return}case"EOSE":{const c=this.openSubs.get(l[1]);if(!c)return;c.receivedEose();return}case"OK":{const c=l[1],d=l[2],p=l[3],_=this.openEventPublishes.get(c);_&&(clearTimeout(_.timeout),d?_.resolve(p):_.reject(new Error(p)),this.openEventPublishes.delete(c));return}case"CLOSED":{const c=l[1],d=this.openSubs.get(c);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new qy(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const s=this.challenge;if(!s)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,c)=>{try{let d=await a(Zy(this.url,s)),p=setTimeout(()=>{let _=this.openEventPublishes.get(d.id);_&&(_.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:c,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const s=new Promise((l,c)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:c,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),s}async count(a,s){this.serial++;const l=s?.id||"count:"+this.serial,c=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),c}subscribe(a,s){const l=this.prepareSubscription(a,s);return l.fire(),l}prepareSubscription(a,s){this.serial++;const l=s.id||(s.label?s.label+":":"sub:")+this.serial,c=new Xw(this,l,a,s);return this.openSubs.set(l,c),c}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},Xw=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,s,l,c){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=s,this.alreadyHaveEvent=c.alreadyHaveEvent,this.receivedEvent=c.receivedEvent,this.eoseTimeout=c.eoseTimeout||a.baseEoseTimeout,this.oneose=c.oneose,this.onclose=c.onclose,this.onevent=c.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(s){if(!(s instanceof qy))throw s}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},Fw;try{Fw=WebSocket}catch{}var Jw=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,s){a=nr(a);let l=this.relays.get(a);if(l||(l=new Gy(a,{verifyEvent:this.trustedRelayURLs.has(a)?Qw:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},s?.connectionTimeout&&(l.connectionTimeout=s.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const c=this.automaticallyAuth(a);c&&(l.onauth=c)}return await l.connect(),l}close(a){a.map(nr).forEach(s=>{this.relays.get(s)?.close(),this.relays.delete(s)})}subscribe(a,s,l){const c=[];for(let d=0;d<a.length;d++){const p=nr(a[d]);c.find(_=>_.url===p)||c.push({url:p,filter:s})}return this.subscribeMap(c,l)}subscribeMany(a,s,l){const c=[],d=[];for(let p=0;p<a.length;p++){const _=nr(a[p]);d.indexOf(_)===-1&&(d.push(_),c.push({url:_,filter:s}))}return this.subscribeMap(c,l)}subscribeMap(a,s){const l=new Map;for(const k of a){const{url:D,filter:U}=k;l.has(D)||l.set(D,[]),l.get(D).push(U)}const c=Array.from(l.entries()).map(([k,D])=>({url:k,filters:D}));this.trackRelays&&(s.receivedEvent=(k,D)=>{let U=this.seenOn.get(D);U||(U=new Set,this.seenOn.set(D,U)),U.add(k)});const d=new Set,p=[],_=[];let b=k=>{_[k]||(_[k]=!0,_.filter(D=>D).length===c.length&&(s.oneose?.(),b=()=>{}))};const y=[];let w=(k,D)=>{y[k]||(b(k),y[k]=D,y.filter(U=>U).length===c.length&&(s.onclose?.(y),w=()=>{}))};const A=k=>{if(s.alreadyHaveEvent?.(k))return!0;const D=d.has(k);return d.add(k),D},T=Promise.all(c.map(async({url:k,filters:D},U)=>{let O;try{O=await this.ensureRelay(k,{connectionTimeout:s.maxWait?Math.max(s.maxWait*.8,s.maxWait-1e3):void 0})}catch(P){w(U,P?.message||String(P));return}let Z=O.subscribe(D,{...s,oneose:()=>b(U),onclose:P=>{P.startsWith("auth-required: ")&&s.onauth?O.auth(s.onauth).then(()=>{O.subscribe(D,{...s,oneose:()=>b(U),onclose:nt=>{w(U,nt)},alreadyHaveEvent:A,eoseTimeout:s.maxWait})}).catch(nt=>{w(U,`auth was required and attempted, but failed with: ${nt}`)}):w(U,P)},alreadyHaveEvent:A,eoseTimeout:s.maxWait});p.push(Z)}));return{async close(k){await T,p.forEach(D=>{D.close(k)})}}}subscribeEose(a,s,l){const c=this.subscribe(a,s,{...l,oneose(){c.close("closed automatically on eose")}});return c}subscribeManyEose(a,s,l){const c=this.subscribeMany(a,s,{...l,oneose(){c.close("closed automatically on eose")}});return c}async querySync(a,s,l){return new Promise(async c=>{const d=[];this.subscribeEose(a,s,{...l,onevent(p){d.push(p)},onclose(p){c(d)}})})}async get(a,s,l){s.limit=1;const c=await this.querySync(a,s,l);return c.sort((d,p)=>p.created_at-d.created_at),c[0]||null}publish(a,s,l){return a.map(nr).map(async(c,d,p)=>{if(p.indexOf(c)!==d)return Promise.reject("duplicate url");let _=await this.ensureRelay(c);return _.publish(s).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await _.auth(l.onauth),_.publish(s);throw b}).then(b=>{if(this.trackRelays){let y=this.seenOn.get(s.id);y||(y=new Set,this.seenOn.set(s.id,y)),y.add(_)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((s,l)=>a.set(l,s.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},Vy;try{Vy=WebSocket}catch{}var Ww=class extends Jw{constructor(a){super({verifyEvent:vc,websocketImplementation:Vy,...a})}},ar={};ge(ar,{BECH32_REGEX:()=>Iy,Bech32MaxSize:()=>zd,NostrTypeGuard:()=>$w,decode:()=>bc,decodeNostrURI:()=>e2,encodeBytes:()=>wc,naddrEncode:()=>o2,neventEncode:()=>r2,noteEncode:()=>a2,nprofileEncode:()=>s2,npubEncode:()=>i2,nsecEncode:()=>n2});var $w={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},zd=5e3,Iy=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function t2(a){const s=new Uint8Array(4);return s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=a&255,s}function e2(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),bc(a)}catch{return{type:"invalid",data:null}}}function bc(a){let{prefix:s,words:l}=$r.decode(a,zd),c=new Uint8Array($r.fromWords(l));switch(s){case"nprofile":{let d=Uh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ue(d[0][0]),relays:d[1]?d[1].map(p=>ma.decode(p)):[]}}}case"nevent":{let d=Uh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ue(d[0][0]),relays:d[1]?d[1].map(p=>ma.decode(p)):[],author:d[2]?.[0]?Ue(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(Ue(d[3][0]),16):void 0}}}case"naddr":{let d=Uh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:ma.decode(d[0][0]),pubkey:Ue(d[2][0]),kind:parseInt(Ue(d[3][0]),16),relays:d[1]?d[1].map(p=>ma.decode(p)):[]}}}case"nsec":return{type:s,data:c};case"npub":case"note":return{type:s,data:Ue(c)};default:throw new Error(`unknown prefix ${s}`)}}function Uh(a){let s={},l=a;for(;l.length>0;){let c=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${c}`);s[c]=s[c]||[],s[c].push(p)}return s}function n2(a){return wc("nsec",a)}function i2(a){return wc("npub",rr(a))}function a2(a){return wc("note",rr(a))}function xc(a,s){let l=$r.toWords(s);return $r.encode(a,l,zd)}function wc(a,s){return xc(a,s)}function s2(a){let s=Cd({0:[rr(a.pubkey)],1:(a.relays||[]).map(l=>di.encode(l))});return xc("nprofile",s)}function r2(a){let s;a.kind!==void 0&&(s=t2(a.kind));let l=Cd({0:[rr(a.id)],1:(a.relays||[]).map(c=>di.encode(c)),2:a.author?[rr(a.author)]:[],3:s?[new Uint8Array(s)]:[]});return xc("nevent",l)}function o2(a){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,a.kind,!1);let l=Cd({0:[di.encode(a.identifier)],1:(a.relays||[]).map(c=>di.encode(c)),2:[rr(a.pubkey)],3:[new Uint8Array(s)]});return xc("naddr",l)}function Cd(a){let s=[];return Object.entries(a).reverse().forEach(([l,c])=>{c.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),s.push(p)})}),mc(...s)}var l2={};ge(l2,{decrypt:()=>u2,encrypt:()=>Yy});function Yy(a,s,l){const c=a instanceof Uint8Array?Ue(a):a,d=eo.getSharedSecret(c,"02"+s),p=Ky(d);let _=Uint8Array.from(ry(16)),b=di.encode(l),y=yy(p,_).encrypt(b),w=pa.encode(new Uint8Array(y)),A=pa.encode(new Uint8Array(_.buffer));return`${w}?iv=${A}`}function u2(a,s,l){const c=a instanceof Uint8Array?Ue(a):a;let[d,p]=l.split("?iv="),_=eo.getSharedSecret(c,"02"+s),b=Ky(_),y=pa.decode(p),w=pa.decode(d),A=yy(b,y).decrypt(w);return ma.decode(A)}function Ky(a){return a.slice(1,33)}var c2={};ge(c2,{NIP05_REGEX:()=>Ld,isNip05:()=>f2,isValid:()=>m2,queryProfile:()=>Qy,searchDomain:()=>d2,useFetchImplementation:()=>h2});var Ld=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,f2=a=>Ld.test(a||""),Sc;try{Sc=fetch}catch{}function h2(a){Sc=a}async function d2(a,s=""){try{const l=`https://${a}/.well-known/nostr.json?name=${s}`,c=await Sc(l,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");return(await c.json()).names}catch{return{}}}async function Qy(a){const s=a.match(Ld);if(!s)return null;const[,l="_",c]=s;try{const d=`https://${c}/.well-known/nostr.json?name=${l}`,p=await Sc(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const _=await p.json(),b=_.names[l];return b?{pubkey:b,relays:_.relays?.[b]}:null}catch{return null}}async function m2(a,s){const l=await Qy(s);return l?l.pubkey===a:!1}var p2={};ge(p2,{parse:()=>g2});function g2(a){const s={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,c;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[_,b,y,w,A]=p,T={id:b,relays:y?[y]:[],author:A};if(w==="root"){s.root=T;continue}if(w==="reply"){s.reply=T;continue}if(w==="mention"){s.mentions.push(T);continue}l?c=T:l=T,s.mentions.push(T);continue}if(p[0]==="q"&&p[1]){const[_,b,y]=p;s.quotes.push({id:b,relays:y?[y]:[]})}if(p[0]==="p"&&p[1]){s.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return s.root||(s.root=c||l||s.reply),s.reply||(s.reply=l||s.root),[s.reply,s.root].forEach(d=>{if(!d)return;let p=s.mentions.indexOf(d);if(p!==-1&&s.mentions.splice(p,1),d.author){let _=s.profiles.find(b=>b.pubkey===d.author);_&&_.relays&&(d.relays||(d.relays=[]),_.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),_.relays=d.relays)}}),s.mentions.forEach(d=>{if(d.author){let p=s.profiles.find(_=>_.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(_=>{d.relays.indexOf(_)===-1&&d.relays.push(_)}),p.relays=d.relays)}}),s}var y2={};ge(y2,{fetchRelayInformation:()=>_2,useFetchImplementation:()=>v2});var Xy;try{Xy=fetch}catch{}function v2(a){Xy=a}async function _2(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var b2={};ge(b2,{fastEventHash:()=>Jy,getPow:()=>Fy,minePow:()=>x2});function Fy(a){let s=0;for(let l=0;l<64;l+=8){const c=parseInt(a.substring(l,l+8),16);if(c===0)s+=32;else{s+=Math.clz32(c);break}}return s}function x2(a,s){let l=0;const c=a,d=["nonce",l.toString(),s.toString()];for(c.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==c.created_at&&(l=0,c.created_at=p),d[1]=(++l).toString(),c.id=Jy(c),Fy(c.id)>=s)break}return c}function Jy(a){return Ue(cs(di.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var w2={};ge(w2,{unwrapEvent:()=>k2,unwrapManyEvents:()=>R2,wrapEvent:()=>cv,wrapManyEvents:()=>O2});var S2={};ge(S2,{createRumor:()=>rv,createSeal:()=>ov,createWrap:()=>lv,unwrapEvent:()=>Rd,unwrapManyEvents:()=>uv,wrapEvent:()=>ac,wrapManyEvents:()=>N2});var gl={};ge(gl,{decrypt:()=>kd,encrypt:()=>Od,getConversationKey:()=>Nd,v2:()=>C2});var Wy=1,$y=65535;function Nd(a,s){const l=eo.getSharedSecret(a,"02"+s).subarray(1,33);return s1(cs,l,"nip44-v2")}function tv(a,s){const l=r1(cs,a,s,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function Md(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const s=1<<Math.floor(Math.log2(a-1))+1,l=s<=256?32:s/8;return l*(Math.floor((a-1)/l)+1)}function E2(a){if(!Number.isSafeInteger(a)||a<Wy||a>$y)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,a,!1),s}function T2(a){const s=di.encode(a),l=s.length,c=E2(l),d=new Uint8Array(Md(l)-l);return mc(c,s,d)}function A2(a){const s=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+s);if(s<Wy||s>$y||l.length!==s||a.length!==2+Md(s))throw new Error("invalid padding");return ma.decode(l)}function ev(a,s,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const c=mc(l,s);return gc(cs,a,c)}function z2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const s=a.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=pa.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const c=l.length;if(c<99||c>65603)throw new Error("invalid data length: "+c);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Od(a,s,l=ry(32)){const{chacha_key:c,chacha_nonce:d,hmac_key:p}=tv(s,l),_=T2(a),b=xy(c,d,_),y=ev(p,b,l);return pa.encode(mc(new Uint8Array([2]),l,b,y))}function kd(a,s){const{nonce:l,ciphertext:c,mac:d}=z2(a),{chacha_key:p,chacha_nonce:_,hmac_key:b}=tv(s,l),y=ev(b,c,l);if(!Px(y,d))throw new Error("invalid MAC");const w=xy(p,_,c);return A2(w)}var C2={utils:{getConversationKey:Nd,calcPaddedLen:Md},encrypt:Od,decrypt:kd},L2=2880*60,nv=()=>Math.round(Date.now()/1e3),iv=()=>Math.round(nv()-Math.random()*L2),av=(a,s)=>Nd(a,s),sv=(a,s,l)=>Od(JSON.stringify(a),av(s,l)),v0=(a,s)=>JSON.parse(kd(a.content,av(s,a.pubkey)));function rv(a,s){const l={created_at:nv(),content:"",tags:[],...a,pubkey:pl(s)};return l.id=Fu(l),l}function ov(a,s,l){return ti({kind:Ly,content:sv(a,s,l),created_at:iv(),tags:[]},s)}function lv(a,s){const l=Ty();return ti({kind:Dy,content:sv(a,l,s),created_at:iv(),tags:[["p",s]]},l)}function ac(a,s,l){const c=rv(a,s),d=ov(c,s,l);return lv(d,l)}function N2(a,s,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const c=pl(s),d=[ac(a,s,c)];return l.forEach(p=>{d.push(ac(a,s,p))}),d}function Rd(a,s){const l=v0(a,s);return v0(l,s)}function uv(a,s){let l=[];return a.forEach(c=>{l.push(Rd(c,s))}),l.sort((c,d)=>c.created_at-d.created_at),l}function M2(a,s,l,c){const d={created_at:Math.ceil(Date.now()/1e3),kind:Ny,tags:[],content:s};return(Array.isArray(a)?a:[a]).forEach(({publicKey:_,relayUrl:b})=>{d.tags.push(b?["p",_,b]:["p",_])}),c&&d.tags.push(["e",c.eventId,c.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function cv(a,s,l,c,d){const p=M2(s,l,c,d);return ac(p,a,s.publicKey)}function O2(a,s,l,c,d){if(!s||s.length===0)throw new Error("At least one recipient is required.");return[{publicKey:pl(a)},...s].map(_=>cv(a,_,l,c,d))}var k2=Rd,R2=uv,B2={};ge(B2,{finishRepostEvent:()=>D2,getRepostedEvent:()=>j2,getRepostedEventPointer:()=>fv});function D2(a,s,l,c){let d;const p=[...a.tags??[],["e",s.id,l],["p",s.pubkey]];return s.kind===Cy?d=Sd:(d=Td,p.push(["k",String(s.kind)])),ti({kind:d,tags:p,content:a.content===""||s.tags?.find(_=>_[0]==="-")?"":JSON.stringify(s),created_at:a.created_at},c)}function fv(a){if(![Sd,Td].includes(a.kind))return;let s,l;for(let c=a.tags.length-1;c>=0&&(s===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(s!==void 0)return{id:s[1],relays:[s[2],l?.[2]].filter(c=>typeof c=="string"),author:l?.[1]}}function j2(a,{skipVerification:s}={}){const l=fv(a);if(l===void 0||a.content==="")return;let c;try{c=JSON.parse(a.content)}catch{return}if(c.id===l.id&&!(!s&&!vc(c)))return c}var U2={};ge(U2,{NOSTR_URI_REGEX:()=>Bd,parse:()=>P2,test:()=>H2});var Bd=new RegExp(`nostr:(${Iy.source})`);function H2(a){return typeof a=="string"&&new RegExp(`^${Bd.source}$`).test(a)}function P2(a){const s=a.match(new RegExp(`^${Bd.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:s[0],value:s[1],decoded:bc(s[1])}}var Z2={};ge(Z2,{finishReactionEvent:()=>q2,getReactedEventPointer:()=>G2});function q2(a,s,l){const c=s.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return ti({...a,kind:Ed,tags:[...a.tags??[],...c,["e",s.id],["p",s.pubkey]],content:a.content??"+"},l)}function G2(a){if(a.kind!==Ed)return;let s,l;for(let c=a.tags.length-1;c>=0&&(s===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(s===void 0||l===void 0))return{id:s[1],relays:[s[2],l[2]].filter(c=>c!==void 0),author:l[1]}}var V2={};ge(V2,{parse:()=>Y2});var _0=/\W/m,b0=/[^\w\/] |[^\w\/]$|$|,| /m,I2=42;function*Y2(a){let s=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const _=a.tags[p];_[0]==="emoji"&&_.length>=3&&s.push({type:"emoji",shortcode:_[1],url:_[2]})}a=a.content}const l=a.length;let c=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),_=a.indexOf("#",d);if(p===-1&&_===-1)break t;if(p===-1||_>=0&&_<p){if(_===0||a[_-1]===" "){const b=a.slice(_+1,_+I2).match(_0),y=b?_+1+b.index:l;yield{type:"text",text:a.slice(c,_)},yield{type:"hashtag",value:a.slice(_+1,y)},d=y,c=d;continue t}d=_+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(_0),y=b?p+60+b.index:l;try{let w,{data:A,type:T}=bc(a.slice(p+1,y));switch(T){case"npub":w={pubkey:A};break;case"note":w={id:A};break;case"nsec":d=y+1;continue;default:w=A}c!==p-5&&(yield{type:"text",text:a.slice(c,p-5)}),yield{type:"reference",pointer:w},d=y,c=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(b0),y=b?p+4+b.index:l,w=a[p-1]==="s"?5:4;try{let A=new URL(a.slice(p-w,y));if(A.hostname.indexOf(".")===-1)throw new Error("invalid url");if(c!==p-w&&(yield{type:"text",text:a.slice(c,p-w)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(A.pathname)){yield{type:"image",url:A.toString()},d=y,c=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(A.pathname)){yield{type:"video",url:A.toString()},d=y,c=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(A.pathname)){yield{type:"audio",url:A.toString()},d=y,c=d;continue t}yield{type:"url",url:A.toString()},d=y,c=d;continue t}catch{d=y+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(b0),y=b?p+4+b.index:l,w=a[p-1]==="s"?3:2;try{let A=new URL(a.slice(p-w,y));if(A.hostname.indexOf(".")===-1)throw new Error("invalid ws url");c!==p-w&&(yield{type:"text",text:a.slice(c,p-w)}),yield{type:"relay",url:A.toString()},d=y,c=d;continue t}catch{d=y+1;continue t}}else{for(let b=0;b<s.length;b++){const y=s[b];if(a[p+y.shortcode.length+1]===":"&&a.slice(p+1,p+y.shortcode.length+1)===y.shortcode){c!==p&&(yield{type:"text",text:a.slice(c,p)}),yield y,d=p+y.shortcode.length+2,c=d;continue t}}d=p+1;continue t}}c!==l&&(yield{type:"text",text:a.slice(c)})}var K2={};ge(K2,{channelCreateEvent:()=>Q2,channelHideMessageEvent:()=>J2,channelMessageEvent:()=>F2,channelMetadataEvent:()=>X2,channelMuteUserEvent:()=>W2});var Q2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ti({kind:My,tags:[...a.tags??[]],content:l,created_at:a.created_at},s)},X2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ti({kind:Oy,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},F2=(a,s)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),ti({kind:ky,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},s)},J2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ti({kind:Ry,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},W2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ti({kind:By,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},s)},$2={};ge($2,{EMOJI_SHORTCODE_REGEX:()=>hv,matchAll:()=>tS,regex:()=>Dd,replaceAll:()=>eS});var hv=/:(\w+):/,Dd=()=>new RegExp(`\\B${hv.source}\\B`,"g");function*tS(a){const s=a.matchAll(Dd());for(const l of s)try{const[c,d]=l;yield{shortcode:c,name:d,start:l.index,end:l.index+c.length}}catch{}}function eS(a,s){return a.replaceAll(Dd(),(l,c)=>s({shortcode:l,name:c}))}var nS={};ge(nS,{useFetchImplementation:()=>iS,validateGithub:()=>aS});var jd;try{jd=fetch}catch{}function iS(a){jd=a}async function aS(a,s,l){try{return await(await jd(`https://gist.github.com/${s}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var sS={};ge(sS,{makeNwcRequestEvent:()=>oS,parseConnectionString:()=>rS});function rS(a){const{host:s,pathname:l,searchParams:c}=new URL(a),d=l||s,p=c.get("relay"),_=c.get("secret");if(!d||!p||!_)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:_}}async function oS(a,s,l){const d=Yy(s,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:Uy,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return ti(p,s)}var lS={};ge(lS,{normalizeIdentifier:()=>uS});function uS(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(s=>new RegExp("\\p{Letter}","u").test(s)||new RegExp("\\p{Number}","u").test(s)?s:"-").join("")}var cS={};ge(cS,{getSatoshisAmountFromBolt11:()=>gS,getZapEndpoint:()=>hS,makeZapReceipt:()=>pS,makeZapRequest:()=>dS,useFetchImplementation:()=>fS,validateZapRequest:()=>mS});var Ud;try{Ud=fetch}catch{}function fS(a){Ud=a}async function hS(a){try{let s="",{lud06:l,lud16:c}=JSON.parse(a.content);if(c){let[_,b]=c.split("@");s=new URL(`/.well-known/lnurlp/${_}`,`https://${b}`).toString()}else if(l){let{words:_}=$r.decode(l,1e3),b=$r.fromWords(_);s=ma.decode(b)}else return null;let p=await(await Ud(s)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function dS(a){let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(s.tags.push(["e",a.event.id]),xd(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];s.tags.push(l)}else if(wd(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];s.tags.push(c)}s.tags.push(["k",a.event.kind.toString()])}return s}function mS(a){let s;try{s=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!_d(s))return"Zap request is not a valid Nostr event.";if(!vc(s))return"Invalid signature on zap request.";let l=s.tags.find(([p,_])=>p==="p"&&_);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let c=s.tags.find(([p,_])=>p==="e"&&_);return c&&!c[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([p,_])=>p==="relays"&&_)?null:"Zap request doesn't have a 'relays' tag."}function pS({zapRequest:a,preimage:s,bolt11:l,paidAt:c}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),_={kind:9735,created_at:Math.round(c.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return s&&_.tags.push(["preimage",s]),_}function gS(a){if(a.length<50)return 0;a=a.substring(0,50);const s=a.lastIndexOf("1");if(s===-1)return 0;const l=a.substring(0,s);if(!l.startsWith("lnbc"))return 0;const c=l.substring(4);if(c.length<1)return 0;const d=c[c.length-1],p=d.charCodeAt(0)-48,_=p>=0&&p<=9;let b=c.length-1;if(_&&b++,b<1)return 0;const y=parseInt(c.substring(0,b));switch(d){case"m":return y*1e5;case"u":return y*100;case"n":return y/10;case"p":return y/1e4;default:return y*1e8}}var yS={};ge(yS,{Negentropy:()=>mv,NegentropyStorageVector:()=>bS,NegentropySync:()=>xS});var Hh=97,Fr=32,dv=16,Ws={Skip:0,Fingerprint:1,IdList:2},da=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof da&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const s=a.length+this.length;if(this.capacity<s){const l=this._raw,c=Math.max(this.capacity*2,s);this._raw=new Uint8Array(c),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const s=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,s}};function Qu(a){let s=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(s=s<<7|l&127,(l&128)===0)break}return s}function fa(a){if(a===0)return new da(new Uint8Array([0]));let s=[];for(;a!==0;)s.push(a&127),a>>>=7;s.reverse();for(let l=0;l<s.length-1;l++)s[l]|=128;return new da(new Uint8Array(s))}function vS(a){return Ju(a,1)[0]}function Ju(a,s){if(a.length<s)throw Error("parse ends prematurely");return a.shiftN(s)}var _S=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(Fr)}add(a){let s=0,l=0,c=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let _=p*4,b=c.getUint32(_,!0),y=d.getUint32(_,!0),w=b;w+=s,w+=y,w>4294967295&&(l=1),c.setUint32(_,w&4294967295,!0),s=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let c=l*4;a.setUint32(c,~a.getUint32(c,!0))}let s=new Uint8Array(Fr);s[0]=1,this.add(s)}getFingerprint(a){let s=new da;return s.extend(this.buf),s.extend(fa(a)),cs(s.unwrap()).subarray(0,dv)}},bS=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,s){if(this.sealed)throw Error("already sealed");const l=hy(s);if(l.byteLength!==Fr)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Ph);for(let a=1;a<this.items.length;a++)if(Ph(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,s,l){this._checkSealed(),this._checkBounds(a,s);for(let c=a;c<s&&l(this.items[c],c);++c);}findLowerBound(a,s,l){return this._checkSealed(),this._checkBounds(a,s),this._binarySearch(this.items,a,s,c=>Ph(c,l)<0)}fingerprint(a,s){let l=new _S;return l.setToZero(),this.iterate(a,s,c=>(l.add(c.id),!0)),l.getFingerprint(s-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,s){if(a>s||s>this.items.length)throw Error("bad range")}_binarySearch(a,s,l,c){let d=l-s;for(;d>0;){let p=s,_=Math.floor(d/2);p+=_,c(a[p])?(s=++p,d-=_+1):d=_}return s}},mv=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,s=6e4){if(s<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=s,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,s){return{timestamp:a,id:s||new Uint8Array(0)}}initiate(){let a=new da;return a.extend(new Uint8Array([Hh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),Qr(a.unwrap())}reconcile(a,s,l){const c=new da(hy(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new da;d.extend(new Uint8Array([Hh]));let p=vS(c);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==Hh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let _=this.storage.size(),b=this._bound(0),y=0,w=!1;for(;c.length!==0;){let A=new da,T=()=>{w&&(w=!1,A.extend(this.encodeBound(b)),A.extend(fa(Ws.Skip)))},k=this.decodeBound(c),D=Qu(c),U=y,O=this.storage.findLowerBound(y,_,k);if(D===Ws.Skip)w=!0;else if(D===Ws.Fingerprint){let Z=Ju(c,dv),P=this.storage.fingerprint(U,O);pv(Z,P)!==0?(T(),this.splitRange(U,O,k,A)):w=!0}else if(D===Ws.IdList){let Z=Qu(c),P={};for(let nt=0;nt<Z;nt++){let st=Ju(c,Fr);P[Qr(st)]=st}if(w=!0,this.storage.iterate(U,O,nt=>{let st=nt.id;const ft=Qr(st);return P[ft]?delete P[Qr(st)]:s?.(ft),!0}),l)for(let nt of Object.values(P))l(Qr(nt))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+A.length)){let Z=this.storage.fingerprint(O,_);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(fa(Ws.Fingerprint)),d.extend(Z);break}else d.extend(A);y=O,b=k}return d.length===1?null:Qr(d.unwrap())}splitRange(a,s,l,c){let d=s-a,p=16;if(d<p*2)c.extend(this.encodeBound(l)),c.extend(fa(Ws.IdList)),c.extend(fa(d)),this.storage.iterate(a,s,_=>(c.extend(_.id),!0));else{let _=Math.floor(d/p),b=d%p,y=a;for(let w=0;w<p;w++){let A=_+(w<b?1:0),T=this.storage.fingerprint(y,y+A);y+=A;let k;if(y===s)k=l;else{let D,U;this.storage.iterate(y-1,y+1,(O,Z)=>(Z===y-1?D=O:U=O,!0)),k=this.getMinimalBound(D,U)}c.extend(this.encodeBound(k)),c.extend(fa(Ws.Fingerprint)),c.extend(T)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let s=Qu(a);return s=s===0?Number.MAX_VALUE:s-1,this.lastTimestampIn===Number.MAX_VALUE||s===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(s+=this.lastTimestampIn,this.lastTimestampIn=s,s)}decodeBound(a){let s=this.decodeTimestampIn(a),l=Qu(a);if(l>Fr)throw Error("bound key too long");let c=Ju(a,l);return{timestamp:s,id:c}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,fa(0);let s=a;return a-=this.lastTimestampOut,this.lastTimestampOut=s,fa(a+1)}encodeBound(a){let s=new da;return s.extend(this.encodeTimestampOut(a.timestamp)),s.extend(fa(a.id.length)),s.extend(a.id),s}getMinimalBound(a,s){if(s.timestamp!==a.timestamp)return this._bound(s.timestamp);{let l=0,c=s.id,d=a.id;for(let p=0;p<Fr&&c[p]===d[p];p++)l++;return this._bound(s.timestamp,s.id.subarray(0,l+1))}}};function pv(a,s){for(let l=0;l<a.byteLength;l++){if(a[l]<s[l])return-1;if(a[l]>s[l])return 1}return a.byteLength>s.byteLength?1:a.byteLength<s.byteLength?-1:0}function Ph(a,s){return a.timestamp===s.timestamp?pv(a.id,s.id):a.timestamp-s.timestamp}var xS=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,s,l,c={}){this.relay=a,this.storage=s,this.neg=new mv(s),this.onhave=c.onhave,this.onneed=c.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:c.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),c.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),c?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),c.onclose?.(p);break}case"NEG-ERR":c.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},wS={};ge(wS,{getToken:()=>SS,hashPayload:()=>Hd,unpackEventFromToken:()=>yv,validateEvent:()=>Sv,validateEventKind:()=>_v,validateEventMethodTag:()=>xv,validateEventPayloadTag:()=>wv,validateEventTimestamp:()=>vv,validateEventUrlTag:()=>bv,validateToken:()=>ES});var gv="Nostr ";async function SS(a,s,l,c=!1,d){const p={kind:Ad,tags:[["u",a],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",Hd(d)]);const _=await l(p);return(c?gv:"")+pa.encode(di.encode(JSON.stringify(_)))}async function ES(a,s,l){const c=await yv(a).catch(p=>{throw p});return await Sv(c,s,l).catch(p=>{throw p})}async function yv(a){if(!a)throw new Error("Missing token");a=a.replace(gv,"");const s=ma.decode(pa.decode(a));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function vv(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function _v(a){return a.kind===Ad}function bv(a,s){const l=a.tags.find(c=>c[0]==="u");return l?l.length>0&&l[1]===s:!1}function xv(a,s){const l=a.tags.find(c=>c[0]==="method");return l?l.length>0&&l[1].toLowerCase()===s.toLowerCase():!1}function Hd(a){const s=cs(di.encode(JSON.stringify(a)));return Ue(s)}function wv(a,s){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const c=Hd(s);return l.length>0&&l[1]===c}async function Sv(a,s,l,c){if(!vc(a))throw new Error("Invalid nostr event, signature invalid");if(!_v(a))throw new Error("Invalid nostr event, kind invalid");if(!vv(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!bv(a,s))throw new Error("Invalid nostr event, url tag invalid");if(!xv(a,l))throw new Error("Invalid nostr event, method tag invalid");if(c&&typeof c=="object"&&Object.keys(c).length>0&&!wv(a,c))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const x0=a=>Array.from(a).map(s=>s.toString(16).padStart(2,"0")).join(""),Ev=F.createContext(null),TS=({children:a})=>{const[s,l]=F.useState(localStorage.getItem("parlens_pubkey")),[c]=F.useState(new Ww),d=async(b,y,w)=>{let A="",T=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");A=await window.nostr.getPublicKey()}else if(b==="nsec"&&y)try{const k=ar.decode(y);if(k.type!=="nsec")throw new Error("Not an nsec");T=k.data,A=pl(T),localStorage.setItem("parlens_privkey",x0(T))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(T=Ty(),A=pl(T),localStorage.setItem("parlens_privkey",x0(T)));if(l(A),localStorage.setItem("parlens_pubkey",A),b==="create"&&w&&T)try{const k=ti({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:w,display_name:w,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${A}`})},T);await Promise.any([c.publish(["wss://relay.damus.io","wss://nos.lol"],k)])}catch(k){console.warn("Failed to publish metadata:",k)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},_=async b=>{const y=localStorage.getItem("parlens_privkey");if(y){const w=new Uint8Array(y.match(/.{1,2}/g).map(A=>parseInt(A,16)));return ti(b,w)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return x.jsx(Ev.Provider,{value:{pubkey:s,login:d,logout:p,pool:c,signEvent:_},children:a})},io=()=>{const a=F.useContext(Ev);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const AS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zS=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,l,c)=>c?c.toUpperCase():l.toLowerCase()),w0=a=>{const s=zS(a);return s.charAt(0).toUpperCase()+s.slice(1)},Tv=(...a)=>a.filter((s,l,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===l).join(" ").trim(),CS=a=>{for(const s in a)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NS=F.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:p,iconNode:_,...b},y)=>F.createElement("svg",{ref:y,...LS,width:s,height:s,stroke:a,strokeWidth:c?Number(l)*24/Number(s):l,className:Tv("lucide",d),...!p&&!CS(b)&&{"aria-hidden":"true"},...b},[..._.map(([w,A])=>F.createElement(w,A)),...Array.isArray(p)?p:[p]]));const _e=(a,s)=>{const l=F.forwardRef(({className:c,...d},p)=>F.createElement(NS,{ref:p,iconNode:s,className:Tv(`lucide-${AS(w0(a))}`,`lucide-${a}`,c),...d}));return l.displayName=w0(a),l};const MS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],OS=_e("arrow-right",MS);const kS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RS=_e("check",kS);const BS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yl=_e("chevron-down",BS);const DS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sc=_e("chevron-right",DS);const jS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],US=_e("chevron-up",jS);const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],S0=_e("circle-question-mark",HS);const PS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Av=_e("clock",PS);const ZS=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E0=_e("compass",ZS);const qS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GS=_e("eye-off",qS);const VS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IS=_e("eye",VS);const YS=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],KS=_e("folder-open",YS);const QS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],td=_e("key",QS);const XS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rc=_e("map-pin",XS);const FS=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],JS=_e("map-pinned",FS);const WS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],zv=_e("navigation",WS);const $S=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],tE=_e("pencil",$S);const eE=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],nE=_e("route",eE);const iE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aE=_e("save",iE);const sE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rE=_e("search",sE);const oE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cv=_e("shield",oE);const lE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ed=_e("trash-2",lE);const uE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cE=_e("user-plus",uE);const fE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hE=_e("user",fE);const dE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pd=_e("x",dE);function mE(a,s){const l=F.useRef(s);F.useEffect(function(){s!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),s!=null&&a.attributionControl.addAttribution(s)),l.current=s},[a,s])}U0();const pE=1;function gE(a){return Object.freeze({__version:pE,map:a})}function Lv(a,s){return Object.freeze({...a,...s})}const Zd=F.createContext(null);function qd(){const a=F.use(Zd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function Nv(a){function s(l,c){const{instance:d,context:p}=a(l).current;F.useImperativeHandle(c,()=>d);const{children:_}=l;return _==null?null:hl.createElement(Zd,{value:p},_)}return F.forwardRef(s)}function yE(a){function s(l,c){const{instance:d}=a(l).current;return F.useImperativeHandle(c,()=>d),null}return F.forwardRef(s)}function Mv(a,s){const l=F.useRef(void 0);F.useEffect(function(){return s!=null&&a.instance.on(s),l.current=s,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,s])}function Gd(a,s){const l=a.pane??s.pane;return l?{...a,pane:l}:a}var fl={exports:{}};var vE=fl.exports,T0;function _E(){return T0||(T0=1,(function(a,s){(function(l,c){c(s)})(vE,(function(l){var c="1.9.4";function d(n){var r,u,m,g;for(u=1,m=arguments.length;u<m;u++){g=arguments[u];for(r in g)n[r]=g[r]}return n}var p=Object.create||(function(){function n(){}return function(r){return n.prototype=r,new n}})();function _(n,r){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var m=u.call(arguments,2);return function(){return n.apply(r,m.length?m.concat(u.call(arguments)):arguments)}}var b=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function w(n,r,u){var m,g,S,C;return C=function(){m=!1,g&&(S.apply(u,g),g=!1)},S=function(){m?g=arguments:(n.apply(u,arguments),setTimeout(C,r),m=!0)},S}function A(n,r,u){var m=r[1],g=r[0],S=m-g;return n===m&&u?n:((n-g)%S+S)%S+g}function T(){return!1}function k(n,r){if(r===!1)return n;var u=Math.pow(10,r===void 0?6:r);return Math.round(n*u)/u}function D(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function U(n){return D(n).split(/\s+/)}function O(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var u in r)n.options[u]=r[u];return n.options}function Z(n,r,u){var m=[];for(var g in n)m.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!r||r.indexOf("?")===-1?"?":"&")+m.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function nt(n,r){return n.replace(P,function(u,m){var g=r[m];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(r)),g})}var st=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function ft(n,r){for(var u=0;u<n.length;u++)if(n[u]===r)return u;return-1}var lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ot(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var X=0;function et(n){var r=+new Date,u=Math.max(0,16-(r-X));return X=r+u,window.setTimeout(n,u)}var yt=window.requestAnimationFrame||ot("RequestAnimationFrame")||et,bt=window.cancelAnimationFrame||ot("CancelAnimationFrame")||ot("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function mt(n,r,u){if(u&&yt===et)n.call(r);else return yt.call(window,_(n,r))}function _t(n){n&&bt.call(window,n)}var Lt={__proto__:null,extend:d,create:p,bind:_,get lastId(){return b},stamp:y,throttle:w,wrapNum:A,falseFn:T,formatNum:k,trim:D,splitWords:U,setOptions:O,getParamString:Z,template:nt,isArray:st,indexOf:ft,emptyImageUrl:lt,requestFn:yt,cancelFn:bt,requestAnimFrame:mt,cancelAnimFrame:_t};function Ct(){}Ct.extend=function(n){var r=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=r.__super__=this.prototype,m=p(u);m.constructor=r,r.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(r[g]=this[g]);return n.statics&&d(r,n.statics),n.includes&&($(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=u.options?p(u.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,C=m._initHooks.length;S<C;S++)m._initHooks[S].call(this)}},r},Ct.include=function(n){var r=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},Ct.mergeOptions=function(n){return d(this.prototype.options,n),this},Ct.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function $(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=st(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var M={on:function(n,r,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],r);else{n=U(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],r,u)}return this},off:function(n,r,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],r);else{n=U(n);for(var g=arguments.length===1,S=0,C=n.length;S<C;S++)g?this._off(n[S]):this._off(n[S],r,u)}return this},_on:function(n,r,u,m){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,u)===!1){u===this&&(u=void 0);var g={fn:r,ctx:u};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,r,u){var m,g,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=T;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var C=this._listens(n,r,u);if(C!==!1){var j=m[C];this._firingCount&&(j.fn=T,this._events[n]=m=m.slice()),m.splice(C,1)}}},fire:function(n,r,u){if(!this.listens(n,u))return this;var m=d({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,C=g.length;S<C;S++){var j=g[S],V=j.fn;j.once&&this.off(n,V,j.ctx),V.call(j.ctx||this,m)}this._firingCount--}}return u&&this._propagateEvent(m),this},listens:function(n,r,u,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=r;typeof r!="function"&&(m=!!r,g=void 0,u=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,g,u)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(n,r,u,m))return!0}return!1},_listens:function(n,r,u){if(!this._events)return!1;var m=this._events[n]||[];if(!r)return!!m.length;u===this&&(u=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===r&&m[g].ctx===u)return g;return!1},once:function(n,r,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],r,!0);else{n=U(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],r,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var Y=Ct.extend(M);function K(n,r,u){this.x=u?Math.round(n):n,this.y=u?Math.round(r):r}var pt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(n){return this.clone()._add(W(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(W(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new K(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new K(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pt(this.x),this.y=pt(this.y),this},distanceTo:function(n){n=W(n);var r=n.x-this.x,u=n.y-this.y;return Math.sqrt(r*r+u*u)},equals:function(n){return n=W(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=W(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function W(n,r,u){return n instanceof K?n:st(n)?new K(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new K(n.x,n.y):new K(n,r,u)}function z(n,r){if(n)for(var u=r?[n,r]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}z.prototype={extend:function(n){var r,u;if(!n)return this;if(n instanceof K||typeof n[0]=="number"||"x"in n)r=u=W(n);else if(n=H(n),r=n.min,u=n.max,!r||!u)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=u.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,u;return typeof n[0]=="number"||n instanceof K?n=W(n):n=H(n),n instanceof z?(r=n.min,u=n.max):r=u=n,r.x>=this.min.x&&u.x<=this.max.x&&r.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=H(n);var r=this.min,u=this.max,m=n.min,g=n.max,S=g.x>=r.x&&m.x<=u.x,C=g.y>=r.y&&m.y<=u.y;return S&&C},overlaps:function(n){n=H(n);var r=this.min,u=this.max,m=n.min,g=n.max,S=g.x>r.x&&m.x<u.x,C=g.y>r.y&&m.y<u.y;return S&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,u=this.max,m=Math.abs(r.x-u.x)*n,g=Math.abs(r.y-u.y)*n;return H(W(r.x-m,r.y-g),W(u.x+m,u.y+g))},equals:function(n){return n?(n=H(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function H(n,r){return!n||n instanceof z?n:new z(n,r)}function rt(n,r){if(n)for(var u=r?[n,r]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}rt.prototype={extend:function(n){var r=this._southWest,u=this._northEast,m,g;if(n instanceof ht)m=n,g=n;else if(n instanceof rt){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(dt(n)||ut(n)):this;return!r&&!u?(this._southWest=new ht(m.lat,m.lng),this._northEast=new ht(g.lat,g.lng)):(r.lat=Math.min(m.lat,r.lat),r.lng=Math.min(m.lng,r.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(n){var r=this._southWest,u=this._northEast,m=Math.abs(r.lat-u.lat)*n,g=Math.abs(r.lng-u.lng)*n;return new rt(new ht(r.lat-m,r.lng-g),new ht(u.lat+m,u.lng+g))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ht||"lat"in n?n=dt(n):n=ut(n);var r=this._southWest,u=this._northEast,m,g;return n instanceof rt?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=r.lat&&g.lat<=u.lat&&m.lng>=r.lng&&g.lng<=u.lng},intersects:function(n){n=ut(n);var r=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>=r.lat&&m.lat<=u.lat,C=g.lng>=r.lng&&m.lng<=u.lng;return S&&C},overlaps:function(n){n=ut(n);var r=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>r.lat&&m.lat<u.lat,C=g.lng>r.lng&&m.lng<u.lng;return S&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=ut(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ut(n,r){return n instanceof rt?n:new rt(n,r)}function ht(n,r,u){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,u!==void 0&&(this.alt=+u)}ht.prototype={equals:function(n,r){if(!n)return!1;n=dt(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return Rt.distance(this,dt(n))},wrap:function(){return Rt.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,u=r/Math.cos(Math.PI/180*this.lat);return ut([this.lat-r,this.lng-u],[this.lat+r,this.lng+u])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function dt(n,r,u){return n instanceof ht?n:st(n)&&typeof n[0]!="object"?n.length===3?new ht(n[0],n[1],n[2]):n.length===2?new ht(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ht(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new ht(n,r,u)}var Et={latLngToPoint:function(n,r){var u=this.projection.project(n),m=this.scale(r);return this.transformation._transform(u,m)},pointToLatLng:function(n,r){var u=this.scale(r),m=this.transformation.untransform(n,u);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,u=this.scale(n),m=this.transformation.transform(r.min,u),g=this.transformation.transform(r.max,u);return new z(m,g)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?A(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?A(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ht(u,r,m)},wrapLatLngBounds:function(n){var r=n.getCenter(),u=this.wrapLatLng(r),m=r.lat-u.lat,g=r.lng-u.lng;if(m===0&&g===0)return n;var S=n.getSouthWest(),C=n.getNorthEast(),j=new ht(S.lat-m,S.lng-g),V=new ht(C.lat-m,C.lng-g);return new rt(j,V)}},Rt=d({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var u=Math.PI/180,m=n.lat*u,g=r.lat*u,S=Math.sin((r.lat-n.lat)*u/2),C=Math.sin((r.lng-n.lng)*u/2),j=S*S+Math.cos(m)*Math.cos(g)*C*C,V=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*V}}),kt=6378137,Ae={R:kt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,u=this.MAX_LATITUDE,m=Math.max(Math.min(u,n.lat),-u),g=Math.sin(m*r);return new K(this.R*n.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var r=180/Math.PI;return new ht((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:(function(){var n=kt*Math.PI;return new z([-n,-n],[n,n])})()};function en(n,r,u,m){if(st(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=u,this._d=m}en.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new K((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function Jt(n,r,u,m){return new en(n,r,u,m)}var Qe=d({},Rt,{code:"EPSG:3857",projection:Ae,transformation:(function(){var n=.5/(Math.PI*Ae.R);return Jt(n,.5,-n,.5)})()}),Me=d({},Qe,{code:"EPSG:900913"});function mn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function un(n,r){var u="",m,g,S,C,j,V;for(m=0,S=n.length;m<S;m++){for(j=n[m],g=0,C=j.length;g<C;g++)V=j[g],u+=(g?"L":"M")+V.x+" "+V.y;u+=r?Tt.svg?"z":"x":""}return u||"M0 0"}var Ot=document.documentElement.style,ae="ActiveXObject"in window,ct=ae&&!document.addEventListener,vt="msLaunchUri"in navigator&&!("documentMode"in document),xt=pn("webkit"),jt=pn("android"),Ft=pn("android 2")||pn("android 3"),Zt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yt=jt&&pn("Google")&&Zt<537&&!("AudioNode"in window),xe=!!window.opera,nn=!vt&&pn("chrome"),ze=pn("gecko")&&!xt&&!xe&&!ae,Ui=!nn&&pn("safari"),Ln=pn("phantom"),mi="OTransition"in Ot,ei=navigator.platform.indexOf("Win")===0,Nn=ae&&"transition"in Ot,He="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ft,Pn="MozPerspective"in Ot,Xe=!window.L_DISABLE_3D&&(Nn||He||Pn)&&!mi&&!Ln,Hi=typeof orientation<"u"||pn("mobile"),hs=Hi&&xt,zc=Hi&&He,ds=!window.PointerEvent&&window.MSPointerEvent,ms=!!(window.PointerEvent||ds),ps="ontouchstart"in window||!!window.TouchEvent,Pi=!window.L_NO_TOUCH&&(ps||ms),or=Hi&&xe,gs=Hi&&ze,Cc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wl=(function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",T,r),window.removeEventListener("testPassiveEventSupport",T,r)}catch{}return n})(),so=(function(){return!!document.createElement("canvas").getContext})(),Zi=!!(document.createElementNS&&mn("svg").createSVGRect),Lc=!!Zi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Sl=!Zi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),El=navigator.platform.indexOf("Mac")===0,Tl=navigator.platform.indexOf("Linux")===0;function pn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Tt={ie:ae,ielt9:ct,edge:vt,webkit:xt,android:jt,android23:Ft,androidStock:Yt,opera:xe,chrome:nn,gecko:ze,safari:Ui,phantom:Ln,opera12:mi,win:ei,ie3d:Nn,webkit3d:He,gecko3d:Pn,any3d:Xe,mobile:Hi,mobileWebkit:hs,mobileWebkit3d:zc,msPointer:ds,pointer:ms,touch:Pi,touchNative:ps,mobileOpera:or,mobileGecko:gs,retina:Cc,passiveEvents:wl,canvas:so,svg:Zi,vml:Sl,inlineSvg:Lc,mac:El,linux:Tl},ro=Tt.msPointer?"MSPointerDown":"pointerdown",oo=Tt.msPointer?"MSPointerMove":"pointermove",ni=Tt.msPointer?"MSPointerUp":"pointerup",Oe=Tt.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:ro,touchmove:oo,touchend:ni,touchcancel:Oe},qi={touchstart:xa,touchmove:gi,touchend:gi,touchcancel:gi},pi={},Al=!1;function Nc(n,r,u){return r==="touchstart"&&ba(),qi[r]?(u=qi[r].bind(this,u),n.addEventListener(Ge[r],u,!1),u):(console.warn("wrong event specified:",r),T)}function zl(n,r,u){if(!Ge[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Ge[r],u,!1)}function ys(n){pi[n.pointerId]=n}function lo(n){pi[n.pointerId]&&(pi[n.pointerId]=n)}function Gi(n){delete pi[n.pointerId]}function ba(){Al||(document.addEventListener(ro,ys,!0),document.addEventListener(oo,lo,!0),document.addEventListener(ni,Gi,!0),document.addEventListener(Oe,Gi,!0),Al=!0)}function gi(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var u in pi)r.touches.push(pi[u]);r.changedTouches=[r],n(r)}}function xa(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&we(r),gi(n,r)}function ke(n){var r={},u,m;for(m in n)u=n[m],r[m]=u&&u.bind?u.bind(n):u;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Cl=200;function Ll(n,r){n.addEventListener("dblclick",r);var u=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var C=Es(S);if(!(C.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!C.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var j=Date.now();j-u<=Cl?(m++,m===2&&r(ke(S))):m=1,u=j}}}return n.addEventListener("click",g),{dblclick:r,simDblclick:g}}function Vi(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var yi=bs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vs=bs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),uo=vs==="webkitTransition"||vs==="OTransition"?vs+"End":"transitionend";function co(n){return typeof n=="string"?document.getElementById(n):n}function _s(n,r){var u=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!u||u==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);u=m?m[r]:null}return u==="auto"?null:u}function qt(n,r,u){var m=document.createElement(n);return m.className=r||"",u&&u.appendChild(m),m}function le(n){var r=n.parentNode;r&&r.removeChild(n)}function gn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Pe(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Ii(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function fo(n,r){if(n.classList!==void 0)return n.classList.contains(r);var u=lr(n);return u.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(u)}function Bt(n,r){if(n.classList!==void 0)for(var u=U(r),m=0,g=u.length;m<g;m++)n.classList.add(u[m]);else if(!fo(n,r)){var S=lr(n);wa(n,(S?S+" ":"")+r)}}function ye(n,r){n.classList!==void 0?n.classList.remove(r):wa(n,D((" "+lr(n)+" ").replace(" "+r+" "," ")))}function wa(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function lr(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function me(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&ho(n,r)}function ho(n,r){var u=!1,m="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(m)}catch{if(r===1)return}r=Math.round(r*100),u?(u.Enabled=r!==100,u.Opacity=r):n.style.filter+=" progid:"+m+"(opacity="+r+")"}function bs(n){for(var r=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in r)return n[u];return!1}function ii(n,r,u){var m=r||new K(0,0);n.style[yi]=(Tt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(u?" scale("+u+")":"")}function he(n,r){n._leaflet_pos=r,Tt.any3d?ii(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function vi(n){return n._leaflet_pos||new K(0,0)}var Sa,Zn,mo;if("onselectstart"in document)Sa=function(){Mt(window,"selectstart",we)},Zn=function(){se(window,"selectstart",we)};else{var Ea=bs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sa=function(){if(Ea){var n=document.documentElement.style;mo=n[Ea],n[Ea]="none"}},Zn=function(){Ea&&(document.documentElement.style[Ea]=mo,mo=void 0)}}function ur(){Mt(window,"dragstart",we)}function xs(){se(window,"dragstart",we)}var cr,po;function Ta(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(yn(),cr=n,po=n.style.outlineStyle,n.style.outlineStyle="none",Mt(window,"keydown",yn))}function yn(){cr&&(cr.style.outlineStyle=po,cr=void 0,po=void 0,se(window,"keydown",yn))}function fr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ws(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Aa={__proto__:null,TRANSFORM:yi,TRANSITION:vs,TRANSITION_END:uo,get:co,getStyle:_s,create:qt,remove:le,empty:gn,toFront:Pe,toBack:Ii,hasClass:fo,addClass:Bt,removeClass:ye,setClass:wa,getClass:lr,setOpacity:me,testProp:bs,setTransform:ii,setPosition:he,getPosition:vi,get disableTextSelection(){return Sa},get enableTextSelection(){return Zn},disableImageDrag:ur,enableImageDrag:xs,preventOutline:Ta,restoreOutline:yn,getSizedParentNode:fr,getScale:ws};function Mt(n,r,u,m){if(r&&typeof r=="object")for(var g in r)On(n,g,r[g],u);else{r=U(r);for(var S=0,C=r.length;S<C;S++)On(n,r[S],u,m)}return this}var Mn="_leaflet_events";function se(n,r,u,m){if(arguments.length===1)go(n),delete n[Mn];else if(r&&typeof r=="object")for(var g in r)Ss(n,g,r[g],u);else if(r=U(r),arguments.length===2)go(n,function(j){return ft(r,j)!==-1});else for(var S=0,C=r.length;S<C;S++)Ss(n,r[S],u,m);return this}function go(n,r){for(var u in n[Mn]){var m=u.split(/\d/)[0];(!r||r(m))&&Ss(n,m,null,null,u)}}var Yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function On(n,r,u,m){var g=r+y(u)+(m?"_"+y(m):"");if(n[Mn]&&n[Mn][g])return this;var S=function(j){return u.call(m||n,j||window.event)},C=S;!Tt.touchNative&&Tt.pointer&&r.indexOf("touch")===0?S=Nc(n,r,S):Tt.touch&&r==="dblclick"?S=Ll(n,S):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Yi[r]||r,S,Tt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(S=function(j){j=j||window.event,ai(n,j)&&C(j)},n.addEventListener(Yi[r],S,!1)):n.addEventListener(r,C,!1):n.attachEvent("on"+r,S),n[Mn]=n[Mn]||{},n[Mn][g]=S}function Ss(n,r,u,m,g){g=g||r+y(u)+(m?"_"+y(m):"");var S=n[Mn]&&n[Mn][g];if(!S)return this;!Tt.touchNative&&Tt.pointer&&r.indexOf("touch")===0?zl(n,r,S):Tt.touch&&r==="dblclick"?Vi(n,S):"removeEventListener"in n?n.removeEventListener(Yi[r]||r,S,!1):n.detachEvent("on"+r,S),n[Mn][g]=null}function kn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function qn(n){return On(n,"wheel",kn),this}function Ki(n){return Mt(n,"mousedown touchstart dblclick contextmenu",kn),n._leaflet_disable_click=!0,this}function we(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function _i(n){return we(n),kn(n),this}function Es(n){if(n.composedPath)return n.composedPath();for(var r=[],u=n.target;u;)r.push(u),u=u.parentNode;return r}function Ts(n,r){if(!r)return new K(n.clientX,n.clientY);var u=ws(r),m=u.boundingClientRect;return new K((n.clientX-m.left)/u.x-r.clientLeft,(n.clientY-m.top)/u.y-r.clientTop)}var Nl=Tt.linux&&Tt.chrome?window.devicePixelRatio:Tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fe(n){return Tt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Nl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ai(n,r){var u=r.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var hr={__proto__:null,on:Mt,off:se,stopPropagation:kn,disableScrollPropagation:qn,disableClickPropagation:Ki,preventDefault:we,stop:_i,getPropagationPath:Es,getMousePosition:Ts,getWheelDelta:Fe,isExternalTarget:ai,addListener:Mt,removeListener:se},za=Y.extend({run:function(n,r,u,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=vi(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=mt(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,u=this._duration*1e3;r<u?this._runFrame(this._easeOut(r/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var u=this._startPos.add(this._offset.multiplyBy(n));r&&u._round(),he(this._el,u),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Kt=Y.extend({options:{crs:Qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=O(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(dt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vs&&Tt.any3d&&!Tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,uo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,u){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(dt(n),r,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=d({animate:u.animate},u.zoom),u.pan=d({animate:u.animate,duration:u.duration},u.pan));var m=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,u.zoom):this._tryAnimatedPan(n,u.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,u){var m=this.getZoomScale(r),g=this.getSize().divideBy(2),S=n instanceof K?n:this.latLngToContainerPoint(n),C=S.subtract(g).multiplyBy(1-1/m),j=this.containerPointToLatLng(g.add(C));return this.setView(j,r,{zoom:u})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():ut(n);var u=W(r.paddingTopLeft||r.padding||[0,0]),m=W(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(n,!1,u.add(m));if(g=typeof r.maxZoom=="number"?Math.min(r.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var S=m.subtract(u).divideBy(2),C=this.project(n.getSouthWest(),g),j=this.project(n.getNorthEast(),g),V=this.unproject(C.add(j).divideBy(2).add(S),g);return{center:V,zoom:g}},fitBounds:function(n,r){if(n=ut(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,r);return this.setView(u.center,u.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=W(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new za,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Bt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,u){if(u=u||{},u.animate===!1||!Tt.any3d)return this.setView(n,r,u);this._stop();var m=this.project(this.getCenter()),g=this.project(n),S=this.getSize(),C=this._zoom;n=dt(n),r=r===void 0?C:r;var j=Math.max(S.x,S.y),V=j*this.getZoomScale(C,r),it=g.distanceTo(m)||1,gt=1.42,At=gt*gt;function Ht(be){var li=be?-1:1,Ji=be?V:j,Mo=V*V-j*j+li*At*At*it*it,Zs=2*Ji*At*it,qs=Mo/Zs,Ci=Math.sqrt(qs*qs+1)-qs,ui=Ci<1e-9?-18:Math.log(Ci);return ui}function Ze(be){return(Math.exp(be)-Math.exp(-be))/2}function Se(be){return(Math.exp(be)+Math.exp(-be))/2}function fn(be){return Ze(be)/Se(be)}var Wt=Ht(0);function $t(be){return j*(Se(Wt)/Se(Wt+gt*be))}function Gt(be){return j*(Se(Wt)*fn(Wt+gt*be)-Ze(Wt))/At}function Ai(be){return 1-Math.pow(1-be,1.5)}var xn=Date.now(),Ar=(Ht(1)-Wt)/gt,zi=u.duration?1e3*u.duration:1e3*Ar*.8;function No(){var be=(Date.now()-xn)/zi,li=Ai(be)*Ar;be<=1?(this._flyToFrame=mt(No,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Gt(li)/it)),C),this.getScaleZoom(j/$t(li),C),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),No.call(this),this},flyToBounds:function(n,r){var u=this._getBoundsCenterZoom(n,r);return this.flyTo(u.center,u.zoom,r)},setMaxBounds:function(n){return n=ut(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var u=this.getCenter(),m=this._limitCenter(u,this._zoom,ut(n));return u.equals(m)||this.panTo(m,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var u=W(r.paddingTopLeft||r.padding||[0,0]),m=W(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(n),C=this.getPixelBounds(),j=H([C.min.add(u),C.max.subtract(m)]),V=j.getSize();if(!j.contains(S)){this._enforcingBounds=!0;var it=S.subtract(j.getCenter()),gt=j.extend(S).getSize().subtract(V);g.x+=it.x<0?-gt.x:gt.x,g.y+=it.y<0?-gt.y:gt.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),m=r.divideBy(2).round(),g=u.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=_(this._handleGeolocationResponse,this),u=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,u,n):navigator.geolocation.getCurrentPosition(r,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,u=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,u=n.coords.longitude,m=new ht(r,u),g=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var C=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(C,S.maxZoom):C)}var j={latlng:m,bounds:g,timestamp:n.timestamp};for(var V in n.coords)typeof n.coords[V]=="number"&&(j[V]=n.coords[V]);this.fire("locationfound",j)}},addHandler:function(n,r){if(!r)return this;var u=this[n]=new r(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)le(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=qt("div",u,r||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new rt(r,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,u){n=ut(n),u=W(u||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),C=n.getNorthWest(),j=n.getSouthEast(),V=this.getSize().subtract(u),it=H(this.project(j,m),this.project(C,m)).getSize(),gt=Tt.any3d?this.options.zoomSnap:1,At=V.x/it.x,Ht=V.y/it.y,Ze=r?Math.max(At,Ht):Math.min(At,Ht);return m=this.getScaleZoom(Ze,m),gt&&(m=Math.round(m/(gt/100))*(gt/100),m=r?Math.ceil(m/gt)*gt:Math.floor(m/gt)*gt),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var u=this._getTopLeftPoint(n,r);return new z(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var u=this.options.crs;return r=r===void 0?this._zoom:r,u.scale(n)/u.scale(r)},getScaleZoom:function(n,r){var u=this.options.crs;r=r===void 0?this._zoom:r;var m=u.zoom(n*u.scale(r));return isNaN(m)?1/0:m},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(dt(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(W(n),r)},layerPointToLatLng:function(n){var r=W(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(dt(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(dt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ut(n))},distance:function(n,r){return this.options.crs.distance(dt(n),dt(r))},containerPointToLayerPoint:function(n){return W(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return W(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(W(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(n)))},mouseEventToContainerPoint:function(n){return Ts(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=co(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(r,"scroll",this._onScroll,this),this._containerId=y(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tt.any3d,Bt(n,"leaflet-container"+(Tt.touch?" leaflet-touch":"")+(Tt.retina?" leaflet-retina":"")+(Tt.ielt9?" leaflet-oldie":"")+(Tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=_s(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),he(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Bt(n.markerPane,"leaflet-zoom-hide"),Bt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,u){he(this._mapPane,new K(0,0));var m=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,u)._move(n,r)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,u,m){r===void 0&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){he(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var r=n?se:Mt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),Tt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=mt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var u=[],m,g=r==="mouseout"||r==="mouseover",S=n.target||n.srcElement,C=!1;S;){if(m=this._targets[y(S)],m&&(r==="click"||r==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(r,!0)&&(g&&!ai(S,n)||(u.push(m),g))||S===this._container)break;S=S.parentNode}return!u.length&&!C&&!g&&this.listens(r,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var u=n.type;u==="mousedown"&&Ta(r),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,u){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,u)}var g=this._findEventTargets(n,r);if(u){for(var S=[],C=0;C<u.length;C++)u[C].listens(r,!0)&&S.push(u[C]);g=S.concat(g)}if(g.length){r==="contextmenu"&&we(n);var j=g[0],V={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var it=j.getLatLng&&(!j._radius||j._radius<=10);V.containerPoint=it?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(n),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=it?j.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(r,V,!0),V.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&ft(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return vi(this._mapPane)||new K(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var u=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var u=this.getSize()._divideBy(2);return this.project(n,r)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,u){var m=this._getNewPixelOrigin(u,r);return this.project(n,r)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,r,u){var m=this._getNewPixelOrigin(u,r);return H([this.project(n.getSouthWest(),r)._subtract(m),this.project(n.getNorthWest(),r)._subtract(m),this.project(n.getSouthEast(),r)._subtract(m),this.project(n.getNorthEast(),r)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,u){if(!u)return n;var m=this.project(n,r),g=this.getSize().divideBy(2),S=new z(m.subtract(g),m.add(g)),C=this._getBoundsOffset(S,u,r);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?n:this.unproject(m.add(C),r)},_limitOffset:function(n,r){if(!r)return n;var u=this.getPixelBounds(),m=new z(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(m,r))},_getBoundsOffset:function(n,r,u){var m=H(this.project(r.getNorthEast(),u),this.project(r.getSouthWest(),u)),g=m.min.subtract(n.min),S=m.max.subtract(n.max),C=this._rebound(g.x,-S.x),j=this._rebound(g.y,-S.y);return new K(C,j)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),u=this.getMaxZoom(),m=Tt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(r,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var u=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,r),!0)},_createAnimProxy:function(){var n=this._proxy=qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var u=yi,m=this._proxy.style[u];ii(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),m===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();ii(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(r),g=this._getCenterOffset(n)._divideBy(1-1/m);return u.animate!==!0&&!this.getSize().contains(g)?!1:(mt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,u,m){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,Bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yo(n,r){return new Kt(n,r)}var cn=Ct.extend({options:{position:"topright"},initialize:function(n){O(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),u=this.getPosition(),m=n._controlCorners[u];return Bt(r,"leaflet-control"),u.indexOf("bottom")!==-1?m.insertBefore(r,m.firstChild):m.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),si=function(n){return new cn(n)};Kt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",u=this._controlContainer=qt("div",r+"control-container",this._container);function m(g,S){var C=r+g+" "+r+S;n[g+S]=qt("div",C,u)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)le(this._controlCorners[n]);le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var As=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,u,m){return u<m?-1:m<u?1:0}},initialize:function(n,r,u){O(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in r)this._addLayer(r[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return cn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(y(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=qt("div",n),u=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Ki(r),qn(r);var m=this._section=qt("section",n+"-list");u&&(this._map.on("click",this.collapse,this),Mt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=qt("a",n+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),Mt(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){we(S),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=qt("div",n+"-base",m),this._separator=qt("div",n+"-separator",m),this._overlaysList=qt("div",n+"-overlays",m),r.appendChild(m)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&y(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:u}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var n,r,u,m,g=0;for(u=0;u<this._layers.length;u++)m=this._layers[u],this._addItem(m),r=r||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(y(n.target)),u=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,r)},_createRadioElement:function(n,r){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=u,m.firstChild},_addItem:function(n){var r=document.createElement("label"),u=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=u):m=this._createRadioElement("leaflet-base-layers_"+y(this),u),this._layerControlInputs.push(m),m.layerId=y(n.layer),Mt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var S=document.createElement("span");r.appendChild(S),S.appendChild(m),S.appendChild(g);var C=n.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,u,m=[],g=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)r=n[S],u=this._getLayer(r.layerId).layer,r.checked?m.push(u):r.checked||g.push(u);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,u,m=this._map.getZoom(),g=n.length-1;g>=0;g--)r=n[g],u=this._getLayer(r.layerId).layer,r.disabled=u.options.minZoom!==void 0&&m<u.options.minZoom||u.options.maxZoom!==void 0&&m>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Mt(n,"click",we),this.expand();var r=this;setTimeout(function(){se(n,"click",we),r._preventClick=!1})}}),Ml=function(n,r,u){return new As(n,r,u)},vo=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",u=qt("div",r+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,r+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,r+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,u,m,g){var S=qt("a",u,m);return S.innerHTML=n,S.href="#",S.title=r,S.setAttribute("role","button"),S.setAttribute("aria-label",r),Ki(S),Mt(S,"click",_i),Mt(S,"click",g,this),Mt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";ye(this._zoomInButton,r),ye(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Bt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Bt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vo,this.addControl(this.zoomControl))});var Mc=function(n){return new vo(n)},Ol=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",u=qt("div",r),m=this.options;return this._addScales(m,r+"-line",u),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,u){n.metric&&(this._mScale=qt("div",r,u)),n.imperial&&(this._iScale=qt("div",r,u))},_update:function(){var n=this._map,r=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),u=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,u,r/n)},_updateImperial:function(n){var r=n*3.2808399,u,m,g;r>5280?(u=r/5280,m=this._getRoundNum(u),this._updateScale(this._iScale,m+" mi",m/u)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(n,r,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),u=n/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}}),_o=function(n){return new Ol(n)},Oc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bo=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Tt.inlineSvg?Oc+" ":"")+"Leaflet</a>"},initialize:function(n){O(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=qt("div","leaflet-control-attribution"),Ki(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new bo().addTo(this)});var kc=function(n){return new bo(n)};cn.Layers=As,cn.Zoom=vo,cn.Scale=Ol,cn.Attribution=bo,si.layers=Ml,si.zoom=Mc,si.scale=_o,si.attribution=kc;var Gn=Ct.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(n,r){return n.addHandler(r,this),this};var Rc={Events:M},xo=Tt.touch?"touchstart mousedown":"mousedown",bi=Y.extend({options:{clickTolerance:3},initialize:function(n,r,u,m){O(this,m),this._element=n,this._dragStartTarget=r||n,this._preventOutline=u},enable:function(){this._enabled||(Mt(this._dragStartTarget,xo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),se(this._dragStartTarget,xo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!fo(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){bi._dragging===this&&this.finishDrag();return}if(!(bi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(bi._dragging=this,this._preventOutline&&Ta(this._element),ur(),Sa(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,u=fr(this._element);this._startPoint=new K(r.clientX,r.clientY),this._startPos=vi(this._element),this._parentScale=ws(u);var m=n.type==="mousedown";Mt(document,m?"mousemove":"touchmove",this._onMove,this),Mt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,u=new K(r.clientX,r.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,we(n),this._moved||(this.fire("dragstart"),this._moved=!0,Bt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),he(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),se(document,"mousemove touchmove",this._onMove,this),se(document,"mouseup touchend touchcancel",this._onUp,this),xs(),Zn();var r=this._moved&&this._moving;this._moving=!1,bi._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function kl(n,r,u){var m,g=[1,4,2,8],S,C,j,V,it,gt,At,Ht;for(S=0,gt=n.length;S<gt;S++)n[S]._code=Qi(n[S],r);for(j=0;j<4;j++){for(At=g[j],m=[],S=0,gt=n.length,C=gt-1;S<gt;C=S++)V=n[S],it=n[C],V._code&At?it._code&At||(Ht=dr(it,V,At,r,u),Ht._code=Qi(Ht,r),m.push(Ht)):(it._code&At&&(Ht=dr(it,V,At,r,u),Ht._code=Qi(Ht,r),m.push(Ht)),m.push(V));n=m}return n}function Rl(n,r){var u,m,g,S,C,j,V,it,gt;if(!n||n.length===0)throw new Error("latlngs not passed");vn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var At=dt([0,0]),Ht=ut(n),Ze=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());Ze<1700&&(At=wo(n));var Se=n.length,fn=[];for(u=0;u<Se;u++){var Wt=dt(n[u]);fn.push(r.project(dt([Wt.lat-At.lat,Wt.lng-At.lng])))}for(j=V=it=0,u=0,m=Se-1;u<Se;m=u++)g=fn[u],S=fn[m],C=g.y*S.x-S.y*g.x,V+=(g.x+S.x)*C,it+=(g.y+S.y)*C,j+=C*3;j===0?gt=fn[0]:gt=[V/j,it/j];var $t=r.unproject(W(gt));return dt([$t.lat+At.lat,$t.lng+At.lng])}function wo(n){for(var r=0,u=0,m=0,g=0;g<n.length;g++){var S=dt(n[g]);r+=S.lat,u+=S.lng,m++}return dt([r/m,u/m])}var So={__proto__:null,clipPolygon:kl,polygonCenter:Rl,centroid:wo};function Bl(n,r){if(!r||!n.length)return n.slice();var u=r*r;return n=Dc(n,u),n=jl(n,u),n}function Dl(n,r,u){return Math.sqrt(zs(n,r,u,!0))}function Bc(n,r,u){return zs(n,r,u)}function jl(n,r){var u=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(u);g[0]=g[u-1]=1,Eo(n,g,r,0,u-1);var S,C=[];for(S=0;S<u;S++)g[S]&&C.push(n[S]);return C}function Eo(n,r,u,m,g){var S=0,C,j,V;for(j=m+1;j<=g-1;j++)V=zs(n[j],n[m],n[g],!0),V>S&&(C=j,S=V);S>u&&(r[C]=1,Eo(n,r,u,m,C),Eo(n,r,u,C,g))}function Dc(n,r){for(var u=[n[0]],m=1,g=0,S=n.length;m<S;m++)jc(n[m],n[g])>r&&(u.push(n[m]),g=m);return g<S-1&&u.push(n[S-1]),u}var Ul;function Hl(n,r,u,m,g){var S=m?Ul:Qi(n,u),C=Qi(r,u),j,V,it;for(Ul=C;;){if(!(S|C))return[n,r];if(S&C)return!1;j=S||C,V=dr(n,r,j,u,g),it=Qi(V,u),j===S?(n=V,S=it):(r=V,C=it)}}function dr(n,r,u,m,g){var S=r.x-n.x,C=r.y-n.y,j=m.min,V=m.max,it,gt;return u&8?(it=n.x+S*(V.y-n.y)/C,gt=V.y):u&4?(it=n.x+S*(j.y-n.y)/C,gt=j.y):u&2?(it=V.x,gt=n.y+C*(V.x-n.x)/S):u&1&&(it=j.x,gt=n.y+C*(j.x-n.x)/S),new K(it,gt,g)}function Qi(n,r){var u=0;return n.x<r.min.x?u|=1:n.x>r.max.x&&(u|=2),n.y<r.min.y?u|=4:n.y>r.max.y&&(u|=8),u}function jc(n,r){var u=r.x-n.x,m=r.y-n.y;return u*u+m*m}function zs(n,r,u,m){var g=r.x,S=r.y,C=u.x-g,j=u.y-S,V=C*C+j*j,it;return V>0&&(it=((n.x-g)*C+(n.y-S)*j)/V,it>1?(g=u.x,S=u.y):it>0&&(g+=C*it,S+=j*it)),C=n.x-g,j=n.y-S,m?C*C+j*j:new K(g,S)}function vn(n){return!st(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function mr(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vn(n)}function Ca(n,r){var u,m,g,S,C,j,V,it;if(!n||n.length===0)throw new Error("latlngs not passed");vn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var gt=dt([0,0]),At=ut(n),Ht=At.getNorthWest().distanceTo(At.getSouthWest())*At.getNorthEast().distanceTo(At.getNorthWest());Ht<1700&&(gt=wo(n));var Ze=n.length,Se=[];for(u=0;u<Ze;u++){var fn=dt(n[u]);Se.push(r.project(dt([fn.lat-gt.lat,fn.lng-gt.lng])))}for(u=0,m=0;u<Ze-1;u++)m+=Se[u].distanceTo(Se[u+1])/2;if(m===0)it=Se[0];else for(u=0,S=0;u<Ze-1;u++)if(C=Se[u],j=Se[u+1],g=C.distanceTo(j),S+=g,S>m){V=(S-m)/g,it=[j.x-V*(j.x-C.x),j.y-V*(j.y-C.y)];break}var Wt=r.unproject(W(it));return dt([Wt.lat+gt.lat,Wt.lng+gt.lng])}var Uc={__proto__:null,simplify:Bl,pointToSegmentDistance:Dl,closestPointOnSegment:Bc,clipSegment:Hl,_getEdgeIntersection:dr,_getBitCode:Qi,_sqClosestPointOnSegment:zs,isFlat:vn,_flat:mr,polylineCenter:Ca},pr={project:function(n){return new K(n.lng,n.lat)},unproject:function(n){return new ht(n.y,n.x)},bounds:new z([-180,-90],[180,90])},gr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,u=this.R,m=n.lat*r,g=this.R_MINOR/u,S=Math.sqrt(1-g*g),C=S*Math.sin(m),j=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),S/2);return m=-u*Math.log(Math.max(j,1e-10)),new K(n.lng*r*u,m)},unproject:function(n){for(var r=180/Math.PI,u=this.R,m=this.R_MINOR/u,g=Math.sqrt(1-m*m),S=Math.exp(-n.y/u),C=Math.PI/2-2*Math.atan(S),j=0,V=.1,it;j<15&&Math.abs(V)>1e-7;j++)it=g*Math.sin(C),it=Math.pow((1-it)/(1+it),g/2),V=Math.PI/2-2*Math.atan(S*it)-C,C+=V;return new ht(C*r,n.x*r/u)}},Pl={__proto__:null,LonLat:pr,Mercator:gr,SphericalMercator:Ae},Zl=d({},Rt,{code:"EPSG:3395",projection:gr,transformation:(function(){var n=.5/(Math.PI*gr.R);return Jt(n,.5,-n,.5)})()}),To=d({},Rt,{code:"EPSG:4326",projection:pr,transformation:Jt(1/180,1,-1/180,.5)}),La=d({},Et,{projection:pr,transformation:Jt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var u=r.lng-n.lng,m=r.lat-n.lat;return Math.sqrt(u*u+m*m)},infinite:!0});Et.Earth=Rt,Et.EPSG3395=Zl,Et.EPSG3857=Qe,Et.EPSG900913=Me,Et.EPSG4326=To,Et.Simple=La;var Rn=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var u=this.getEvents();r.on(u,this),this.once("remove",function(){r.off(u,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=y(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=y(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},_addLayers:function(n){n=n?st(n)?n:[n]:[];for(var r=0,u=n.length;r<u;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=y(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,u=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),r=g.maxZoom===void 0?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Na=Rn.extend({initialize:function(n,r){O(this,r),this._layers={};var u,m;if(n)for(u=0,m=n.length;u<m;u++)this.addLayer(n[u])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),u,m;for(u in this._layers)m=this._layers[u],m[n]&&m[n].apply(m,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),Hc=function(n,r){return new Na(n,r)},Vn=Na.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Na.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Na.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new rt;for(var r in this._layers){var u=this._layers[r];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),ql=function(n,r){return new Vn(n,r)},In=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){O(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(u,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,r){var u=this.options,m=u[r+"Size"];typeof m=="number"&&(m=[m,m]);var g=W(m),S=W(r==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(u.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return Tt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Cs(n){return new In(n)}var Ls=In.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Ls.imagePath!="string"&&(Ls.imagePath=this._detectIconPath()),(this.options.imagePath||Ls.imagePath)+In.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(u,m,g){var S=m.exec(u);return S&&S[g]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=qt("div","leaflet-default-icon-path",document.body),r=_s(n,"background-image")||_s(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Ns=Gn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new bi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Bt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,u=r._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=vi(r._icon),C=u.getPixelBounds(),j=u.getPixelOrigin(),V=H(C.min._subtract(j).add(g),C.max._subtract(j).subtract(g));if(!V.contains(S)){var it=W((Math.max(V.max.x,S.x)-V.max.x)/(C.max.x-V.max.x)-(Math.min(V.min.x,S.x)-V.min.x)/(C.min.x-V.min.x),(Math.max(V.max.y,S.y)-V.max.y)/(C.max.y-V.max.y)-(Math.min(V.min.y,S.y)-V.min.y)/(C.min.y-V.min.y)).multiplyBy(m);u.panBy(it,{animate:!1}),this._draggable._newPos._add(it),this._draggable._startPos._add(it),he(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=mt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=mt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,u=r._shadow,m=vi(r._icon),g=r._map.layerPointToLatLng(m);u&&he(u,m),r._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ms=Rn.extend({options:{icon:new Ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){O(this,r),this._latlng=dt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=dt(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),m=!1;u!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),Bt(u,r),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(u,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(Bt(g,r),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(this._icon,"focus",this._panOnFocus,this),le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&le(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&he(this._icon,n),this._shadow&&he(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ns)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ns(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&me(this._icon,n),this._shadow&&me(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,u=r.iconSize?W(r.iconSize):W(0,0),m=r.iconAnchor?W(r.iconAnchor):W(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:u.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gl(n,r){return new Ms(n,r)}var Yn=Rn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return O(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ma=Yn.extend({options:{fill:!0,radius:10},initialize:function(n,r){O(this,r),this._latlng=dt(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=dt(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Yn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,u=this._clickTolerance(),m=[n+u,r+u];this._pxBounds=new z(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vl(n,r){return new Ma(n,r)}var yr=Ma.extend({initialize:function(n,r,u){if(typeof r=="number"&&(r=d({},u,{radius:r})),O(this,r),this._latlng=dt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Yn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,u=this._map,m=u.options.crs;if(m.distance===Rt.distance){var g=Math.PI/180,S=this._mRadius/Rt.R/g,C=u.project([r+S,n]),j=u.project([r-S,n]),V=C.add(j).divideBy(2),it=u.unproject(V).lat,gt=Math.acos((Math.cos(S*g)-Math.sin(r*g)*Math.sin(it*g))/(Math.cos(r*g)*Math.cos(it*g)))/g;(isNaN(gt)||gt===0)&&(gt=S/Math.cos(Math.PI/180*r)),this._point=V.subtract(u.getPixelOrigin()),this._radius=isNaN(gt)?0:V.x-u.project([it,n-gt]).x,this._radiusY=V.y-C.y}else{var At=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(At).x}this._updateBounds()}});function Il(n,r,u){return new yr(n,r,u)}var ri=Yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){O(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,u=null,m=zs,g,S,C=0,j=this._parts.length;C<j;C++)for(var V=this._parts[C],it=1,gt=V.length;it<gt;it++){g=V[it-1],S=V[it];var At=m(n,g,S,!0);At<r&&(r=At,u=m(n,g,S))}return u&&(u.distance=Math.sqrt(r)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ca(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=dt(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new rt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],u=vn(n),m=0,g=n.length;m<g;m++)u?(r[m]=dt(n[m]),this._bounds.extend(r[m])):r[m]=this._convertLatLngs(n[m]);return r},_project:function(){var n=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new K(n,n);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,u){var m=n[0]instanceof ht,g=n.length,S,C;if(m){for(C=[],S=0;S<g;S++)C[S]=this._map.latLngToLayerPoint(n[S]),u.extend(C[S]);r.push(C)}else for(S=0;S<g;S++)this._projectLatlngs(n[S],r,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,u,m,g,S,C,j,V;for(u=0,g=0,S=this._rings.length;u<S;u++)for(V=this._rings[u],m=0,C=V.length;m<C-1;m++)j=Hl(V[m],V[m+1],n,m,!0),j&&(r[g]=r[g]||[],r[g].push(j[0]),(j[1]!==V[m+1]||m===C-2)&&(r[g].push(j[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,u=0,m=n.length;u<m;u++)n[u]=Bl(n[u],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var u,m,g,S,C,j,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,S=this._parts.length;u<S;u++)for(j=this._parts[u],m=0,C=j.length,g=C-1;m<C;g=m++)if(!(!r&&m===0)&&Dl(n,j[g],j[m])<=V)return!0;return!1}});function Pc(n,r){return new ri(n,r)}ri._flat=mr;var Oa=ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=ri.prototype._convertLatLngs.call(this,n),u=r.length;return u>=2&&r[0]instanceof ht&&r[0].equals(r[u-1])&&r.pop(),r},_setLatLngs:function(n){ri.prototype._setLatLngs.call(this,n),vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,u=new K(r,r);if(n=new z(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=kl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,u,m,g,S,C,j,V,it;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,V=this._parts.length;S<V;S++)for(u=this._parts[S],C=0,it=u.length,j=it-1;C<it;j=C++)m=u[C],g=u[j],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(r=!r);return r||ri.prototype._containsPoint.call(this,n,!0)}});function Zc(n,r){return new Oa(n,r)}var oi=Vn.extend({initialize:function(n,r){O(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=st(n)?n:n.features,u,m,g;if(r){for(u=0,m=r.length;u<m;u++)g=r[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var C=Ve(n,S);return C?(C.feature=br(n),C.defaultOptions=C.options,this.resetStyle(C),S.onEachFeature&&S.onEachFeature(n,C),this.addLayer(C)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Ve(n,r){var u=n.type==="Feature"?n.geometry:n,m=u?u.coordinates:null,g=[],S=r&&r.pointToLayer,C=r&&r.coordsToLatLng||vr,j,V,it,gt;if(!m&&!u)return null;switch(u.type){case"Point":return j=C(m),ka(S,n,j,r);case"MultiPoint":for(it=0,gt=m.length;it<gt;it++)j=C(m[it]),g.push(ka(S,n,j,r));return new Vn(g);case"LineString":case"MultiLineString":return V=Os(m,u.type==="LineString"?0:1,C),new ri(V,r);case"Polygon":case"MultiPolygon":return V=Os(m,u.type==="Polygon"?1:2,C),new Oa(V,r);case"GeometryCollection":for(it=0,gt=u.geometries.length;it<gt;it++){var At=Ve({geometry:u.geometries[it],type:"Feature",properties:n.properties},r);At&&g.push(At)}return new Vn(g);case"FeatureCollection":for(it=0,gt=u.features.length;it<gt;it++){var Ht=Ve(u.features[it],r);Ht&&g.push(Ht)}return new Vn(g);default:throw new Error("Invalid GeoJSON object.")}}function ka(n,r,u,m){return n?n(r,u):new Ms(u,m&&m.markersInheritOptions&&m)}function vr(n){return new ht(n[1],n[0],n[2])}function Os(n,r,u){for(var m=[],g=0,S=n.length,C;g<S;g++)C=r?Os(n[g],r-1,u):(u||vr)(n[g]),m.push(C);return m}function _r(n,r){return n=dt(n),n.alt!==void 0?[k(n.lng,r),k(n.lat,r),k(n.alt,r)]:[k(n.lng,r),k(n.lat,r)]}function ks(n,r,u,m){for(var g=[],S=0,C=n.length;S<C;S++)g.push(r?ks(n[S],vn(n[S])?0:r-1,u,m):_r(n[S],m));return!r&&u&&g.length>0&&g.push(g[0].slice()),g}function xi(n,r){return n.feature?d({},n.feature,{geometry:r}):br(r)}function br(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var wi={toGeoJSON:function(n){return xi(this,{type:"Point",coordinates:_r(this.getLatLng(),n)})}};Ms.include(wi),yr.include(wi),Ma.include(wi),ri.include({toGeoJSON:function(n){var r=!vn(this._latlngs),u=ks(this._latlngs,r?1:0,!1,n);return xi(this,{type:(r?"Multi":"")+"LineString",coordinates:u})}}),Oa.include({toGeoJSON:function(n){var r=!vn(this._latlngs),u=r&&!vn(this._latlngs[0]),m=ks(this._latlngs,u?2:r?1:0,!0,n);return r||(m=[m]),xi(this,{type:(u?"Multi":"")+"Polygon",coordinates:m})}}),Na.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(u){r.push(u.toGeoJSON(n).geometry.coordinates)}),xi(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var u=r==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(n);if(u)m.push(S.geometry);else{var C=br(S);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),u?xi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function xr(n,r){return new oi(n,r)}var Rs=xr,Ra=Rn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,u){this._url=n,this._bounds=ut(r),O(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Ii(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ut(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:qt("img");if(Bt(r,"leaflet-image-layer"),this._zoomAnimated&&Bt(r,"leaflet-zoom-animated"),this.options.className&&Bt(r,this.options.className),r.onselectstart=T,r.onmousemove=T,r.onload=_(this.fire,this,"load"),r.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;ii(this._image,u,r)},_reset:function(){var n=this._image,r=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=r.getSize();he(n,r.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Yl=function(n,r,u){return new Ra(n,r,u)},Si=Ra.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:qt("video");if(Bt(r,"leaflet-image-layer"),this._zoomAnimated&&Bt(r,"leaflet-zoom-animated"),this.options.className&&Bt(r,this.options.className),r.onselectstart=T,r.onmousemove=T,r.onloadeddata=_(this.fire,this,"load"),n){for(var u=r.getElementsByTagName("source"),m=[],g=0;g<u.length;g++)m.push(u[g].src);this._url=u.length>0?m:[r.src];return}st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var C=qt("source");C.src=this._url[S],r.appendChild(C)}}});function Ba(n,r,u){return new Si(n,r,u)}var wr=Ra.extend({_initImage:function(){var n=this._image=this._url;Bt(n,"leaflet-image-layer"),this._zoomAnimated&&Bt(n,"leaflet-zoom-animated"),this.options.className&&Bt(n,this.options.className),n.onselectstart=T,n.onmousemove=T}});function Kl(n,r,u){return new wr(n,r,u)}var Ie=Rn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof ht||st(n))?(this._latlng=dt(n),O(this,r)):(O(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&me(this._container,1),this.bringToFront(),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(_(le,void 0,this._container),200)):le(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=dt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Ii(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof Vn){r=null;var u=this._source._layers;for(var m in u)if(u[m]._map){r=u[m];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=W(this.options.offset),u=this._getAnchor();this._zoomAnimated?he(this._container,n.add(u)):r=r.add(n).add(u);var m=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(n,r,u,m){var g=r;return g instanceof n||(g=new n(m).setContent(r)),u&&g.setLatLng(u),g}}),Rn.include({_initOverlay:function(n,r,u,m){var g=u;return g instanceof n?(O(g,m),g._source=this):(g=r&&!m?r:new n(m,this),g.setContent(u)),g}});var Bs=Ie.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ie.prototype.openOn.call(this,n)},onAdd:function(n){Ie.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yn||this._source.on("preclick",kn))},onRemove:function(n){Ie.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yn||this._source.off("preclick",kn))},getEvents:function(){var n=Ie.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=qt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=qt("div",n+"-content-wrapper",r);if(this._contentNode=qt("div",n+"-content",u),Ki(r),qn(this._contentNode),Mt(r,"contextmenu",kn),this._tipContainer=qt("div",n+"-tip-container",r),this._tip=qt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=qt("a",n+"-close-button",r);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(m,"click",function(g){we(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),r.width=u+1+"px",r.whiteSpace="",r.height="";var m=n.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(r.height=g+"px",Bt(n,S)):ye(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();he(this._container,r.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(_s(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,m=this._containerWidth,g=new K(this._containerLeft,-u-this._containerBottom);g._add(vi(this._container));var S=n.layerPointToContainerPoint(g),C=W(this.options.autoPanPadding),j=W(this.options.autoPanPaddingTopLeft||C),V=W(this.options.autoPanPaddingBottomRight||C),it=n.getSize(),gt=0,At=0;S.x+m+V.x>it.x&&(gt=S.x+m-it.x+V.x),S.x-gt-j.x<0&&(gt=S.x-j.x),S.y+u+V.y>it.y&&(At=S.y+u-it.y+V.y),S.y-At-j.y<0&&(At=S.y-j.y),(gt||At)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([gt,At]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ql=function(n,r){return new Bs(n,r)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(n,r,u){return this._initOverlay(Bs,n,r,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Rn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(Bs,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){_i(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Yn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Ds=Ie.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ie.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ie.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ie.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,u,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(n),j=this.options.direction,V=g.offsetWidth,it=g.offsetHeight,gt=W(this.options.offset),At=this._getAnchor();j==="top"?(r=V/2,u=it):j==="bottom"?(r=V/2,u=0):j==="center"?(r=V/2,u=it/2):j==="right"?(r=0,u=it/2):j==="left"?(r=V,u=it/2):C.x<S.x?(j="right",r=0,u=it/2):(j="left",r=V+(gt.x+At.x)*2,u=it/2),n=n.subtract(W(r,u,!0)).add(gt).add(At),ye(g,"leaflet-tooltip-right"),ye(g,"leaflet-tooltip-left"),ye(g,"leaflet-tooltip-top"),ye(g,"leaflet-tooltip-bottom"),Bt(g,"leaflet-tooltip-"+j),he(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&me(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qc=function(n,r){return new Ds(n,r)};Kt.include({openTooltip:function(n,r,u){return this._initOverlay(Ds,n,r,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Rn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ds,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[r](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(Mt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Mt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,u,m;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(u),r=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(r)}});var Xl=In.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(gn(r),r.appendChild(u.html)):r.innerHTML=u.html!==!1?u.html:"",u.bgPos){var m=W(u.bgPos);r.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Gc(n){return new Xl(n)}In.Default=Ls;var Da=Rn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){O(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),le(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof K?n:new K(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,u=-n(-1/0,1/0),m=0,g=r.length,S;m<g;m++)S=r[m].style.zIndex,r[m]!==this._container&&S&&(u=n(u,+S));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Tt.ielt9){me(this._container,this.options.opacity);var n=+new Date,r=!1,u=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(n-g.loaded)/200);me(g.el,S),S<1?r=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),r&&(_t(this._fadeFrame),this._fadeFrame=mt(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=r-Math.abs(n-u),this._onUpdateLevel(u)):(le(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=r,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),T(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var n,r,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var m=r.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)le(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,u,m){var g=Math.floor(n/2),S=Math.floor(r/2),C=u-1,j=new K(+g,+S);j.z=+C;var V=this._tileCoordsToKey(j),it=this._tiles[V];return it&&it.active?(it.retain=!0,!0):(it&&it.loaded&&(it.retain=!0),C>m?this._retainParent(g,S,C,m):!1)},_retainChildren:function(n,r,u,m){for(var g=2*n;g<2*n+2;g++)for(var S=2*r;S<2*r+2;S++){var C=new K(g,S);C.z=u+1;var j=this._tileCoordsToKey(C),V=this._tiles[j];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);u+1<m&&this._retainChildren(g,S,u+1,m)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,u,m){var g=Math.round(r);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,r)},_setZoomTransform:function(n,r,u){var m=this._map.getZoomScale(u,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(r,u)).round();Tt.any3d?ii(n.el,g,m):he(n.el,g)},_resetGrid:function(){var n=this._map,r=n.options.crs,u=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],m).x/u.x),Math.ceil(n.project([0,r.wrapLng[1]],m).x/u.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],m).y/u.x),Math.ceil(n.project([r.wrapLat[1],0],m).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,u=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),m=r.getZoomScale(u,this._tileZoom),g=r.project(n,this._tileZoom).floor(),S=r.getSize().divideBy(m*2);return new z(g.subtract(S),g.add(S))},_update:function(n){var r=this._map;if(r){var u=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),S=g.getCenter(),C=[],j=this.options.keepBuffer,V=new z(g.getBottomLeft().subtract([j,-j]),g.getTopRight().add([j,-j]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var it in this._tiles){var gt=this._tiles[it].coords;(gt.z!==this._tileZoom||!V.contains(new K(gt.x,gt.y)))&&(this._tiles[it].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var At=g.min.y;At<=g.max.y;At++)for(var Ht=g.min.x;Ht<=g.max.x;Ht++){var Ze=new K(Ht,At);if(Ze.z=this._tileZoom,!!this._isValidTile(Ze)){var Se=this._tiles[this._tileCoordsToKey(Ze)];Se?Se.current=!0:C.push(Ze)}}if(C.sort(function(Wt,$t){return Wt.distanceTo(S)-$t.distanceTo(S)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fn=document.createDocumentFragment();for(Ht=0;Ht<C.length;Ht++)this._addTile(C[Ht],fn);this._level.el.appendChild(fn)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var u=this._globalTileRange;if(!r.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!r.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return ut(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,u=this.getTileSize(),m=n.scaleBy(u),g=m.add(u),S=r.unproject(m,n.z),C=r.unproject(g,n.z);return[S,C]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),u=new rt(r[0],r[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),u=new K(+r[0],+r[1]);return u.z=+r[2],u},_removeTile:function(n){var r=this._tiles[n];r&&(le(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Bt(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=T,n.onmousemove=T,Tt.ielt9&&this.options.opacity<1&&me(n,this.options.opacity)},_addTile:function(n,r){var u=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&mt(_(this._tileReady,this,n,null,g)),he(g,u),this._tiles[m]={el:g,coords:n,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,r,u){r&&this.fire("tileerror",{error:r,tile:u,coords:n});var m=this._tileCoordsToKey(n);u=this._tiles[m],u&&(u.loaded=+new Date,this._map._fadeAnimated?(me(u.el,0),_t(this._fadeFrame),this._fadeFrame=mt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),r||(Bt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Tt.ielt9||!this._map._fadeAnimated?mt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new K(this._wrapX?A(n.x,this._wrapX):n.x,this._wrapY?A(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new z(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Fl(n){return new Da(n)}var Ei=Da.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=O(this,r),r.detectRetina&&Tt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var u=document.createElement("img");return Mt(u,"load",_(this._tileOnLoad,this,r,u)),Mt(u,"error",_(this._tileOnError,this,r,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var r={r:Tt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=u),r["-y"]=u}return nt(this._url,d(r,this.options))},_tileOnLoad:function(n,r){Tt.ielt9?setTimeout(_(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,u){var m=this.options.errorTileUrl;m&&r.getAttribute("src")!==m&&(r.src=m),n(u,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,u=this.options.zoomReverse,m=this.options.zoomOffset;return u&&(n=r-n),n+m},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=T,r.onerror=T,!r.complete)){r.src=lt;var u=this._tiles[n].coords;le(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:u})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",lt),Da.prototype._removeTile.call(this,n)},_tileReady:function(n,r,u){if(!(!this._map||u&&u.getAttribute("src")===lt))return Da.prototype._tileReady.call(this,n,r,u)}});function _n(n,r){return new Ei(n,r)}var js=Ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var u=d({},this.defaultWmsParams);for(var m in r)m in this.options||(u[m]=r[m]);r=O(this,r);var g=r.detectRetina&&Tt.retina?2:1,S=this.getTileSize();u.width=S.x*g,u.height=S.y*g,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Ei.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),u=this._crs,m=H(u.project(r[0]),u.project(r[1])),g=m.min,S=m.max,C=(this._wmsVersion>=1.3&&this._crs===To?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),j=Ei.prototype.getTileUrl.call(this,n);return j+Z(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(n,r){return d(this.wmsParams,n),r||this.redraw(),this}});function bn(n,r){return new js(n,r)}Ei.WMS=js,_n.wms=bn;var an=Rn.extend({options:{padding:.1},initialize:function(n){O(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var u=this._map.getZoomScale(r,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),S=m.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(n,r));Tt.any3d?ii(this._container,S,u):he(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),u=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new z(u,u.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sr=an.extend({options:{tolerance:0},getEvents:function(){var n=an.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Mt(n,"mousemove",this._onMouseMove,this),Mt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,le(this._container),se(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,r=this._container,u=n.getSize(),m=Tt.retina?2:1;he(r,n.min),r.width=m*u.x,r.height=m*u.y,r.style.width=u.x+"px",r.style.height=u.y+"px",Tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,u=r.next,m=r.prev;u?u.prev=m:this._drawLast=m,m?m.next=u:this._drawFirst=u,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),u=[],m,g;for(g=0;g<r.length;g++){if(m=Number(r[g]),isNaN(m))return;u.push(m)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||mt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var u=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var u,m,g,S,C=n._parts,j=C.length,V=this._ctx;if(j){for(V.beginPath(),u=0;u<j;u++){for(m=0,g=C[u].length;m<g;m++)S=C[u][m],V[m?"lineTo":"moveTo"](S.x,S.y);r&&V.closePath()}this._fillStroke(V,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,u=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(r.x,r.y/g,m,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,r){var u=r.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(m=u);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(ye(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(r)&&(m=u);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,u){this._map._fireDOMEvent(r,u||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var u=r.next,m=r.prev;if(u)u.prev=m;else return;m?m.next=u:u&&(this._drawFirst=u),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var u=r.next,m=r.prev;if(m)m.next=u;else return;u?u.prev=m:m&&(this._drawLast=m),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Us(n){return Tt.canvas?new Sr(n):null}var Ti=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ao={_initContainer:function(){this._container=qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=Ti("shape");Bt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=Ti("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;le(r),n.removeInteractiveTarget(r),delete this._layers[y(n)]},_updateStyle:function(n){var r=n._stroke,u=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(r||(r=n._stroke=Ti("stroke")),g.appendChild(r),r.weight=m.weight+"px",r.color=m.color,r.opacity=m.opacity,m.dashArray?r.dashStyle=st(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=m.lineCap.replace("butt","flat"),r.joinstyle=m.lineJoin):r&&(g.removeChild(r),n._stroke=null),m.fill?(u||(u=n._fill=Ti("fill")),g.appendChild(u),u.color=m.fillColor||m.color,u.opacity=m.fillOpacity):u&&(g.removeChild(u),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),u=Math.round(n._radius),m=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+u+","+m+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Pe(n._container)},_bringToBack:function(n){Ii(n._container)}},Kn=Tt.vml?Ti:mn,ja=an.extend({_initContainer:function(){this._container=Kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){le(this._container),se(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,r=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,u.setAttribute("width",r.x),u.setAttribute("height",r.y)),he(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Kn("path");n.options.className&&Bt(r,n.options.className),n.options.interactive&&Bt(r,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){le(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,u=n.options;r&&(u.stroke?(r.setAttribute("stroke",u.color),r.setAttribute("stroke-opacity",u.opacity),r.setAttribute("stroke-width",u.weight),r.setAttribute("stroke-linecap",u.lineCap),r.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?r.setAttribute("stroke-dasharray",u.dashArray):r.removeAttribute("stroke-dasharray"),u.dashOffset?r.setAttribute("stroke-dashoffset",u.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),u.fill?(r.setAttribute("fill",u.fillColor||u.color),r.setAttribute("fill-opacity",u.fillOpacity),r.setAttribute("fill-rule",u.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,un(n._parts,r))},_updateCircle:function(n){var r=n._point,u=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||u,g="a"+u+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(r.x-u)+","+r.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(n,S)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Pe(n._path)},_bringToBack:function(n){Ii(n._path)}});Tt.vml&&ja.include(Ao);function Hs(n){return Tt.svg||Tt.vml?new ja(n):null}Kt.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Us(n)||Hs(n)}});var Xi=Oa.extend({initialize:function(n,r){Oa.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ut(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Vc(n,r){return new Xi(n,r)}ja.create=Kn,ja.pointsToPath=un,oi.geometryToLayer=Ve,oi.coordsToLatLng=vr,oi.coordsToLatLngs=Os,oi.latLngToCoords=_r,oi.latLngsToCoords=ks,oi.getFeature=xi,oi.asFeature=br,Kt.mergeOptions({boxZoom:!0});var sn=Gn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sa(),ur(),this._startPoint=this._map.mouseEventToContainerPoint(n),Mt(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=qt("div","leaflet-zoom-box",this._container),Bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new z(this._point,this._startPoint),u=r.getSize();he(this._box,r.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(le(this._box),ye(this._container,"leaflet-crosshair")),Zn(),xs(),se(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var r=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",sn),Kt.mergeOptions({doubleClickZoom:!0});var Er=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,u=r.getZoom(),m=r.options.zoomDelta,g=n.originalEvent.shiftKey?u-m:u+m;r.options.doubleClickZoom==="center"?r.setZoom(g):r.setZoomAround(n.containerPoint,g)}});Kt.addInitHook("addHandler","doubleClickZoom",Er),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qn=Gn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new bi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ut(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),u=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-r+u)%n+r-u,S=(m+r+u)%n-r-u,C=Math.abs(g+u)<Math.abs(S+u)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(n){var r=this._map,u=r.options,m=!u.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),m)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,C=u.easeLinearity,j=g.multiplyBy(C/S),V=j.distanceTo([0,0]),it=Math.min(u.inertiaMaxSpeed,V),gt=j.multiplyBy(it/V),At=it/(u.inertiaDeceleration*C),Ht=gt.multiplyBy(-At/2).round();!Ht.x&&!Ht.y?r.fire("moveend"):(Ht=r._limitOffset(Ht,r.options.maxBounds),mt(function(){r.panBy(Ht,{duration:At,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",Qn),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zo=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Mt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),se(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,u=n.scrollTop||r.scrollTop,m=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(m,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},u=this.keyCodes,m,g;for(m=0,g=u.left.length;m<g;m++)r[u.left[m]]=[-1*n,0];for(m=0,g=u.right.length;m<g;m++)r[u.right[m]]=[n,0];for(m=0,g=u.down.length;m<g;m++)r[u.down[m]]=[0,n];for(m=0,g=u.up.length;m<g;m++)r[u.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},u=this.keyCodes,m,g;for(m=0,g=u.zoomIn.length;m<g;m++)r[u.zoomIn[m]]=n;for(m=0,g=u.zoomOut.length;m<g;m++)r[u.zoomOut[m]]=-n},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){se(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,u=this._map,m;if(r in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(m=this._panKeys[r],n.shiftKey&&(m=W(m).multiplyBy(3)),u.options.maxBounds&&(m=u._limitOffset(W(m),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(m)));u.panTo(g)}else u.panBy(m)}else if(r in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;_i(n)}}});Kt.addInitHook("addHandler","keyboard",zo),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ps=Gn.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Fe(n),u=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),_i(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=u?Math.ceil(g/u)*u:g,C=n._limitZoom(r+(this._delta>0?S:-S))-r;this._delta=0,this._startTime=null,C&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+C):n.setZoomAround(this._lastMousePos,r+C))}});Kt.addInitHook("addHandler","scrollWheelZoom",Ps);var Fi=600;Kt.mergeOptions({tapHold:Tt.touchNative&&Tt.safari&&Tt.mobile,tapTolerance:15});var Tr=Gn.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new K(r.clientX,r.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",we),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Fi),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){se(document,"touchend",we),se(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new K(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});u._simulated=!0,r.target.dispatchEvent(u)}});Kt.addInitHook("addHandler","tapHold",Tr),Kt.mergeOptions({touchZoom:Tt.touch,bounceAtZoomLimits:!0});var Co=Gn.extend({addHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var u=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(u.add(m)._divideBy(2))),this._startDist=u.distanceTo(m),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),we(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,u=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]),g=u.distanceTo(m)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=u._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var C=_(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=mt(C,this,!0),we(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Co),Kt.BoxZoom=sn,Kt.DoubleClickZoom=Er,Kt.Drag=Qn,Kt.Keyboard=zo,Kt.ScrollWheelZoom=Ps,Kt.TapHold=Tr,Kt.TouchZoom=Co,l.Bounds=z,l.Browser=Tt,l.CRS=Et,l.Canvas=Sr,l.Circle=yr,l.CircleMarker=Ma,l.Class=Ct,l.Control=cn,l.DivIcon=Xl,l.DivOverlay=Ie,l.DomEvent=hr,l.DomUtil=Aa,l.Draggable=bi,l.Evented=Y,l.FeatureGroup=Vn,l.GeoJSON=oi,l.GridLayer=Da,l.Handler=Gn,l.Icon=In,l.ImageOverlay=Ra,l.LatLng=ht,l.LatLngBounds=rt,l.Layer=Rn,l.LayerGroup=Na,l.LineUtil=Uc,l.Map=Kt,l.Marker=Ms,l.Mixin=Rc,l.Path=Yn,l.Point=K,l.PolyUtil=So,l.Polygon=Oa,l.Polyline=ri,l.Popup=Bs,l.PosAnimation=za,l.Projection=Pl,l.Rectangle=Xi,l.Renderer=an,l.SVG=ja,l.SVGOverlay=wr,l.TileLayer=Ei,l.Tooltip=Ds,l.Transformation=en,l.Util=Lt,l.VideoOverlay=Si,l.bind=_,l.bounds=H,l.canvas=Us,l.circle=Il,l.circleMarker=Vl,l.control=si,l.divIcon=Gc,l.extend=d,l.featureGroup=ql,l.geoJSON=xr,l.geoJson=Rs,l.gridLayer=Fl,l.icon=Cs,l.imageOverlay=Yl,l.latLng=dt,l.latLngBounds=ut,l.layerGroup=Hc,l.map=yo,l.marker=Gl,l.point=W,l.polygon=Zc,l.polyline=Pc,l.popup=Ql,l.rectangle=Vc,l.setOptions=O,l.stamp=y,l.svg=Hs,l.svgOverlay=Kl,l.tileLayer=_n,l.tooltip=qc,l.transformation=Jt,l.version=c,l.videoOverlay=Ba;var Lo=window.L;l.noConflict=function(){return window.L=Lo,this},window.L=l}))})(fl,fl.exports)),fl.exports}var xl=_E();const ga=rd(xl);function Vd(a,s,l){return Object.freeze({instance:a,context:s,container:l})}function Id(a,s){return s==null?function(c,d){const p=F.useRef(void 0);return p.current||(p.current=a(c,d)),p}:function(c,d){const p=F.useRef(void 0);p.current||(p.current=a(c,d));const _=F.useRef(c),{instance:b}=p.current;return F.useEffect(function(){_.current!==c&&(s(b,c,_.current),_.current=c)},[b,c,s]),p}}function Ov(a,s){F.useEffect(function(){return(s.layerContainer??s.map).addLayer(a.instance),function(){s.layerContainer?.removeLayer(a.instance),s.map.removeLayer(a.instance)}},[s,a])}function kv(a){return function(l){const c=qd(),d=a(Gd(l,c),c);return mE(c.map,l.attribution),Mv(d.current,l.eventHandlers),Ov(d.current,c),d}}function bE(a,s){const l=F.useRef(void 0);F.useEffect(function(){if(s.pathOptions!==l.current){const d=s.pathOptions??{};a.instance.setStyle(d),l.current=d}},[a,s])}function xE(a){return function(l){const c=qd(),d=a(Gd(l,c),c);return Mv(d.current,l.eventHandlers),Ov(d.current,c),bE(d.current,l),d}}function wE(a,s){const l=Id(a,s),c=kv(l);return Nv(c)}function SE(a,s){const l=Id(a,s),c=xE(l);return Nv(c)}function EE(a,s){const l=Id(a,s),c=kv(l);return yE(c)}function TE(a,s,l){const{opacity:c,zIndex:d}=s;c!=null&&c!==l.opacity&&a.setOpacity(c),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function Rv(){return qd().map}function Yd(a){const s=Rv();return F.useEffect(function(){return s.on(a),function(){s.off(a)}},[s,a]),s}function AE({bounds:a,boundsOptions:s,center:l,children:c,className:d,id:p,placeholder:_,style:b,whenReady:y,zoom:w,...A},T){const[k]=F.useState({className:d,id:p,style:b}),[D,U]=F.useState(null),O=F.useRef(void 0);F.useImperativeHandle(T,()=>D?.map??null,[D]);const Z=F.useCallback(nt=>{if(nt!==null&&!O.current){const st=new xl.Map(nt,A);O.current=st,l!=null&&w!=null?st.setView(l,w):a!=null&&st.fitBounds(a,s),y!=null&&st.whenReady(y),U(gE(st))}},[]);F.useEffect(()=>()=>{D?.map.remove()},[D]);const P=D?hl.createElement(Zd,{value:D},c):_??null;return hl.createElement("div",{...k,ref:Z},P)}const zE=F.forwardRef(AE),ao=wE(function({position:s,...l},c){const d=new xl.Marker(s,l);return Vd(d,Lv(c,{overlayContainer:d}))},function(s,l,c){l.position!==c.position&&s.setLatLng(l.position),l.icon!=null&&l.icon!==c.icon&&s.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==c.zIndexOffset&&s.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==c.opacity&&s.setOpacity(l.opacity),s.dragging!=null&&l.draggable!==c.draggable&&(l.draggable===!0?s.dragging.enable():s.dragging.disable())}),A0=SE(function({positions:s,...l},c){const d=new xl.Polyline(s,l);return Vd(d,Lv(c,{overlayContainer:d}))},function(s,l,c){l.positions!==c.positions&&s.setLatLngs(l.positions)}),CE=EE(function({url:s,...l},c){const d=new xl.TileLayer(s,Gd(l,c));return Vd(d,c)},function(s,l,c){TE(s,l,c);const{url:d}=l;d!=null&&d!==c.url&&s.setUrl(d)}),ji={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:31714,ROUTE_LOG:34171},zn=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function oc(a,s,l=10){const c=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,_=-90,b=90,y=-180,w=180,A="",T=0,k=0;for(;A.length<l;){if(p){const D=(y+w)/2;s>D?(k|=c[T],y=D):w=D}else{const D=(_+b)/2;a>D?(k|=c[T],_=D):b=D}p=!p,T<4?T++:(A+=d[k],T=0,k=0)}return A}function LE(a,s,l=5){const c=oc(a,s,l),d=l===5?.02:l===6?.005:.001,p=l===5?.04:l===6?.01:.002,_=new Set;_.add(c);const b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[y,w]of b){const A=a+y*d,T=s+w*p;_.add(oc(A,T,l))}return Array.from(_)}async function Bv(a,s,l){const c=JSON.stringify(a);if(l){const d=gl.getConversationKey(l,s);return gl.encrypt(c,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(s,c);throw new Error("No encryption method available")}async function Dv(a,s,l){let c;if(l){const d=gl.getConversationKey(l,s);c=gl.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)c=await window.nostr.nip44.decrypt(s,a);else throw new Error("No decryption method available");return JSON.parse(c)}const lc={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function NE(a,s){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${s}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&lc[d]?lc[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),jv()}}function jv(){try{const s=window.navigator.language.split("-")[1]?.toUpperCase();return s&&lc[s]?lc[s]:"USD"}catch{return"USD"}}function to(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const ME={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function OE(a){return(ME[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}var tr=Symbol("verified"),kE=a=>a instanceof Object;function Uv(a){if(!kE(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}new TextDecoder("utf-8");var RE=new TextEncoder,BE=class{generateSecretKey(){return ki.utils.randomPrivateKey()}getPublicKey(a){return Ue(ki.getPublicKey(a))}finalizeEvent(a,s){const l=a;return l.pubkey=Ue(ki.getPublicKey(s)),l.id=Wu(l),l.sig=Ue(ki.sign(Wu(l),s)),l[tr]=!0,l}verifyEvent(a){if(typeof a[tr]=="boolean")return a[tr];const s=Wu(a);if(s!==a.id)return a[tr]=!1,!1;try{const l=ki.verify(a.sig,s,a.pubkey);return a[tr]=l,l}catch{return a[tr]=!1,!1}}};function Hv(a){if(!Uv(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Wu(a){let s=cs(RE.encode(Hv(a)));return Ue(s)}var Ec=new BE,Pv=Ec.generateSecretKey,DE=Ec.getPublicKey,Zv=Ec.finalizeEvent;Ec.verifyEvent;const jE=Object.freeze(Object.defineProperty({__proto__:null,finalizeEvent:Zv,generateSecretKey:Pv,getEventHash:Wu,getPublicKey:DE,serializeEvent:Hv,validateEvent:Uv,verifiedSymbol:tr},Symbol.toStringTag,{value:"Module"})),UE=({status:a,setStatus:s,location:l,vehicleType:c,setOpenSpots:d,parkLocation:p,setParkLocation:_})=>{const{pubkey:b,pool:y,signEvent:w}=io(),[A,T]=F.useState(!1),[k,D]=F.useState("0"),[U,O]=F.useState("USD"),[Z,P]=F.useState("$"),[nt,st]=F.useState(null),ft=hl.useRef(c);F.useEffect(()=>{if(a==="search"&&l){ft.current!==c&&(d([]),ft.current=c);const X=LE(l[0],l[1],5);console.log("[Parlens] Searching for spots in geohashes:",X);const et=Math.floor(Date.now()/1e3);console.log("[Parlens] Searching for open spots - Kind:",ji.OPEN_SPOT_BROADCAST,"Geohashes:",X);const yt=async()=>{try{console.log("[Parlens] Starting querySync...");const mt=await y.querySync(zn,{kinds:[ji.OPEN_SPOT_BROADCAST],"#g":X,since:et-300});console.log("[Parlens] querySync returned",mt.length,"events");const _t=Math.floor(Date.now()/1e3);for(const Lt of mt){console.log("[Parlens] Processing event - ID:",Lt.id.substring(0,16),"Kind:",Lt.kind);const Ct=Lt.tags.find($=>$[0]==="expiration");if(Ct){const $=parseInt(Ct[1]);if(console.log("[Parlens] Expiration check:",$,"vs current:",_t,"expired:",$<_t),$<_t){console.log("[Parlens] Skipping expired spot");continue}}try{const $=Lt.tags,M=$.find(W=>W[0]==="location"),Y=$.find(W=>W[0]==="hourly_rate"),K=$.find(W=>W[0]==="currency"),pt=$.find(W=>W[0]==="type");if(console.log("[Parlens] Tags - location:",M?.[1],"type:",pt?.[1],"price:",Y?.[1]),M){const[W,z]=M[1].split(",").map(Number),H=pt?pt[1]:"car";if(H!==c){console.log("[Parlens] Skipping spot - type mismatch:",H,"vs",c);continue}const rt=Lt.tags.find(dt=>dt[0]==="expiration"),ut=rt?parseInt(rt[1]):Math.floor(Date.now()/1e3)+300,ht={id:Lt.id,lat:W,lon:z,price:Y?parseFloat(Y[1]):0,currency:K?K[1]:"USD",type:H,expiresAt:ut};console.log("[Parlens] *** ADDING SPOT TO MAP ***",ht),d(dt=>{const Et=Math.floor(Date.now()/1e3),Rt=dt.filter(kt=>!kt.expiresAt||kt.expiresAt>Et);return Rt.find(kt=>kt.id===ht.id)?(console.log("[Parlens] Spot already exists, skipping"),Rt):(console.log("[Parlens] New spots array length:",Rt.length+1),[...Rt,ht])})}else console.log("[Parlens] No location tag found")}catch($){console.warn("[Parlens] Error parsing spot:",$)}}}catch(mt){console.error("[Parlens] querySync error:",mt)}};yt();const bt=setInterval(()=>{console.log("[Parlens] Refreshing spot search..."),yt()},3e4);return()=>{clearInterval(bt)}}},[a,l,c]),F.useEffect(()=>{const X=localStorage.getItem("parlens_session");if(X)try{const et=JSON.parse(X);et.status==="parked"&&et.parkLocation&&et.sessionStart?(console.log("[Parlens] Restoring parked session:",et),st(et.sessionStart),_(et.parkLocation),s("parked")):et.status==="search"&&(console.log("[Parlens] Restoring search session"),s("search"))}catch(et){console.warn("[Parlens] Failed to restore session:",et),localStorage.removeItem("parlens_session")}},[]),F.useEffect(()=>{a==="parked"&&nt&&p?(localStorage.setItem("parlens_session",JSON.stringify({status:"parked",sessionStart:nt,parkLocation:p})),d([])):a==="search"?localStorage.setItem("parlens_session",JSON.stringify({status:"search"})):a==="idle"&&(localStorage.removeItem("parlens_session"),d([]))},[a,nt,p]),F.useEffect(()=>{(async()=>{const et=jv();if(O(et),P(to(et)),l)try{const yt=await NE(l[0],l[1]);O(yt),P(to(yt))}catch{console.warn("GPS currency detection failed")}})()},[l]);const lt=async()=>{if(a==="idle"){const X=parseInt(localStorage.getItem("parlens_last_parked_at")||"0"),et=Date.now(),yt=300*1e3;if(et-X<yt){const bt=Math.ceil((yt-(et-X))/6e4);alert(`Please wait ${bt} minutes before searching for a new spot.`);return}s("search")}else a==="search"?(st(Math.floor(Date.now()/1e3)),_([l[0],l[1]]),d([]),s("parked")):a==="parked"&&(D("0"),T(!0))},ot=async()=>{s("idle"),T(!1);const X=p?p[0]:l[0],et=p?p[1]:l[1],yt=oc(X,et,5),bt=Math.floor(Date.now()/1e3),mt=nt||bt;try{const _t={status:"vacated",type:c,lat:X,lon:et,geohash:yt,fee:k,currency:U,started_at:mt,finished_at:bt};localStorage.setItem("parlens_last_parked_at",Date.now().toString());const Lt=localStorage.getItem("parlens_privkey"),Ct=Lt?new Uint8Array(Lt.match(/.{1,2}/g).map(Rt=>parseInt(Rt,16))):void 0,$=await Bv(_t,b,Ct),M={kind:ji.PARKING_LOG,content:$,tags:[["g",yt],["client","parlens"],["d",`session_${mt}`]],created_at:bt,pubkey:b},Y=await w(M);console.log("[Parlens] Publishing log:",Y.id,"to",zn),console.log("[Parlens] Log content (encrypted):",Y.content.substring(0,50)+"..."),console.log("[Parlens] Log tags:",Y.tags);const K=y.publish(zn,Y),pt=await Promise.allSettled(K);pt.forEach((Rt,kt)=>{Rt.status==="fulfilled"?console.log(`[Parlens] Relay ${zn[kt]}: Published successfully`):console.error(`[Parlens] Relay ${zn[kt]}: Failed -`,Rt.reason)});const W=pt.filter(Rt=>Rt.status==="fulfilled").length;console.log(`[Parlens] Log published to ${W}/${zn.length} relays`);const z=Pv(),H=bt-mt,rt=Math.max(Math.ceil(H/3600),1),ut=(parseFloat(k)/rt).toFixed(2),ht=bt+60,dt={kind:ji.OPEN_SPOT_BROADCAST,content:"",tags:[["d",`spot_${yt}_${bt}`],["g",yt],["location",`${X},${et}`],["hourly_rate",ut],["currency",U],["type",c],["expiration",String(ht)],["client","parlens"]],created_at:bt},Et=Zv(dt,z);console.log("[Parlens] *** BROADCASTING OPEN SPOT ***"),console.log("[Parlens] Geohash:",yt),console.log("[Parlens] Location:",`${X},${et}`),console.log("[Parlens] Event ID:",Et.id),console.log("[Parlens] Pubkey:",Et.pubkey.substring(0,20)+"..."),y.publish(zn,Et),st(null),_(null)}catch(_t){console.error("Persistence error:",_t),alert("Could not save to Nostr. Check relay connections.")}};return x.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&x.jsx("button",{onClick:()=>{d([]),s("idle")},className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),x.jsxs("button",{onClick:lt,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&x.jsx(rE,{size:32,strokeWidth:2.5}),a==="search"&&x.jsx(rc,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(c==="bicycle"?x.jsx("span",{className:"text-3xl",children:""}):c==="motorcycle"?x.jsx("span",{className:"text-3xl",children:""}):x.jsx("span",{className:"text-3xl",children:""}))]})]}),A&&x.jsx("div",{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in slide-in-from-bottom-10 sm:zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[x.jsxs("div",{className:"text-center space-y-1",children:[x.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),x.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[x.jsx("span",{className:"text-2xl font-bold text-blue-500",children:Z}),x.jsx("input",{type:"number",value:k,onChange:X=>D(X.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),x.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:U})]}),x.jsxs("div",{className:"flex flex-col gap-1.5",children:[x.jsx("button",{onClick:()=>D(String(Math.max(0,parseFloat(k||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:x.jsx(US,{size:22,className:"text-zinc-600 dark:text-white/70"})}),x.jsx("button",{onClick:()=>D(String(Math.max(0,parseFloat(k||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:x.jsx(yl,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),x.jsxs("div",{className:"w-full space-y-3",children:[x.jsxs("button",{onClick:ot,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",x.jsx(OS,{size:20})]}),x.jsx("button",{onClick:()=>T(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function HE(){const{pool:a,pubkey:s}=io(),[l,c]=F.useState([]),[d,p]=F.useState(!0),_=F.useCallback(async()=>{if(s){p(!0),console.log("[useParkingLogs] Fetching logs for",s);try{const b=await a.querySync(zn,{kinds:[ji.PARKING_LOG],authors:[s],limit:50});console.log("[useParkingLogs] Fetched",b.length,"events");const y=b.sort((w,A)=>A.created_at-w.created_at);c(y)}catch(b){console.error("[useParkingLogs] Fetch error:",b)}finally{p(!1)}}},[a,s]);return F.useEffect(()=>{_()},[_]),{logs:l,loading:d,refetch:_}}const PE=({setHistorySpots:a,onOpenChange:s})=>{const{pubkey:l,logout:c,pool:d,signEvent:p}=io(),{logs:_,refetch:b}=HE(),[y,w]=F.useState(!1),[A,T]=F.useState(null),[k,D]=F.useState([]),[U,O]=F.useState(!1),[Z,P]=F.useState(!1);F.useEffect(()=>{l&&(async()=>{const lt=await d.get(zn,{kinds:[0],authors:[l]});if(lt)try{const ot=JSON.parse(lt.content);T({name:ot.name||ot.display_name||"Nostr User",npub:ar.npubEncode(l),picture:ot.picture})}catch(ot){console.error("Error parsing profile:",ot)}else T({name:"Nostr User",npub:ar.npubEncode(l),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${l}`})})()},[l,d]),F.useEffect(()=>{(async()=>{if(!l||!_.length)return;const lt=localStorage.getItem("parlens_privkey"),ot=lt?new Uint8Array(lt.match(/.{1,2}/g).map(et=>parseInt(et,16))):void 0,X=await Promise.all(_.map(async et=>{try{const yt=await Dv(et.content,l,ot);return{...et,decryptedContent:yt}}catch{return{...et,decryptedContent:null}}}));D(X.filter(et=>et.decryptedContent))})()},[_,l]),F.useEffect(()=>{a&&a(U?k:[])},[U,k,a]);const nt=()=>{const ft=localStorage.getItem("parlens_privkey");if(ft){const lt=ar.nsecEncode(new Uint8Array(ft.match(/.{1,2}/g).map(ot=>parseInt(ot,16))));navigator.clipboard.writeText(lt),alert("Copied to clipboard")}},st=async ft=>{if(confirm("Are you sure you want to delete this parking entry? This action cannot be undone.")){P(!0);try{const lt=ft.tags?.find(et=>et[0]==="d")?.[1],ot={kind:5,content:"Deleted by user",tags:[["e",ft.id],...lt?[["a",`${ji.PARKING_LOG}:${l}:${lt}`]]:[]],created_at:Math.floor(Date.now()/1e3),pubkey:l},X=await p(ot);await Promise.allSettled(d.publish(zn,X)),D(et=>et.filter(yt=>yt.id!==ft.id)),b(),alert("Entry deleted")}catch(lt){console.error("Delete error:",lt),alert("Failed to delete entry")}finally{P(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>{b(),w(!0),s?.(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Profile",children:x.jsx(hE,{size:20})}),y&&x.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[x.jsx("button",{onClick:()=>{w(!1),s?.(!1)},className:"absolute inset-0 z-0 cursor-default"}),x.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[Z&&x.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),x.jsx("p",{className:"text-sm font-medium text-white",children:"Deleting..."})]})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:A?.name||"Nostr User"}),x.jsx("button",{onClick:()=>{w(!1),s?.(!1)},className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:x.jsx(Pd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),x.jsxs("div",{className:"space-y-0.5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[x.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer rounded-t-[2rem] last:rounded-b-[2rem]",onClick:()=>{navigator.clipboard.writeText(A?.npub),alert("Copied to clipboard")},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:x.jsx(td,{size:20})}),x.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),x.jsx(sc,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),x.jsxs("div",{onClick:nt,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10 rounded-b-[2rem]",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:x.jsx(Cv,{size:20})}),x.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),x.jsx(sc,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]}),x.jsx("p",{className:"text-xs text-zinc-400 dark:text-white/30 mt-2 ml-2 leading-relaxed",children:" Store your npub and nsec securely. These are your account access keys and cannot be recovered if lost."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&x.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:x.jsx(rc,{size:20})}),x.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),x.jsx("button",{onClick:()=>O(!U),className:`w-12 h-7 rounded-full transition-colors relative ${U?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:x.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${U?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),x.jsx("div",{className:"space-y-2",children:k.length>0?k.map(ft=>{const lt=ft.decryptedContent,ot=to(lt.currency||"USD"),X=lt.started_at?new Date(lt.started_at*1e3):null,et=lt.finished_at?new Date(lt.finished_at*1e3):new Date(ft.created_at*1e3),yt=lt.lat&&lt.lon?`${lt.lat.toFixed(5)}, ${lt.lon.toFixed(5)}`:null,bt=lt.type||ft.tags?.find(_t=>_t[0]==="type")?.[1]||"car",mt=bt==="bicycle"?"":bt==="motorcycle"?"":"";return x.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-2xl",children:mt}),x.jsx("p",{className:"font-bold text-xl",children:lt.fee?`${ot}${lt.fee}`:"Free"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-2xl",children:OE(lt.currency||"USD")}),x.jsx("button",{onClick:()=>st(ft),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",title:"Delete entry",children:x.jsx(ed,{size:16})})]})]}),yt&&x.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[x.jsx(rc,{size:12,className:"text-blue-500 dark:text-blue-400"}),x.jsx("span",{className:"font-mono",children:yt})]}),x.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[x.jsx(Av,{size:12,className:"text-green-500 dark:text-green-400"}),x.jsxs("div",{className:"space-x-1",children:[X&&x.jsxs("span",{children:["Start: ",X.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",X.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),x.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),x.jsxs("span",{children:["End: ",et.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",et.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},ft.id)}):x.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:x.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),x.jsx("button",{onClick:()=>{c(),w(!1),s?.(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout"})]})]})]})},ZE=({vehicleType:a,onRouteChange:s,currentLocation:l,onDropPinModeChange:c,pendingDropPin:d,onDropPinConsumed:p,onOpenChange:_})=>{const{pool:b,pubkey:y,signEvent:w}=io(),[A,T]=F.useState(!1);F.useEffect(()=>{_?.(A)},[A,_]);const[k,D]=F.useState([]),[U,O]=F.useState(""),[Z,P]=F.useState(!1),[nt,st]=F.useState(null),[ft,lt]=F.useState(null),[ot,X]=F.useState(!1),et=F.useRef(null),[yt,bt]=F.useState([]),[mt,_t]=F.useState(""),[Lt,Ct]=F.useState(!1),[$,M]=F.useState(!1),[Y,K]=F.useState(!1),[pt,W]=F.useState(!1),[z,H]=F.useState(null),[rt,ut]=F.useState(""),[ht,dt]=F.useState(!1),Et=hl.useMemo(()=>{if(!U||U.length<2)return[];const ct=U.toLowerCase(),vt=[];for(const xt of yt)for(const jt of xt.decryptedContent.waypoints)jt.name.toLowerCase().includes(ct)&&(vt.find(Ft=>Ft.name.toLowerCase()===jt.name.toLowerCase())||vt.push({name:jt.name,lat:jt.lat,lon:jt.lon}));return vt.slice(0,5)},[U,yt]),Rt=ct=>{D(vt=>vt.filter(xt=>xt.id!==ct)),st(null),lt(null),P(!1),s(null,null,null,!1)},kt=()=>{D([]),st(null),lt(null),P(!1),s(null,null,null,!1)},Ae=async()=>{if(k.length<2){alert("Add at least 2 waypoints to create a route");return}X(!0);try{const vt={bicycle:"cycling",motorcycle:"driving",car:"driving"}[a],xt=[],jt=[];for(let Yt=0;Yt<k.length-1;Yt++){const xe=k[Yt],nn=k[Yt+1],ze=`${xe.lon},${xe.lat};${nn.lon},${nn.lat}`;console.log(`[Parlens] Fetching segment ${Yt+1}: ${xe.name}  ${nn.name}`);const Ui=await fetch(`https://router.project-osrm.org/route/v1/${vt}/${ze}?overview=full&geometries=geojson&alternatives=true`);if(!Ui.ok)throw new Error(`OSRM error: ${Ui.status}`);const Ln=await Ui.json();if(Ln.routes&&Ln.routes[0]){const mi=Ln.routes[0].geometry.coordinates.map(ei=>[ei[1],ei[0]]);if(xt.push(mi),Ln.routes.length>1){const ei=Ln.routes[1].geometry.coordinates.map(Nn=>[Nn[1],Nn[0]]);jt.push(ei),console.log(`[Parlens] Segment ${Yt+1} has alternate route`)}else jt.push(mi),console.log(`[Parlens] Segment ${Yt+1} has no alternate, using primary`)}else throw new Error(`No route found for segment ${Yt+1}`)}const Ft=[],Zt=[];for(let Yt=0;Yt<xt.length;Yt++){const xe=Yt===0?0:1;Ft.push(...xt[Yt].slice(xe)),Zt.push(...jt[Yt].slice(xe))}console.log("[Parlens] Combined primary route:",Ft.length,"points"),console.log("[Parlens] Combined alternate route:",Zt.length,"points"),st(Ft),lt(Zt),P(!0),s(Ft,Zt,k.map(Yt=>({lat:Yt.lat,lon:Yt.lon})),!0),T(!1)}catch(ct){console.error("Route creation error:",ct);const vt=k.map(xt=>[xt.lat,xt.lon]);st(vt),lt(null),P(!0),s(vt,null,k.map(xt=>({lat:xt.lat,lon:xt.lon})),!0),T(!1)}finally{X(!1)}},en=()=>{const ct=!Z;P(ct),s(nt,ft,k.map(vt=>({lat:vt.lat,lon:vt.lon})),ct)},Jt=F.useCallback(async()=>{if(!(!b||!y)){M(!0);try{const ct=await b.querySync(zn,{kinds:[ji.ROUTE_LOG],authors:[y]});console.log("[Parlens] Fetched route events:",ct.length);const vt=localStorage.getItem("parlens_privkey"),xt=vt?new Uint8Array(vt.match(/.{1,2}/g).map(Ft=>parseInt(Ft,16))):void 0,jt=[];for(const Ft of ct)if(!Ft.tags.find(Zt=>Zt[0]==="deleted")&&Ft.content)try{const Zt=await Dv(Ft.content,y,xt);if(Zt){const Yt=Ft.tags.find(xe=>xe[0]==="d")?.[1]||"";jt.push({id:Ft.id,dTag:Yt,decryptedContent:Zt,created_at:Ft.created_at})}}catch(Zt){console.warn("[Parlens] Failed to decrypt route:",Zt)}jt.sort((Ft,Zt)=>Zt.created_at-Ft.created_at),bt(jt)}catch(ct){console.error("Error fetching saved routes:",ct)}finally{M(!1)}}},[b,y]);F.useEffect(()=>{A&&y&&Jt()},[A,y,Jt]);const Qe=()=>{const ct=!pt;W(ct),c?.(ct),ct&&T(!1)};F.useEffect(()=>{if(d){const ct={id:crypto.randomUUID(),name:`Pin ${k.length+1}`,lat:d.lat,lon:d.lon};D(vt=>[...vt,ct]),st(null),lt(null),P(!1),s(null,null,null,!1),p?.(),T(!0),W(!1),c?.(!1)}},[d]);const Me=async()=>{if(!b||!y||!w||!nt||k.length<2){alert("Please create a route first");return}const ct=mt.trim()||`Route ${new Date().toLocaleDateString()}`;Ct(!0);try{const vt={name:ct,waypoints:k.map(ze=>({name:ze.name,lat:ze.lat,lon:ze.lon})),routeCoords:nt,alternateRouteCoords:ft||void 0,vehicleType:a,created_at:Math.floor(Date.now()/1e3)},xt=localStorage.getItem("parlens_privkey"),jt=xt?new Uint8Array(xt.match(/.{1,2}/g).map(ze=>parseInt(ze,16))):void 0,Ft=await Bv(vt,y,jt),Zt=`route_${Date.now()}`,Yt={kind:ji.ROUTE_LOG,created_at:Math.floor(Date.now()/1e3),tags:[["d",Zt],["client","parlens"]],content:Ft},xe=await w(Yt);console.log("[Parlens] Signed route event:",xe);const nn=await Promise.any(b.publish(zn,xe));console.log("[Parlens] Route published:",nn),_t(""),await Jt(),alert("Route saved!")}catch(vt){console.error("[Parlens] Error saving route:",vt),alert("Failed to save route, try again later")}finally{Ct(!1)}},mn=(ct,vt)=>{D(xt=>xt.map(jt=>jt.id===ct?{...jt,name:vt}:jt)),H(null),ut("")},un=ct=>{H(ct.id),ut(ct.name)},Ot=async ct=>{const vt=ct.decryptedContent,xt=vt.waypoints.map(jt=>({id:crypto.randomUUID(),name:jt.name,lat:jt.lat,lon:jt.lon}));D(xt),st(vt.routeCoords),lt(vt.alternateRouteCoords||null),P(!0),K(!1),s(vt.routeCoords,vt.alternateRouteCoords||null,vt.waypoints.map(jt=>({lat:jt.lat,lon:jt.lon})),!0),T(!1)},ae=async ct=>{if(!(!b||!y||!w)&&confirm("Are you sure you want to delete this route? This action cannot be undone.")){dt(!0);try{const vt={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["e",ct.id],["a",`${ji.ROUTE_LOG}:${y}:${ct.dTag}`]],content:"Deleted by user"},xt=await w(vt);await Promise.allSettled(b.publish(zn,xt));const jt={kind:ji.ROUTE_LOG,created_at:Math.floor(Date.now()/1e3),tags:[["d",ct.dTag],["deleted","true"]],content:""},Ft=await w(jt);await Promise.allSettled(b.publish(zn,Ft)),bt(Zt=>Zt.filter(Yt=>Yt.id!==ct.id)),alert("Route deleted")}catch(vt){console.error("Error deleting route:",vt),alert("Failed to delete route")}finally{dt(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>T(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Create Route",children:x.jsx(nE,{size:20})}),A&&x.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[x.jsx("button",{onClick:()=>T(!1),className:"absolute inset-0 z-0 cursor-default"}),x.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[ht&&x.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),x.jsx("p",{className:"text-sm font-medium text-white",children:"Deleting..."})]})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-cyan-500 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:"Create Route"}),x.jsx("button",{onClick:()=>T(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:x.jsx(Pd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:"Add Waypoint"}),x.jsx("div",{className:"relative",children:x.jsx("input",{ref:et,type:"text",placeholder:"Search waypoints from saved routes",value:U,onChange:ct=>O(ct.target.value),className:"w-full h-14 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10 px-4 text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),Et.length>0&&x.jsxs("div",{className:"rounded-2xl overflow-hidden bg-green-50 dark:bg-green-500/10 border border-green-500/20",children:[x.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-green-700 dark:text-green-400 bg-green-100/50 dark:bg-green-500/5",children:" From your saved routes"}),Et.map((ct,vt)=>x.jsxs("button",{onClick:()=>{const xt={id:crypto.randomUUID(),name:ct.name,lat:ct.lat,lon:ct.lon};D(jt=>[...jt,xt]),O(""),st(null),lt(null),P(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 hover:bg-green-100 dark:hover:bg-green-500/10 transition-colors text-left border-b border-green-500/10 last:border-0",children:[x.jsx(rc,{size:16,className:"text-green-600 dark:text-green-400 shrink-0"}),x.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white/80 truncate",children:ct.name})]},`saved-${vt}`))]}),l&&x.jsxs("button",{onClick:()=>{const ct={id:crypto.randomUUID(),name:"Current Location",lat:l[0],lon:l[1]};D(vt=>[...vt,ct]),st(null),lt(null),P(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-blue-500/10 dark:bg-blue-500/20 border border-blue-500/20 hover:bg-blue-500/20 transition-colors",children:[x.jsx(zv,{size:16,className:"text-blue-500"}),x.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Add Current Location"})]}),x.jsxs("button",{onClick:Qe,className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-orange-500/10 dark:bg-orange-500/20 border border-orange-500/20 hover:bg-orange-500/20 transition-colors",children:[x.jsx(JS,{size:16,className:"text-orange-500"}),x.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Drop Pin on Map"})]})]}),x.jsxs("div",{className:"space-y-2 flex-1",children:[x.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:["Waypoints (",k.length,")"]}),k.length===0?x.jsx("div",{className:"p-8 text-center text-zinc-400 dark:text-white/30 text-sm",children:"No waypoints added yet."}):x.jsx("div",{className:"space-y-2",children:k.map((ct,vt)=>x.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[x.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs font-bold flex items-center justify-center shrink-0",children:vt+1}),z===ct.id?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"text",value:rt,onChange:xt=>ut(xt.target.value),className:"flex-1 text-sm bg-white dark:bg-white/10 rounded-lg px-2 py-1 text-zinc-700 dark:text-white border border-blue-500",autoFocus:!0,onKeyDown:xt=>{xt.key==="Enter"&&mn(ct.id,rt),xt.key==="Escape"&&H(null)}}),x.jsx("button",{onClick:()=>mn(ct.id,rt),className:"p-2 rounded-xl text-green-500 hover:bg-green-500/10 transition-colors",children:x.jsx(RS,{size:16})})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white font-medium truncate",children:ct.name}),x.jsx("button",{onClick:()=>un(ct),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:x.jsx(tE,{size:14})})]}),x.jsx("button",{onClick:()=>Rt(ct.id),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:x.jsx(ed,{size:16})})]},ct.id))})]}),nt&&x.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[Z?x.jsx(IS,{size:20,className:"text-blue-500"}):x.jsx(GS,{size:20,className:"text-zinc-400"}),x.jsx("span",{className:"font-medium text-zinc-700 dark:text-white",children:"Show on Map"})]}),x.jsx("button",{onClick:en,className:`w-14 h-8 rounded-full transition-colors ${Z?"bg-blue-500":"bg-zinc-300 dark:bg-white/20"}`,children:x.jsx("div",{className:`w-6 h-6 rounded-full bg-white shadow-md transition-transform ${Z?"translate-x-7":"translate-x-1"}`})})]}),nt&&y&&x.jsxs("div",{className:"space-y-3 p-4 rounded-2xl bg-green-500/5 dark:bg-green-500/10 border border-green-500/20",children:[x.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-green-600 dark:text-green-400 flex items-center gap-2",children:[x.jsx(aE,{size:14}),"Save Route"]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[x.jsx("input",{type:"text",value:mt,onChange:ct=>_t(ct.target.value),placeholder:"Route name (optional)",className:"w-full sm:flex-1 p-3 rounded-xl bg-white dark:bg-white/5 border border-black/5 dark:border-white/10 text-zinc-700 dark:text-white placeholder-zinc-400 dark:placeholder-white/40 text-sm"}),x.jsx("button",{onClick:Me,disabled:Lt,className:"w-full sm:w-auto px-6 rounded-xl bg-green-500 text-white font-bold disabled:opacity-50 transition-all active:scale-95 py-3 sm:py-0",children:Lt?"...":"Save"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:kt,disabled:k.length===0,className:"flex-1 h-14 rounded-2xl bg-zinc-200 dark:bg-white/10 text-zinc-600 dark:text-white/70 font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:"Clear Route"}),x.jsx("button",{onClick:Ae,disabled:k.length<2||ot,className:"flex-1 h-14 rounded-2xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:ot?"Creating...":"Create Route"})]}),!nt&&k.length>=2&&y&&x.jsx("p",{className:"text-xs text-center text-zinc-400 dark:text-white/40",children:" Save option will appear after you create the route"}),y&&x.jsxs("div",{className:"space-y-3 border-t border-black/5 dark:border-white/10 pt-4",children:[x.jsxs("button",{onClick:()=>K(!Y),className:"w-full flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(KS,{size:18,className:"text-zinc-500 dark:text-white/50"}),x.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30",children:["Saved Routes (",yt.length,")"]})]}),x.jsx("span",{className:"text-xs text-zinc-400 dark:text-white/40",children:Y?"Hide":"Show"})]}),Y&&x.jsx("div",{className:"space-y-2",children:$?x.jsx("div",{className:"text-center text-zinc-400 dark:text-white/40 text-sm py-4",children:"Loading..."}):yt.length===0?x.jsx("div",{className:"text-center text-zinc-400 dark:text-white/40 text-sm py-4",children:"No saved routes yet"}):yt.map(ct=>x.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[x.jsxs("button",{onClick:()=>Ot(ct),className:"flex-1 text-left",children:[x.jsx("div",{className:"font-medium text-sm text-zinc-700 dark:text-white truncate",children:ct.decryptedContent.name}),x.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[x.jsxs("span",{children:[ct.decryptedContent.waypoints.length," stops"]}),x.jsx("span",{children:""}),x.jsx(Av,{size:12}),x.jsx("span",{children:new Date(ct.created_at*1e3).toLocaleDateString()})]})]}),x.jsx("button",{onClick:()=>ae(ct),className:"p-2 rounded-lg text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:x.jsx(ed,{size:16})})]},ct.id))})]}),x.jsx("div",{className:"p-3 rounded-xl bg-amber-500/10 dark:bg-amber-500/5 border border-amber-500/20",children:x.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400/80 leading-relaxed",children:[x.jsx("strong",{children:"Tip:"})," Use ",x.jsx("strong",{children:"Drop Pin on Map"})," and",x.jsx("strong",{children:" edit waypoint names"})," to label locations. When you ",x.jsx("strong",{children:"save routes"}),", waypoint names become searchable  building your personal offline map over time! "]})})]})]})]})};function qE(a){return a>=17?8:a>=15?7:a>=13?6:a>=11?5:a>=9?4:3}function z0(a,s,l=!0){if(!l||a.length<2)return a;const c=qE(s),d=new Map;for(const _ of a){const b=s>=15?`${_.lat.toFixed(4)},${_.lon.toFixed(4)}`:oc(_.lat,_.lon,c);if(d.has(b)){const y=d.get(b);y.spots.push(_),y.count++,y.minPrice=Math.min(y.minPrice,_.price),y.maxPrice=Math.max(y.maxPrice,_.price),y.lat=y.spots.reduce((w,A)=>w+A.lat,0)/y.count,y.lon=y.spots.reduce((w,A)=>w+A.lon,0)/y.count}else d.set(b,{id:`cluster-${b}`,lat:_.lat,lon:_.lon,spots:[_],minPrice:_.price,maxPrice:_.price,currency:_.currency,count:1})}const p=[];for(const _ of d.values())_.count===1?p.push(_.spots[0]):p.push(_);return p}function C0(a){return"count"in a&&a.count>1}class Zh{q;r;x;p;k;initialized=!1;constructor(s=1e-5,l=.001){this.q=s,this.r=l,this.x=0,this.p=1,this.k=0}filter(s){return this.initialized?(this.p=this.p+this.q,this.k=this.p/(this.p+this.r),this.x=this.x+this.k*(s-this.x),this.p=(1-this.k)*this.p,this.x):(this.x=s,this.initialized=!0,s)}reset(){this.initialized=!1,this.x=0,this.p=1}}class GE{latFilter;lonFilter;bearingFilter;lastBearing=0;constructor(){this.latFilter=new Zh(1e-5,1e-4),this.lonFilter=new Zh(1e-5,1e-4),this.bearingFilter=new Zh(.1,.5)}smoothLocation(s,l){return[this.latFilter.filter(s),this.lonFilter.filter(l)]}smoothBearing(s,l){if(l<2)return null;let c=(s%360+360)%360;if(this.lastBearing!==0){const _=c-this.lastBearing;_>180&&(c-=360),_<-180&&(c+=360)}const p=(this.bearingFilter.filter(c)%360+360)%360;return this.lastBearing=p,p}reset(){this.latFilter.reset(),this.lonFilter.reset(),this.bearingFilter.reset(),this.lastBearing=0}}class VE{currentRotation=0;lastRawBearing=0;initialized=!1;setBearing(s){const l=(s%360+360)%360;if(!this.initialized)return this.currentRotation=l,this.lastRawBearing=l,this.initialized=!0,this.currentRotation;let c=l-this.lastRawBearing;return c>180?c-=360:c<-180&&(c+=360),this.currentRotation+=c,this.lastRawBearing=l,this.currentRotation}getCurrentRotation(){return this.currentRotation}reset(){this.currentRotation=0,this.lastRawBearing=0,this.initialized=!1}}const IE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",KE=ga.icon({iconUrl:IE,shadowUrl:YE,iconSize:[25,41],iconAnchor:[12,41]});ga.Marker.prototype.options.icon=KE;const QE=({location:a,bearing:s})=>{const l=`
           <div style="transform: rotate(${s}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,c=ga.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return x.jsx(ao,{position:a,icon:c,zIndexOffset:1e3})},XE=({location:a,vehicleType:s})=>{const d=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)); transform: rotate(0deg);">${s==="bicycle"?"":s==="motorcycle"?"":""}</div>`,p=ga.divIcon({className:"active-session-marker",html:d,iconSize:[40,40],iconAnchor:[20,20]});return x.jsx(ao,{position:a,icon:p})},FE=F.memo(({spot:a})=>{const l=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(0deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                
             </div>
             <div style="background: #34C759; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${a.price>0?`${a.currency==="USD"?"$":a.currency}${a.price.toFixed(2)}/hr`:"Free"}
             </div>
        </div>
    `,c=ga.divIcon({className:"spot-marker",html:l,iconSize:[60,60],iconAnchor:[30,45]});return x.jsx(ao,{position:[a.lat,a.lon],icon:c})}),JE=({spot:a})=>{const s=a.decryptedContent;if(!s||!s.lat||!s.lon)return null;const c=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(0deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); opacity: 0.7;">
                
             </div>
             <div style="background: #8E8E93; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${s.fee?`${to(s.currency||"USD")}${s.fee}`:"Free"}
             </div>
        </div>
    `,d=ga.divIcon({className:"history-marker",html:c,iconSize:[60,60],iconAnchor:[30,45]});return x.jsx(ao,{position:[s.lat,s.lon],icon:d})},L0=({cluster:a,type:s})=>{const l=s==="open"?"":"",c=s==="open"?"#34C759":"#8E8E93",d=0,p=a.minPrice===a.maxPrice?a.minPrice>0?`${to(a.currency)}${a.minPrice}`:"Free":`${to(a.currency)}${a.minPrice}-${a.maxPrice}`,_=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 70px; transform: rotate(${d}deg);">
             <div style="font-size: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); position: relative;">
                ${l}
                <div style="position: absolute; top: -5px; right: -5px; background: ${c}; color: white; font-size: 10px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                    ${a.count}
                </div>
             </div>
             <div style="background: ${c}; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${p}
             </div>
        </div>
    `,b=ga.divIcon({className:"cluster-marker",html:_,iconSize:[70,60],iconAnchor:[35,45]});return x.jsx(ao,{position:[a.lat,a.lon],icon:b})},WE=({onZoomChange:a})=>{const s=Yd({zoomend:()=>{a(s.getZoom())}});return F.useEffect(()=>{a(s.getZoom())},[]),null},$E=({enabled:a,onDropPin:s})=>(Yd({click:l=>{a&&s(l.latlng.lat,l.latlng.lng)}}),null),tT=({location:a,orientationMode:s,setOrientationMode:l,shouldRecenter:c,setShouldRecenter:d,setNeedsRecenter:p,routeBounds:_,setRouteBounds:b})=>{const y=Rv(),w=F.useRef(!1),A=F.useRef(!1);return Yd({dragstart:()=>{w.current=!0,s!=="fixed"&&l("fixed"),p(!0)},zoomstart:()=>{},dragend:()=>{w.current=!1},zoomend:()=>{w.current=!1,A.current=!1},moveend:()=>{A.current=!1}}),F.useEffect(()=>{y.invalidateSize();const T=[setTimeout(()=>y.invalidateSize(),100),setTimeout(()=>y.invalidateSize(),300),setTimeout(()=>y.invalidateSize(),500),setTimeout(()=>y.invalidateSize(),1e3)];return()=>T.forEach(k=>clearTimeout(k))},[y]),F.useEffect(()=>{_&&(y.fitBounds(_,{padding:[50,50],animate:!0}),b(null))},[_,y,b]),F.useEffect(()=>{c&&a&&(y.setView(a,17,{animate:!0}),d(!1))},[c,a,y,d]),F.useEffect(()=>{const T=()=>{window.dispatchEvent(new CustomEvent("map-user-interaction"))};return y.on("dragend",T),()=>{y.off("dragend",T)}},[y]),F.useEffect(()=>{const T=y.getContainer();T.style.transform="rotate(0deg)",document.documentElement.style.setProperty("--map-rotation","0deg"),T.style.width="100%",T.style.height="100%",T.style.top="0",T.style.left="0",T.style.position="absolute",setTimeout(()=>y.invalidateSize(),50)},[s,y]),F.useEffect(()=>{if(a&&s==="recentre"){const T=y.getZoom();Math.abs(T-17)>.5&&(A.current=!0,y.flyTo(a,17,{animate:!0,duration:1.5}))}},[s,y]),F.useEffect(()=>{!w.current&&a&&s==="recentre"&&(A.current=!0,y.panTo(a,{animate:!0,duration:.3}))},[a,s,y]),F.useEffect(()=>{if(s==="fixed"&&c&&a){const T=y.getZoom();Math.abs(T-17)>.5?(A.current=!0,y.flyTo(a,17,{animate:!0,duration:1.5})):(A.current=!0,y.panTo(a,{animate:!0,duration:.5}))}},[s,c,a,y]),F.useEffect(()=>{const T=()=>{setTimeout(()=>{y.invalidateSize()},100)};return window.addEventListener("resize",T),window.addEventListener("orientationchange",T),window.visualViewport&&window.visualViewport.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),window.removeEventListener("orientationchange",T),window.visualViewport&&window.visualViewport.removeEventListener("resize",T)}},[y]),null},eT=()=>{const[a,s]=F.useState(null),[l,c]=F.useState(null),[d,p]=F.useState(0),[_,b]=F.useState("idle"),[y,w]=F.useState("fixed"),[A,T]=F.useState(!1),[k,D]=F.useState(()=>{const Ot=localStorage.getItem("parlens_vehicle_type");return Ot==="bicycle"||Ot==="motorcycle"||Ot==="car"?Ot:"car"}),[U,O]=F.useState([]),[Z,P]=F.useState([]),[nt,st]=F.useState(null),[ft,lt]=F.useState(!1),[ot,X]=F.useState(!1),[et,yt]=F.useState(17),[bt,mt]=F.useState(!1),[_t,Lt]=F.useState(null),[Ct,$]=F.useState(null),[M,Y]=F.useState(null),[K,pt]=F.useState(!1),[W,z]=F.useState(null),[H,rt]=F.useState(!1),[ut,ht]=F.useState(null),dt=(Ot,ae,ct,vt)=>{if(Lt(Ot),$(ae),Y(ct),pt(vt),Ot&&Ot.length>1&&vt){const xt=ga.latLngBounds(Ot);z(xt)}};F.useEffect(()=>{const Ot=setInterval(()=>{const ae=Math.floor(Date.now()/1e3);O(ct=>{const vt=ct.filter(xt=>!xt.expiresAt||xt.expiresAt>ae);return vt.length!==ct.length&&console.log("[Parlens] Expired",ct.length-vt.length,"spots"),vt.length!==ct.length?vt:ct})},1e4);return()=>clearInterval(Ot)},[]),F.useEffect(()=>{const Ot=()=>X(!0);return window.addEventListener("map-user-interaction",Ot),()=>window.removeEventListener("map-user-interaction",Ot)},[]);const[Et,Rt]=F.useState(!1);F.useEffect(()=>{const Ot=window.matchMedia("(prefers-color-scheme: dark)");Rt(Ot.matches);const ae=ct=>Rt(ct.matches);return Ot.addEventListener("change",ae),()=>Ot.removeEventListener("change",ae)},[]);const kt=F.useRef(null),Ae=F.useRef(new GE),en=F.useRef(new VE);F.useEffect(()=>{if("geolocation"in navigator){const Ot=setTimeout(()=>{a||c("Unable to get location. Please enable location permissions in your browser/device settings.")},1e4);let ae=0,ct=0,vt=0;return kt.current=navigator.geolocation.watchPosition(xt=>{const{latitude:jt,longitude:Ft,heading:Zt,speed:Yt,accuracy:xe}=xt.coords,nn=Date.now(),ze=Yt||0,[Ui,Ln]=Ae.current.smoothLocation(jt,Ft),mi=Math.abs(jt-ct)*111e3,ei=Math.abs(Ft-vt)*111e3*Math.cos(jt*(Math.PI/180)),Nn=Math.sqrt(mi*mi+ei*ei),He=Math.min(xe||10,30)/10,Xe=(ze>10?6:ze>5?4:2)*He,Hi=ze>10?1500:2500;if((Nn>Xe||nn-ae>Hi)&&(s([Ui,Ln]),ct=jt,vt=Ft,ae=nn),c(null),Zt!==null&&!isNaN(Zt)&&ze>2){const hs=Ae.current.smoothBearing(Zt,ze);hs!==null&&(en.current.setBearing(hs),p(hs))}},xt=>{console.error("Location error:",xt),xt.code===xt.PERMISSION_DENIED?c("Location permission denied. Please enable location access in your browser settings."):xt.code===xt.POSITION_UNAVAILABLE?c("Location unavailable. Please check your device's GPS settings."):xt.code===xt.TIMEOUT&&c("Location request timed out. Please try again.")},{enableHighAccuracy:!0,maximumAge:500,timeout:15e3}),()=>{clearTimeout(Ot),kt.current!==null&&navigator.geolocation.clearWatch(kt.current)}}else c("Geolocation is not supported by this browser.")},[a]);const Jt=F.useRef(null),[Qe,Me]=F.useState(!1),mn=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()==="granted")return Me(!1),Jt.current&&window.addEventListener("deviceorientation",Jt.current,!0),!0}catch(Ot){console.error("Error requesting device orientation permission:",Ot)}return!1};F.useEffect(()=>{let Ot=0,ae=0;const ct=Ft=>{const Zt=Date.now();let Yt=0;Ft.webkitCompassHeading!==void 0?Yt=Ft.webkitCompassHeading:Ft.alpha!==null&&(Yt=360-Ft.alpha);const xe=Math.abs(Yt-ae),nn=Zt-Ot;(xe>3||nn>100)&&(ae=Yt,Ot=Zt,p(Yt),en.current.setBearing(Yt))};Jt.current=ct;const vt=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function"){Me(!0);return}window.addEventListener("deviceorientation",ct,!0)},xt=async()=>{document.visibilityState==="visible"&&(typeof DeviceOrientationEvent.requestPermission=="function"?Me(!0):Jt.current&&window.addEventListener("deviceorientation",Jt.current,!0))};document.addEventListener("visibilitychange",xt);const jt=setTimeout(vt,500);return()=>{clearTimeout(jt),document.removeEventListener("visibilitychange",xt),Jt.current&&window.removeEventListener("deviceorientation",Jt.current,!0)}},[]);const un=Ot=>{if(_!=="idle"){alert("Please end your current session before changing vehicle type.");return}D(Ot),localStorage.setItem("parlens_vehicle_type",Ot)};return a?x.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[H&&x.jsx("div",{className:"absolute top-0 left-0 right-0 z-[1000] bg-orange-500 text-white py-3 px-4 text-center font-medium shadow-lg animate-pulse",children:" Tap anywhere on the map to drop a pin"}),x.jsx("div",{className:"absolute inset-0",children:x.jsxs(zE,{center:a,zoom:17,zoomControl:!1,className:"absolute inset-0",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[x.jsx(CE,{url:Et?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO",keepBuffer:12,updateWhenIdle:!1}),x.jsx(WE,{onZoomChange:yt}),x.jsx($E,{enabled:H,onDropPin:(Ot,ae)=>ht({lat:Ot,lon:ae})}),Z.length>0&&(()=>{const ae=Z.filter(vt=>(vt.decryptedContent?.type||"car")===k).map(vt=>{const xt=vt.decryptedContent;return xt&&xt.lat&&xt.lon?{id:vt.id,lat:xt.lat,lon:xt.lon,price:parseFloat(xt.fee)||0,currency:xt.currency||"USD",original:vt}:null}).filter(Boolean);return z0(ae,et).map(vt=>C0(vt)?x.jsx(L0,{cluster:vt,type:"history"},vt.id):x.jsx(JE,{spot:vt.original||vt},vt.id))})(),_==="search"&&U.length>0&&(()=>{const Ot=U.map(ct=>({id:ct.id,lat:ct.lat,lon:ct.lon,price:ct.price,currency:ct.currency,original:ct}));return z0(Ot,et).map(ct=>C0(ct)?x.jsx(L0,{cluster:ct,type:"open"},ct.id):x.jsx(FE,{spot:ct.original||ct},ct.id))})(),_==="parked"&&nt&&x.jsx(XE,{location:nt,vehicleType:k}),K&&Ct&&Ct.length>1&&x.jsx(A0,{positions:Ct,color:"#007AFF",weight:3,opacity:.4,dashArray:"8, 8"}),K&&_t&&_t.length>1&&x.jsx(A0,{positions:_t,color:"#007AFF",weight:4,opacity:.9}),K&&M&&M.map((Ot,ae)=>x.jsx(ao,{position:[Ot.lat,Ot.lon],icon:ga.divIcon({className:"waypoint-marker",html:`<div style="width: 20px; height: 20px; background: #007AFF; border: 2px solid white; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: bold;">${ae+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})},`waypoint-${ae}`)),x.jsx(QE,{location:a,bearing:d}),x.jsx(tT,{location:a,bearing:d,orientationMode:y,setOrientationMode:w,shouldRecenter:ft,setShouldRecenter:lt,setNeedsRecenter:X,routeBounds:W,setRouteBounds:z})]})}),x.jsxs("div",{className:"absolute z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",left:"max(1rem, env(safe-area-inset-left))"},children:[x.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[x.jsx("button",{onClick:()=>un("bicycle"),className:`p-2.5 rounded-full transition-all ${k==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:x.jsx("span",{className:"text-xl",children:""})}),x.jsx("button",{onClick:()=>un("motorcycle"),className:`p-2.5 rounded-full transition-all ${k==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:x.jsx("span",{className:"text-xl",children:""})}),x.jsx("button",{onClick:()=>un("car"),className:`p-2.5 rounded-full transition-all ${k==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:x.jsx("span",{className:"text-xl",children:""})})]}),x.jsx("button",{onClick:()=>T(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:x.jsx(S0,{size:20})})]}),x.jsxs("div",{className:"absolute z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",right:"max(1rem, env(safe-area-inset-right))"},children:[x.jsx("button",{onClick:async()=>{if(Qe){await mn();return}ot?(lt(!0),X(!1),w("fixed")):y==="fixed"?(w("recentre"),lt(!0)):(w("fixed"),lt(!0))},className:`flex flex-col gap-1 p-2.5 rounded-full backdrop-blur-xl border border-black/5 dark:border-white/10 ${y==="recentre"?"bg-blue-500 text-white":"bg-white/80 dark:bg-zinc-800/80 text-zinc-700 dark:text-zinc-200 shadow-xl"} active:scale-95 transition-all w-12 h-12 items-center justify-center`,children:ot?x.jsx(E0,{size:24,className:"opacity-50"}):y==="recentre"?x.jsx(zv,{size:24,className:"fill-white"}):x.jsx(E0,{size:24})}),x.jsx(ZE,{vehicleType:k,onRouteChange:dt,currentLocation:a,onDropPinModeChange:rt,pendingDropPin:ut,onDropPinConsumed:()=>ht(null),onOpenChange:mt}),x.jsx(PE,{setHistorySpots:P}),x.jsx(UE,{status:_,setStatus:b,location:a,vehicleType:k,setOpenSpots:O,parkLocation:nt,setParkLocation:st})]}),A&&x.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl pt-2 px-4 pb-4 animate-in fade-in",children:[x.jsx("button",{onClick:()=>T(!1),className:"absolute inset-0 z-0 cursor-default"}),x.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] border border-black/5 dark:border-white/5 shadow-2xl p-6 space-y-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar transition-colors",children:[x.jsx("button",{onClick:()=>T(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:x.jsx(Pd,{size:20,className:"text-black/60 dark:text-white/60"})}),x.jsxs("div",{className:"text-center space-y-2 pt-4",children:[x.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:x.jsx(S0,{size:32})}),x.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),x.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5",children:[x.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors rounded-2xl",style:{WebkitTapHighlightColor:"transparent"},children:[x.jsx("span",{children:"Using Browser Menu (Android)"}),x.jsx(yl,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),x.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[x.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),x.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[x.jsx("li",{children:"Tap menu button (three dots)"}),x.jsxs("li",{children:["Tap ",x.jsx("strong",{children:"Add to Home screen"})]}),x.jsxs("li",{children:["Tap ",x.jsx("strong",{children:"Add"})," to confirm"]})]}),x.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),x.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[x.jsx("li",{children:"Tap menu button (three dots)"}),x.jsxs("li",{children:["Tap ",x.jsx("strong",{children:"Install"})]})]})]})]}),x.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5",children:[x.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors rounded-2xl",style:{WebkitTapHighlightColor:"transparent"},children:[x.jsx("span",{children:"Using Share Button (iOS)"}),x.jsx(yl,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),x.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:x.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[x.jsxs("li",{children:["Tap the ",x.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),x.jsxs("li",{children:["Scroll down and tap ",x.jsx("strong",{children:"Add to Home Screen"}),"."]}),x.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),x.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Plan your route (optional)"}),"Tap the route button to add waypoints and create a route. Your path will display on the map as you travel. For real-time route tracking, tap the location button until it shows a blue filled arrow (follow-along mode)."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Search for spots"}),"Click the main button once to see open spots reported by others."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. Park & end session"}),"Click again to mark your location. When leaving, click once more to end the session and report the fee."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"5. View history"}),"Use the profile button to see your parking history."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"6. Secure your keys"}),"Copy and store your npub (public key) and nsec (secret key) from the profile section. These are your account access keys and cannot be recovered if lost."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"7. User privacy"}),"Parlens does not collect or share any user data. Your log and route data is encrypted by your keys and only accessible by you. Open spot broadcasts are ephemeral and not linked to any personal identifiers."]}),x.jsxs("p",{children:[x.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"8. Create your own mirror"}),x.jsx("a",{href:"https://github.com/prasannawarrier/parlens-pwa/blob/main/MIRROR_CREATION.md",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Follow these steps"})," to create your own mirror of the Parlens app to distribute the load and share with your friends."]})]})]})]}),_==="search"&&!bt&&x.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:x.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5 whitespace-nowrap min-w-max",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),x.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),_==="parked"&&!bt&&x.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:x.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[x.jsx("span",{className:"text-lg",children:k==="bicycle"?"":k==="motorcycle"?"":""}),x.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):x.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50 dark:bg-black",children:x.jsx("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700 px-8 max-w-sm text-center",children:l?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:x.jsx("span",{className:"text-2xl",children:""})}),x.jsx("p",{className:"text-sm font-medium text-red-500 dark:text-red-400",children:l}),x.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-6 py-2 rounded-full bg-blue-500 text-white text-sm font-medium active:scale-95 transition-transform",children:"Try Again"})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),x.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})})},nT=()=>{const{login:a}=io(),[s,l]=F.useState(""),[c,d]=F.useState(""),[p,_]=F.useState(!1),[b,y]=F.useState("landing"),[w,A]=F.useState(""),[T,k]=F.useState(null),D=async P=>{_(!0),d("");try{await a(P,P==="nsec"?s:void 0)}catch(nt){d(nt.message)}finally{_(!1)}},U=()=>{y("setup")},O=async()=>{if(!w.trim()){d("Please enter a username");return}_(!0);try{const{generateSecretKey:P,getPublicKey:nt}=await wb(async()=>{const{generateSecretKey:et,getPublicKey:yt}=await Promise.resolve().then(()=>jE);return{generateSecretKey:et,getPublicKey:yt}},void 0),st=et=>Array.from(et).map(yt=>yt.toString(16).padStart(2,"0")).join(""),ft=P(),lt=nt(ft);localStorage.setItem("parlens_privkey",st(ft)),localStorage.setItem("parlens_pubkey",lt),localStorage.setItem("parlens_pending_username",w);const ot=ar.npubEncode(lt),X=ar.nsecEncode(ft);k({npub:ot,nsec:X}),y("backup")}catch(P){d(P.message)}finally{_(!1)}},Z=async()=>{_(!0);try{const P=localStorage.getItem("parlens_pending_username");await a("create",void 0,P||w),localStorage.removeItem("parlens_pending_username")}catch(P){d(P.message)}finally{_(!1)}};return x.jsx("div",{className:"min-h-screen bg-black p-6 text-white text-center overflow-y-auto no-scrollbar flex flex-col items-center justify-center",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:x.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("img",{src:"/parlens-pwa/pwa-512x512.png",alt:"Parlens",className:"mx-auto h-24 w-24 rounded-[22%] shadow-2xl shadow-[#007AFF]/20"}),x.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),x.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Peer-to-Peer Parking Management"})]}),x.jsxs("div",{className:"space-y-4",children:[b==="landing"?x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:U,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":x.jsxs(x.Fragment,{children:[x.jsx(cE,{size:20,strokeWidth:3}),"Create a New Account"]})}),x.jsxs("button",{onClick:()=>y("nsec"),disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold text-lg shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[x.jsx(td,{size:18}),"Login with Secret Key"]})]}):b==="setup"?x.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[x.jsxs("div",{className:"text-center pb-2",children:[x.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),x.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),x.jsx("input",{type:"text",placeholder:"Username",value:w,onChange:P=>A(P.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>y("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),x.jsx("button",{onClick:O,disabled:p||!w,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):b==="backup"?x.jsxs("div",{className:"space-y-6 pt-4 animate-in slide-in-from-right-4 text-left",children:[x.jsxs("div",{className:"text-center pb-2",children:[x.jsx("h3",{className:"text-xl font-bold",children:" Account Created!"}),x.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Back up your keys before continuing"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-white/30 ml-2",children:"Your Keys"}),x.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-white/[0.03] border border-white/10",children:[x.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{T&&(navigator.clipboard.writeText(T.npub),alert("Public Key copied to clipboard"))},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/20 text-blue-400",children:x.jsx(td,{size:20})}),x.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Public Key (Npub)"})]}),x.jsx(sc,{size:18,className:"text-white/20"})]}),x.jsx("div",{className:"h-[1px] bg-white/5 mx-4"}),x.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{T&&(navigator.clipboard.writeText(T.nsec),alert("Secret Key copied to clipboard - keep this safe!"))},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/20 text-red-500",children:x.jsx(Cv,{size:20})}),x.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Secret Key (Nsec)"})]}),x.jsx(sc,{size:18,className:"text-white/20"})]})]}),x.jsx("p",{className:"text-xs text-white/30 mt-2 ml-2 leading-relaxed text-center",children:" Store these keys securely. They cannot be recovered if lost."})]}),x.jsx("button",{onClick:Z,disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:p?"Starting...":"Start Using Parlens"})]}):x.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[x.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:s,onChange:P=>l(P.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>y("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),x.jsx("button",{onClick:()=>D("nsec"),disabled:p||!s,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),c&&x.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:c}),x.jsxs("div",{className:"space-y-3 pt-6 border-t border-white/10",children:[x.jsx("h3",{className:"text-center font-bold text-white/70 text-sm",children:"Add to your homescreen for fullscreen experience"}),x.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[x.jsxs("button",{onClick:()=>{document.getElementById("login-android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[x.jsx("span",{children:"Using Browser Menu (Android)"}),x.jsx(yl,{size:16,className:"text-white/50"})]}),x.jsxs("div",{id:"login-android-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:[x.jsx("p",{className:"font-semibold text-white/80",children:"Chrome & Brave:"}),x.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[x.jsx("li",{children:"Tap menu button (three dots)"}),x.jsxs("li",{children:["Tap ",x.jsx("strong",{children:"Add to Home screen"})]}),x.jsxs("li",{children:["Tap ",x.jsx("strong",{children:"Add"})," to confirm"]})]}),x.jsx("p",{className:"font-semibold text-white/80 mt-3",children:"Firefox:"}),x.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[x.jsx("li",{children:"Tap menu button (three dots)"}),x.jsxs("li",{children:["Tap ",x.jsx("strong",{children:"Install"})]})]})]})]}),x.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[x.jsxs("button",{onClick:()=>{document.getElementById("login-ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[x.jsx("span",{children:"Using Share Button (iOS)"}),x.jsx(yl,{size:16,className:"text-white/50"})]}),x.jsx("div",{id:"login-ios-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:x.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[x.jsxs("li",{children:["Tap the ",x.jsx("strong",{className:"text-white/80",children:"Share"})," button in Safari menu bar."]}),x.jsxs("li",{children:["Scroll down and tap ",x.jsx("strong",{className:"text-white/80",children:"Add to Home Screen"}),"."]}),x.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]})]})]})})},iT=()=>{const{pubkey:a}=io();return a?x.jsx(eT,{}):x.jsx(nT,{})};var Tc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aT={setTimeout:(a,s)=>setTimeout(a,s),clearTimeout:a=>clearTimeout(a),setInterval:(a,s)=>setInterval(a,s),clearInterval:a=>clearInterval(a)},sT=class{#t=aT;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,s){return this.#t.setTimeout(a,s)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,s){return this.#t.setInterval(a,s)}clearInterval(a){this.#t.clearInterval(a)}},nd=new sT;function rT(a){setTimeout(a,0)}var Ac=typeof window>"u"||"Deno"in globalThis;function hi(){}function oT(a,s){return typeof a=="function"?a(s):a}function lT(a){return typeof a=="number"&&a>=0&&a!==1/0}function uT(a,s){return Math.max(a+(s||0)-Date.now(),0)}function id(a,s){return typeof a=="function"?a(s):a}function cT(a,s){return typeof a=="function"?a(s):a}function N0(a,s){const{type:l="all",exact:c,fetchStatus:d,predicate:p,queryKey:_,stale:b}=a;if(_){if(c){if(s.queryHash!==Kd(_,s.options))return!1}else if(!_l(s.queryKey,_))return!1}if(l!=="all"){const y=s.isActive();if(l==="active"&&!y||l==="inactive"&&y)return!1}return!(typeof b=="boolean"&&s.isStale()!==b||d&&d!==s.state.fetchStatus||p&&!p(s))}function M0(a,s){const{exact:l,status:c,predicate:d,mutationKey:p}=a;if(p){if(!s.options.mutationKey)return!1;if(l){if(vl(s.options.mutationKey)!==vl(p))return!1}else if(!_l(s.options.mutationKey,p))return!1}return!(c&&s.state.status!==c||d&&!d(s))}function Kd(a,s){return(s?.queryKeyHashFn||vl)(a)}function vl(a){return JSON.stringify(a,(s,l)=>ad(l)?Object.keys(l).sort().reduce((c,d)=>(c[d]=l[d],c),{}):l)}function _l(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?Object.keys(s).every(l=>_l(a[l],s[l])):!1}var fT=Object.prototype.hasOwnProperty;function qv(a,s){if(a===s)return a;const l=O0(a)&&O0(s);if(!l&&!(ad(a)&&ad(s)))return s;const d=(l?a:Object.keys(a)).length,p=l?s:Object.keys(s),_=p.length,b=l?new Array(_):{};let y=0;for(let w=0;w<_;w++){const A=l?w:p[w],T=a[A],k=s[A];if(T===k){b[A]=T,(l?w<d:fT.call(a,A))&&y++;continue}if(T===null||k===null||typeof T!="object"||typeof k!="object"){b[A]=k;continue}const D=qv(T,k);b[A]=D,D===T&&y++}return d===_&&y===d?a:b}function O0(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function ad(a){if(!k0(a))return!1;const s=a.constructor;if(s===void 0)return!0;const l=s.prototype;return!(!k0(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function k0(a){return Object.prototype.toString.call(a)==="[object Object]"}function hT(a){return new Promise(s=>{nd.setTimeout(s,a)})}function dT(a,s,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,s):l.structuralSharing!==!1?qv(a,s):s}function mT(a,s,l=0){const c=[...a,s];return l&&c.length>l?c.slice(1):c}function pT(a,s,l=0){const c=[s,...a];return l&&c.length>l?c.slice(0,-1):c}var Qd=Symbol();function Gv(a,s){return!a.queryFn&&s?.initialPromise?()=>s.initialPromise:!a.queryFn||a.queryFn===Qd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var gT=class extends Tc{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!Ac&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(s=>{s(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Vv=new gT;function yT(){let a,s;const l=new Promise((d,p)=>{a=d,s=p});l.status="pending",l.catch(()=>{});function c(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{c({status:"fulfilled",value:d}),a(d)},l.reject=d=>{c({status:"rejected",reason:d}),s(d)},l}var vT=rT;function _T(){let a=[],s=0,l=b=>{b()},c=b=>{b()},d=vT;const p=b=>{s?a.push(b):d(()=>{l(b)})},_=()=>{const b=a;a=[],b.length&&d(()=>{c(()=>{b.forEach(y=>{l(y)})})})};return{batch:b=>{let y;s++;try{y=b()}finally{s--,s||_()}return y},batchCalls:b=>(...y)=>{p(()=>{b(...y)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{c=b},setScheduler:b=>{d=b}}}var dn=_T(),bT=class extends Tc{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!Ac&&window.addEventListener){const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},uc=new bT;function xT(a){return Math.min(1e3*2**a,3e4)}function Iv(a){return(a??"online")==="online"?uc.isOnline():!0}var sd=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function Yv(a){let s=!1,l=0,c;const d=yT(),p=()=>d.status!=="pending",_=O=>{if(!p()){const Z=new sd(O);k(Z),a.onCancel?.(Z)}},b=()=>{s=!0},y=()=>{s=!1},w=()=>Vv.isFocused()&&(a.networkMode==="always"||uc.isOnline())&&a.canRun(),A=()=>Iv(a.networkMode)&&a.canRun(),T=O=>{p()||(c?.(),d.resolve(O))},k=O=>{p()||(c?.(),d.reject(O))},D=()=>new Promise(O=>{c=Z=>{(p()||w())&&O(Z)},a.onPause?.()}).then(()=>{c=void 0,p()||a.onContinue?.()}),U=()=>{if(p())return;let O;const Z=l===0?a.initialPromise:void 0;try{O=Z??a.fn()}catch(P){O=Promise.reject(P)}Promise.resolve(O).then(T).catch(P=>{if(p())return;const nt=a.retry??(Ac?0:3),st=a.retryDelay??xT,ft=typeof st=="function"?st(l,P):st,lt=nt===!0||typeof nt=="number"&&l<nt||typeof nt=="function"&&nt(l,P);if(s||!lt){k(P);return}l++,a.onFail?.(l,P),hT(ft).then(()=>w()?void 0:D()).then(()=>{s?k(P):U()})})};return{promise:d,status:()=>d.status,cancel:_,continue:()=>(c?.(),d),cancelRetry:b,continueRetry:y,canStart:A,start:()=>(A()?U():D().then(U),d)}}var Kv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lT(this.gcTime)&&(this.#t=nd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(Ac?1/0:300*1e3))}clearGcTimeout(){this.#t&&(nd.clearTimeout(this.#t),this.#t=void 0)}},wT=class extends Kv{#t;#e;#n;#a;#i;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=B0(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=B0(this.options);s.data!==void 0&&(this.setState(R0(s.data,s.dataUpdatedAt)),this.#t=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,s){const l=dT(this.state.data,a,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(a,s){this.#s({type:"setState",state:a,setStateOptions:s})}cancel(a){const s=this.#i?.promise;return this.#i?.cancel(a),s?s.then(hi).catch(hi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>cT(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>id(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!uT(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(s=>s!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(a,s){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(y=>y.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=Gv(this.options,s),w=(()=>{const A={client:this.#a,queryKey:this.queryKey,meta:this.meta};return c(A),A})();return this.#o=!1,this.options.persister?this.options.persister(b,w,this):b(w)},_=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return c(b),b})();this.options.behavior?.onFetch(_,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==_.fetchOptions?.meta)&&this.#s({type:"fetch",meta:_.fetchOptions?.meta}),this.#i=Yv({initialPromise:s?.initialPromise,fn:_.fetchFn,onCancel:b=>{b instanceof sd&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,y)=>{this.#s({type:"failed",failureCount:b,error:y})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof sd){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#s({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#s(a){const s=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...ST(l.data,this.options),fetchMeta:a.meta??null};case"success":const c={...l,...R0(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?c:void 0,c;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=s(this.state),dn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function ST(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Iv(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function R0(a,s){return{data:a,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function B0(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,l=s!==void 0,c=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:l?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function D0(a){return{onFetch:(s,l)=>{const c=s.options,d=s.fetchOptions?.meta?.fetchMore?.direction,p=s.state.data?.pages||[],_=s.state.data?.pageParams||[];let b={pages:[],pageParams:[]},y=0;const w=async()=>{let A=!1;const T=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(s.signal.aborted?A=!0:s.signal.addEventListener("abort",()=>{A=!0}),s.signal)})},k=Gv(s.options,s.fetchOptions),D=async(U,O,Z)=>{if(A)return Promise.reject();if(O==null&&U.pages.length)return Promise.resolve(U);const nt=(()=>{const ot={client:s.client,queryKey:s.queryKey,pageParam:O,direction:Z?"backward":"forward",meta:s.options.meta};return T(ot),ot})(),st=await k(nt),{maxPages:ft}=s.options,lt=Z?pT:mT;return{pages:lt(U.pages,st,ft),pageParams:lt(U.pageParams,O,ft)}};if(d&&p.length){const U=d==="backward",O=U?ET:j0,Z={pages:p,pageParams:_},P=O(c,Z);b=await D(Z,P,U)}else{const U=a??p.length;do{const O=y===0?_[0]??c.initialPageParam:j0(c,b);if(y>0&&O==null)break;b=await D(b,O),y++}while(y<U)}return b};s.options.persister?s.fetchFn=()=>s.options.persister?.(w,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},l):s.fetchFn=w}}}function j0(a,{pages:s,pageParams:l}){const c=s.length-1;return s.length>0?a.getNextPageParam(s[c],s,l[c],l):void 0}function ET(a,{pages:s,pageParams:l}){return s.length>0?a.getPreviousPageParam?.(s[0],s,l[0],l):void 0}var TT=class extends Kv{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||AT(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(s=>s!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const s=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Yv({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,_)=>{this.#i({type:"failed",failureCount:p,error:_})},onPause:()=>{this.#i({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const c=this.state.status==="pending",d=!this.#a.canStart();try{if(c)s();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const _=await this.options.onMutate?.(a,l);_!==this.state.context&&this.#i({type:"pending",context:_,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const s=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=s(this.state),dn.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function AT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zT=class extends Tc{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,s,l){const c=new TT({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(s),state:l});return this.add(c),c}add(a){this.#t.add(a);const s=Xu(a);if(typeof s=="string"){const l=this.#e.get(s);l?l.push(a):this.#e.set(s,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const s=Xu(a);if(typeof s=="string"){const l=this.#e.get(s);if(l)if(l.length>1){const c=l.indexOf(a);c!==-1&&l.splice(c,1)}else l[0]===a&&this.#e.delete(s)}}this.notify({type:"removed",mutation:a})}canRun(a){const s=Xu(a);if(typeof s=="string"){const c=this.#e.get(s)?.find(d=>d.state.status==="pending");return!c||c===a}else return!0}runNext(a){const s=Xu(a);return typeof s=="string"?this.#e.get(s)?.find(c=>c!==a&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dn.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const s={exact:!0,...a};return this.getAll().find(l=>M0(s,l))}findAll(a={}){return this.getAll().filter(s=>M0(a,s))}notify(a){dn.batch(()=>{this.listeners.forEach(s=>{s(a)})})}resumePausedMutations(){const a=this.getAll().filter(s=>s.state.isPaused);return dn.batch(()=>Promise.all(a.map(s=>s.continue().catch(hi))))}};function Xu(a){return a.options.scope?.id}var CT=class extends Tc{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,s,l){const c=s.queryKey,d=s.queryHash??Kd(c,s);let p=this.get(d);return p||(p=new wT({client:a,queryKey:c,queryHash:d,options:a.defaultQueryOptions(s),state:l,defaultOptions:a.getQueryDefaults(c)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const s=this.#t.get(a.queryHash);s&&(a.destroy(),s===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){dn.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const s={exact:!0,...a};return this.getAll().find(l=>N0(s,l))}findAll(a={}){const s=this.getAll();return Object.keys(a).length>0?s.filter(l=>N0(a,l)):s}notify(a){dn.batch(()=>{this.listeners.forEach(s=>{s(a)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},LT=class{#t;#e;#n;#a;#i;#r;#o;#s;constructor(a={}){this.#t=a.queryCache||new CT,this.#e=a.mutationCache||new zT,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Vv.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=uc.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),l=this.#t.build(this,s),c=l.state.data;return c===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(id(s.staleTime,l))&&this.prefetchQuery(s),Promise.resolve(c))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:s,state:l})=>{const c=l.data;return[s,c]})}setQueryData(a,s,l){const c=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(c.queryHash)?.state.data,_=oT(s,p);if(_!==void 0)return this.#t.build(this,c).setData(_,{...l,manual:!0})}setQueriesData(a,s,l){return dn.batch(()=>this.#t.findAll(a).map(({queryKey:c})=>[c,this.setQueryData(c,s,l)]))}getQueryState(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state}removeQueries(a){const s=this.#t;dn.batch(()=>{s.findAll(a).forEach(l=>{s.remove(l)})})}resetQueries(a,s){const l=this.#t;return dn.batch(()=>(l.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const l={revert:!0,...s},c=dn.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(c).then(hi).catch(hi)}invalidateQueries(a,s={}){return dn.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},s)))}refetchQueries(a,s={}){const l={...s,cancelRefetch:s.cancelRefetch??!0},c=dn.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(hi)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(c).then(hi)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const l=this.#t.build(this,s);return l.isStaleByTime(id(s.staleTime,l))?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(hi).catch(hi)}fetchInfiniteQuery(a){return a.behavior=D0(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(hi).catch(hi)}ensureInfiniteQueryData(a){return a.behavior=D0(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return uc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,s){this.#a.set(vl(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...this.#a.values()],l={};return s.forEach(c=>{_l(a,c.queryKey)&&Object.assign(l,c.defaultOptions)}),l}setMutationDefaults(a,s){this.#i.set(vl(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...this.#i.values()],l={};return s.forEach(c=>{_l(a,c.mutationKey)&&Object.assign(l,c.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const s={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=Kd(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Qd&&(s.enabled=!1),s}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},NT=F.createContext(void 0),MT=({client:a,children:s})=>(F.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),x.jsx(NT.Provider,{value:a,children:s}));const OT="2025.12.27.7";console.log("[Parlens] App Version:",OT);const Xd=()=>{const a=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${a}px`)};Xd();window.addEventListener("resize",Xd);window.addEventListener("orientationchange",()=>{setTimeout(Xd,100)});const kT=new LT;_b.createRoot(document.getElementById("root")).render(x.jsx(MT,{client:kT,children:x.jsx(TS,{children:x.jsx(iT,{})})}));
