(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function nd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vh={exports:{}},Fo={};var Bg;function Y_(){if(Bg)return Fo;Bg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(c,d,p){var v=null;if(p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:c,key:v,ref:d!==void 0?d:null,props:p}}return Fo.Fragment=s,Fo.jsx=l,Fo.jsxs=l,Fo}var Rg;function V_(){return Rg||(Rg=1,vh.exports=Y_()),vh.exports}var O=V_(),_h={exports:{}},Mt={};var kg;function K_(){if(kg)return Mt;kg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function P(A){return A===null||typeof A!="object"?null:(A=R&&A[R]||A["@@iterator"],typeof A=="function"?A:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function V(A,j,rt){this.props=A,this.context=j,this.refs=D,this.updater=rt||H}V.prototype.isReactComponent={},V.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},V.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function it(){}it.prototype=V.prototype;function tt(A,j,rt){this.props=A,this.context=j,this.refs=D,this.updater=rt||H}var gt=tt.prototype=new it;gt.constructor=tt,M(gt,V.prototype),gt.isPureReactComponent=!0;var yt=Array.isArray;function at(){}var J={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function xt(A,j,rt){var st=rt.ref;return{$$typeof:a,type:A,key:j,ref:st!==void 0?st:null,props:rt}}function pt(A,j){return xt(A.type,j,A.props)}function lt(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function ot(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(rt){return j[rt]})}var vt=/\/+/g;function St(A,j){return typeof A=="object"&&A!==null&&A.key!=null?ot(""+A.key):j.toString(36)}function nt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(at,at):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,j,rt,st,dt){var mt=typeof A;(mt==="undefined"||mt==="boolean")&&(A=null);var zt=!1;if(A===null)zt=!0;else switch(mt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(A.$$typeof){case a:case s:zt=!0;break;case T:return zt=A._init,N(zt(A._payload),j,rt,st,dt)}}if(zt)return dt=dt(A),zt=st===""?"."+St(A,0):st,yt(dt)?(rt="",zt!=null&&(rt=zt.replace(vt,"$&/")+"/"),N(dt,j,rt,"",function(je){return je})):dt!=null&&(lt(dt)&&(dt=pt(dt,rt+(dt.key==null||A&&A.key===dt.key?"":(""+dt.key).replace(vt,"$&/")+"/")+zt)),j.push(dt)),1;zt=0;var Ft=st===""?".":st+":";if(yt(A))for(var Pt=0;Pt<A.length;Pt++)st=A[Pt],mt=Ft+St(st,Pt),zt+=N(st,j,rt,mt,dt);else if(Pt=P(A),typeof Pt=="function")for(A=Pt.call(A),Pt=0;!(st=A.next()).done;)st=st.value,mt=Ft+St(st,Pt++),zt+=N(st,j,rt,mt,dt);else if(mt==="object"){if(typeof A.then=="function")return N(nt(A),j,rt,st,dt);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return zt}function K(A,j,rt){if(A==null)return A;var st=[],dt=0;return N(A,st,"","",function(mt){return j.call(rt,mt,dt++)}),st}function X(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(rt){(A._status===0||A._status===-1)&&(A._status=1,A._result=rt)},function(rt){(A._status===0||A._status===-1)&&(A._status=2,A._result=rt)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var ft=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},et={map:K,forEach:function(A,j,rt){K(A,function(){j.apply(this,arguments)},rt)},count:function(A){var j=0;return K(A,function(){j++}),j},toArray:function(A){return K(A,function(j){return j})||[]},only:function(A){if(!lt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Mt.Activity=S,Mt.Children=et,Mt.Component=V,Mt.Fragment=l,Mt.Profiler=d,Mt.PureComponent=tt,Mt.StrictMode=c,Mt.Suspense=_,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return J.H.useMemoCache(A)}},Mt.cache=function(A){return function(){return A.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(A,j,rt){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var st=M({},A.props),dt=A.key;if(j!=null)for(mt in j.key!==void 0&&(dt=""+j.key),j)!ut.call(j,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&j.ref===void 0||(st[mt]=j[mt]);var mt=arguments.length-2;if(mt===1)st.children=rt;else if(1<mt){for(var zt=Array(mt),Ft=0;Ft<mt;Ft++)zt[Ft]=arguments[Ft+2];st.children=zt}return xt(A.type,dt,st)},Mt.createContext=function(A){return A={$$typeof:v,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:p,_context:A},A},Mt.createElement=function(A,j,rt){var st,dt={},mt=null;if(j!=null)for(st in j.key!==void 0&&(mt=""+j.key),j)ut.call(j,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(dt[st]=j[st]);var zt=arguments.length-2;if(zt===1)dt.children=rt;else if(1<zt){for(var Ft=Array(zt),Pt=0;Pt<zt;Pt++)Ft[Pt]=arguments[Pt+2];dt.children=Ft}if(A&&A.defaultProps)for(st in zt=A.defaultProps,zt)dt[st]===void 0&&(dt[st]=zt[st]);return xt(A,mt,dt)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(A){return{$$typeof:b,render:A}},Mt.isValidElement=lt,Mt.lazy=function(A){return{$$typeof:T,_payload:{_status:-1,_result:A},_init:X}},Mt.memo=function(A,j){return{$$typeof:x,type:A,compare:j===void 0?null:j}},Mt.startTransition=function(A){var j=J.T,rt={};J.T=rt;try{var st=A(),dt=J.S;dt!==null&&dt(rt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(at,ft)}catch(mt){ft(mt)}finally{j!==null&&rt.types!==null&&(j.types=rt.types),J.T=j}},Mt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Mt.use=function(A){return J.H.use(A)},Mt.useActionState=function(A,j,rt){return J.H.useActionState(A,j,rt)},Mt.useCallback=function(A,j){return J.H.useCallback(A,j)},Mt.useContext=function(A){return J.H.useContext(A)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(A,j){return J.H.useDeferredValue(A,j)},Mt.useEffect=function(A,j){return J.H.useEffect(A,j)},Mt.useEffectEvent=function(A){return J.H.useEffectEvent(A)},Mt.useId=function(){return J.H.useId()},Mt.useImperativeHandle=function(A,j,rt){return J.H.useImperativeHandle(A,j,rt)},Mt.useInsertionEffect=function(A,j){return J.H.useInsertionEffect(A,j)},Mt.useLayoutEffect=function(A,j){return J.H.useLayoutEffect(A,j)},Mt.useMemo=function(A,j){return J.H.useMemo(A,j)},Mt.useOptimistic=function(A,j){return J.H.useOptimistic(A,j)},Mt.useReducer=function(A,j,rt){return J.H.useReducer(A,j,rt)},Mt.useRef=function(A){return J.H.useRef(A)},Mt.useState=function(A){return J.H.useState(A)},Mt.useSyncExternalStore=function(A,j,rt){return J.H.useSyncExternalStore(A,j,rt)},Mt.useTransition=function(){return J.H.useTransition()},Mt.version="19.2.3",Mt}var Dg;function id(){return Dg||(Dg=1,_h.exports=K_()),_h.exports}var ht=id();const Vu=nd(ht);var bh={exports:{}},Wo={},wh={exports:{}},xh={};var Ug;function Q_(){return Ug||(Ug=1,(function(a){function s(N,K){var X=N.length;N.push(K);t:for(;0<X;){var ft=X-1>>>1,et=N[ft];if(0<d(et,K))N[ft]=K,N[X]=et,X=ft;else break t}}function l(N){return N.length===0?null:N[0]}function c(N){if(N.length===0)return null;var K=N[0],X=N.pop();if(X!==K){N[0]=X;t:for(var ft=0,et=N.length,A=et>>>1;ft<A;){var j=2*(ft+1)-1,rt=N[j],st=j+1,dt=N[st];if(0>d(rt,X))st<et&&0>d(dt,rt)?(N[ft]=dt,N[st]=X,ft=st):(N[ft]=rt,N[j]=X,ft=j);else if(st<et&&0>d(dt,X))N[ft]=dt,N[st]=X,ft=st;else break t}}return K}function d(N,K){var X=N.sortIndex-K.sortIndex;return X!==0?X:N.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var v=Date,b=v.now();a.unstable_now=function(){return v.now()-b}}var _=[],x=[],T=1,S=null,R=3,P=!1,H=!1,M=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function gt(N){for(var K=l(x);K!==null;){if(K.callback===null)c(x);else if(K.startTime<=N)c(x),K.sortIndex=K.expirationTime,s(_,K);else break;K=l(x)}}function yt(N){if(M=!1,gt(N),!H)if(l(_)!==null)H=!0,at||(at=!0,ot());else{var K=l(x);K!==null&&nt(yt,K.startTime-N)}}var at=!1,J=-1,ut=5,xt=-1;function pt(){return D?!0:!(a.unstable_now()-xt<ut)}function lt(){if(D=!1,at){var N=a.unstable_now();xt=N;var K=!0;try{t:{H=!1,M&&(M=!1,it(J),J=-1),P=!0;var X=R;try{e:{for(gt(N),S=l(_);S!==null&&!(S.expirationTime>N&&pt());){var ft=S.callback;if(typeof ft=="function"){S.callback=null,R=S.priorityLevel;var et=ft(S.expirationTime<=N);if(N=a.unstable_now(),typeof et=="function"){S.callback=et,gt(N),K=!0;break e}S===l(_)&&c(_),gt(N)}else c(_);S=l(_)}if(S!==null)K=!0;else{var A=l(x);A!==null&&nt(yt,A.startTime-N),K=!1}}break t}finally{S=null,R=X,P=!1}K=void 0}}finally{K?ot():at=!1}}}var ot;if(typeof tt=="function")ot=function(){tt(lt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,St=vt.port2;vt.port1.onmessage=lt,ot=function(){St.postMessage(null)}}else ot=function(){V(lt,0)};function nt(N,K){J=V(function(){N(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(N){switch(R){case 1:case 2:case 3:var K=3;break;default:K=R}var X=R;R=K;try{return N()}finally{R=X}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(N,K){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=R;R=N;try{return K()}finally{R=X}},a.unstable_scheduleCallback=function(N,K,X){var ft=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ft+X:ft):X=ft,N){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=X+et,N={id:T++,callback:K,priorityLevel:N,startTime:X,expirationTime:et,sortIndex:-1},X>ft?(N.sortIndex=X,s(x,N),l(_)===null&&N===l(x)&&(M?(it(J),J=-1):M=!0,nt(yt,X-ft))):(N.sortIndex=et,s(_,N),H||P||(H=!0,at||(at=!0,ot()))),N},a.unstable_shouldYield=pt,a.unstable_wrapCallback=function(N){var K=R;return function(){var X=R;R=K;try{return N.apply(this,arguments)}finally{R=X}}}})(xh)),xh}var Hg;function X_(){return Hg||(Hg=1,wh.exports=Q_()),wh.exports}var Eh={exports:{}},qe={};var jg;function I_(){if(jg)return qe;jg=1;var a=id();function s(_){var x="https://react.dev/errors/"+_;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var c={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(_,x,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:_,containerInfo:x,implementation:T}}var v=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(_,x){if(_==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,qe.createPortal=function(_,x){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(s(299));return p(_,x,null,T)},qe.flushSync=function(_){var x=v.T,T=c.p;try{if(v.T=null,c.p=2,_)return _()}finally{v.T=x,c.p=T,c.d.f()}},qe.preconnect=function(_,x){typeof _=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(_,x))},qe.prefetchDNS=function(_){typeof _=="string"&&c.d.D(_)},qe.preinit=function(_,x){if(typeof _=="string"&&x&&typeof x.as=="string"){var T=x.as,S=b(T,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,P=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;T==="style"?c.d.S(_,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):T==="script"&&c.d.X(_,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},qe.preinitModule=function(_,x){if(typeof _=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var T=b(x.as,x.crossOrigin);c.d.M(_,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(_)},qe.preload=function(_,x){if(typeof _=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var T=x.as,S=b(T,x.crossOrigin);c.d.L(_,T,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},qe.preloadModule=function(_,x){if(typeof _=="string")if(x){var T=b(x.as,x.crossOrigin);c.d.m(_,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(_)},qe.requestFormReset=function(_){c.d.r(_)},qe.unstable_batchedUpdates=function(_,x){return _(x)},qe.useFormState=function(_,x,T){return v.H.useFormState(_,x,T)},qe.useFormStatus=function(){return v.H.useHostTransitionStatus()},qe.version="19.2.3",qe}var Zg;function Ty(){if(Zg)return Eh.exports;Zg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),Eh.exports=I_(),Eh.exports}var Pg;function J_(){if(Pg)return Wo;Pg=1;var a=X_(),s=id(),l=Ty();function c(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function v(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _(t){if(p(t)!==t)throw Error(c(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(c(188));return e!==t?null:t}for(var i=t,o=e;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return _(f),t;if(h===o)return _(f),e;h=h.sibling}throw Error(c(188))}if(i.return!==o.return)i=f,o=h;else{for(var y=!1,E=f.child;E;){if(E===i){y=!0,i=f,o=h;break}if(E===o){y=!0,o=f,i=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===i){y=!0,i=h,o=f;break}if(E===o){y=!0,o=h,i=f;break}E=E.sibling}if(!y)throw Error(c(189))}}if(i.alternate!==o)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?t:e}function T(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=T(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),xt=Symbol.for("react.activity"),pt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ot(t){return t===null||typeof t!="object"?null:(t=lt&&t[lt]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function St(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case yt:return"Suspense";case at:return"SuspenseList";case xt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case tt:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case gt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return e=t.displayName||null,e!==null?e:St(t.type)||"Memo";case ut:e=t._payload,t=t._init;try{return St(t(e))}catch{}}return null}var nt=Array.isArray,N=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ft=[],et=-1;function A(t){return{current:t}}function j(t){0>et||(t.current=ft[et],ft[et]=null,et--)}function rt(t,e){et++,ft[et]=t.current,t.current=e}var st=A(null),dt=A(null),mt=A(null),zt=A(null);function Ft(t,e){switch(rt(mt,e),rt(dt,t),rt(st,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ng(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ng(e),t=ig(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(st),rt(st,t)}function Pt(){j(st),j(dt),j(mt)}function je(t){t.memoizedState!==null&&rt(zt,t);var e=st.current,i=ig(e,t.type);e!==i&&(rt(dt,t),rt(st,i))}function Un(t){dt.current===t&&(j(st),j(dt)),zt.current===t&&(j(zt),Qo._currentValue=X)}var ye,dn;function We(t){if(ye===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ye=e&&e[1]||"",dn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+t+dn}var _i=!1;function bi(t,e){if(!t||_i)return"";_i=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Q){var Y=Q}Reflect.construct(t,[],$)}else{try{$.call()}catch(Q){Y=Q}t.call($.prototype)}}else{try{throw Error()}catch(Q){Y=Q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var C=y.split(`
`),q=E.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===q.length)for(o=C.length-1,f=q.length-1;1<=o&&0<=f&&C[o]!==q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==q[f]){var I=`
`+C[o].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=o&&0<=f);break}}}finally{_i=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?We(i):""}function Ys(t,e){switch(t.tag){case 26:case 27:case 5:return We(t.type);case 16:return We("Lazy");case 13:return t.child!==e&&e!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return bi(t.type,!1);case 11:return bi(t.type.render,!1);case 1:return bi(t.type,!0);case 31:return We("Activity");default:return""}}function Qa(t){try{var e="",i=null;do e+=Ys(t,i),i=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Vs=Object.prototype.hasOwnProperty,Yr=a.unstable_scheduleCallback,Xa=a.unstable_cancelCallback,hl=a.unstable_shouldYield,dl=a.unstable_requestPaint,Ke=a.unstable_now,_c=a.unstable_getCurrentPriorityLevel,Vr=a.unstable_ImmediatePriority,Ks=a.unstable_UserBlockingPriority,Ia=a.unstable_NormalPriority,bc=a.unstable_LowPriority,Qs=a.unstable_IdlePriority,ml=a.log,wc=a.unstable_setDisableYieldValue,ta=null,Be=null;function Hn(t){if(typeof ml=="function"&&wc(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(ta,t)}catch{}}var Qe=Math.clz32?Math.clz32:Ec,Ja=Math.log,xc=Math.LN2;function Ec(t){return t>>>=0,t===0?32:31-(Ja(t)/xc|0)|0}var Fa=256,Wa=262144,$a=4194304;function wi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kr(t,e,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~h,o!==0?f=wi(o):(y&=E,y!==0?f=wi(y):i||(i=E&~t,i!==0&&(f=wi(i))))):(E=o&~h,E!==0?f=wi(E):y!==0?f=wi(y):i||(i=o&~t,i!==0&&(f=wi(i)))),f===0?0:e!==0&&e!==f&&(e&h)===0&&(h=f&-f,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:f}function tr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Sc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var t=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),t}function Xs(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function xi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tc(t,e,i,o,f,h){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(i=y&~i;0<i;){var I=31-Qe(i),$=1<<I;E[I]=0,C[I]=-1;var Y=q[I];if(Y!==null)for(q[I]=null,I=0;I<Y.length;I++){var Q=Y[I];Q!==null&&(Q.lane&=-536870913)}i&=~$}o!==0&&gl(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~e))}function gl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Qe(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function yl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-Qe(i),f=1<<o;f&e|t[o]&e&&(t[o]|=e),i&=~f}}function vl(t,e){var i=e&-e;return i=(i&42)!==0?1:$e(i),(i&(t.suspendedLanes|e))!==0?0:i}function $e(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Is(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Ag(t.type))}function Js(t,e){var i=K.p;try{return K.p=t,e()}finally{K.p=i}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,Le="__reactProps$"+jn,Ei="__reactContainer$"+jn,Fn="__reactEvents$"+jn,_l="__reactListeners$"+jn,Ac="__reactHandles$"+jn,bl="__reactResources$"+jn,er="__reactMarker$"+jn;function Fs(t){delete t[ve],delete t[Le],delete t[Fn],delete t[_l],delete t[Ac]}function Si(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ei]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=cg(t);t!==null;){if(i=t[ve])return i;t=cg(t)}return e}t=i,i=t.parentNode}return null}function ea(t){if(t=t[ve]||t[Ei]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(c(33))}function na(t){var e=t[bl];return e||(e=t[bl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _e(t){t[er]=!0}var wl=new Set,xl={};function Ti(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(xl[t]=e,t=0;t<e.length;t++)wl.add(e[t])}var nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},$s={};function ir(t){return Vs.call($s,t)?!0:Vs.call(Ws,t)?!1:nr.test(t)?$s[t]=!0:(Ws[t]=!0,!1)}function Rt(t,e,i){if(ir(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Wt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function tn(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function Te(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ai(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function to(t,e,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(y){i=""+y,h.call(this,y)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ct(t){if(!t._valueTracker){var e=Ai(t)?"checked":"value";t._valueTracker=to(t,e,""+t[e])}}function oe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=Ai(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qr=/[\n"\\]/g;function ae(t){return t.replace(Qr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function eo(t,e,i,o,f,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Te(e)):t.value!==""+Te(e)&&(t.value=""+Te(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?Zn(t,y,Te(e)):i!=null?Zn(t,y,Te(i)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Te(E):t.removeAttribute("name")}function ar(t,e,i,o,f,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Ct(t);return}i=i!=null?""+Te(i):"",e=e!=null?""+Te(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ct(t)}function Zn(t,e,i){e==="number"&&ia(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ne(t,e,i,o){if(t=t.options,e){e={};for(var f=0;f<i.length;f++)e["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=e.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Te(i),e=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function ti(t,e,i){if(e!=null&&(e=""+Te(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Te(i):""}function aa(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(c(92));if(nt(o)){if(1<o.length)throw Error(c(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=Te(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Ct(t)}function En(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ra(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||no.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Xr(t,e,i){if(e!=null&&typeof e!="object")throw Error(c(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in e)o=e[f],e.hasOwnProperty(f)&&i[f]!==o&&ra(t,f,o)}else for(var h in e)e.hasOwnProperty(h)&&ra(t,h,e[h])}function rr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return io.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function en(){}var Jr=null;function sr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,Lt=null;function mn(t){var e=ea(t);if(e&&(t=e.stateNode)){var i=t[Le]||null;t:switch(t=e.stateNode,e.type){case"input":if(eo(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ae(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var f=o[Le]||null;if(!f)throw Error(c(90));eo(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&oe(o)}break t;case"textarea":ti(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ne(t,!!i.multiple,e,!1)}}}var Xt=!1;function ao(t,e,i){if(Xt)return t(e,i);Xt=!0;try{var o=t(e);return o}finally{if(Xt=!1,(oa!==null||Lt!==null)&&(vu(),oa&&(e=oa,t=Lt,Lt=oa=null,mn(e),t)))for(e=0;e<t.length;e++)mn(t[e])}}function zi(t,e){var i=t.stateNode;if(i===null)return null;var o=i[Le]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(c(231,e,typeof i));return i}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(pn)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){or=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{or=!1}var Sn=null,Li=null,ce=null;function ei(){if(ce)return ce;var t,e=Li,i=e.length,o,f="value"in Sn?Sn.value:Sn.textContent,h=f.length;for(t=0;t<i&&e[t]===f[t];t++);var y=i-t;for(o=1;o<=y&&e[i-o]===f[h-o];o++);return ce=f.slice(t,1<o?1-o:void 0)}function lr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function El(){return!1}function Re(t){function e(i,o,f,h,y){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ur:El,this.isPropagationStopped=El,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=Re(Pn),la=S({},Pn,{view:0,detail:0}),Ht=Re(la),ro,Xe,qn,cr=S({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(ro=t.screenX-qn.screenX,Xe=t.screenY-qn.screenY):Xe=ro=0,qn=t),ro)},movementY:function(t){return"movementY"in t?t.movementY:Xe}}),Sl=Re(cr),so=S({},cr,{dataTransfer:0}),zc=Re(so),Tl=S({},la,{relatedTarget:0}),oo=Re(Tl),Lc=S({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=Re(Lc),Cc=S({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tn=Re(Cc),Mc=S({},Pn,{data:0}),uo=Re(Mc),ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Al={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zl[t])?!!e[t]:!1}function fo(){return co}var Ll=S({},la,{key:function(t){if(t.key){var e=ni[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Al[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cl=Re(Ll),Oc=S({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Re(Oc),ho=S({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),Nc=Re(ho),Ol=S({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nl=Re(Ol),Wr=S({},cr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ci=Re(Wr),Bc=S({},Pn,{newState:0,oldState:0}),fr=Re(Bc),nn=[9,13,27,32],$r=pn&&"CompositionEvent"in window,ua=null;pn&&"documentMode"in document&&(ua=document.documentMode);var Rc=pn&&"TextEvent"in window&&!ua,ts=pn&&(!$r||ua&&8<ua&&11>=ua),es=" ",Bl=!1;function Rl(t,e){switch(t){case"keyup":return nn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function yn(t,e){switch(t){case"compositionend":return mo(e);case"keypress":return e.which!==32?null:(Bl=!0,es);case"textInput":return t=e.data,t===es&&Bl?null:t;default:return null}}function fa(t,e){if(ca)return t==="compositionend"||!$r&&Rl(t,e)?(t=ei(),ce=Li=Sn=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ts&&e.locale!=="ko"?null:e.data;default:return null}}var kc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kc[t.type]:e==="textarea"}function kl(t,e,i,o){oa?Lt?Lt.push(o):Lt=[o]:oa=o,e=Tu(e,"onChange"),0<e.length&&(i=new Fr("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var zn=null,hr=null;function dr(t){Jp(t,0)}function mr(t){var e=Wn(t);if(oe(e))return t}function pr(t,e){if(t==="change")return e}var Dl=!1;if(pn){var Ln;if(pn){var ha="oninput"in document;if(!ha){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),ha=typeof Ul.oninput=="function"}Ln=ha}else Ln=!1;Dl=Ln&&(!document.documentMode||9<document.documentMode)}function ns(){zn&&(zn.detachEvent("onpropertychange",Hl),hr=zn=null)}function Hl(t){if(t.propertyName==="value"&&mr(hr)){var e=[];kl(e,hr,t,sr(t)),ao(dr,e)}}function Gn(t,e,i){t==="focusin"?(ns(),zn=e,hr=i,zn.attachEvent("onpropertychange",Hl)):t==="focusout"&&ns()}function Dc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mr(hr)}function da(t,e){if(t==="click")return mr(e)}function Uc(t,e){if(t==="input"||t==="change")return mr(e)}function Yn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ce=typeof Object.is=="function"?Object.is:Yn;function ma(t,e){if(Ce(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!Vs.call(e,f)||!Ce(t[f],e[f]))return!1}return!0}function is(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gr(t,e){var i=is(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=is(i)}}function as(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?as(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ia(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=ia(t.document)}return e}function ii(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var rs=pn&&"documentMode"in document&&11>=document.documentMode,ai=null,ss=null,vr=null,pa=!1;function jl(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pa||ai==null||ai!==ia(o)||(o=ai,"selectionStart"in o&&ii(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vr&&ma(vr,o)||(vr=o,o=Tu(ss,"onSelect"),0<o.length&&(e=new Fr("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=ai)))}function ri(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ga={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},os={},Zl={};pn&&(Zl=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Me(t){if(os[t])return os[t];if(!ga[t])return t;var e=ga[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Zl)return os[t]=e[i];return t}var _r=Me("animationend"),Pl=Me("animationiteration"),br=Me("animationstart"),Hc=Me("transitionrun"),ql=Me("transitionstart"),jc=Me("transitioncancel"),ya=Me("transitionend"),Gl=new Map,si="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");si.push("scrollEnd");function an(t,e){Gl.set(t,e),Ti(e,[t])}var wr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},rn=[],Ze=0,ls=0;function xr(){for(var t=Ze,e=ls=Ze=0;e<t;){var i=rn[e];rn[e++]=null;var o=rn[e];rn[e++]=null;var f=rn[e];rn[e++]=null;var h=rn[e];if(rn[e++]=null,o!==null&&f!==null){var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}h!==0&&va(i,f,h)}}function oi(t,e,i,o){rn[Ze++]=t,rn[Ze++]=e,rn[Ze++]=i,rn[Ze++]=o,ls|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function po(t,e,i,o){return oi(t,e,i,o),Er(t)}function Cn(t,e){return oi(t,null,null,e),Er(t)}function va(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&e!==null&&(f=31-Qe(i),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[e]:o.push(e),e.lane=i|536870912),h):null}function Er(t){if(50<Zo)throw Zo=0,qf=null,Error(c(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Mi={};function Zc(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(t,e,i,o){return new Zc(t,e,i,o)}function us(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,e){var i=t.alternate;return i===null?(i=Pe(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function go(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Sr(t,e,i,o,f,h){var y=0;if(o=t,typeof t=="function")us(t)&&(y=1);else if(typeof t=="string")y=N_(t,i,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case xt:return t=Pe(31,i,e,f),t.elementType=xt,t.lanes=h,t;case M:return Oi(i.children,f,h,e);case D:y=8,f|=24;break;case V:return t=Pe(12,i,e,f|2),t.elementType=V,t.lanes=h,t;case yt:return t=Pe(13,i,e,f),t.elementType=yt,t.lanes=h,t;case at:return t=Pe(19,i,e,f),t.elementType=at,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:y=10;break t;case it:y=9;break t;case gt:y=11;break t;case J:y=14;break t;case ut:y=16,o=null;break t}y=29,i=Error(c(130,t===null?"null":typeof t,"")),o=null}return e=Pe(y,i,e,f),e.elementType=t,e.type=o,e.lanes=h,e}function Oi(t,e,i,o){return t=Pe(7,t,o,e),t.lanes=i,t}function cs(t,e,i){return t=Pe(6,t,null,e),t.lanes=i,t}function yo(t){var e=Pe(18,null,null,0);return e.stateNode=t,e}function vo(t,e,i){return e=Pe(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function r(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Qa(e)},n.set(t,e),e)}return{value:t,source:e,stack:Qa(e)}}var u=[],m=0,g=null,w=0,z=[],U=0,G=null,W=1,ct="";function Et(t,e){u[m++]=w,u[m++]=g,g=t,w=e}function Nt(t,e,i){z[U++]=W,z[U++]=ct,z[U++]=G,G=t;var o=W;t=ct;var f=32-Qe(o)-1;o&=~(1<<f),i+=1;var h=32-Qe(e)+f;if(30<h){var y=f-f%5;h=(o&(1<<y)-1).toString(32),o>>=y,f-=y,W=1<<32-Qe(e)+f|i<<f|o,ct=h+t}else W=1<<h|i<<f|o,ct=t}function Ae(t){t.return!==null&&(Et(t,1),Nt(t,1,0))}function fe(t){for(;t===g;)g=u[--m],u[m]=null,w=u[--m],u[m]=null;for(;t===G;)G=z[--U],z[U]=null,ct=z[--U],z[U]=null,W=z[--U],z[U]=null}function Ie(t,e){z[U++]=W,z[U++]=ct,z[U++]=G,W=e.id,ct=e.overflow,G=t}var qt=null,Gt=null,kt=!1,li=null,sn=!1,fs=Error(c(519));function ui(t){var e=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tr(r(e,t)),fs}function _o(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[ve]=t,e[Le]=o,i){case"dialog":Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":case"embed":Ut("load",e);break;case"video":case"audio":for(i=0;i<qo.length;i++)Ut(qo[i],e);break;case"source":Ut("error",e);break;case"img":case"image":case"link":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"input":Ut("invalid",e),ar(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ut("invalid",e);break;case"textarea":Ut("invalid",e),aa(e,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||tg(e.textContent,i)?(o.popover!=null&&(Ut("beforetoggle",e),Ut("toggle",e)),o.onScroll!=null&&Ut("scroll",e),o.onScrollEnd!=null&&Ut("scrollend",e),o.onClick!=null&&(e.onclick=en),e=!0):e=!1,e||ui(t,!0)}function ue(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:qt=qt.return}}function Vn(t){if(t!==qt)return!1;if(!kt)return ue(t),kt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||ih(t.type,t.memoizedProps)),i=!i),i&&Gt&&ui(t),ue(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Gt=ug(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Gt=ug(t)}else e===27?(e=Gt,Na(t.type)?(t=lh,lh=null,Gt=t):Gt=e):Gt=qt?Nn(t.stateNode.nextSibling):null;return!0}function Ni(){Gt=qt=null,kt=!1}function bo(){var t=li;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),li=null),t}function Tr(t){li===null?li=[t]:li.push(t)}var Ar=A(null),ci=null,Kn=null;function _a(t,e,i){rt(Ar,e._currentValue),e._currentValue=i}function Bi(t){t._currentValue=Ar.current,j(Ar)}function Pc(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function qc(t,e,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var y=f.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=f;for(var C=0;C<e.length;C++)if(E.context===e[C]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Pc(h.return,i,t),o||(y=null);break t}h=E.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(c(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),Pc(y,i,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function hs(t,e,i,o){t=null;for(var f=e,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(c(387));if(y=y.memoizedProps,y!==null){var E=f.type;Ce(f.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(f===zt.current){if(y=f.alternate,y===null)throw Error(c(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Qo):t=[Qo])}f=f.return}t!==null&&qc(e,t,i,o),e.flags|=262144}function Yl(t){for(t=t.firstContext;t!==null;){if(!Ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){ci=t,Kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return jd(ci,t)}function Vl(t,e){return ci===null&&zr(t),jd(t,e)}function jd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Kn===null){if(t===null)throw Error(c(308));Kn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Kn=Kn.next=e;return i}var L0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},C0=a.unstable_scheduleCallback,M0=a.unstable_NormalPriority,be={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new L0,data:new Map,refCount:0}}function wo(t){t.refCount--,t.refCount===0&&C0(M0,function(){t.controller.abort()})}var xo=null,Yc=0,ds=0,ms=null;function O0(t,e){if(xo===null){var i=xo=[];Yc=0,ds=Xf(),ms={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Yc++,e.then(Zd,Zd),e}function Zd(){if(--Yc===0&&xo!==null){ms!==null&&(ms.status="fulfilled");var t=xo;xo=null,ds=0,ms=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function N0(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var f=0;f<i.length;f++)(0,i[f])(e)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Pd=N.S;N.S=function(t,e){Sp=Ke(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&O0(t,e),Pd!==null&&Pd(t,e)};var Lr=A(null);function Vc(){var t=Lr.current;return t!==null?t:ie.pooledCache}function Kl(t,e){e===null?rt(Lr,Lr.current):rt(Lr,e.pool)}function qd(){var t=Vc();return t===null?null:{parent:be._currentValue,pool:t}}var ps=Error(c(460)),Kc=Error(c(474)),Ql=Error(c(542)),Xl={then:function(){}};function Gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(en,en),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Kd(t),t;default:if(typeof e.status=="string")e.then(en,en);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=o}},function(o){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Kd(t),t}throw Mr=e,ps}}function Cr(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Mr=i,ps):i}}var Mr=null;function Vd(){if(Mr===null)throw Error(c(459));var t=Mr;return Mr=null,t}function Kd(t){if(t===ps||t===Ql)throw Error(c(483))}var gs=null,Eo=0;function Il(t){var e=Eo;return Eo+=1,gs===null&&(gs=[]),Yd(gs,t,e)}function So(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Jl(t,e){throw e.$$typeof===R?Error(c(525)):(t=Object.prototype.toString.call(e),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Qd(t){function e(k,B){if(t){var Z=k.deletions;Z===null?(k.deletions=[B],k.flags|=16):Z.push(B)}}function i(k,B){if(!t)return null;for(;B!==null;)e(k,B),B=B.sibling;return null}function o(k){for(var B=new Map;k!==null;)k.key!==null?B.set(k.key,k):B.set(k.index,k),k=k.sibling;return B}function f(k,B){return k=Mn(k,B),k.index=0,k.sibling=null,k}function h(k,B,Z){return k.index=Z,t?(Z=k.alternate,Z!==null?(Z=Z.index,Z<B?(k.flags|=67108866,B):Z):(k.flags|=67108866,B)):(k.flags|=1048576,B)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,B,Z,F){return B===null||B.tag!==6?(B=cs(Z,k.mode,F),B.return=k,B):(B=f(B,Z),B.return=k,B)}function C(k,B,Z,F){var Tt=Z.type;return Tt===M?I(k,B,Z.props.children,F,Z.key):B!==null&&(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===ut&&Cr(Tt)===B.type)?(B=f(B,Z.props),So(B,Z),B.return=k,B):(B=Sr(Z.type,Z.key,Z.props,null,k.mode,F),So(B,Z),B.return=k,B)}function q(k,B,Z,F){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=vo(Z,k.mode,F),B.return=k,B):(B=f(B,Z.children||[]),B.return=k,B)}function I(k,B,Z,F,Tt){return B===null||B.tag!==7?(B=Oi(Z,k.mode,F,Tt),B.return=k,B):(B=f(B,Z),B.return=k,B)}function $(k,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=cs(""+B,k.mode,Z),B.return=k,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return Z=Sr(B.type,B.key,B.props,null,k.mode,Z),So(Z,B),Z.return=k,Z;case H:return B=vo(B,k.mode,Z),B.return=k,B;case ut:return B=Cr(B),$(k,B,Z)}if(nt(B)||ot(B))return B=Oi(B,k.mode,Z,null),B.return=k,B;if(typeof B.then=="function")return $(k,Il(B),Z);if(B.$$typeof===tt)return $(k,Vl(k,B),Z);Jl(k,B)}return null}function Y(k,B,Z,F){var Tt=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Tt!==null?null:E(k,B,""+Z,F);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return Z.key===Tt?C(k,B,Z,F):null;case H:return Z.key===Tt?q(k,B,Z,F):null;case ut:return Z=Cr(Z),Y(k,B,Z,F)}if(nt(Z)||ot(Z))return Tt!==null?null:I(k,B,Z,F,null);if(typeof Z.then=="function")return Y(k,B,Il(Z),F);if(Z.$$typeof===tt)return Y(k,B,Vl(k,Z),F);Jl(k,Z)}return null}function Q(k,B,Z,F,Tt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(Z)||null,E(B,k,""+F,Tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return k=k.get(F.key===null?Z:F.key)||null,C(B,k,F,Tt);case H:return k=k.get(F.key===null?Z:F.key)||null,q(B,k,F,Tt);case ut:return F=Cr(F),Q(k,B,Z,F,Tt)}if(nt(F)||ot(F))return k=k.get(Z)||null,I(B,k,F,Tt,null);if(typeof F.then=="function")return Q(k,B,Z,Il(F),Tt);if(F.$$typeof===tt)return Q(k,B,Z,Vl(B,F),Tt);Jl(B,F)}return null}function _t(k,B,Z,F){for(var Tt=null,Yt=null,bt=B,Bt=B=0,Zt=null;bt!==null&&Bt<Z.length;Bt++){bt.index>Bt?(Zt=bt,bt=null):Zt=bt.sibling;var Vt=Y(k,bt,Z[Bt],F);if(Vt===null){bt===null&&(bt=Zt);break}t&&bt&&Vt.alternate===null&&e(k,bt),B=h(Vt,B,Bt),Yt===null?Tt=Vt:Yt.sibling=Vt,Yt=Vt,bt=Zt}if(Bt===Z.length)return i(k,bt),kt&&Et(k,Bt),Tt;if(bt===null){for(;Bt<Z.length;Bt++)bt=$(k,Z[Bt],F),bt!==null&&(B=h(bt,B,Bt),Yt===null?Tt=bt:Yt.sibling=bt,Yt=bt);return kt&&Et(k,Bt),Tt}for(bt=o(bt);Bt<Z.length;Bt++)Zt=Q(bt,k,Bt,Z[Bt],F),Zt!==null&&(t&&Zt.alternate!==null&&bt.delete(Zt.key===null?Bt:Zt.key),B=h(Zt,B,Bt),Yt===null?Tt=Zt:Yt.sibling=Zt,Yt=Zt);return t&&bt.forEach(function(Ua){return e(k,Ua)}),kt&&Et(k,Bt),Tt}function At(k,B,Z,F){if(Z==null)throw Error(c(151));for(var Tt=null,Yt=null,bt=B,Bt=B=0,Zt=null,Vt=Z.next();bt!==null&&!Vt.done;Bt++,Vt=Z.next()){bt.index>Bt?(Zt=bt,bt=null):Zt=bt.sibling;var Ua=Y(k,bt,Vt.value,F);if(Ua===null){bt===null&&(bt=Zt);break}t&&bt&&Ua.alternate===null&&e(k,bt),B=h(Ua,B,Bt),Yt===null?Tt=Ua:Yt.sibling=Ua,Yt=Ua,bt=Zt}if(Vt.done)return i(k,bt),kt&&Et(k,Bt),Tt;if(bt===null){for(;!Vt.done;Bt++,Vt=Z.next())Vt=$(k,Vt.value,F),Vt!==null&&(B=h(Vt,B,Bt),Yt===null?Tt=Vt:Yt.sibling=Vt,Yt=Vt);return kt&&Et(k,Bt),Tt}for(bt=o(bt);!Vt.done;Bt++,Vt=Z.next())Vt=Q(bt,k,Bt,Vt.value,F),Vt!==null&&(t&&Vt.alternate!==null&&bt.delete(Vt.key===null?Bt:Vt.key),B=h(Vt,B,Bt),Yt===null?Tt=Vt:Yt.sibling=Vt,Yt=Vt);return t&&bt.forEach(function(G_){return e(k,G_)}),kt&&Et(k,Bt),Tt}function ee(k,B,Z,F){if(typeof Z=="object"&&Z!==null&&Z.type===M&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:t:{for(var Tt=Z.key;B!==null;){if(B.key===Tt){if(Tt=Z.type,Tt===M){if(B.tag===7){i(k,B.sibling),F=f(B,Z.props.children),F.return=k,k=F;break t}}else if(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===ut&&Cr(Tt)===B.type){i(k,B.sibling),F=f(B,Z.props),So(F,Z),F.return=k,k=F;break t}i(k,B);break}else e(k,B);B=B.sibling}Z.type===M?(F=Oi(Z.props.children,k.mode,F,Z.key),F.return=k,k=F):(F=Sr(Z.type,Z.key,Z.props,null,k.mode,F),So(F,Z),F.return=k,k=F)}return y(k);case H:t:{for(Tt=Z.key;B!==null;){if(B.key===Tt)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){i(k,B.sibling),F=f(B,Z.children||[]),F.return=k,k=F;break t}else{i(k,B);break}else e(k,B);B=B.sibling}F=vo(Z,k.mode,F),F.return=k,k=F}return y(k);case ut:return Z=Cr(Z),ee(k,B,Z,F)}if(nt(Z))return _t(k,B,Z,F);if(ot(Z)){if(Tt=ot(Z),typeof Tt!="function")throw Error(c(150));return Z=Tt.call(Z),At(k,B,Z,F)}if(typeof Z.then=="function")return ee(k,B,Il(Z),F);if(Z.$$typeof===tt)return ee(k,B,Vl(k,Z),F);Jl(k,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(i(k,B.sibling),F=f(B,Z),F.return=k,k=F):(i(k,B),F=cs(Z,k.mode,F),F.return=k,k=F),y(k)):i(k,B)}return function(k,B,Z,F){try{Eo=0;var Tt=ee(k,B,Z,F);return gs=null,Tt}catch(bt){if(bt===ps||bt===Ql)throw bt;var Yt=Pe(29,bt,null,k.mode);return Yt.lanes=F,Yt.return=k,Yt}}}var Or=Qd(!0),Xd=Qd(!1),ba=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xa(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var f=o.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),o.pending=e,e=Er(t),va(t,null,i),e}return oi(t,o,e,i),Er(t)}function To(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,yl(t,i)}}function Ic(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?f=h=e:h=h.next=e}else f=h=e;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Jc=!1;function Ao(){if(Jc){var t=ms;if(t!==null)throw t}}function zo(t,e,i,o){Jc=!1;var f=t.updateQueue;ba=!1;var h=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var C=E,q=C.next;C.next=null,y===null?h=q:y.next=q,y=C;var I=t.alternate;I!==null&&(I=I.updateQueue,E=I.lastBaseUpdate,E!==y&&(E===null?I.firstBaseUpdate=q:E.next=q,I.lastBaseUpdate=C))}if(h!==null){var $=f.baseState;y=0,I=q=C=null,E=h;do{var Y=E.lane&-536870913,Q=Y!==E.lane;if(Q?(jt&Y)===Y:(o&Y)===Y){Y!==0&&Y===ds&&(Jc=!0),I!==null&&(I=I.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,At=E;Y=e;var ee=i;switch(At.tag){case 1:if(_t=At.payload,typeof _t=="function"){$=_t.call(ee,$,Y);break t}$=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=At.payload,Y=typeof _t=="function"?_t.call(ee,$,Y):_t,Y==null)break t;$=S({},$,Y);break t;case 2:ba=!0}}Y=E.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},I===null?(q=I=Q,C=$):I=I.next=Q,y|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);I===null&&(C=$),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=I,h===null&&(f.shared.lanes=0),za|=y,t.lanes=y,t.memoizedState=$}}function Id(t,e){if(typeof t!="function")throw Error(c(191,t));t.call(e)}function Jd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Id(i[t],e)}var ys=A(null),Fl=A(0);function Fd(t,e){t=qi,rt(Fl,t),rt(ys,e),qi=t|e.baseLanes}function Fc(){rt(Fl,qi),rt(ys,ys.current)}function Wc(){qi=Fl.current,j(ys),j(Fl)}var vn=A(null),On=null;function Ea(t){var e=t.alternate;rt(me,me.current&1),rt(vn,t),On===null&&(e===null||ys.current!==null||e.memoizedState!==null)&&(On=t)}function $c(t){rt(me,me.current),rt(vn,t),On===null&&(On=t)}function Wd(t){t.tag===22?(rt(me,me.current),rt(vn,t),On===null&&(On=t)):Sa()}function Sa(){rt(me,me.current),rt(vn,vn.current)}function _n(t){j(vn),On===t&&(On=null),j(me)}var me=A(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||sh(i)||oh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ri=0,Ot=null,$t=null,we=null,$l=!1,vs=!1,Nr=!1,tu=0,Lo=0,_s=null,B0=0;function he(){throw Error(c(321))}function tf(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ce(t[i],e[i]))return!1;return!0}function ef(t,e,i,o,f,h){return Ri=h,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=t===null||t.memoizedState===null?km:yf,Nr=!1,h=i(o,f),Nr=!1,vs&&(h=tm(e,i,o,f)),$d(t),h}function $d(t){N.H=Oo;var e=$t!==null&&$t.next!==null;if(Ri=0,we=$t=Ot=null,$l=!1,Lo=0,_s=null,e)throw Error(c(300));t===null||xe||(t=t.dependencies,t!==null&&Yl(t)&&(xe=!0))}function tm(t,e,i,o){Ot=t;var f=0;do{if(vs&&(_s=null),Lo=0,vs=!1,25<=f)throw Error(c(301));if(f+=1,we=$t=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}N.H=Dm,h=e(i,o)}while(vs);return h}function R0(){var t=N.H,e=t.useState()[0];return e=typeof e.then=="function"?Co(e):e,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Ot.flags|=1024),e}function nf(){var t=tu!==0;return tu=0,t}function af(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function rf(t){if($l){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$l=!1}Ri=0,we=$t=Ot=null,vs=!1,Lo=tu=0,_s=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=t:we=we.next=t,we}function pe(){if($t===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=we===null?Ot.memoizedState:we.next;if(e!==null)we=e,$t=t;else{if(t===null)throw Ot.alternate===null?Error(c(467)):Error(c(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?Ot.memoizedState=we=t:we=we.next=t}return we}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Co(t){var e=Lo;return Lo+=1,_s===null&&(_s=[]),t=Yd(_s,t,e),e=Ot,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,N.H=e===null||e.memoizedState===null?km:yf),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Co(t);if(t.$$typeof===tt)return ke(t)}throw Error(c(438,String(t)))}function sf(t){var e=null,i=Ot.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=eu(),Ot.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=pt;return e.index++,i}function ki(t,e){return typeof e=="function"?e(t):e}function iu(t){var e=pe();return of(e,$t,t)}function of(t,e,i){var o=t.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=i;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var y=f.next;f.next=h.next,h.next=y}e.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{e=f.next;var E=y=null,C=null,q=e,I=!1;do{var $=q.lane&-536870913;if($!==q.lane?(jt&$)===$:(Ri&$)===$){var Y=q.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),$===ds&&(I=!0);else if((Ri&Y)===Y){q=q.next,Y===ds&&(I=!0);continue}else $={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=$,y=h):C=C.next=$,Ot.lanes|=Y,za|=Y;$=q.action,Nr&&i(h,$),h=q.hasEagerState?q.eagerState:i(h,$)}else Y={lane:$,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=Y,y=h):C=C.next=Y,Ot.lanes|=$,za|=$;q=q.next}while(q!==null&&q!==e);if(C===null?y=h:C.next=E,!Ce(h,t.memoizedState)&&(xe=!0,I&&(i=ms,i!==null)))throw i;t.memoizedState=h,t.baseState=y,t.baseQueue=C,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function lf(t){var e=pe(),i=e.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,h=e.memoizedState;if(f!==null){i.pending=null;var y=f=f.next;do h=t(h,y.action),y=y.next;while(y!==f);Ce(h,e.memoizedState)||(xe=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,o]}function em(t,e,i){var o=Ot,f=pe(),h=kt;if(h){if(i===void 0)throw Error(c(407));i=i()}else i=e();var y=!Ce(($t||f).memoizedState,i);if(y&&(f.memoizedState=i,xe=!0),f=f.queue,ff(am.bind(null,o,f,t),[t]),f.getSnapshot!==e||y||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,bs(9,{destroy:void 0},im.bind(null,o,f,i,e),null),ie===null)throw Error(c(349));h||(Ri&127)!==0||nm(o,e,i)}return i}function nm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ot.updateQueue,e===null?(e=eu(),Ot.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function im(t,e,i,o){e.value=i,e.getSnapshot=o,rm(e)&&sm(t)}function am(t,e,i){return i(function(){rm(e)&&sm(t)})}function rm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ce(t,i)}catch{return!0}}function sm(t){var e=Cn(t,2);e!==null&&fn(e,t,2)}function uf(t){var e=Je();if(typeof t=="function"){var i=t;if(t=i(),Nr){Hn(!0);try{i()}finally{Hn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},e}function om(t,e,i,o){return t.baseState=i,of(t,$t,typeof o=="function"?o:ki)}function k0(t,e,i,o,f){if(su(t))throw Error(c(485));if(t=e.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};N.T!==null?i(!0):h.isTransition=!1,o(h),i=e.pending,i===null?(h.next=e.pending=h,lm(e,h)):(h.next=i.next,e.pending=i.next=h)}}function lm(t,e){var i=e.action,o=e.payload,f=t.state;if(e.isTransition){var h=N.T,y={};N.T=y;try{var E=i(f,o),C=N.S;C!==null&&C(y,E),um(t,e,E)}catch(q){cf(t,e,q)}finally{h!==null&&y.types!==null&&(h.types=y.types),N.T=h}}else try{h=i(f,o),um(t,e,h)}catch(q){cf(t,e,q)}}function um(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){cm(t,e,o)},function(o){return cf(t,e,o)}):cm(t,e,i)}function cm(t,e,i){e.status="fulfilled",e.value=i,fm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,lm(t,i)))}function cf(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,fm(e),e=e.next;while(e!==o)}t.action=null}function fm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function hm(t,e){return e}function dm(t,e){if(kt){var i=ie.formState;if(i!==null){t:{var o=Ot;if(kt){if(Gt){e:{for(var f=Gt,h=sn;f.nodeType!==8;){if(!h){f=null;break e}if(f=Nn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Gt=Nn(f.nextSibling),o=f.data==="F!";break t}}ui(o)}o=!1}o&&(e=i[0])}}return i=Je(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hm,lastRenderedState:e},i.queue=o,i=Nm.bind(null,Ot,o),o.dispatch=i,o=uf(!1),h=gf.bind(null,Ot,!1,o.queue),o=Je(),f={state:e,dispatch:null,action:t,pending:null},o.queue=f,i=k0.bind(null,Ot,f,h,i),f.dispatch=i,o.memoizedState=t,[e,i,!1]}function mm(t){var e=pe();return pm(e,$t,t)}function pm(t,e,i){if(e=of(t,e,hm)[0],t=iu(ki)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=Co(e)}catch(y){throw y===ps?Ql:y}else o=e;e=pe();var f=e.queue,h=f.dispatch;return i!==e.memoizedState&&(Ot.flags|=2048,bs(9,{destroy:void 0},D0.bind(null,f,i),null)),[o,h,t]}function D0(t,e){t.action=e}function gm(t){var e=pe(),i=$t;if(i!==null)return pm(e,i,t);pe(),e=e.memoizedState,i=pe();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function bs(t,e,i,o){return t={tag:t,create:i,deps:o,inst:e,next:null},e=Ot.updateQueue,e===null&&(e=eu(),Ot.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function ym(){return pe().memoizedState}function au(t,e,i,o){var f=Je();Ot.flags|=t,f.memoizedState=bs(1|e,{destroy:void 0},i,o===void 0?null:o)}function ru(t,e,i,o){var f=pe();o=o===void 0?null:o;var h=f.memoizedState.inst;$t!==null&&o!==null&&tf(o,$t.memoizedState.deps)?f.memoizedState=bs(e,h,i,o):(Ot.flags|=t,f.memoizedState=bs(1|e,h,i,o))}function vm(t,e){au(8390656,8,t,e)}function ff(t,e){ru(2048,8,t,e)}function U0(t){Ot.flags|=4;var e=Ot.updateQueue;if(e===null)e=eu(),Ot.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function _m(t){var e=pe().memoizedState;return U0({ref:e,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(c(440));return e.impl.apply(void 0,arguments)}}function bm(t,e){return ru(4,2,t,e)}function wm(t,e){return ru(4,4,t,e)}function xm(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Em(t,e,i){i=i!=null?i.concat([t]):null,ru(4,4,xm.bind(null,e,t),i)}function hf(){}function Sm(t,e){var i=pe();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&tf(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function Tm(t,e){var i=pe();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&tf(e,o[1]))return o[0];if(o=t(),Nr){Hn(!0);try{t()}finally{Hn(!1)}}return i.memoizedState=[o,e],o}function df(t,e,i){return i===void 0||(Ri&1073741824)!==0&&(jt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Ap(),Ot.lanes|=t,za|=t,i)}function Am(t,e,i,o){return Ce(i,e)?i:ys.current!==null?(t=df(t,i,o),Ce(t,e)||(xe=!0),t):(Ri&42)===0||(Ri&1073741824)!==0&&(jt&261930)===0?(xe=!0,t.memoizedState=i):(t=Ap(),Ot.lanes|=t,za|=t,e)}function zm(t,e,i,o,f){var h=K.p;K.p=h!==0&&8>h?h:8;var y=N.T,E={};N.T=E,gf(t,!1,e,i);try{var C=f(),q=N.S;if(q!==null&&q(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=N0(C,o);Mo(t,e,I,xn(t))}else Mo(t,e,o,xn(t))}catch($){Mo(t,e,{then:function(){},status:"rejected",reason:$},xn())}finally{K.p=h,y!==null&&E.types!==null&&(y.types=E.types),N.T=y}}function H0(){}function mf(t,e,i,o){if(t.tag!==5)throw Error(c(476));var f=Lm(t).queue;zm(t,f,e,X,i===null?H0:function(){return Cm(t),i(o)})}function Lm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:X},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Cm(t){var e=Lm(t);e.next===null&&(e=t.alternate.memoizedState),Mo(t,e.next.queue,{},xn())}function pf(){return ke(Qo)}function Mm(){return pe().memoizedState}function Om(){return pe().memoizedState}function j0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=xn();t=wa(i);var o=xa(e,t,i);o!==null&&(fn(o,e,i),To(o,e,i)),e={cache:Gc()},t.payload=e;return}e=e.return}}function Z0(t,e,i){var o=xn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},su(t)?Bm(e,i):(i=po(t,e,i,o),i!==null&&(fn(i,t,o),Rm(i,e,o)))}function Nm(t,e,i){var o=xn();Mo(t,e,i,o)}function Mo(t,e,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(su(t))Bm(e,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var y=e.lastRenderedState,E=h(y,i);if(f.hasEagerState=!0,f.eagerState=E,Ce(E,y))return oi(t,e,f,0),ie===null&&xr(),!1}catch{}if(i=po(t,e,f,o),i!==null)return fn(i,t,o),Rm(i,e,o),!0}return!1}function gf(t,e,i,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},su(t)){if(e)throw Error(c(479))}else e=po(t,i,o,2),e!==null&&fn(e,t,2)}function su(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function Bm(t,e){vs=$l=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Rm(t,e,i){if((i&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,yl(t,i)}}var Oo={readContext:ke,use:nu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Oo.useEffectEvent=he;var km={readContext:ke,use:nu,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:ke,useEffect:vm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,au(4194308,4,xm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return au(4194308,4,t,e)},useInsertionEffect:function(t,e){au(4,2,t,e)},useMemo:function(t,e){var i=Je();e=e===void 0?null:e;var o=t();if(Nr){Hn(!0);try{t()}finally{Hn(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=Je();if(i!==void 0){var f=i(e);if(Nr){Hn(!0);try{i(e)}finally{Hn(!1)}}}else f=e;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Z0.bind(null,Ot,t),[o.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=uf(t);var e=t.queue,i=Nm.bind(null,Ot,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:hf,useDeferredValue:function(t,e){var i=Je();return df(i,t,e)},useTransition:function(){var t=uf(!1);return t=zm.bind(null,Ot,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=Ot,f=Je();if(kt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=e(),ie===null)throw Error(c(349));(jt&127)!==0||nm(o,e,i)}f.memoizedState=i;var h={value:i,getSnapshot:e};return f.queue=h,vm(am.bind(null,o,h,t),[t]),o.flags|=2048,bs(9,{destroy:void 0},im.bind(null,o,h,i,e),null),i},useId:function(){var t=Je(),e=ie.identifierPrefix;if(kt){var i=ct,o=W;i=(o&~(1<<32-Qe(o)-1)).toString(32)+i,e="_"+e+"R_"+i,i=tu++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=B0++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:pf,useFormState:dm,useActionState:dm,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=gf.bind(null,Ot,!0,i),i.dispatch=e,[t,e]},useMemoCache:sf,useCacheRefresh:function(){return Je().memoizedState=j0.bind(null,Ot)},useEffectEvent:function(t){var e=Je(),i={impl:t};return e.memoizedState=i,function(){if((Qt&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},yf={readContext:ke,use:nu,useCallback:Sm,useContext:ke,useEffect:ff,useImperativeHandle:Em,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:Tm,useReducer:iu,useRef:ym,useState:function(){return iu(ki)},useDebugValue:hf,useDeferredValue:function(t,e){var i=pe();return Am(i,$t.memoizedState,t,e)},useTransition:function(){var t=iu(ki)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:Co(t),e]},useSyncExternalStore:em,useId:Mm,useHostTransitionStatus:pf,useFormState:mm,useActionState:mm,useOptimistic:function(t,e){var i=pe();return om(i,$t,t,e)},useMemoCache:sf,useCacheRefresh:Om};yf.useEffectEvent=_m;var Dm={readContext:ke,use:nu,useCallback:Sm,useContext:ke,useEffect:ff,useImperativeHandle:Em,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:Tm,useReducer:lf,useRef:ym,useState:function(){return lf(ki)},useDebugValue:hf,useDeferredValue:function(t,e){var i=pe();return $t===null?df(i,t,e):Am(i,$t.memoizedState,t,e)},useTransition:function(){var t=lf(ki)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:Co(t),e]},useSyncExternalStore:em,useId:Mm,useHostTransitionStatus:pf,useFormState:gm,useActionState:gm,useOptimistic:function(t,e){var i=pe();return $t!==null?om(i,$t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:sf,useCacheRefresh:Om};Dm.useEffectEvent=_m;function vf(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:S({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var _f={enqueueSetState:function(t,e,i){t=t._reactInternals;var o=xn(),f=wa(o);f.payload=e,i!=null&&(f.callback=i),e=xa(t,f,o),e!==null&&(fn(e,t,o),To(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=xn(),f=wa(o);f.tag=1,f.payload=e,i!=null&&(f.callback=i),e=xa(t,f,o),e!==null&&(fn(e,t,o),To(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=xn(),o=wa(i);o.tag=2,e!=null&&(o.callback=e),e=xa(t,o,i),e!==null&&(fn(e,t,i),To(e,t,i))}};function Um(t,e,i,o,f,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,y):e.prototype&&e.prototype.isPureReactComponent?!ma(i,o)||!ma(f,h):!0}function Hm(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&_f.enqueueReplaceState(e,e.state,null)}function Br(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=S({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function jm(t){wr(t)}function Zm(t){console.error(t)}function Pm(t){wr(t)}function ou(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function qm(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bf(t,e,i){return i=wa(i),i.tag=3,i.payload={element:null},i.callback=function(){ou(t,e)},i}function Gm(t){return t=wa(t),t.tag=3,t}function Ym(t,e,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){qm(e,i,o)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){qm(e,i,o),typeof f!="function"&&(La===null?La=new Set([this]):La.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function P0(t,e,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&hs(e,i,f,!0),i=vn.current,i!==null){switch(i.tag){case 31:case 13:return On===null?_u():i.alternate===null&&de===0&&(de=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===Xl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),Vf(t,o,f)),!1;case 22:return i.flags|=65536,o===Xl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),Vf(t,o,f)),!1}throw Error(c(435,i.tag))}return Vf(t,o,f),_u(),!1}if(kt)return e=vn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,o!==fs&&(t=Error(c(422),{cause:o}),Tr(r(t,i)))):(o!==fs&&(e=Error(c(423),{cause:o}),Tr(r(e,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=r(o,i),f=bf(t.stateNode,o,f),Ic(t,f),de!==4&&(de=2)),!1;var h=Error(c(520),{cause:o});if(h=r(h,i),jo===null?jo=[h]:jo.push(h),de!==4&&(de=2),e===null)return!0;o=r(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=bf(i.stateNode,o,t),Ic(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(La===null||!La.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Gm(f),Ym(f,t,i,o),Ic(i,f),!1}i=i.return}while(i!==null);return!1}var wf=Error(c(461)),xe=!1;function De(t,e,i,o){e.child=t===null?Xd(e,null,i,o):Or(e,t.child,i,o)}function Vm(t,e,i,o,f){i=i.render;var h=e.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return zr(e),o=ef(t,e,i,y,h,f),E=nf(),t!==null&&!xe?(af(t,e,f),Di(t,e,f)):(kt&&E&&Ae(e),e.flags|=1,De(t,e,o,f),e.child)}function Km(t,e,i,o,f){if(t===null){var h=i.type;return typeof h=="function"&&!us(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,Qm(t,e,h,o,f)):(t=Sr(i.type,null,o,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!Cf(t,f)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:ma,i(y,o)&&t.ref===e.ref)return Di(t,e,f)}return e.flags|=1,t=Mn(h,o),t.ref=e.ref,t.return=e,e.child=t}function Qm(t,e,i,o,f){if(t!==null){var h=t.memoizedProps;if(ma(h,o)&&t.ref===e.ref)if(xe=!1,e.pendingProps=o=h,Cf(t,f))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,Di(t,e,f)}return xf(t,e,i,o,f)}function Xm(t,e,i,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,e.child=null;return Im(t,e,h,i,o)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kl(e,h!==null?h.cachePool:null),h!==null?Fd(e,h):Fc(),Wd(e);else return o=e.lanes=536870912,Im(t,e,h!==null?h.baseLanes|i:i,i,o)}else h!==null?(Kl(e,h.cachePool),Fd(e,h),Sa(),e.memoizedState=null):(t!==null&&Kl(e,null),Fc(),Sa());return De(t,e,f,i),e.child}function No(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Im(t,e,i,o,f){var h=Vc();return h=h===null?null:{parent:be._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&Kl(e,null),Fc(),Wd(e),t!==null&&hs(t,e,o,!0),e.childLanes=f,null}function lu(t,e){return e=cu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Jm(t,e,i){return Or(e,t.child,null,i),t=lu(e,e.pendingProps),t.flags|=2,_n(e),e.memoizedState=null,t}function q0(t,e,i){var o=e.pendingProps,f=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(kt){if(o.mode==="hidden")return t=lu(e,o),e.lanes=536870912,No(null,t);if($c(e),(t=Gt)?(t=lg(t,sn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:W,overflow:ct}:null,retryLane:536870912,hydrationErrors:null},i=yo(t),i.return=e,e.child=i,qt=e,Gt=null)):t=null,t===null)throw ui(e);return e.lanes=536870912,null}return lu(e,o)}var h=t.memoizedState;if(h!==null){var y=h.dehydrated;if($c(e),f)if(e.flags&256)e.flags&=-257,e=Jm(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(c(558));else if(xe||hs(t,e,i,!1),f=(i&t.childLanes)!==0,xe||f){if(o=ie,o!==null&&(y=vl(o,i),y!==0&&y!==h.retryLane))throw h.retryLane=y,Cn(t,y),fn(o,t,y),wf;_u(),e=Jm(t,e,i)}else t=h.treeContext,Gt=Nn(y.nextSibling),qt=e,kt=!0,li=null,sn=!1,t!==null&&Ie(e,t),e=lu(e,o),e.flags|=4096;return e}return t=Mn(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function uu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function xf(t,e,i,o,f){return zr(e),i=ef(t,e,i,o,void 0,f),o=nf(),t!==null&&!xe?(af(t,e,f),Di(t,e,f)):(kt&&o&&Ae(e),e.flags|=1,De(t,e,i,f),e.child)}function Fm(t,e,i,o,f,h){return zr(e),e.updateQueue=null,i=tm(e,o,i,f),$d(t),o=nf(),t!==null&&!xe?(af(t,e,h),Di(t,e,h)):(kt&&o&&Ae(e),e.flags|=1,De(t,e,i,h),e.child)}function Wm(t,e,i,o,f){if(zr(e),e.stateNode===null){var h=Mi,y=i.contextType;typeof y=="object"&&y!==null&&(h=ke(y)),h=new i(o,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=_f,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=o,h.state=e.memoizedState,h.refs={},Qc(e),y=i.contextType,h.context=typeof y=="object"&&y!==null?ke(y):Mi,h.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(vf(e,i,y,o),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&_f.enqueueReplaceState(h,h.state,null),zo(e,o,h,f),Ao(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,C=Br(i,E);h.props=C;var q=h.context,I=i.contextType;y=Mi,typeof I=="object"&&I!==null&&(y=ke(I));var $=i.getDerivedStateFromProps;I=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||q!==y)&&Hm(e,h,o,y),ba=!1;var Y=e.memoizedState;h.state=Y,zo(e,o,h,f),Ao(),q=e.memoizedState,E||Y!==q||ba?(typeof $=="function"&&(vf(e,i,$,o),q=e.memoizedState),(C=ba||Um(e,i,C,o,Y,q,y))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=q),h.props=o,h.state=q,h.context=y,o=C):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,Xc(t,e),y=e.memoizedProps,I=Br(i,y),h.props=I,$=e.pendingProps,Y=h.context,q=i.contextType,C=Mi,typeof q=="object"&&q!==null&&(C=ke(q)),E=i.getDerivedStateFromProps,(q=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==$||Y!==C)&&Hm(e,h,o,C),ba=!1,Y=e.memoizedState,h.state=Y,zo(e,o,h,f),Ao();var Q=e.memoizedState;y!==$||Y!==Q||ba||t!==null&&t.dependencies!==null&&Yl(t.dependencies)?(typeof E=="function"&&(vf(e,i,E,o),Q=e.memoizedState),(I=ba||Um(e,i,I,o,Y,Q,C)||t!==null&&t.dependencies!==null&&Yl(t.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Q,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Q,C)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=Q),h.props=o,h.state=Q,h.context=C,o=I):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),o=!1)}return h=o,uu(t,e),o=(e.flags&128)!==0,h||o?(h=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&o?(e.child=Or(e,t.child,null,f),e.child=Or(e,null,i,f)):De(t,e,i,f),e.memoizedState=h.state,t=e.child):t=Di(t,e,f),t}function $m(t,e,i,o){return Ni(),e.flags|=256,De(t,e,i,o),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(t){return{baseLanes:t,cachePool:qd()}}function Tf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=wn),t}function tp(t,e,i){var o=e.pendingProps,f=!1,h=(e.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),y&&(f=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(kt){if(f?Ea(e):Sa(),(t=Gt)?(t=lg(t,sn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:W,overflow:ct}:null,retryLane:536870912,hydrationErrors:null},i=yo(t),i.return=e,e.child=i,qt=e,Gt=null)):t=null,t===null)throw ui(e);return oh(t)?e.lanes=32:e.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Sa(),f=e.mode,E=cu({mode:"hidden",children:E},f),o=Oi(o,f,i,null),E.return=e,o.return=e,E.sibling=o,e.child=E,o=e.child,o.memoizedState=Sf(i),o.childLanes=Tf(t,y,i),e.memoizedState=Ef,No(null,o)):(Ea(e),Af(e,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)e.flags&256?(Ea(e),e.flags&=-257,e=zf(t,e,i)):e.memoizedState!==null?(Sa(),e.child=t.child,e.flags|=128,e=null):(Sa(),E=o.fallback,f=e.mode,o=cu({mode:"visible",children:o.children},f),E=Oi(E,f,i,null),E.flags|=2,o.return=e,E.return=e,o.sibling=E,e.child=o,Or(e,t.child,null,i),o=e.child,o.memoizedState=Sf(i),o.childLanes=Tf(t,y,i),e.memoizedState=Ef,e=No(null,o));else if(Ea(e),oh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var q=y.dgst;y=q,o=Error(c(419)),o.stack="",o.digest=y,Tr({value:o,source:null,stack:null}),e=zf(t,e,i)}else if(xe||hs(t,e,i,!1),y=(i&t.childLanes)!==0,xe||y){if(y=ie,y!==null&&(o=vl(y,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,Cn(t,o),fn(y,t,o),wf;sh(E)||_u(),e=zf(t,e,i)}else sh(E)?(e.flags|=192,e.child=t.child,e=null):(t=C.treeContext,Gt=Nn(E.nextSibling),qt=e,kt=!0,li=null,sn=!1,t!==null&&Ie(e,t),e=Af(e,o.children),e.flags|=4096);return e}return f?(Sa(),E=o.fallback,f=e.mode,C=t.child,q=C.sibling,o=Mn(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,q!==null?E=Mn(q,E):(E=Oi(E,f,i,null),E.flags|=2),E.return=e,o.return=e,o.sibling=E,e.child=o,No(null,o),o=e.child,E=t.child.memoizedState,E===null?E=Sf(i):(f=E.cachePool,f!==null?(C=be._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=qd(),E={baseLanes:E.baseLanes|i,cachePool:f}),o.memoizedState=E,o.childLanes=Tf(t,y,i),e.memoizedState=Ef,No(t.child,o)):(Ea(e),i=t.child,t=i.sibling,i=Mn(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function Af(t,e){return e=cu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function cu(t,e){return t=Pe(22,t,null,e),t.lanes=0,t}function zf(t,e,i){return Or(e,t.child,null,i),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ep(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Pc(t.return,e,i)}function Lf(t,e,i,o,f,h){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:h}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=f,y.treeForkCount=h)}function np(t,e,i){var o=e.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,e.flags|=128):y&=1,rt(me,y),De(t,e,o,i),o=kt?w:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ep(t,i,e);else if(t.tag===19)ep(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=e.child,f=null;i!==null;)t=i.alternate,t!==null&&Wl(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=e.child,e.child=null):(f=i.sibling,i.sibling=null),Lf(e,!1,f,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&Wl(t)===null){e.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Lf(e,!0,i,null,h,o);break;case"together":Lf(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function Di(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),za|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(hs(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(c(153));if(e.child!==null){for(t=e.child,i=Mn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Mn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Cf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Yl(t)))}function G0(t,e,i){switch(e.tag){case 3:Ft(e,e.stateNode.containerInfo),_a(e,be,t.memoizedState.cache),Ni();break;case 27:case 5:je(e);break;case 4:Ft(e,e.stateNode.containerInfo);break;case 10:_a(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,$c(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(Ea(e),e.flags|=128,null):(i&e.child.childLanes)!==0?tp(t,e,i):(Ea(e),t=Di(t,e,i),t!==null?t.sibling:null);Ea(e);break;case 19:var f=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(hs(t,e,i,!1),o=(i&e.childLanes)!==0),f){if(o)return np(t,e,i);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(me,me.current),o)break;return null;case 22:return e.lanes=0,Xm(t,e,i,e.pendingProps);case 24:_a(e,be,t.memoizedState.cache)}return Di(t,e,i)}function ip(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!Cf(t,i)&&(e.flags&128)===0)return xe=!1,G0(t,e,i);xe=(t.flags&131072)!==0}else xe=!1,kt&&(e.flags&1048576)!==0&&Nt(e,w,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=Cr(e.elementType),e.type=t,typeof t=="function")us(t)?(o=Br(t,o),e.tag=1,e=Wm(null,e,t,o,i)):(e.tag=0,e=xf(null,e,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===gt){e.tag=11,e=Vm(null,e,t,o,i);break t}else if(f===J){e.tag=14,e=Km(null,e,t,o,i);break t}}throw e=St(t)||t,Error(c(306,e,""))}}return e;case 0:return xf(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,f=Br(o,e.pendingProps),Wm(t,e,o,f,i);case 3:t:{if(Ft(e,e.stateNode.containerInfo),t===null)throw Error(c(387));o=e.pendingProps;var h=e.memoizedState;f=h.element,Xc(t,e),zo(e,o,null,i);var y=e.memoizedState;if(o=y.cache,_a(e,be,o),o!==h.cache&&qc(e,[be],i,!0),Ao(),o=y.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=$m(t,e,o,i);break t}else if(o!==f){f=r(Error(c(424)),e),Tr(f),e=$m(t,e,o,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Gt=Nn(t.firstChild),qt=e,kt=!0,li=null,sn=!0,i=Xd(e,null,o,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ni(),o===f){e=Di(t,e,i);break t}De(t,e,o,i)}e=e.child}return e;case 26:return uu(t,e),t===null?(i=mg(e.type,null,e.pendingProps,null))?e.memoizedState=i:kt||(i=e.type,t=e.pendingProps,o=Au(mt.current).createElement(i),o[ve]=e,o[Le]=t,Ue(o,i,t),_e(o),e.stateNode=o):e.memoizedState=mg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return je(e),t===null&&kt&&(o=e.stateNode=fg(e.type,e.pendingProps,mt.current),qt=e,sn=!0,f=Gt,Na(e.type)?(lh=f,Gt=Nn(o.firstChild)):Gt=f),De(t,e,e.pendingProps.children,i),uu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&kt&&((f=o=Gt)&&(o=__(o,e.type,e.pendingProps,sn),o!==null?(e.stateNode=o,qt=e,Gt=Nn(o.firstChild),sn=!1,f=!0):f=!1),f||ui(e)),je(e),f=e.type,h=e.pendingProps,y=t!==null?t.memoizedProps:null,o=h.children,ih(f,h)?o=null:y!==null&&ih(f,y)&&(e.flags|=32),e.memoizedState!==null&&(f=ef(t,e,R0,null,null,i),Qo._currentValue=f),uu(t,e),De(t,e,o,i),e.child;case 6:return t===null&&kt&&((t=i=Gt)&&(i=b_(i,e.pendingProps,sn),i!==null?(e.stateNode=i,qt=e,Gt=null,t=!0):t=!1),t||ui(e)),null;case 13:return tp(t,e,i);case 4:return Ft(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Or(e,null,o,i):De(t,e,o,i),e.child;case 11:return Vm(t,e,e.type,e.pendingProps,i);case 7:return De(t,e,e.pendingProps,i),e.child;case 8:return De(t,e,e.pendingProps.children,i),e.child;case 12:return De(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,_a(e,e.type,o.value),De(t,e,o.children,i),e.child;case 9:return f=e.type._context,o=e.pendingProps.children,zr(e),f=ke(f),o=o(f),e.flags|=1,De(t,e,o,i),e.child;case 14:return Km(t,e,e.type,e.pendingProps,i);case 15:return Qm(t,e,e.type,e.pendingProps,i);case 19:return np(t,e,i);case 31:return q0(t,e,i);case 22:return Xm(t,e,i,e.pendingProps);case 24:return zr(e),o=ke(be),t===null?(f=Vc(),f===null&&(f=ie,h=Gc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),e.memoizedState={parent:o,cache:f},Qc(e),_a(e,be,f)):((t.lanes&i)!==0&&(Xc(t,e),zo(e,null,null,i),Ao()),f=t.memoizedState,h=e.memoizedState,f.parent!==o?(f={parent:o,cache:o},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),_a(e,be,o)):(o=h.cache,_a(e,be,o),o!==f.cache&&qc(e,[be],i,!0))),De(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(c(156,e.tag))}function Ui(t){t.flags|=4}function Mf(t,e,i,o,f){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Mp())t.flags|=8192;else throw Mr=Xl,Kc}else t.flags&=-16777217}function ap(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_g(e))if(Mp())t.flags|=8192;else throw Mr=Xl,Kc}function fu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?pl():536870912,t.lanes|=e,Ss|=e)}function Bo(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function re(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function Y0(t,e,i){var o=e.pendingProps;switch(fe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(e),null;case 1:return re(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Bi(be),Pt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Vn(e)?Ui(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,bo())),re(e),null;case 26:var f=e.type,h=e.memoizedState;return t===null?(Ui(e),h!==null?(re(e),ap(e,h)):(re(e),Mf(e,f,null,o,i))):h?h!==t.memoizedState?(Ui(e),re(e),ap(e,h)):(re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ui(e),re(e),Mf(e,f,t,o,i)),null;case 27:if(Un(e),i=mt.current,f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Ui(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return re(e),null}t=st.current,Vn(e)?_o(e):(t=fg(f,o,i),e.stateNode=t,Ui(e))}return re(e),null;case 5:if(Un(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Ui(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return re(e),null}if(h=st.current,Vn(e))_o(e);else{var y=Au(mt.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?y.createElement(f,{is:o.is}):y.createElement(f)}}h[ve]=e,h[Le]=o;t:for(y=e.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break t;for(;y.sibling===null;){if(y.return===null||y.return===e)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}e.stateNode=h;t:switch(Ue(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ui(e)}}return re(e),Mf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&Ui(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(c(166));if(t=mt.current,Vn(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,f=qt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||tg(t.nodeValue,i)),t||ui(e,!0)}else t=Au(t).createTextNode(o),t[ve]=e,e.stateNode=t}return re(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(o=Vn(e),i!==null){if(t===null){if(!o)throw Error(c(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[ve]=e}else Ni(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;re(e),t=!1}else i=bo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(_n(e),e):(_n(e),null);if((e.flags&128)!==0)throw Error(c(558))}return re(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Vn(e),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(c(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(c(317));f[ve]=e}else Ni(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;re(e),f=!1}else f=bo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(_n(e),e):(_n(e),null)}return _n(e),(e.flags&128)!==0?(e.lanes=i,e):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=e.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),fu(e,e.updateQueue),re(e),null);case 4:return Pt(),t===null&&Wf(e.stateNode.containerInfo),re(e),null;case 10:return Bi(e.type),re(e),null;case 19:if(j(me),o=e.memoizedState,o===null)return re(e),null;if(f=(e.flags&128)!==0,h=o.rendering,h===null)if(f)Bo(o,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=Wl(t),h!==null){for(e.flags|=128,Bo(o,!1),t=h.updateQueue,e.updateQueue=t,fu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)go(i,t),i=i.sibling;return rt(me,me.current&1|2),kt&&Et(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Ke()>gu&&(e.flags|=128,f=!0,Bo(o,!1),e.lanes=4194304)}else{if(!f)if(t=Wl(h),t!==null){if(e.flags|=128,f=!0,t=t.updateQueue,e.updateQueue=t,fu(e,t),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!kt)return re(e),null}else 2*Ke()-o.renderingStartTime>gu&&i!==536870912&&(e.flags|=128,f=!0,Bo(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,i=me.current,rt(me,f?i&1|2:i&1),kt&&Et(e,o.treeForkCount),t):(re(e),null);case 22:case 23:return _n(e),Wc(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(i&536870912)!==0&&(e.flags&128)===0&&(re(e),e.subtreeFlags&6&&(e.flags|=8192)):re(e),i=e.updateQueue,i!==null&&fu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&j(Lr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Bi(be),re(e),null;case 25:return null;case 30:return null}throw Error(c(156,e.tag))}function V0(t,e){switch(fe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bi(be),Pt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Un(e),null;case 31:if(e.memoizedState!==null){if(_n(e),e.alternate===null)throw Error(c(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(_n(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(c(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return j(me),null;case 4:return Pt(),null;case 10:return Bi(e.type),null;case 22:case 23:return _n(e),Wc(),t!==null&&j(Lr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Bi(be),null;case 25:return null;default:return null}}function rp(t,e){switch(fe(e),e.tag){case 3:Bi(be),Pt();break;case 26:case 27:case 5:Un(e);break;case 4:Pt();break;case 31:e.memoizedState!==null&&_n(e);break;case 13:_n(e);break;case 19:j(me);break;case 10:Bi(e.type);break;case 22:case 23:_n(e),Wc(),t!==null&&j(Lr);break;case 24:Bi(be)}}function Ro(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var h=i.create,y=i.inst;o=h(),y.destroy=o}i=i.next}while(i!==f)}}catch(E){Jt(e,e.return,E)}}function Ta(t,e,i){try{var o=e.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,f=e;var C=i,q=E;try{q()}catch(I){Jt(f,C,I)}}}o=o.next}while(o!==h)}}catch(I){Jt(e,e.return,I)}}function sp(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Jd(e,i)}catch(o){Jt(t,t.return,o)}}}function op(t,e,i){i.props=Br(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){Jt(t,e,o)}}function ko(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){Jt(t,e,f)}}function fi(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){Jt(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Jt(t,e,f)}else i.current=null}function lp(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){Jt(t,t.return,f)}}function Of(t,e,i){try{var o=t.stateNode;d_(o,t.type,i,e),o[Le]=e}catch(f){Jt(t,t.return,f)}}function up(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Na(t.type)||t.tag===4}function Nf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||up(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Na(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bf(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=en));else if(o!==4&&(o===27&&Na(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Bf(t,e,i),t=t.sibling;t!==null;)Bf(t,e,i),t=t.sibling}function hu(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&(o===27&&Na(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(hu(t,e,i),t=t.sibling;t!==null;)hu(t,e,i),t=t.sibling}function cp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);Ue(e,o,i),e[ve]=t,e[Le]=i}catch(h){Jt(t,t.return,h)}}var Hi=!1,Ee=!1,Rf=!1,fp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function K0(t,e){if(t=t.containerInfo,eh=Bu,t=yr(t),ii(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,E=-1,C=-1,q=0,I=0,$=t,Y=null;e:for(;;){for(var Q;$!==i||f!==0&&$.nodeType!==3||(E=y+f),$!==h||o!==0&&$.nodeType!==3||(C=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(Q=$.firstChild)!==null;)Y=$,$=Q;for(;;){if($===t)break e;if(Y===i&&++q===f&&(E=y),Y===h&&++I===o&&(C=y),(Q=$.nextSibling)!==null)break;$=Y,Y=$.parentNode}$=Q}i=E===-1||C===-1?null:{start:E,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(nh={focusedElem:t,selectionRange:i},Bu=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){switch(e=Oe,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,f=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var _t=Br(i.type,f);t=o.getSnapshotBeforeUpdate(_t,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(At){Jt(i,i.return,At)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)rh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function hp(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Zi(t,i),o&4&&Ro(5,i);break;case 1:if(Zi(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){Jt(i,i.return,y)}else{var f=Br(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(i,i.return,y)}}o&64&&sp(i),o&512&&ko(i,i.return);break;case 3:if(Zi(t,i),o&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Jd(t,e)}catch(y){Jt(i,i.return,y)}}break;case 27:e===null&&o&4&&cp(i);case 26:case 5:Zi(t,i),e===null&&o&4&&lp(i),o&512&&ko(i,i.return);break;case 12:Zi(t,i);break;case 31:Zi(t,i),o&4&&pp(t,i);break;case 13:Zi(t,i),o&4&&gp(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=e_.bind(null,i),w_(t,i))));break;case 22:if(o=i.memoizedState!==null||Hi,!o){e=e!==null&&e.memoizedState!==null||Ee,f=Hi;var h=Ee;Hi=o,(Ee=e)&&!h?Pi(t,i,(i.subtreeFlags&8772)!==0):Zi(t,i),Hi=f,Ee=h}break;case 30:break;default:Zi(t,i)}}function dp(t){var e=t.alternate;e!==null&&(t.alternate=null,dp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Fs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,on=!1;function ji(t,e,i){for(i=i.child;i!==null;)mp(t,e,i),i=i.sibling}function mp(t,e,i){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(ta,i)}catch{}switch(i.tag){case 26:Ee||fi(i,e),ji(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ee||fi(i,e);var o=le,f=on;Na(i.type)&&(le=i.stateNode,on=!1),ji(t,e,i),Yo(i.stateNode),le=o,on=f;break;case 5:Ee||fi(i,e);case 6:if(o=le,f=on,le=null,ji(t,e,i),le=o,on=f,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(i.stateNode)}catch(h){Jt(i,e,h)}else try{le.removeChild(i.stateNode)}catch(h){Jt(i,e,h)}break;case 18:le!==null&&(on?(t=le,sg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ns(t)):sg(le,i.stateNode));break;case 4:o=le,f=on,le=i.stateNode.containerInfo,on=!0,ji(t,e,i),le=o,on=f;break;case 0:case 11:case 14:case 15:Ta(2,i,e),Ee||Ta(4,i,e),ji(t,e,i);break;case 1:Ee||(fi(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&op(i,e,o)),ji(t,e,i);break;case 21:ji(t,e,i);break;case 22:Ee=(o=Ee)||i.memoizedState!==null,ji(t,e,i),Ee=o;break;default:ji(t,e,i)}}function pp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ns(t)}catch(i){Jt(e,e.return,i)}}}function gp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ns(t)}catch(i){Jt(e,e.return,i)}}function Q0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new fp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new fp),e;default:throw Error(c(435,t.tag))}}function du(t,e){var i=Q0(t);e.forEach(function(o){if(!i.has(o)){i.add(o);var f=n_.bind(null,t,o);o.then(f,f)}})}function ln(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],h=t,y=e,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Na(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(c(160));mp(h,y,f),le=null,on=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)yp(e,t),e=e.sibling}var Qn=null;function yp(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(e,t),un(t),o&4&&(Ta(3,t,t.return),Ro(3,t),Ta(5,t,t.return));break;case 1:ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),o&64&&Hi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Qn;if(ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[er]||h[ve]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),Ue(h,o,i),h[ve]=t,_e(h),o=h;break t;case"link":var y=yg("link","href",f).get(o+(i.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(E,1);break e}}h=f.createElement(o),Ue(h,o,i),f.head.appendChild(h);break;case"meta":if(y=yg("meta","content",f).get(o+(i.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(E,1);break e}}h=f.createElement(o),Ue(h,o,i),f.head.appendChild(h);break;default:throw Error(c(468,o))}h[ve]=t,_e(h),o=h}t.stateNode=o}else vg(f,t.type,t.stateNode);else t.stateNode=gg(f,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?vg(f,t.type,t.stateNode):gg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Of(t,t.memoizedProps,i.memoizedProps)}break;case 27:ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),i!==null&&o&4&&Of(t,t.memoizedProps,i.memoizedProps);break;case 5:if(ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),t.flags&32){f=t.stateNode;try{En(f,"")}catch(_t){Jt(t,t.return,_t)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Of(t,f,i!==null?i.memoizedProps:f)),o&1024&&(Rf=!0);break;case 6:if(ln(e,t),un(t),o&4){if(t.stateNode===null)throw Error(c(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(_t){Jt(t,t.return,_t)}}break;case 3:if(Cu=null,f=Qn,Qn=zu(e.containerInfo),ln(e,t),Qn=f,un(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ns(e.containerInfo)}catch(_t){Jt(t,t.return,_t)}Rf&&(Rf=!1,vp(t));break;case 4:o=Qn,Qn=zu(t.stateNode.containerInfo),ln(e,t),un(t),Qn=o;break;case 12:ln(e,t),un(t);break;case 31:ln(e,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,du(t,o)));break;case 13:ln(e,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(pu=Ke()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,du(t,o)));break;case 22:f=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,q=Hi,I=Ee;if(Hi=q||f,Ee=I||C,ln(e,t),Ee=I,Hi=q,un(t),o&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(i===null||C||Hi||Ee||Rr(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){C=i=e;try{if(h=C.stateNode,f)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,Y=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(_t){Jt(C,C.return,_t)}}}else if(e.tag===6){if(i===null){C=e;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(_t){Jt(C,C.return,_t)}}}else if(e.tag===18){if(i===null){C=e;try{var Q=C.stateNode;f?og(Q,!0):og(C.stateNode,!1)}catch(_t){Jt(C,C.return,_t)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,du(t,i))));break;case 19:ln(e,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,du(t,o)));break;case 30:break;case 21:break;default:ln(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{for(var i,o=t.return;o!==null;){if(up(o)){i=o;break}o=o.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var f=i.stateNode,h=Nf(t);hu(t,h,f);break;case 5:var y=i.stateNode;i.flags&32&&(En(y,""),i.flags&=-33);var E=Nf(t);hu(t,E,y);break;case 3:case 4:var C=i.stateNode.containerInfo,q=Nf(t);Bf(t,q,C);break;default:throw Error(c(161))}}catch(I){Jt(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;vp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)hp(t,e.alternate,e),e=e.sibling}function Rr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ta(4,e,e.return),Rr(e);break;case 1:fi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&op(e,e.return,i),Rr(e);break;case 27:Yo(e.stateNode);case 26:case 5:fi(e,e.return),Rr(e);break;case 22:e.memoizedState===null&&Rr(e);break;case 30:Rr(e);break;default:Rr(e)}t=t.sibling}}function Pi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,f=t,h=e,y=h.flags;switch(h.tag){case 0:case 11:case 15:Pi(f,h,i),Ro(4,h);break;case 1:if(Pi(f,h,i),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Jt(o,o.return,q)}if(o=h,f=o.updateQueue,f!==null){var E=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Id(C[f],E)}catch(q){Jt(o,o.return,q)}}i&&y&64&&sp(h),ko(h,h.return);break;case 27:cp(h);case 26:case 5:Pi(f,h,i),i&&o===null&&y&4&&lp(h),ko(h,h.return);break;case 12:Pi(f,h,i);break;case 31:Pi(f,h,i),i&&y&4&&pp(f,h);break;case 13:Pi(f,h,i),i&&y&4&&gp(f,h);break;case 22:h.memoizedState===null&&Pi(f,h,i),ko(h,h.return);break;case 30:break;default:Pi(f,h,i)}e=e.sibling}}function kf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&wo(i))}function Df(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&wo(t))}function Xn(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_p(t,e,i,o),e=e.sibling}function _p(t,e,i,o){var f=e.flags;switch(e.tag){case 0:case 11:case 15:Xn(t,e,i,o),f&2048&&Ro(9,e);break;case 1:Xn(t,e,i,o);break;case 3:Xn(t,e,i,o),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&wo(t)));break;case 12:if(f&2048){Xn(t,e,i,o),t=e.stateNode;try{var h=e.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Jt(e,e.return,C)}}else Xn(t,e,i,o);break;case 31:Xn(t,e,i,o);break;case 13:Xn(t,e,i,o);break;case 23:break;case 22:h=e.stateNode,y=e.alternate,e.memoizedState!==null?h._visibility&2?Xn(t,e,i,o):Do(t,e):h._visibility&2?Xn(t,e,i,o):(h._visibility|=2,ws(t,e,i,o,(e.subtreeFlags&10256)!==0||!1)),f&2048&&kf(y,e);break;case 24:Xn(t,e,i,o),f&2048&&Df(e.alternate,e);break;default:Xn(t,e,i,o)}}function ws(t,e,i,o,f){for(f=f&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,y=e,E=i,C=o,q=y.flags;switch(y.tag){case 0:case 11:case 15:ws(h,y,E,C,f),Ro(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?ws(h,y,E,C,f):Do(h,y):(I._visibility|=2,ws(h,y,E,C,f)),f&&q&2048&&kf(y.alternate,y);break;case 24:ws(h,y,E,C,f),f&&q&2048&&Df(y.alternate,y);break;default:ws(h,y,E,C,f)}e=e.sibling}}function Do(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,f=o.flags;switch(o.tag){case 22:Do(i,o),f&2048&&kf(o.alternate,o);break;case 24:Do(i,o),f&2048&&Df(o.alternate,o);break;default:Do(i,o)}e=e.sibling}}var Uo=8192;function xs(t,e,i){if(t.subtreeFlags&Uo)for(t=t.child;t!==null;)bp(t,e,i),t=t.sibling}function bp(t,e,i){switch(t.tag){case 26:xs(t,e,i),t.flags&Uo&&t.memoizedState!==null&&B_(i,Qn,t.memoizedState,t.memoizedProps);break;case 5:xs(t,e,i);break;case 3:case 4:var o=Qn;Qn=zu(t.stateNode.containerInfo),xs(t,e,i),Qn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Uo,Uo=16777216,xs(t,e,i),Uo=o):xs(t,e,i));break;default:xs(t,e,i)}}function wp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ho(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Oe=o,Ep(o,t)}wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xp(t),t=t.sibling}function xp(t){switch(t.tag){case 0:case 11:case 15:Ho(t),t.flags&2048&&Ta(9,t,t.return);break;case 3:Ho(t);break;case 12:Ho(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,mu(t)):Ho(t);break;default:Ho(t)}}function mu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Oe=o,Ep(o,t)}wp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ta(8,e,e.return),mu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,mu(e));break;default:mu(e)}t=t.sibling}}function Ep(t,e){for(;Oe!==null;){var i=Oe;switch(i.tag){case 0:case 11:case 15:Ta(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:wo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Oe=o;else t:for(i=t;Oe!==null;){o=Oe;var f=o.sibling,h=o.return;if(dp(o),o===i){Oe=null;break t}if(f!==null){f.return=h,Oe=f;break t}Oe=h}}}var X0={getCacheForType:function(t){var e=ke(be),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return ke(be).controller.signal}},I0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,Dt=null,jt=0,It=0,bn=null,Aa=!1,Es=!1,Uf=!1,qi=0,de=0,za=0,kr=0,Hf=0,wn=0,Ss=0,jo=null,cn=null,jf=!1,pu=0,Sp=0,gu=1/0,yu=null,La=null,ze=0,Ca=null,Ts=null,Gi=0,Zf=0,Pf=null,Tp=null,Zo=0,qf=null;function xn(){return(Qt&2)!==0&&jt!==0?jt&-jt:N.T!==null?Xf():Is()}function Ap(){if(wn===0)if((jt&536870912)===0||kt){var t=Wa;Wa<<=1,(Wa&3932160)===0&&(Wa=262144),wn=t}else wn=536870912;return t=vn.current,t!==null&&(t.flags|=32),wn}function fn(t,e,i){(t===ie&&(It===2||It===9)||t.cancelPendingCommit!==null)&&(As(t,0),Ma(t,jt,wn,!1)),xi(t,i),((Qt&2)===0||t!==ie)&&(t===ie&&((Qt&2)===0&&(kr|=i),de===4&&Ma(t,jt,wn,!1)),hi(t))}function zp(t,e,i){if((Qt&6)!==0)throw Error(c(327));var o=!i&&(e&127)===0&&(e&t.expiredLanes)===0||tr(t,e),f=o?W0(t,e):Yf(t,e,!0),h=o;do{if(f===0){Es&&!o&&Ma(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!J0(i)){f=Yf(t,e,!1),h=!1;continue}if(f===2){if(h=e,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var E=t;f=jo;var C=E.current.memoizedState.isDehydrated;if(C&&(As(E,y).flags|=256),y=Yf(E,y,!1),y!==2){if(Uf&&!C){E.errorRecoveryDisabledLanes|=h,kr|=h,f=4;break t}h=cn,cn=f,h!==null&&(cn===null?cn=h:cn.push.apply(cn,h))}f=y}if(h=!1,f!==2)continue}}if(f===1){As(t,0),Ma(t,e,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(c(345));case 4:if((e&4194048)!==e)break;case 6:Ma(o,e,wn,!Aa);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((e&62914560)===e&&(f=pu+300-Ke(),10<f)){if(Ma(o,e,wn,!Aa),Kr(o,0,!0)!==0)break t;Gi=e,o.timeoutHandle=ag(Lp.bind(null,o,i,cn,yu,jf,e,wn,kr,Ss,Aa,h,"Throttled",-0,0),f);break t}Lp(o,i,cn,yu,jf,e,wn,kr,Ss,Aa,h,null,-0,0)}}break}while(!0);hi(t)}function Lp(t,e,i,o,f,h,y,E,C,q,I,$,Y,Q){if(t.timeoutHandle=-1,$=e.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},bp(e,h,$);var _t=(h&62914560)===h?pu-Ke():(h&4194048)===h?Sp-Ke():0;if(_t=R_($,_t),_t!==null){Gi=h,t.cancelPendingCommit=_t(Dp.bind(null,t,e,h,i,o,f,y,E,C,I,$,null,Y,Q)),Ma(t,h,y,!q);return}}Dp(t,e,h,i,o,f,y,E,C)}function J0(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],h=f.getSnapshot;f=f.value;try{if(!Ce(h(),f))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(t,e,i,o){e&=~Hf,e&=~kr,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var f=e;0<f;){var h=31-Qe(f),y=1<<h;o[h]=-1,f&=~y}i!==0&&gl(t,i,e)}function vu(){return(Qt&6)===0?(Po(0),!1):!0}function Gf(){if(Dt!==null){if(It===0)var t=Dt.return;else t=Dt,Kn=ci=null,rf(t),gs=null,Eo=0,t=Dt;for(;t!==null;)rp(t.alternate,t),t=t.return;Dt=null}}function As(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,g_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Gi=0,Gf(),ie=t,Dt=i=Mn(t.current,null),jt=e,It=0,bn=null,Aa=!1,Es=tr(t,e),Uf=!1,Ss=wn=Hf=kr=za=de=0,cn=jo=null,jf=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var f=31-Qe(o),h=1<<f;e|=t[f],o&=~h}return qi=e,xr(),i}function Cp(t,e){Ot=null,N.H=Oo,e===ps||e===Ql?(e=Vd(),It=3):e===Kc?(e=Vd(),It=4):It=e===wf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bn=e,Dt===null&&(de=1,ou(t,r(e,t.current)))}function Mp(){var t=vn.current;return t===null?!0:(jt&4194048)===jt?On===null:(jt&62914560)===jt||(jt&536870912)!==0?t===On:!1}function Op(){var t=N.H;return N.H=Oo,t===null?Oo:t}function Np(){var t=N.A;return N.A=X0,t}function _u(){de=4,Aa||(jt&4194048)!==jt&&vn.current!==null||(Es=!0),(za&134217727)===0&&(kr&134217727)===0||ie===null||Ma(ie,jt,wn,!1)}function Yf(t,e,i){var o=Qt;Qt|=2;var f=Op(),h=Np();(ie!==t||jt!==e)&&(yu=null,As(t,e)),e=!1;var y=de;t:do try{if(It!==0&&Dt!==null){var E=Dt,C=bn;switch(It){case 8:Gf(),y=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(e=!0);var q=It;if(It=0,bn=null,zs(t,E,C,q),i&&Es){y=0;break t}break;default:q=It,It=0,bn=null,zs(t,E,C,q)}}F0(),y=de;break}catch(I){Cp(t,I)}while(!0);return e&&t.shellSuspendCounter++,Kn=ci=null,Qt=o,N.H=f,N.A=h,Dt===null&&(ie=null,jt=0,xr()),y}function F0(){for(;Dt!==null;)Bp(Dt)}function W0(t,e){var i=Qt;Qt|=2;var o=Op(),f=Np();ie!==t||jt!==e?(yu=null,gu=Ke()+500,As(t,e)):Es=tr(t,e);t:do try{if(It!==0&&Dt!==null){e=Dt;var h=bn;e:switch(It){case 1:It=0,bn=null,zs(t,e,h,1);break;case 2:case 9:if(Gd(h)){It=0,bn=null,Rp(e);break}e=function(){It!==2&&It!==9||ie!==t||(It=7),hi(t)},h.then(e,e);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:Gd(h)?(It=0,bn=null,Rp(e)):(It=0,bn=null,zs(t,e,h,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(y?_g(y):E.stateNode.complete){It=0,bn=null;var C=E.sibling;if(C!==null)Dt=C;else{var q=E.return;q!==null?(Dt=q,bu(q)):Dt=null}break e}}It=0,bn=null,zs(t,e,h,5);break;case 6:It=0,bn=null,zs(t,e,h,6);break;case 8:Gf(),de=6;break t;default:throw Error(c(462))}}$0();break}catch(I){Cp(t,I)}while(!0);return Kn=ci=null,N.H=o,N.A=f,Qt=i,Dt!==null?0:(ie=null,jt=0,xr(),de)}function $0(){for(;Dt!==null&&!hl();)Bp(Dt)}function Bp(t){var e=ip(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?bu(t):Dt=e}function Rp(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Fm(i,e,e.pendingProps,e.type,void 0,jt);break;case 11:e=Fm(i,e,e.pendingProps,e.type.render,e.ref,jt);break;case 5:rf(e);default:rp(i,e),e=Dt=go(e,qi),e=ip(i,e,qi)}t.memoizedProps=t.pendingProps,e===null?bu(t):Dt=e}function zs(t,e,i,o){Kn=ci=null,rf(e),gs=null,Eo=0;var f=e.return;try{if(P0(t,f,e,i,jt)){de=1,ou(t,r(i,t.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;de=1,ou(t,r(i,t.current)),Dt=null;return}e.flags&32768?(kt||o===1?t=!0:Es||(jt&536870912)!==0?t=!1:(Aa=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),kp(e,t)):bu(e)}function bu(t){var e=t;do{if((e.flags&32768)!==0){kp(e,Aa);return}t=e.return;var i=Y0(e.alternate,e,qi);if(i!==null){Dt=i;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);de===0&&(de=5)}function kp(t,e){do{var i=V0(t.alternate,t);if(i!==null){i.flags&=32767,Dt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=i}while(t!==null);de=6,Dt=null}function Dp(t,e,i,o,f,h,y,E,C){t.cancelPendingCommit=null;do wu();while(ze!==0);if((Qt&6)!==0)throw Error(c(327));if(e!==null){if(e===t.current)throw Error(c(177));if(h=e.lanes|e.childLanes,h|=ls,Tc(t,i,h,y,E,C),t===ie&&(Dt=ie=null,jt=0),Ts=e,Ca=t,Gi=i,Zf=h,Pf=f,Tp=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,i_(Ia,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,f=K.p,K.p=2,y=Qt,Qt|=4;try{K0(t,e,i)}finally{Qt=y,K.p=f,N.T=o}}ze=1,Up(),Hp(),jp()}}function Up(){if(ze===1){ze=0;var t=Ca,e=Ts,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=N.T,N.T=null;var o=K.p;K.p=2;var f=Qt;Qt|=4;try{yp(e,t);var h=nh,y=yr(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&as(E.ownerDocument.documentElement,E)){if(C!==null&&ii(E)){var q=C.start,I=C.end;if(I===void 0&&(I=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(I,E.value.length);else{var $=E.ownerDocument||document,Y=$&&$.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),_t=E.textContent.length,At=Math.min(C.start,_t),ee=C.end===void 0?At:Math.min(C.end,_t);!Q.extend&&At>ee&&(y=ee,ee=At,At=y);var k=gr(E,At),B=gr(E,ee);if(k&&B&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var Z=$.createRange();Z.setStart(k.node,k.offset),Q.removeAllRanges(),At>ee?(Q.addRange(Z),Q.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),Q.addRange(Z))}}}}for($=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&$.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var F=$[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Bu=!!eh,nh=eh=null}finally{Qt=f,K.p=o,N.T=i}}t.current=e,ze=2}}function Hp(){if(ze===2){ze=0;var t=Ca,e=Ts,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=N.T,N.T=null;var o=K.p;K.p=2;var f=Qt;Qt|=4;try{hp(t,e.alternate,e)}finally{Qt=f,K.p=o,N.T=i}}ze=3}}function jp(){if(ze===4||ze===3){ze=0,dl();var t=Ca,e=Ts,i=Gi,o=Tp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ze=5:(ze=0,Ts=Ca=null,Zp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(La=null),wt(i),e=e.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=N.T,f=K.p,K.p=2,N.T=null;try{for(var h=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];h(E.value,{componentStack:E.stack})}}finally{N.T=e,K.p=f}}(Gi&3)!==0&&wu(),hi(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===qf?Zo++:(Zo=0,qf=t):Zo=0,Po(0)}}function Zp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,wo(e)))}function wu(){return Up(),Hp(),jp(),Pp()}function Pp(){if(ze!==5)return!1;var t=Ca,e=Zf;Zf=0;var i=wt(Gi),o=N.T,f=K.p;try{K.p=32>i?32:i,N.T=null,i=Pf,Pf=null;var h=Ca,y=Gi;if(ze=0,Ts=Ca=null,Gi=0,(Qt&6)!==0)throw Error(c(331));var E=Qt;if(Qt|=4,xp(h.current),_p(h,h.current,y,i),Qt=E,Po(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(ta,h)}catch{}return!0}finally{K.p=f,N.T=o,Zp(t,e)}}function qp(t,e,i){e=r(i,e),e=bf(t.stateNode,e,2),t=xa(t,e,2),t!==null&&(xi(t,2),hi(t))}function Jt(t,e,i){if(t.tag===3)qp(t,t,i);else for(;e!==null;){if(e.tag===3){qp(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(La===null||!La.has(o))){t=r(i,t),i=Gm(2),o=xa(e,i,2),o!==null&&(Ym(i,o,e,t),xi(o,2),hi(o));break}}e=e.return}}function Vf(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new I0;var f=new Set;o.set(e,f)}else f=o.get(e),f===void 0&&(f=new Set,o.set(e,f));f.has(i)||(Uf=!0,f.add(i),t=t_.bind(null,t,e,i),e.then(t,t))}function t_(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ie===t&&(jt&i)===i&&(de===4||de===3&&(jt&62914560)===jt&&300>Ke()-pu?(Qt&2)===0&&As(t,0):Hf|=i,Ss===jt&&(Ss=0)),hi(t)}function Gp(t,e){e===0&&(e=pl()),t=Cn(t,e),t!==null&&(xi(t,e),hi(t))}function e_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Gp(t,i)}function n_(t,e){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(c(314))}o!==null&&o.delete(e),Gp(t,i)}function i_(t,e){return Yr(t,e)}var xu=null,Ls=null,Kf=!1,Eu=!1,Qf=!1,Oa=0;function hi(t){t!==Ls&&t.next===null&&(Ls===null?xu=Ls=t:Ls=Ls.next=t),Eu=!0,Kf||(Kf=!0,r_())}function Po(t,e){if(!Qf&&Eu){Qf=!0;do for(var i=!1,o=xu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var y=o.suspendedLanes,E=o.pingedLanes;h=(1<<31-Qe(42|t)+1)-1,h&=f&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Qp(o,h))}else h=jt,h=Kr(o,o===ie?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||tr(o,h)||(i=!0,Qp(o,h));o=o.next}while(i);Qf=!1}}function a_(){Yp()}function Yp(){Eu=Kf=!1;var t=0;Oa!==0&&p_()&&(t=Oa);for(var e=Ke(),i=null,o=xu;o!==null;){var f=o.next,h=Vp(o,e);h===0?(o.next=null,i===null?xu=f:i.next=f,f===null&&(Ls=i)):(i=o,(t!==0||(h&3)!==0)&&(Eu=!0)),o=f}ze!==0&&ze!==5||Po(t),Oa!==0&&(Oa=0)}function Vp(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Qe(h),E=1<<y,C=f[y];C===-1?((E&i)===0||(E&o)!==0)&&(f[y]=Sc(E,e)):C<=e&&(t.expiredLanes|=E),h&=~E}if(e=ie,i=jt,i=Kr(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===e&&(It===2||It===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xa(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||tr(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&Xa(o),wt(i)){case 2:case 8:i=Ks;break;case 32:i=Ia;break;case 268435456:i=Qs;break;default:i=Ia}return o=Kp.bind(null,t),i=Yr(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&Xa(o),t.callbackPriority=2,t.callbackNode=null,2}function Kp(t,e){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(wu()&&t.callbackNode!==i)return null;var o=jt;return o=Kr(t,t===ie?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(zp(t,o,e),Vp(t,Ke()),t.callbackNode!=null&&t.callbackNode===i?Kp.bind(null,t):null)}function Qp(t,e){if(wu())return null;zp(t,e,!0)}function r_(){y_(function(){(Qt&6)!==0?Yr(Vr,a_):Yp()})}function Xf(){if(Oa===0){var t=ds;t===0&&(t=Fa,Fa<<=1,(Fa&261888)===0&&(Fa=256)),Oa=t}return Oa}function Xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function Ip(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function s_(t,e,i,o,f){if(e==="submit"&&i&&i.stateNode===f){var h=Xp((f[Le]||null).action),y=o.submitter;y&&(e=(e=y[Le]||null)?Xp(e.formAction):y.getAttribute("formAction"),e!==null&&(h=e,y=null));var E=new Fr("action","action",null,o,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Oa!==0){var C=y?Ip(f,y):new FormData(f);mf(i,{pending:!0,data:C,method:f.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=y?Ip(f,y):new FormData(f),mf(i,{pending:!0,data:C,method:f.method,action:h},h,C))},currentTarget:f}]})}}for(var If=0;If<si.length;If++){var Jf=si[If],o_=Jf.toLowerCase(),l_=Jf[0].toUpperCase()+Jf.slice(1);an(o_,"on"+l_)}an(_r,"onAnimationEnd"),an(Pl,"onAnimationIteration"),an(br,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Hc,"onTransitionRun"),an(ql,"onTransitionStart"),an(jc,"onTransitionCancel"),an(ya,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function Jp(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,q=E.currentTarget;if(E=E.listener,C!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=q;try{h(f)}catch(I){wr(I)}f.currentTarget=null,h=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,q=E.currentTarget,E=E.listener,C!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=q;try{h(f)}catch(I){wr(I)}f.currentTarget=null,h=C}}}}function Ut(t,e){var i=e[Fn];i===void 0&&(i=e[Fn]=new Set);var o=t+"__bubble";i.has(o)||(Fp(e,t,2,!1),i.add(o))}function Ff(t,e,i){var o=0;e&&(o|=4),Fp(i,t,o,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Wf(t){if(!t[Su]){t[Su]=!0,wl.forEach(function(i){i!=="selectionchange"&&(u_.has(i)||Ff(i,!1,t),Ff(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,Ff("selectionchange",!1,e))}}function Fp(t,e,i,o){switch(Ag(e)){case 2:var f=U_;break;case 8:f=H_;break;default:f=dh}i=f.bind(null,e,i,t),f=void 0,!or||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(e,i,{capture:!0,passive:f}):t.addEventListener(e,i,!0):f!==void 0?t.addEventListener(e,i,{passive:f}):t.addEventListener(e,i,!1)}function $f(t,e,i,o,f){var h=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===f)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;E!==null;){if(y=Si(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=h=y;continue t}E=E.parentNode}}o=o.return}ao(function(){var q=h,I=sr(i),$=[];t:{var Y=Gl.get(t);if(Y!==void 0){var Q=Fr,_t=t;switch(t){case"keypress":if(lr(i)===0)break t;case"keydown":case"keyup":Q=Cl;break;case"focusin":_t="focus",Q=oo;break;case"focusout":_t="blur",Q=oo;break;case"beforeblur":case"afterblur":Q=oo;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Nc;break;case _r:case Pl:case br:Q=lo;break;case ya:Q=Nl;break;case"scroll":case"scrollend":Q=Ht;break;case"wheel":Q=Ci;break;case"copy":case"cut":case"paste":Q=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ml;break;case"toggle":case"beforetoggle":Q=fr}var At=(e&4)!==0,ee=!At&&(t==="scroll"||t==="scrollend"),k=At?Y!==null?Y+"Capture":null:Y;At=[];for(var B=q,Z;B!==null;){var F=B;if(Z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||Z===null||k===null||(F=zi(B,k),F!=null&&At.push(Go(B,F,Z))),ee)break;B=B.return}0<At.length&&(Y=new Q(Y,_t,null,i,I),$.push({event:Y,listeners:At}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&i!==Jr&&(_t=i.relatedTarget||i.fromElement)&&(Si(_t)||_t[Ei]))break t;if((Q||Y)&&(Y=I.window===I?I:(Y=I.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(_t=i.relatedTarget||i.toElement,Q=q,_t=_t?Si(_t):null,_t!==null&&(ee=p(_t),At=_t.tag,_t!==ee||At!==5&&At!==27&&At!==6)&&(_t=null)):(Q=null,_t=q),Q!==_t)){if(At=Sl,F="onMouseLeave",k="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(At=Ml,F="onPointerLeave",k="onPointerEnter",B="pointer"),ee=Q==null?Y:Wn(Q),Z=_t==null?Y:Wn(_t),Y=new At(F,B+"leave",Q,i,I),Y.target=ee,Y.relatedTarget=Z,F=null,Si(I)===q&&(At=new At(k,B+"enter",_t,i,I),At.target=Z,At.relatedTarget=ee,F=At),ee=F,Q&&_t)e:{for(At=c_,k=Q,B=_t,Z=0,F=k;F;F=At(F))Z++;F=0;for(var Tt=B;Tt;Tt=At(Tt))F++;for(;0<Z-F;)k=At(k),Z--;for(;0<F-Z;)B=At(B),F--;for(;Z--;){if(k===B||B!==null&&k===B.alternate){At=k;break e}k=At(k),B=At(B)}At=null}else At=null;Q!==null&&Wp($,Y,Q,At,!1),_t!==null&&ee!==null&&Wp($,ee,_t,At,!0)}}t:{if(Y=q?Wn(q):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Yt=pr;else if(An(Y))if(Dl)Yt=Uc;else{Yt=Dc;var bt=Gn}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&rr(q.elementType)&&(Yt=pr):Yt=da;if(Yt&&(Yt=Yt(t,q))){kl($,Yt,i,I);break t}bt&&bt(t,Y,q),t==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Zn(Y,"number",Y.value)}switch(bt=q?Wn(q):window,t){case"focusin":(An(bt)||bt.contentEditable==="true")&&(ai=bt,ss=q,vr=null);break;case"focusout":vr=ss=ai=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,jl($,i,I);break;case"selectionchange":if(rs)break;case"keydown":case"keyup":jl($,i,I)}var Bt;if($r)t:{switch(t){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else ca?Rl(t,i)&&(Zt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Zt="onCompositionStart");Zt&&(ts&&i.locale!=="ko"&&(ca||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ca&&(Bt=ei()):(Sn=I,Li="value"in Sn?Sn.value:Sn.textContent,ca=!0)),bt=Tu(q,Zt),0<bt.length&&(Zt=new uo(Zt,t,null,i,I),$.push({event:Zt,listeners:bt}),Bt?Zt.data=Bt:(Bt=mo(i),Bt!==null&&(Zt.data=Bt)))),(Bt=Rc?yn(t,i):fa(t,i))&&(Zt=Tu(q,"onBeforeInput"),0<Zt.length&&(bt=new uo("onBeforeInput","beforeinput",null,i,I),$.push({event:bt,listeners:Zt}),bt.data=Bt)),s_($,t,q,i,I)}Jp($,e)})}function Go(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Tu(t,e){for(var i=e+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=zi(t,i),f!=null&&o.unshift(Go(t,f,h)),f=zi(t,e),f!=null&&o.push(Go(t,f,h))),t.tag===3)return o;t=t.return}return[]}function c_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wp(t,e,i,o,f){for(var h=e._reactName,y=[];i!==null&&i!==o;){var E=i,C=E.alternate,q=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||q===null||(C=q,f?(q=zi(i,h),q!=null&&y.unshift(Go(i,q,C))):f||(q=zi(i,h),q!=null&&y.push(Go(i,q,C)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var f_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function $p(t){return(typeof t=="string"?t:""+t).replace(f_,`
`).replace(h_,"")}function tg(t,e){return e=$p(e),$p(t)===e}function te(t,e,i,o,f,h){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&En(t,""+o);break;case"className":Wt(t,"class",o);break;case"tabIndex":Wt(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(t,i,o);break;case"style":Xr(t,o,h);break;case"data":if(e!=="object"){Wt(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=sa(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&te(t,e,"name",f.name,f,null),te(t,e,"formEncType",f.formEncType,f,null),te(t,e,"formMethod",f.formMethod,f,null),te(t,e,"formTarget",f.formTarget,f,null)):(te(t,e,"encType",f.encType,f,null),te(t,e,"method",f.method,f,null),te(t,e,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=sa(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=en);break;case"onScroll":o!=null&&Ut("scroll",t);break;case"onScrollEnd":o!=null&&Ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Ut("beforetoggle",t),Ut("toggle",t),Rt(t,"popover",o);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Rt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ir.get(i)||i,Rt(t,i,o))}}function th(t,e,i,o,f,h){switch(i){case"style":Xr(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&Ut("scroll",t);break;case"onScrollEnd":o!=null&&Ut("scrollend",t);break;case"onClick":o!=null&&(t.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),e=i.slice(2,f?i.length-7:void 0),h=t[Le]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,f);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Rt(t,i,o)}}}function Ue(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",t),Ut("load",t);var o=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:te(t,e,h,y,i,null)}}f&&te(t,e,"srcSet",i.srcSet,i,null),o&&te(t,e,"src",i.src,i,null);return;case"input":Ut("invalid",t);var E=h=y=f=null,C=null,q=null;for(o in i)if(i.hasOwnProperty(o)){var I=i[o];if(I!=null)switch(o){case"name":f=I;break;case"type":y=I;break;case"checked":C=I;break;case"defaultChecked":q=I;break;case"value":h=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,e));break;default:te(t,e,o,I,i,null)}}ar(t,h,E,C,q,y,f,!1);return;case"select":Ut("invalid",t),o=y=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:te(t,e,f,E,i,null)}e=h,i=y,t.multiple=!!o,e!=null?ne(t,!!o,e,!1):i!=null&&ne(t,!!o,i,!0);return;case"textarea":Ut("invalid",t),h=f=o=null;for(y in i)if(i.hasOwnProperty(y)&&(E=i[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(c(91));break;default:te(t,e,y,E,i,null)}aa(t,o,f,h);return;case"option":for(C in i)i.hasOwnProperty(C)&&(o=i[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":te(t,e,C,o,i,null));return;case"dialog":Ut("beforetoggle",t),Ut("toggle",t),Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":Ut("load",t);break;case"video":case"audio":for(o=0;o<qo.length;o++)Ut(qo[o],t);break;case"image":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"embed":case"source":case"link":Ut("error",t),Ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(o=i[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:te(t,e,q,o,i,null)}return;default:if(rr(e)){for(I in i)i.hasOwnProperty(I)&&(o=i[I],o!==void 0&&th(t,e,I,o,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(o=i[E],o!=null&&te(t,e,E,o,i,null))}function d_(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,y=null,E=null,C=null,q=null,I=null;for(Q in i){var $=i[Q];if(i.hasOwnProperty(Q)&&$!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(Q)||te(t,e,Q,null,o,$)}}for(var Y in o){var Q=o[Y];if($=i[Y],o.hasOwnProperty(Y)&&(Q!=null||$!=null))switch(Y){case"type":h=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":I=Q;break;case"value":y=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,e));break;default:Q!==$&&te(t,e,Y,Q,o,$)}}eo(t,y,E,C,q,I,h,f);return;case"select":Q=y=E=Y=null;for(h in i)if(C=i[h],i.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":Q=C;default:o.hasOwnProperty(h)||te(t,e,h,null,o,C)}for(f in o)if(h=o[f],C=i[f],o.hasOwnProperty(f)&&(h!=null||C!=null))switch(f){case"value":Y=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==C&&te(t,e,f,h,o,C)}e=E,i=y,o=Q,Y!=null?ne(t,!!i,Y,!1):!!o!=!!i&&(e!=null?ne(t,!!i,e,!0):ne(t,!!i,i?[]:"",!1));return;case"textarea":Q=Y=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,e,E,null,o,f)}for(y in o)if(f=o[y],h=i[y],o.hasOwnProperty(y)&&(f!=null||h!=null))switch(y){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:f!==h&&te(t,e,y,f,o,h)}ti(t,Y,Q);return;case"option":for(var _t in i)Y=i[_t],i.hasOwnProperty(_t)&&Y!=null&&!o.hasOwnProperty(_t)&&(_t==="selected"?t.selected=!1:te(t,e,_t,null,o,Y));for(C in o)Y=o[C],Q=i[C],o.hasOwnProperty(C)&&Y!==Q&&(Y!=null||Q!=null)&&(C==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":te(t,e,C,Y,o,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in i)Y=i[At],i.hasOwnProperty(At)&&Y!=null&&!o.hasOwnProperty(At)&&te(t,e,At,null,o,Y);for(q in o)if(Y=o[q],Q=i[q],o.hasOwnProperty(q)&&Y!==Q&&(Y!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,e));break;default:te(t,e,q,Y,o,Q)}return;default:if(rr(e)){for(var ee in i)Y=i[ee],i.hasOwnProperty(ee)&&Y!==void 0&&!o.hasOwnProperty(ee)&&th(t,e,ee,void 0,o,Y);for(I in o)Y=o[I],Q=i[I],!o.hasOwnProperty(I)||Y===Q||Y===void 0&&Q===void 0||th(t,e,I,Y,o,Q);return}}for(var k in i)Y=i[k],i.hasOwnProperty(k)&&Y!=null&&!o.hasOwnProperty(k)&&te(t,e,k,null,o,Y);for($ in o)Y=o[$],Q=i[$],!o.hasOwnProperty($)||Y===Q||Y==null&&Q==null||te(t,e,$,Y,o,Q)}function eg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],h=f.transferSize,y=f.initiatorType,E=f.duration;if(h&&E&&eg(y)){for(y=0,E=f.responseEnd,o+=1;o<i.length;o++){var C=i[o],q=C.startTime;if(q>E)break;var I=C.transferSize,$=C.initiatorType;I&&eg($)&&(C=C.responseEnd,y+=I*(C<E?1:(E-q)/(C-q)))}if(--o,e+=8*(h+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var eh=null,nh=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function ng(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ig(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ah=null;function p_(){var t=window.event;return t&&t.type==="popstate"?t===ah?!1:(ah=t,!0):(ah=null,!1)}var ag=typeof setTimeout=="function"?setTimeout:void 0,g_=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(t){return rg.resolve(null).then(t).catch(v_)}:ag;function v_(t){setTimeout(function(){throw t})}function Na(t){return t==="head"}function sg(t,e){var i=e,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Ns(e);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Yo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Yo(i);for(var h=i.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[er]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=y}}else i==="body"&&Yo(t.ownerDocument.body);i=f}while(i);Ns(e)}function og(t,e){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function rh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rh(i),Fs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function __(t,e,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[er])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function b_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Nn(t.nextSibling),t===null))return null;return t}function lg(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Nn(t.nextSibling),t===null))return null;return t}function sh(t){return t.data==="$?"||t.data==="$~"}function oh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function w_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var o=function(){e(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var lh=null;function ug(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Nn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function cg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function fg(t,e,i){switch(e=Au(i),t){case"html":if(t=e.documentElement,!t)throw Error(c(452));return t;case"head":if(t=e.head,!t)throw Error(c(453));return t;case"body":if(t=e.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function Yo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Fs(t)}var Bn=new Map,hg=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=K.d;K.d={f:x_,r:E_,D:S_,C:T_,L:A_,m:z_,X:C_,S:L_,M:M_};function x_(){var t=Yi.f(),e=vu();return t||e}function E_(t){var e=ea(t);e!==null&&e.tag===5&&e.type==="form"?Cm(e):Yi.r(t)}var Cs=typeof document>"u"?null:document;function dg(t,e,i){var o=Cs;if(o&&typeof e=="string"&&e){var f=ae(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),hg.has(f)||(hg.add(f),t={rel:t,crossOrigin:i,href:e},o.querySelector(f)===null&&(e=o.createElement("link"),Ue(e,"link",t),_e(e),o.head.appendChild(e)))}}function S_(t){Yi.D(t),dg("dns-prefetch",t,null)}function T_(t,e){Yi.C(t,e),dg("preconnect",t,e)}function A_(t,e,i){Yi.L(t,e,i);var o=Cs;if(o&&t&&e){var f='link[rel="preload"][as="'+ae(e)+'"]';e==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+ae(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+ae(i.imageSizes)+'"]')):f+='[href="'+ae(t)+'"]';var h=f;switch(e){case"style":h=Ms(t);break;case"script":h=Os(t)}Bn.has(h)||(t=S({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Bn.set(h,t),o.querySelector(f)!==null||e==="style"&&o.querySelector(Vo(h))||e==="script"&&o.querySelector(Ko(h))||(e=o.createElement("link"),Ue(e,"link",t),_e(e),o.head.appendChild(e)))}}function z_(t,e){Yi.m(t,e);var i=Cs;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+ae(o)+'"][href="'+ae(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Os(t)}if(!Bn.has(h)&&(t=S({rel:"modulepreload",href:t},e),Bn.set(h,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ko(h)))return}o=i.createElement("link"),Ue(o,"link",t),_e(o),i.head.appendChild(o)}}}function L_(t,e,i){Yi.S(t,e,i);var o=Cs;if(o&&t){var f=na(o).hoistableStyles,h=Ms(t);e=e||"default";var y=f.get(h);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Vo(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Bn.get(h))&&uh(t,i);var C=y=o.createElement("link");_e(C),Ue(C,"link",t),C._p=new Promise(function(q,I){C.onload=q,C.onerror=I}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(y,e,o)}y={type:"stylesheet",instance:y,count:1,state:E},f.set(h,y)}}}function C_(t,e){Yi.X(t,e);var i=Cs;if(i&&t){var o=na(i).hoistableScripts,f=Os(t),h=o.get(f);h||(h=i.querySelector(Ko(f)),h||(t=S({src:t,async:!0},e),(e=Bn.get(f))&&ch(t,e),h=i.createElement("script"),_e(h),Ue(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function M_(t,e){Yi.M(t,e);var i=Cs;if(i&&t){var o=na(i).hoistableScripts,f=Os(t),h=o.get(f);h||(h=i.querySelector(Ko(f)),h||(t=S({src:t,async:!0,type:"module"},e),(e=Bn.get(f))&&ch(t,e),h=i.createElement("script"),_e(h),Ue(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function mg(t,e,i,o){var f=(f=mt.current)?zu(f):null;if(!f)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Ms(i.href),i=na(f).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Ms(i.href);var h=na(f).hoistableStyles,y=h.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=f.querySelector(Vo(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Bn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bn.set(t,i),h||O_(f,t,i,y.state))),e&&o===null)throw Error(c(528,""));return y}if(e&&o!==null)throw Error(c(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Os(i),i=na(f).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Ms(t){return'href="'+ae(t)+'"'}function Vo(t){return'link[rel="stylesheet"]['+t+"]"}function pg(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function O_(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),Ue(e,"link",i),_e(e),t.head.appendChild(e))}function Os(t){return'[src="'+ae(t)+'"]'}function Ko(t){return"script[async]"+t}function gg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+ae(i.href)+'"]');if(o)return e.instance=o,_e(o),o;var f=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),_e(o),Ue(o,"style",f),Lu(o,i.precedence,t),e.instance=o;case"stylesheet":f=Ms(i.href);var h=t.querySelector(Vo(f));if(h)return e.state.loading|=4,e.instance=h,_e(h),h;o=pg(i),(f=Bn.get(f))&&uh(o,f),h=(t.ownerDocument||t).createElement("link"),_e(h);var y=h;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ue(h,"link",o),e.state.loading|=4,Lu(h,i.precedence,t),e.instance=h;case"script":return h=Os(i.src),(f=t.querySelector(Ko(h)))?(e.instance=f,_e(f),f):(o=i,(f=Bn.get(h))&&(o=S({},i),ch(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),_e(f),Ue(f,"link",o),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(c(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,Lu(o,i.precedence,t));return e.instance}function Lu(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===e)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function uh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ch(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Cu=null;function yg(t,e,i){if(Cu===null){var o=new Map,f=Cu=new Map;f.set(i,o)}else f=Cu,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[er]||h[ve]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(e)||"";y=t+y;var E=o.get(y);E?E.push(h):o.set(y,[h])}}return o}function vg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function N_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function _g(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function B_(t,e,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ms(o.href),h=e.querySelector(Vo(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Mu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,_e(h);return}h=e.ownerDocument||e,o=pg(o),(f=Bn.get(f))&&uh(o,f),h=h.createElement("link"),_e(h);var y=h;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ue(h,"link",o),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Mu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var fh=0;function R_(t,e){return t.stylesheets&&t.count===0&&Nu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&fh===0&&(fh=62500*m_());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>fh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Nu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,e.forEach(k_,t),Ou=null,Mu.call(t))}function k_(t,e){if(!(e.state.loading&4)){var i=Ou.get(t);if(i)var o=i.get(null);else{i=new Map,Ou.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var y=f[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),o=y)}o&&i.set(null,o)}f=e.instance,y=f.getAttribute("data-precedence"),h=i.get(y)||o,h===o&&i.set(null,f),i.set(y,f),this.count++,o=Mu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var Qo={$$typeof:tt,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function D_(t,e,i,o,f,h,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function bg(t,e,i,o,f,h,y,E,C,q,I,$){return t=new D_(t,e,i,y,C,q,I,$,E),e=1,h===!0&&(e|=24),h=Pe(3,null,null,e),t.current=h,h.stateNode=t,e=Gc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:e},Qc(h),t}function wg(t){return t?(t=Mi,t):Mi}function xg(t,e,i,o,f,h){f=wg(f),o.context===null?o.context=f:o.pendingContext=f,o=wa(e),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=xa(t,o,e),i!==null&&(fn(i,t,e),To(i,t,e))}function Eg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function hh(t,e){Eg(t,e),(t=t.alternate)&&Eg(t,e)}function Sg(t){if(t.tag===13||t.tag===31){var e=Cn(t,67108864);e!==null&&fn(e,t,67108864),hh(t,67108864)}}function Tg(t){if(t.tag===13||t.tag===31){var e=xn();e=$e(e);var i=Cn(t,e);i!==null&&fn(i,t,e),hh(t,e)}}var Bu=!0;function U_(t,e,i,o){var f=N.T;N.T=null;var h=K.p;try{K.p=2,dh(t,e,i,o)}finally{K.p=h,N.T=f}}function H_(t,e,i,o){var f=N.T;N.T=null;var h=K.p;try{K.p=8,dh(t,e,i,o)}finally{K.p=h,N.T=f}}function dh(t,e,i,o){if(Bu){var f=mh(o);if(f===null)$f(t,e,o,Ru,i),zg(t,o);else if(Z_(f,t,e,i,o))o.stopPropagation();else if(zg(t,o),e&4&&-1<j_.indexOf(t)){for(;f!==null;){var h=ea(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=wi(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-Qe(y);E.entanglements[1]|=C,y&=~C}hi(h),(Qt&6)===0&&(gu=Ke()+500,Po(0))}}break;case 31:case 13:E=Cn(h,2),E!==null&&fn(E,h,2),vu(),hh(h,2)}if(h=mh(o),h===null&&$f(t,e,o,Ru,i),h===f)break;f=h}f!==null&&o.stopPropagation()}else $f(t,e,o,null,i)}}function mh(t){return t=sr(t),ph(t)}var Ru=null;function ph(t){if(Ru=null,t=Si(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=v(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ru=t,null}function Ag(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_c()){case Vr:return 2;case Ks:return 8;case Ia:case bc:return 32;case Qs:return 268435456;default:return 32}default:return 32}}var gh=!1,Ba=null,Ra=null,ka=null,Xo=new Map,Io=new Map,Da=[],j_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zg(t,e){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(e.pointerId)}}function Jo(t,e,i,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},e!==null&&(e=ea(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function Z_(t,e,i,o,f){switch(e){case"focusin":return Ba=Jo(Ba,t,e,i,o,f),!0;case"dragenter":return Ra=Jo(Ra,t,e,i,o,f),!0;case"mouseover":return ka=Jo(ka,t,e,i,o,f),!0;case"pointerover":var h=f.pointerId;return Xo.set(h,Jo(Xo.get(h)||null,t,e,i,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Io.set(h,Jo(Io.get(h)||null,t,e,i,o,f)),!0}return!1}function Lg(t){var e=Si(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=v(i),e!==null){t.blockedOn=e,Js(t.priority,function(){Tg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,Js(t.priority,function(){Tg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=mh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);Jr=o,i.target.dispatchEvent(o),Jr=null}else return e=ea(i),e!==null&&Sg(e),t.blockedOn=i,!1;e.shift()}return!0}function Cg(t,e,i){ku(t)&&i.delete(e)}function P_(){gh=!1,Ba!==null&&ku(Ba)&&(Ba=null),Ra!==null&&ku(Ra)&&(Ra=null),ka!==null&&ku(ka)&&(ka=null),Xo.forEach(Cg),Io.forEach(Cg)}function Du(t,e){t.blockedOn===e&&(t.blockedOn=null,gh||(gh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,P_)))}var Uu=null;function Mg(t){Uu!==t&&(Uu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],f=t[e+2];if(typeof o!="function"){if(ph(o||i)===null)continue;break}var h=ea(i);h!==null&&(t.splice(e,3),e-=3,mf(h,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Ns(t){function e(C){return Du(C,t)}Ba!==null&&Du(Ba,t),Ra!==null&&Du(Ra,t),ka!==null&&Du(ka,t),Xo.forEach(e),Io.forEach(e);for(var i=0;i<Da.length;i++){var o=Da[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Da.length&&(i=Da[0],i.blockedOn===null);)Lg(i),i.blockedOn===null&&Da.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],y=f[Le]||null;if(typeof h=="function")y||Mg(i);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,y=h[Le]||null)E=y.formAction;else if(ph(f)!==null)continue}else E=y.action;typeof E=="function"?i[o+1]=E:(i.splice(o,3),o-=3),Mg(i)}}}function Og(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function e(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),f!==null&&(f(),f=null)}}}function yh(t){this._internalRoot=t}Hu.prototype.render=yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(c(409));var i=e.current,o=xn();xg(i,o,t,e,null,null)},Hu.prototype.unmount=yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xg(t.current,2,null,t,null,null),vu(),e[Ei]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Is();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Da.length&&e!==0&&e<Da[i].priority;i++);Da.splice(i,0,t),i===0&&Lg(t)}};var Ng=s.version;if(Ng!=="19.2.3")throw Error(c(527,Ng,"19.2.3"));K.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=x(e),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var q_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{ta=ju.inject(q_),Be=ju}catch{}}return Wo.createRoot=function(t,e){if(!d(t))throw Error(c(299));var i=!1,o="",f=jm,h=Zm,y=Pm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError)),e=bg(t,1,!1,null,null,i,o,null,f,h,y,Og),t[Ei]=e.current,Wf(t),new yh(e)},Wo.hydrateRoot=function(t,e,i){if(!d(t))throw Error(c(299));var o=!1,f="",h=jm,y=Zm,E=Pm,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),e=bg(t,1,!0,e,i??null,o,f,C,h,y,E,Og),e.context=wg(null),i=e.current,o=xn(),o=$e(o),f=wa(o),f.callback=null,xa(i,f,o),i=o,e.current.lanes=i,xi(e,i),hi(e),t[Ei]=e.current,Wf(t),new Hu(e)},Wo.version="19.2.3",Wo}var qg;function F_(){if(qg)return bh.exports;qg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),bh.exports=J_(),bh.exports}var W_=F_();const $_=nd(W_);function Gg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Ay(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function tb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gg(a.outputLen),Gg(a.blockLen)}function Ku(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function eb(a,s){Ay(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Sh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const zy=a=>a instanceof Uint8Array,Th=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),di=(a,s)=>a<<32-s|a>>>s,nb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nb)throw new Error("Non little-endian hardware is not supported");function ib(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function ad(a){if(typeof a=="string"&&(a=ib(a)),!zy(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function ab(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!zy(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}let Ly=class{clone(){return this._cloneInto()}};function rb(a){const s=c=>a().update(ad(c)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function Cy(a=32){if(Sh&&typeof Sh.getRandomValues=="function")return Sh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function sb(a,s,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,c);const d=BigInt(32),p=BigInt(4294967295),v=Number(l>>d&p),b=Number(l&p),_=c?4:0,x=c?0:4;a.setUint32(s+_,v,c),a.setUint32(s+x,b,c)}let ob=class extends Ly{constructor(s,l,c,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Th(this.buffer)}update(s){Ku(this);const{view:l,buffer:c,blockLen:d}=this;s=ad(s);const p=s.length;for(let v=0;v<p;){const b=Math.min(d-this.pos,p-v);if(b===d){const _=Th(s);for(;d<=p-v;v+=d)this.process(_,v);continue}c.set(s.subarray(v,v+b),this.pos),this.pos+=b,v+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){Ku(this),eb(s,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:v}=this;l[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>d-v&&(this.process(c,0),v=0);for(let S=v;S<d;S++)l[S]=0;sb(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Th(s),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)b.setUint32(4*S,T[S],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const c=s.slice(0,l);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:v,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=v,d%l&&s.buffer.set(c),s}};const lb=(a,s,l)=>a&s^~a&l,ub=(a,s,l)=>a&s^a&l^s&l,cb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ha=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ja=new Uint32Array(64);let fb=class extends ob{constructor(){super(64,32,8,!1),this.A=Ha[0]|0,this.B=Ha[1]|0,this.C=Ha[2]|0,this.D=Ha[3]|0,this.E=Ha[4]|0,this.F=Ha[5]|0,this.G=Ha[6]|0,this.H=Ha[7]|0}get(){const{A:s,B:l,C:c,D:d,E:p,F:v,G:b,H:_}=this;return[s,l,c,d,p,v,b,_]}set(s,l,c,d,p,v,b,_){this.A=s|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=v|0,this.G=b|0,this.H=_|0}process(s,l){for(let S=0;S<16;S++,l+=4)ja[S]=s.getUint32(l,!1);for(let S=16;S<64;S++){const R=ja[S-15],P=ja[S-2],H=di(R,7)^di(R,18)^R>>>3,M=di(P,17)^di(P,19)^P>>>10;ja[S]=M+ja[S-7]+H+ja[S-16]|0}let{A:c,B:d,C:p,D:v,E:b,F:_,G:x,H:T}=this;for(let S=0;S<64;S++){const R=di(b,6)^di(b,11)^di(b,25),P=T+R+lb(b,_,x)+cb[S]+ja[S]|0,M=(di(c,2)^di(c,13)^di(c,22))+ub(c,d,p)|0;T=x,x=_,_=b,b=v+P|0,v=p,p=d,d=c,c=P+M|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,v=v+this.D|0,b=b+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(c,d,p,v,b,_,x,T)}roundClean(){ja.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Hh=rb(()=>new fb);const My=BigInt(0),ec=BigInt(1),hb=BigInt(2),nc=a=>a instanceof Uint8Array,db=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Hs(a){if(!nc(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=db[a[l]];return s}function Oy(a){const s=a.toString(16);return s.length&1?`0${s}`:s}function rd(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function js(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),v=Number.parseInt(p,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");l[c]=v}return l}function hn(a){return rd(Hs(a))}function sd(a){if(!nc(a))throw new Error("Uint8Array expected");return rd(Hs(Uint8Array.from(a).reverse()))}function Ya(a,s){return js(a.toString(16).padStart(s*2,"0"))}function od(a,s){return Ya(a,s).reverse()}function mb(a){return js(Oy(a))}function Ge(a,s,l){let c;if(typeof s=="string")try{c=js(s)}catch(p){throw new Error(`${a} must be valid hex string, got "${s}". Cause: ${p}`)}else if(nc(s))c=Uint8Array.from(s);else throw new Error(`${a} must be hex string or Uint8Array`);const d=c.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return c}function Pr(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!nc(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}function pb(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0}function gb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function yb(a){let s;for(s=0;a>My;a>>=ec,s+=1);return s}function vb(a,s){return a>>BigInt(s)&ec}const _b=(a,s,l)=>a|(l?ec:My)<<BigInt(s),ld=a=>(hb<<BigInt(a-1))-ec,Ah=a=>new Uint8Array(a),Yg=a=>Uint8Array.from(a);function Ny(a,s,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let c=Ah(a),d=Ah(a),p=0;const v=()=>{c.fill(1),d.fill(0),p=0},b=(...S)=>l(d,c,...S),_=(S=Ah())=>{d=b(Yg([0]),S),c=b(),S.length!==0&&(d=b(Yg([1]),S),c=b())},x=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let S=0;const R=[];for(;S<s;){c=b();const P=c.slice();R.push(P),S+=c.length}return Pr(...R)};return(S,R)=>{v(),_(S);let P;for(;!(P=R(x()));)_();return v(),P}}const bb={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function ul(a,s,l={}){const c=(d,p,v)=>{const b=bb[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const _=a[d];if(!(v&&_===void 0)&&!b(_,a))throw new Error(`Invalid param ${String(d)}=${_} (${typeof _}), expected ${p}`)};for(const[d,p]of Object.entries(s))c(d,p,!1);for(const[d,p]of Object.entries(l))c(d,p,!0);return a}const wb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:vb,bitLen:yb,bitMask:ld,bitSet:_b,bytesToHex:Hs,bytesToNumberBE:hn,bytesToNumberLE:sd,concatBytes:Pr,createHmacDrbg:Ny,ensureBytes:Ge,equalBytes:pb,hexToBytes:js,hexToNumber:rd,numberToBytesBE:Ya,numberToBytesLE:od,numberToHexUnpadded:Oy,numberToVarBytesBE:mb,utf8ToBytes:gb,validateObject:ul},Symbol.toStringTag,{value:"Module"}));const Ne=BigInt(0),ge=BigInt(1),Hr=BigInt(2),xb=BigInt(3),jh=BigInt(4),Vg=BigInt(5),Kg=BigInt(8);BigInt(9);BigInt(16);function He(a,s){const l=a%s;return l>=Ne?l:s+l}function Eb(a,s,l){if(l<=Ne||s<Ne)throw new Error("Expected power/modulo > 0");if(l===ge)return Ne;let c=ge;for(;s>Ne;)s&ge&&(c=c*a%l),a=a*a%l,s>>=ge;return c}function Rn(a,s,l){let c=a;for(;s-- >Ne;)c*=c,c%=l;return c}function Zh(a,s){if(a===Ne||s<=Ne)throw new Error(`invert: expected positive integers, got n=${a} mod=${s}`);let l=He(a,s),c=s,d=Ne,p=ge;for(;l!==Ne;){const b=c/l,_=c%l,x=d-p*b;c=l,l=_,d=p,p=x}if(c!==ge)throw new Error("invert: does not exist");return He(d,s)}function Sb(a){const s=(a-ge)/Hr;let l,c,d;for(l=a-ge,c=0;l%Hr===Ne;l/=Hr,c++);for(d=Hr;d<a&&Eb(d,s,a)!==a-ge;d++);if(c===1){const v=(a+ge)/jh;return function(_,x){const T=_.pow(x,v);if(!_.eql(_.sqr(T),x))throw new Error("Cannot find square root");return T}}const p=(l+ge)/Hr;return function(b,_){if(b.pow(_,s)===b.neg(b.ONE))throw new Error("Cannot find square root");let x=c,T=b.pow(b.mul(b.ONE,d),l),S=b.pow(_,p),R=b.pow(_,l);for(;!b.eql(R,b.ONE);){if(b.eql(R,b.ZERO))return b.ZERO;let P=1;for(let M=b.sqr(R);P<x&&!b.eql(M,b.ONE);P++)M=b.sqr(M);const H=b.pow(T,ge<<BigInt(x-P-1));T=b.sqr(H),S=b.mul(S,H),R=b.mul(R,T),x=P}return S}}function Tb(a){if(a%jh===xb){const s=(a+ge)/jh;return function(c,d){const p=c.pow(d,s);if(!c.eql(c.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%Kg===Vg){const s=(a-Vg)/Kg;return function(c,d){const p=c.mul(d,Hr),v=c.pow(p,s),b=c.mul(d,v),_=c.mul(c.mul(b,Hr),v),x=c.mul(b,c.sub(_,c.ONE));if(!c.eql(c.sqr(x),d))throw new Error("Cannot find square root");return x}}return Sb(a)}const Ab=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zb(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=Ab.reduce((c,d)=>(c[d]="function",c),s);return ul(a,l)}function Lb(a,s,l){if(l<Ne)throw new Error("Expected power > 0");if(l===Ne)return a.ONE;if(l===ge)return s;let c=a.ONE,d=s;for(;l>Ne;)l&ge&&(c=a.mul(c,d)),d=a.sqr(d),l>>=ge;return c}function Cb(a,s){const l=new Array(s.length),c=s.reduce((p,v,b)=>a.is0(v)?p:(l[b]=p,a.mul(p,v)),a.ONE),d=a.inv(c);return s.reduceRight((p,v,b)=>a.is0(v)?p:(l[b]=a.mul(p,l[b]),a.mul(p,v)),d),l}function By(a,s){const l=s!==void 0?s:a.toString(2).length,c=Math.ceil(l/8);return{nBitLength:l,nByteLength:c}}function Mb(a,s,l=!1,c={}){if(a<=Ne)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=By(a,s);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const v=Tb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:ld(d),ZERO:Ne,ONE:ge,create:_=>He(_,a),isValid:_=>{if(typeof _!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof _}`);return Ne<=_&&_<a},is0:_=>_===Ne,isOdd:_=>(_&ge)===ge,neg:_=>He(-_,a),eql:(_,x)=>_===x,sqr:_=>He(_*_,a),add:(_,x)=>He(_+x,a),sub:(_,x)=>He(_-x,a),mul:(_,x)=>He(_*x,a),pow:(_,x)=>Lb(b,_,x),div:(_,x)=>He(_*Zh(x,a),a),sqrN:_=>_*_,addN:(_,x)=>_+x,subN:(_,x)=>_-x,mulN:(_,x)=>_*x,inv:_=>Zh(_,a),sqrt:c.sqrt||(_=>v(b,_)),invertBatch:_=>Cb(b,_),cmov:(_,x,T)=>T?x:_,toBytes:_=>l?od(_,p):Ya(_,p),fromBytes:_=>{if(_.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${_.length}`);return l?sd(_):hn(_)}});return Object.freeze(b)}function Ry(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const s=a.toString(2).length;return Math.ceil(s/8)}function ky(a){const s=Ry(a);return s+Math.ceil(s/2)}function Ob(a,s,l=!1){const c=a.length,d=Ry(s),p=ky(s);if(c<16||c<p||c>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${c}`);const v=l?hn(a):sd(a),b=He(v,s-ge)+ge;return l?od(b,d):Ya(b,d)}const Nb=BigInt(0),zh=BigInt(1);function Bb(a,s){const l=(d,p)=>{const v=p.negate();return d?v:p},c=d=>{const p=Math.ceil(s/d)+1,v=2**(d-1);return{windows:p,windowSize:v}};return{constTimeNegate:l,unsafeLadder(d,p){let v=a.ZERO,b=d;for(;p>Nb;)p&zh&&(v=v.add(b)),b=b.double(),p>>=zh;return v},precomputeWindow(d,p){const{windows:v,windowSize:b}=c(p),_=[];let x=d,T=x;for(let S=0;S<v;S++){T=x,_.push(T);for(let R=1;R<b;R++)T=T.add(x),_.push(T);x=T.double()}return _},wNAF(d,p,v){const{windows:b,windowSize:_}=c(d);let x=a.ZERO,T=a.BASE;const S=BigInt(2**d-1),R=2**d,P=BigInt(d);for(let H=0;H<b;H++){const M=H*_;let D=Number(v&S);v>>=P,D>_&&(D-=R,v+=zh);const V=M,it=M+Math.abs(D)-1,tt=H%2!==0,gt=D<0;D===0?T=T.add(l(tt,p[V])):x=x.add(l(gt,p[it]))}return{p:x,f:T}},wNAFCached(d,p,v,b){const _=d._WINDOW_SIZE||1;let x=p.get(d);return x||(x=this.precomputeWindow(d,_),_!==1&&p.set(d,b(x))),this.wNAF(_,x,v)}}}function Dy(a){return zb(a.Fp),ul(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...By(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function Rb(a){const s=Dy(a);ul(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:c,a:d}=s;if(l){if(!c.eql(d,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:kb,hexToBytes:Db}=wb,Zr={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(a){const{Err:s}=Zr;if(a.length<2||a[0]!==2)throw new s("Invalid signature integer tag");const l=a[1],c=a.subarray(2,l+2);if(!l||c.length!==l)throw new s("Invalid signature integer: wrong length");if(c[0]&128)throw new s("Invalid signature integer: negative");if(c[0]===0&&!(c[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:kb(c),l:a.subarray(l+2)}},toSig(a){const{Err:s}=Zr,l=typeof a=="string"?Db(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let c=l.length;if(c<2||l[0]!=48)throw new s("Invalid signature tag");if(l[1]!==c-2)throw new s("Invalid signature: incorrect length");const{d,l:p}=Zr._parseInt(l.subarray(2)),{d:v,l:b}=Zr._parseInt(p);if(b.length)throw new s("Invalid signature: left bytes after parsing");return{r:d,s:v}},hexFromSig(a){const s=x=>Number.parseInt(x[0],16)&8?"00"+x:x,l=x=>{const T=x.toString(16);return T.length&1?`0${T}`:T},c=s(l(a.s)),d=s(l(a.r)),p=c.length/2,v=d.length/2,b=l(p),_=l(v);return`30${l(v+p+4)}02${_}${d}02${b}${c}`}},Qi=BigInt(0),kn=BigInt(1);BigInt(2);const Qg=BigInt(3);BigInt(4);function Ub(a){const s=Rb(a),{Fp:l}=s,c=s.toBytes||((H,M,D)=>{const V=M.toAffine();return Pr(Uint8Array.from([4]),l.toBytes(V.x),l.toBytes(V.y))}),d=s.fromBytes||(H=>{const M=H.subarray(1),D=l.fromBytes(M.subarray(0,l.BYTES)),V=l.fromBytes(M.subarray(l.BYTES,2*l.BYTES));return{x:D,y:V}});function p(H){const{a:M,b:D}=s,V=l.sqr(H),it=l.mul(V,H);return l.add(l.add(it,l.mul(H,M)),D)}if(!l.eql(l.sqr(s.Gy),p(s.Gx)))throw new Error("bad generator point: equation left != right");function v(H){return typeof H=="bigint"&&Qi<H&&H<s.n}function b(H){if(!v(H))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function _(H){const{allowedPrivateKeyLengths:M,nByteLength:D,wrapPrivateKey:V,n:it}=s;if(M&&typeof H!="bigint"){if(H instanceof Uint8Array&&(H=Hs(H)),typeof H!="string"||!M.includes(H.length))throw new Error("Invalid key");H=H.padStart(D*2,"0")}let tt;try{tt=typeof H=="bigint"?H:hn(Ge("private key",H,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof H}`)}return V&&(tt=He(tt,it)),b(tt),tt}const x=new Map;function T(H){if(!(H instanceof S))throw new Error("ProjectivePoint expected")}class S{constructor(M,D,V){if(this.px=M,this.py=D,this.pz=V,M==null||!l.isValid(M))throw new Error("x required");if(D==null||!l.isValid(D))throw new Error("y required");if(V==null||!l.isValid(V))throw new Error("z required")}static fromAffine(M){const{x:D,y:V}=M||{};if(!M||!l.isValid(D)||!l.isValid(V))throw new Error("invalid affine point");if(M instanceof S)throw new Error("projective point not allowed");const it=tt=>l.eql(tt,l.ZERO);return it(D)&&it(V)?S.ZERO:new S(D,V,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const D=l.invertBatch(M.map(V=>V.pz));return M.map((V,it)=>V.toAffine(D[it])).map(S.fromAffine)}static fromHex(M){const D=S.fromAffine(d(Ge("pointHex",M)));return D.assertValidity(),D}static fromPrivateKey(M){return S.BASE.multiply(_(M))}_setWindowSize(M){this._WINDOW_SIZE=M,x.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:M,y:D}=this.toAffine();if(!l.isValid(M)||!l.isValid(D))throw new Error("bad point: x or y not FE");const V=l.sqr(D),it=p(M);if(!l.eql(V,it))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:M}=this.toAffine();if(l.isOdd)return!l.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){T(M);const{px:D,py:V,pz:it}=this,{px:tt,py:gt,pz:yt}=M,at=l.eql(l.mul(D,yt),l.mul(tt,it)),J=l.eql(l.mul(V,yt),l.mul(gt,it));return at&&J}negate(){return new S(this.px,l.neg(this.py),this.pz)}double(){const{a:M,b:D}=s,V=l.mul(D,Qg),{px:it,py:tt,pz:gt}=this;let yt=l.ZERO,at=l.ZERO,J=l.ZERO,ut=l.mul(it,it),xt=l.mul(tt,tt),pt=l.mul(gt,gt),lt=l.mul(it,tt);return lt=l.add(lt,lt),J=l.mul(it,gt),J=l.add(J,J),yt=l.mul(M,J),at=l.mul(V,pt),at=l.add(yt,at),yt=l.sub(xt,at),at=l.add(xt,at),at=l.mul(yt,at),yt=l.mul(lt,yt),J=l.mul(V,J),pt=l.mul(M,pt),lt=l.sub(ut,pt),lt=l.mul(M,lt),lt=l.add(lt,J),J=l.add(ut,ut),ut=l.add(J,ut),ut=l.add(ut,pt),ut=l.mul(ut,lt),at=l.add(at,ut),pt=l.mul(tt,gt),pt=l.add(pt,pt),ut=l.mul(pt,lt),yt=l.sub(yt,ut),J=l.mul(pt,xt),J=l.add(J,J),J=l.add(J,J),new S(yt,at,J)}add(M){T(M);const{px:D,py:V,pz:it}=this,{px:tt,py:gt,pz:yt}=M;let at=l.ZERO,J=l.ZERO,ut=l.ZERO;const xt=s.a,pt=l.mul(s.b,Qg);let lt=l.mul(D,tt),ot=l.mul(V,gt),vt=l.mul(it,yt),St=l.add(D,V),nt=l.add(tt,gt);St=l.mul(St,nt),nt=l.add(lt,ot),St=l.sub(St,nt),nt=l.add(D,it);let N=l.add(tt,yt);return nt=l.mul(nt,N),N=l.add(lt,vt),nt=l.sub(nt,N),N=l.add(V,it),at=l.add(gt,yt),N=l.mul(N,at),at=l.add(ot,vt),N=l.sub(N,at),ut=l.mul(xt,nt),at=l.mul(pt,vt),ut=l.add(at,ut),at=l.sub(ot,ut),ut=l.add(ot,ut),J=l.mul(at,ut),ot=l.add(lt,lt),ot=l.add(ot,lt),vt=l.mul(xt,vt),nt=l.mul(pt,nt),ot=l.add(ot,vt),vt=l.sub(lt,vt),vt=l.mul(xt,vt),nt=l.add(nt,vt),lt=l.mul(ot,nt),J=l.add(J,lt),lt=l.mul(N,nt),at=l.mul(St,at),at=l.sub(at,lt),lt=l.mul(St,ot),ut=l.mul(N,ut),ut=l.add(ut,lt),new S(at,J,ut)}subtract(M){return this.add(M.negate())}is0(){return this.equals(S.ZERO)}wNAF(M){return P.wNAFCached(this,x,M,D=>{const V=l.invertBatch(D.map(it=>it.pz));return D.map((it,tt)=>it.toAffine(V[tt])).map(S.fromAffine)})}multiplyUnsafe(M){const D=S.ZERO;if(M===Qi)return D;if(b(M),M===kn)return this;const{endo:V}=s;if(!V)return P.unsafeLadder(this,M);let{k1neg:it,k1:tt,k2neg:gt,k2:yt}=V.splitScalar(M),at=D,J=D,ut=this;for(;tt>Qi||yt>Qi;)tt&kn&&(at=at.add(ut)),yt&kn&&(J=J.add(ut)),ut=ut.double(),tt>>=kn,yt>>=kn;return it&&(at=at.negate()),gt&&(J=J.negate()),J=new S(l.mul(J.px,V.beta),J.py,J.pz),at.add(J)}multiply(M){b(M);let D=M,V,it;const{endo:tt}=s;if(tt){const{k1neg:gt,k1:yt,k2neg:at,k2:J}=tt.splitScalar(D);let{p:ut,f:xt}=this.wNAF(yt),{p:pt,f:lt}=this.wNAF(J);ut=P.constTimeNegate(gt,ut),pt=P.constTimeNegate(at,pt),pt=new S(l.mul(pt.px,tt.beta),pt.py,pt.pz),V=ut.add(pt),it=xt.add(lt)}else{const{p:gt,f:yt}=this.wNAF(D);V=gt,it=yt}return S.normalizeZ([V,it])[0]}multiplyAndAddUnsafe(M,D,V){const it=S.BASE,tt=(yt,at)=>at===Qi||at===kn||!yt.equals(it)?yt.multiplyUnsafe(at):yt.multiply(at),gt=tt(this,D).add(tt(M,V));return gt.is0()?void 0:gt}toAffine(M){const{px:D,py:V,pz:it}=this,tt=this.is0();M==null&&(M=tt?l.ONE:l.inv(it));const gt=l.mul(D,M),yt=l.mul(V,M),at=l.mul(it,M);if(tt)return{x:l.ZERO,y:l.ZERO};if(!l.eql(at,l.ONE))throw new Error("invZ was invalid");return{x:gt,y:yt}}isTorsionFree(){const{h:M,isTorsionFree:D}=s;if(M===kn)return!0;if(D)return D(S,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:D}=s;return M===kn?this:D?D(S,this):this.multiplyUnsafe(s.h)}toRawBytes(M=!0){return this.assertValidity(),c(S,this,M)}toHex(M=!0){return Hs(this.toRawBytes(M))}}S.BASE=new S(s.Gx,s.Gy,l.ONE),S.ZERO=new S(l.ZERO,l.ONE,l.ZERO);const R=s.nBitLength,P=Bb(S,s.endo?Math.ceil(R/2):R);return{CURVE:s,ProjectivePoint:S,normPrivateKeyToScalar:_,weierstrassEquation:p,isWithinCurveOrder:v}}function Hb(a){const s=Dy(a);return ul(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function jb(a){const s=Hb(a),{Fp:l,n:c}=s,d=l.BYTES+1,p=2*l.BYTES+1;function v(nt){return Qi<nt&&nt<l.ORDER}function b(nt){return He(nt,c)}function _(nt){return Zh(nt,c)}const{ProjectivePoint:x,normPrivateKeyToScalar:T,weierstrassEquation:S,isWithinCurveOrder:R}=Ub({...s,toBytes(nt,N,K){const X=N.toAffine(),ft=l.toBytes(X.x),et=Pr;return K?et(Uint8Array.from([N.hasEvenY()?2:3]),ft):et(Uint8Array.from([4]),ft,l.toBytes(X.y))},fromBytes(nt){const N=nt.length,K=nt[0],X=nt.subarray(1);if(N===d&&(K===2||K===3)){const ft=hn(X);if(!v(ft))throw new Error("Point is not on curve");const et=S(ft);let A=l.sqrt(et);const j=(A&kn)===kn;return(K&1)===1!==j&&(A=l.neg(A)),{x:ft,y:A}}else if(N===p&&K===4){const ft=l.fromBytes(X.subarray(0,l.BYTES)),et=l.fromBytes(X.subarray(l.BYTES,2*l.BYTES));return{x:ft,y:et}}else throw new Error(`Point of length ${N} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),P=nt=>Hs(Ya(nt,s.nByteLength));function H(nt){const N=c>>kn;return nt>N}function M(nt){return H(nt)?b(-nt):nt}const D=(nt,N,K)=>hn(nt.slice(N,K));class V{constructor(N,K,X){this.r=N,this.s=K,this.recovery=X,this.assertValidity()}static fromCompact(N){const K=s.nByteLength;return N=Ge("compactSignature",N,K*2),new V(D(N,0,K),D(N,K,2*K))}static fromDER(N){const{r:K,s:X}=Zr.toSig(Ge("DER",N));return new V(K,X)}assertValidity(){if(!R(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!R(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(N){return new V(this.r,this.s,N)}recoverPublicKey(N){const{r:K,s:X,recovery:ft}=this,et=J(Ge("msgHash",N));if(ft==null||![0,1,2,3].includes(ft))throw new Error("recovery id invalid");const A=ft===2||ft===3?K+s.n:K;if(A>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(ft&1)===0?"02":"03",rt=x.fromHex(j+P(A)),st=_(A),dt=b(-et*st),mt=b(X*st),zt=x.BASE.multiplyAndAddUnsafe(rt,dt,mt);if(!zt)throw new Error("point at infinify");return zt.assertValidity(),zt}hasHighS(){return H(this.s)}normalizeS(){return this.hasHighS()?new V(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return js(this.toDERHex())}toDERHex(){return Zr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return js(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}const it={isValidPrivateKey(nt){try{return T(nt),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const nt=ky(s.n);return Ob(s.randomBytes(nt),s.n)},precompute(nt=8,N=x.BASE){return N._setWindowSize(nt),N.multiply(BigInt(3)),N}};function tt(nt,N=!0){return x.fromPrivateKey(nt).toRawBytes(N)}function gt(nt){const N=nt instanceof Uint8Array,K=typeof nt=="string",X=(N||K)&&nt.length;return N?X===d||X===p:K?X===2*d||X===2*p:nt instanceof x}function yt(nt,N,K=!0){if(gt(nt))throw new Error("first arg must be private key");if(!gt(N))throw new Error("second arg must be public key");return x.fromHex(N).multiply(T(nt)).toRawBytes(K)}const at=s.bits2int||function(nt){const N=hn(nt),K=nt.length*8-s.nBitLength;return K>0?N>>BigInt(K):N},J=s.bits2int_modN||function(nt){return b(at(nt))},ut=ld(s.nBitLength);function xt(nt){if(typeof nt!="bigint")throw new Error("bigint expected");if(!(Qi<=nt&&nt<ut))throw new Error(`bigint expected < 2^${s.nBitLength}`);return Ya(nt,s.nByteLength)}function pt(nt,N,K=lt){if(["recovered","canonical"].some(Pt=>Pt in K))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:ft}=s;let{lowS:et,prehash:A,extraEntropy:j}=K;et==null&&(et=!0),nt=Ge("msgHash",nt),A&&(nt=Ge("prehashed msgHash",X(nt)));const rt=J(nt),st=T(N),dt=[xt(st),xt(rt)];if(j!=null){const Pt=j===!0?ft(l.BYTES):j;dt.push(Ge("extraEntropy",Pt))}const mt=Pr(...dt),zt=rt;function Ft(Pt){const je=at(Pt);if(!R(je))return;const Un=_(je),ye=x.BASE.multiply(je).toAffine(),dn=b(ye.x);if(dn===Qi)return;const We=b(Un*b(zt+dn*st));if(We===Qi)return;let _i=(ye.x===dn?0:2)|Number(ye.y&kn),bi=We;return et&&H(We)&&(bi=M(We),_i^=1),new V(dn,bi,_i)}return{seed:mt,k2sig:Ft}}const lt={lowS:s.lowS,prehash:!1},ot={lowS:s.lowS,prehash:!1};function vt(nt,N,K=lt){const{seed:X,k2sig:ft}=pt(nt,N,K),et=s;return Ny(et.hash.outputLen,et.nByteLength,et.hmac)(X,ft)}x.BASE._setWindowSize(8);function St(nt,N,K,X=ot){const ft=nt;if(N=Ge("msgHash",N),K=Ge("publicKey",K),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:et,prehash:A}=X;let j,rt;try{if(typeof ft=="string"||ft instanceof Uint8Array)try{j=V.fromDER(ft)}catch(ye){if(!(ye instanceof Zr.Err))throw ye;j=V.fromCompact(ft)}else if(typeof ft=="object"&&typeof ft.r=="bigint"&&typeof ft.s=="bigint"){const{r:ye,s:dn}=ft;j=new V(ye,dn)}else throw new Error("PARSE");rt=x.fromHex(K)}catch(ye){if(ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(et&&j.hasHighS())return!1;A&&(N=s.hash(N));const{r:st,s:dt}=j,mt=J(N),zt=_(dt),Ft=b(mt*zt),Pt=b(st*zt),je=x.BASE.multiplyAndAddUnsafe(rt,Ft,Pt)?.toAffine();return je?b(je.x)===st:!1}return{CURVE:s,getPublicKey:tt,getSharedSecret:yt,sign:vt,verify:St,ProjectivePoint:x,Signature:V,utils:it}}let Uy=class extends Ly{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,tb(s);const c=ad(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?s.create().update(c).digest():c);for(let v=0;v<p.length;v++)p[v]^=54;this.iHash.update(p),this.oHash=s.create();for(let v=0;v<p.length;v++)p[v]^=106;this.oHash.update(p),p.fill(0)}update(s){return Ku(this),this.iHash.update(s),this}digestInto(s){Ku(this),Ay(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:v,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=v,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Hy=(a,s,l)=>new Uy(a,s).update(l).digest();Hy.create=(a,s)=>new Uy(a,s);function Zb(a){return{hash:a,hmac:(s,...l)=>Hy(a,s,ab(...l)),randomBytes:Cy}}function Pb(a,s){const l=c=>jb({...a,...Zb(c)});return Object.freeze({...l(s),create:l})}const ic=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jy=BigInt(1),Xu=BigInt(2),Xg=(a,s)=>(a+s/Xu)/s;function Zy(a){const s=ic,l=BigInt(3),c=BigInt(6),d=BigInt(11),p=BigInt(22),v=BigInt(23),b=BigInt(44),_=BigInt(88),x=a*a*a%s,T=x*x*a%s,S=Rn(T,l,s)*T%s,R=Rn(S,l,s)*T%s,P=Rn(R,Xu,s)*x%s,H=Rn(P,d,s)*P%s,M=Rn(H,p,s)*H%s,D=Rn(M,b,s)*M%s,V=Rn(D,_,s)*D%s,it=Rn(V,b,s)*M%s,tt=Rn(it,l,s)*T%s,gt=Rn(tt,v,s)*H%s,yt=Rn(gt,c,s)*x%s,at=Rn(yt,Xu,s);if(!Ph.eql(Ph.sqr(at),a))throw new Error("Cannot find square root");return at}const Ph=Mb(ic,void 0,void 0,{sqrt:Zy}),qs=Pb({a:BigInt(0),b:BigInt(7),Fp:Ph,n:Qu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const s=Qu,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-jy*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,v=BigInt("0x100000000000000000000000000000000"),b=Xg(p*a,s),_=Xg(-c*a,s);let x=He(a-b*l-_*d,s),T=He(-b*c-_*p,s);const S=x>v,R=T>v;if(S&&(x=s-x),R&&(T=s-T),x>v||T>v)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:S,k1:x,k2neg:R,k2:T}}}},Hh),ac=BigInt(0),Py=a=>typeof a=="bigint"&&ac<a&&a<ic,qb=a=>typeof a=="bigint"&&ac<a&&a<Qu,Ig={};function Iu(a,...s){let l=Ig[a];if(l===void 0){const c=Hh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=Pr(c,c),Ig[a]=l}return Hh(Pr(l,...s))}const ud=a=>a.toRawBytes(!0).slice(1),qh=a=>Ya(a,32),Lh=a=>He(a,ic),il=a=>He(a,Qu),cd=qs.ProjectivePoint,Gb=(a,s,l)=>cd.BASE.multiplyAndAddUnsafe(a,s,l);function Gh(a){let s=qs.utils.normPrivateKeyToScalar(a),l=cd.fromPrivateKey(s);return{scalar:l.hasEvenY()?s:il(-s),bytes:ud(l)}}function qy(a){if(!Py(a))throw new Error("bad x: need 0 < x < p");const s=Lh(a*a),l=Lh(s*a+BigInt(7));let c=Zy(l);c%Xu!==ac&&(c=Lh(-c));const d=new cd(a,c,jy);return d.assertValidity(),d}function Gy(...a){return il(hn(Iu("BIP0340/challenge",...a)))}function Yb(a){return Gh(a).bytes}function Vb(a,s,l=Cy(32)){const c=Ge("message",a),{bytes:d,scalar:p}=Gh(s),v=Ge("auxRand",l,32),b=qh(p^hn(Iu("BIP0340/aux",v))),_=Iu("BIP0340/nonce",b,d,c),x=il(hn(_));if(x===ac)throw new Error("sign failed: k is zero");const{bytes:T,scalar:S}=Gh(x),R=Gy(T,d,c),P=new Uint8Array(64);if(P.set(T,0),P.set(qh(il(S+R*p)),32),!Yy(P,c,d))throw new Error("sign: Invalid signature produced");return P}function Yy(a,s,l){const c=Ge("signature",a,64),d=Ge("message",s),p=Ge("publicKey",l,32);try{const v=qy(hn(p)),b=hn(c.subarray(0,32));if(!Py(b))return!1;const _=hn(c.subarray(32,64));if(!qb(_))return!1;const x=Gy(qh(b),ud(v),d),T=Gb(v,_,il(-x));return!(!T||!T.hasEvenY()||T.toAffine().x!==b)}catch{return!1}}const pi={getPublicKey:Yb,sign:Vb,verify:Yy,utils:{randomPrivateKey:qs.utils.randomPrivateKey,lift_x:qy,pointToBytes:ud,numberToBytesBE:Ya,bytesToNumberBE:hn,taggedHash:Iu,mod:He}},Ch=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const fd=a=>a instanceof Uint8Array,Mh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),mi=(a,s)=>a<<32-s|a>>>s,Kb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Kb)throw new Error("Non little-endian hardware is not supported");const Qb=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Se(a){if(!fd(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=Qb[a[l]];return s}function qr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),v=Number.parseInt(p,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");l[c]=v}return l}function Xb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function al(a){if(typeof a=="string"&&(a=Xb(a)),!fd(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function rc(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!fd(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}class Vy{clone(){return this._cloneInto()}}function Ky(a){const s=c=>a().update(al(c)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function Qy(a=32){if(Ch&&typeof Ch.getRandomValues=="function")return Ch.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Yh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Ib(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function Xy(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function Jb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yh(a.outputLen),Yh(a.blockLen)}function Fb(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function Wb(a,s){Xy(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const gi={number:Yh,bool:Ib,bytes:Xy,hash:Jb,exists:Fb,output:Wb};function $b(a,s,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,c);const d=BigInt(32),p=BigInt(4294967295),v=Number(l>>d&p),b=Number(l&p),_=c?4:0,x=c?0:4;a.setUint32(s+_,v,c),a.setUint32(s+x,b,c)}class t1 extends Vy{constructor(s,l,c,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Mh(this.buffer)}update(s){gi.exists(this);const{view:l,buffer:c,blockLen:d}=this;s=al(s);const p=s.length;for(let v=0;v<p;){const b=Math.min(d-this.pos,p-v);if(b===d){const _=Mh(s);for(;d<=p-v;v+=d)this.process(_,v);continue}c.set(s.subarray(v,v+b),this.pos),this.pos+=b,v+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){gi.exists(this),gi.output(s,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:v}=this;l[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>d-v&&(this.process(c,0),v=0);for(let S=v;S<d;S++)l[S]=0;$b(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Mh(s),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)b.setUint32(4*S,T[S],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const c=s.slice(0,l);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:v,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=v,d%l&&s.buffer.set(c),s}}const e1=(a,s,l)=>a&s^~a&l,n1=(a,s,l)=>a&s^a&l^s&l,i1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Za=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pa=new Uint32Array(64);class Iy extends t1{constructor(){super(64,32,8,!1),this.A=Za[0]|0,this.B=Za[1]|0,this.C=Za[2]|0,this.D=Za[3]|0,this.E=Za[4]|0,this.F=Za[5]|0,this.G=Za[6]|0,this.H=Za[7]|0}get(){const{A:s,B:l,C:c,D:d,E:p,F:v,G:b,H:_}=this;return[s,l,c,d,p,v,b,_]}set(s,l,c,d,p,v,b,_){this.A=s|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=v|0,this.G=b|0,this.H=_|0}process(s,l){for(let S=0;S<16;S++,l+=4)Pa[S]=s.getUint32(l,!1);for(let S=16;S<64;S++){const R=Pa[S-15],P=Pa[S-2],H=mi(R,7)^mi(R,18)^R>>>3,M=mi(P,17)^mi(P,19)^P>>>10;Pa[S]=M+Pa[S-7]+H+Pa[S-16]|0}let{A:c,B:d,C:p,D:v,E:b,F:_,G:x,H:T}=this;for(let S=0;S<64;S++){const R=mi(b,6)^mi(b,11)^mi(b,25),P=T+R+e1(b,_,x)+i1[S]+Pa[S]|0,M=(mi(c,2)^mi(c,13)^mi(c,22))+n1(c,d,p)|0;T=x,x=_,_=b,b=v+P|0,v=p,p=d,d=c,c=P+M|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,v=v+this.D|0,b=b+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(c,d,p,v,b,_,x,T)}roundClean(){Pa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class a1 extends Iy{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Va=Ky(()=>new Iy);Ky(()=>new a1);function Gs(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function Fi(...a){const s=(d,p)=>v=>d(p(v)),l=Array.from(a).reverse().reduce((d,p)=>d?s(d,p.encode):p.encode,void 0),c=a.reduce((d,p)=>d?s(d,p.decode):p.decode,void 0);return{encode:l,decode:c}}function Wi(a){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(l=>{if(Gs(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const c=a.indexOf(l);if(c===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return c})}}}function $i(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of s)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return s.join(a)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(a)}}}function sc(a,s="="){if(Gs(a),typeof s!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of l)if(typeof c!="string")throw new Error(`padding.encode: non-string input=${c}`);for(;l.length*a%8;)l.push(s);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let c=l.length;if(c*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;c>0&&l[c-1]===s;c--)if(!((c-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,c)}}}function Jy(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>a(s)}}function Jg(a,s,l){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let c=0;const d=[],p=Array.from(a);for(p.forEach(v=>{if(Gs(v),v<0||v>=s)throw new Error(`Wrong integer: ${v}`)});;){let v=0,b=!0;for(let _=c;_<p.length;_++){const x=p[_],T=s*v+x;if(!Number.isSafeInteger(T)||s*v/s!==v||T-x!==s*v)throw new Error("convertRadix: carry overflow");if(v=T%l,p[_]=Math.floor(T/l),!Number.isSafeInteger(p[_])||p[_]*l+v!==T)throw new Error("convertRadix: carry overflow");if(b)p[_]?b=!1:c=_;else continue}if(d.push(v),b)break}for(let v=0;v<a.length-1&&a[v]===0;v++)d.push(0);return d.reverse()}const Fy=(a,s)=>s?Fy(s,a%s):a,Ju=(a,s)=>a+(s-Fy(a,s));function Vh(a,s,l,c){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if(Ju(s,l)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${l} carryBits=${Ju(s,l)}`);let d=0,p=0;const v=2**l-1,b=[];for(const _ of a){if(Gs(_),_>=2**s)throw new Error(`convertRadix2: invalid data word=${_} from=${s}`);if(d=d<<s|_,p+s>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${s}`);for(p+=s;p>=l;p-=l)b.push((d>>p-l&v)>>>0);d&=2**p-1}if(d=d<<l-p&v,!c&&p>=s)throw new Error("Excess padding");if(!c&&d)throw new Error(`Non-zero padding: ${d}`);return c&&p>0&&b.push(d>>>0),b}function r1(a){return Gs(a),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Jg(Array.from(s),2**8,a)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Jg(s,a,2**8))}}}function Ka(a,s=!1){if(Gs(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(Ju(8,a)>32||Ju(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Vh(Array.from(l),8,a,!s)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Vh(l,a,8,s))}}}function Fg(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return a.apply(null,s)}catch{}}}const s1=Fi(Ka(4),Wi("0123456789ABCDEF"),$i("")),o1=Fi(Ka(5),Wi("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),sc(5),$i(""));Fi(Ka(5),Wi("0123456789ABCDEFGHIJKLMNOPQRSTUV"),sc(5),$i(""));Fi(Ka(5),Wi("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),$i(""),Jy(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ji=Fi(Ka(6),Wi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),sc(6),$i("")),l1=Fi(Ka(6),Wi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),sc(6),$i("")),hd=a=>Fi(r1(58),Wi(a),$i("")),Kh=hd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");hd("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");hd("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Wg=[0,2,3,5,6,7,9,10,11],u1={encode(a){let s="";for(let l=0;l<a.length;l+=8){const c=a.subarray(l,l+8);s+=Kh.encode(c).padStart(Wg[c.length],"1")}return s},decode(a){let s=[];for(let l=0;l<a.length;l+=11){const c=a.slice(l,l+11),d=Wg.indexOf(c.length),p=Kh.decode(c);for(let v=0;v<p.length-d;v++)if(p[v]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(s)}},Qh=Fi(Wi("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),$i("")),$g=[996825010,642813549,513874426,1027748829,705979059];function $o(a){const s=a>>25;let l=(a&33554431)<<5;for(let c=0;c<$g.length;c++)(s>>c&1)===1&&(l^=$g[c]);return l}function ty(a,s,l=1){const c=a.length;let d=1;for(let p=0;p<c;p++){const v=a.charCodeAt(p);if(v<33||v>126)throw new Error(`Invalid prefix (${a})`);d=$o(d)^v>>5}d=$o(d);for(let p=0;p<c;p++)d=$o(d)^a.charCodeAt(p)&31;for(let p of s)d=$o(d)^p;for(let p=0;p<6;p++)d=$o(d);return d^=l,Qh.encode(Vh([d%2**30],30,5,!1))}function Wy(a){const s=a==="bech32"?1:734539939,l=Ka(5),c=l.decode,d=l.encode,p=Fg(c);function v(T,S,R=90){if(typeof T!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof T}`);if(!Array.isArray(S)||S.length&&typeof S[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof S}`);const P=T.length+7+S.length;if(R!==!1&&P>R)throw new TypeError(`Length ${P} exceeds limit ${R}`);return T=T.toLowerCase(),`${T}1${Qh.encode(S)}${ty(T,S,s)}`}function b(T,S=90){if(typeof T!="string")throw new Error(`bech32.decode input should be string, not ${typeof T}`);if(T.length<8||S!==!1&&T.length>S)throw new TypeError(`Wrong string length: ${T.length} (${T}). Expected (8..${S})`);const R=T.toLowerCase();if(T!==R&&T!==T.toUpperCase())throw new Error("String must be lowercase or uppercase");T=R;const P=T.lastIndexOf("1");if(P===0||P===-1)throw new Error('Letter "1" must be present between prefix and data only');const H=T.slice(0,P),M=T.slice(P+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");const D=Qh.decode(M).slice(0,-6),V=ty(H,D,s);if(!M.endsWith(V))throw new Error(`Invalid checksum in ${T}: expected "${V}"`);return{prefix:H,words:D}}const _=Fg(b);function x(T){const{prefix:S,words:R}=b(T,!1);return{prefix:S,words:R,bytes:c(R)}}return{encode:v,decode:b,decodeToBytes:x,decodeUnsafe:_,fromWords:c,fromWordsUnsafe:p,toWords:d}}const Zs=Wy("bech32");Wy("bech32m");const c1={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},f1=Fi(Ka(4),Wi("0123456789abcdef"),$i(""),Jy(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),h1={utf8:c1,hex:f1,base16:s1,base32:o1,base64:Ji,base64url:l1,base58:Kh,base58xmr:u1};`${Object.keys(h1).join(", ")}`;function Oh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function ey(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function d1(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function yi(a,...s){if(!d1(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${a.length}`)}const Ye=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),m1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!m1)throw new Error("Non little-endian hardware is not supported");const p1=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Bs(a){yi(a);let s="";for(let l=0;l<a.length;l++)s+=p1[a[l]];return s}const Vi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ny(a){if(a>=Vi._0&&a<=Vi._9)return a-Vi._0;if(a>=Vi._A&&a<=Vi._F)return a-(Vi._A-10);if(a>=Vi._a&&a<=Vi._f)return a-(Vi._a-10)}function $y(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,l=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const c=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const v=ny(a.charCodeAt(p)),b=ny(a.charCodeAt(p+1));if(v===void 0||b===void 0){const _=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+p)}c[d]=v*16+b}return c}function g1(a,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(a,s)}function y1(a,s){if(a.length!==s.length)return!1;let l=0;for(let c=0;c<a.length;c++)l|=a[c]^s[c];return l===0}const v1=(a,s)=>(Object.assign(s,a),s),Ga=16,_1=283;function dd(a){return a<<1^_1&-(a>>7)}function ks(a,s){let l=0;for(;s>0;s>>=1)l^=a&-(s&1),a=dd(a);return l}const Xh=(()=>{let a=new Uint8Array(256);for(let l=0,c=1;l<256;l++,c^=dd(c))a[l]=c;const s=new Uint8Array(256);s[0]=99;for(let l=0;l<255;l++){let c=a[255-l];c|=c<<8,s[a[l]]=(c^c>>4^c>>5^c>>6^c>>7^99)&255}return s})(),b1=Xh.map((a,s)=>Xh.indexOf(s)),w1=a=>a<<24|a>>>8,Nh=a=>a<<8|a>>>24;function tv(a,s){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((x,T)=>s(a[T])),c=l.map(Nh),d=c.map(Nh),p=d.map(Nh),v=new Uint32Array(256*256),b=new Uint32Array(256*256),_=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let T=0;T<256;T++){const S=x*256+T;v[S]=l[x]^c[T],b[S]=d[x]^p[T],_[S]=a[x]<<8|a[T]}return{sbox:a,sbox2:_,T0:l,T1:c,T2:d,T3:p,T01:v,T23:b}}const md=tv(Xh,a=>ks(a,3)<<24|a<<16|a<<8|ks(a,2)),ev=tv(b1,a=>ks(a,11)<<24|ks(a,13)<<16|ks(a,9)<<8|ks(a,14)),x1=(()=>{const a=new Uint8Array(16);for(let s=0,l=1;s<16;s++,l=dd(l))a[s]=l;return a})();function nv(a){yi(a);const s=a.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:l}=md,c=Ye(a),d=c.length,p=b=>vi(l,b,b,b,b),v=new Uint32Array(s+28);v.set(c);for(let b=d;b<v.length;b++){let _=v[b-1];b%d===0?_=p(w1(_))^x1[b/d-1]:d>6&&b%d===4&&(_=p(_)),v[b]=v[b-d]^_}return v}function E1(a){const s=nv(a),l=s.slice(),c=s.length,{sbox2:d}=md,{T0:p,T1:v,T2:b,T3:_}=ev;for(let x=0;x<c;x+=4)for(let T=0;T<4;T++)l[x+T]=s[c-x-4+T];s.fill(0);for(let x=4;x<c-4;x++){const T=l[x],S=vi(d,T,T,T,T);l[x]=p[S&255]^v[S>>>8&255]^b[S>>>16&255]^_[S>>>24]}return l}function qa(a,s,l,c,d,p){return a[l<<8&65280|c>>>8&255]^s[d>>>8&65280|p>>>24&255]}function vi(a,s,l,c,d){return a[s&255|l&65280]|a[c>>>16&255|d>>>16&65280]<<16}function iy(a,s,l,c,d){const{sbox2:p,T01:v,T23:b}=md;let _=0;s^=a[_++],l^=a[_++],c^=a[_++],d^=a[_++];const x=a.length/4-2;for(let H=0;H<x;H++){const M=a[_++]^qa(v,b,s,l,c,d),D=a[_++]^qa(v,b,l,c,d,s),V=a[_++]^qa(v,b,c,d,s,l),it=a[_++]^qa(v,b,d,s,l,c);s=M,l=D,c=V,d=it}const T=a[_++]^vi(p,s,l,c,d),S=a[_++]^vi(p,l,c,d,s),R=a[_++]^vi(p,c,d,s,l),P=a[_++]^vi(p,d,s,l,c);return{s0:T,s1:S,s2:R,s3:P}}function S1(a,s,l,c,d){const{sbox2:p,T01:v,T23:b}=ev;let _=0;s^=a[_++],l^=a[_++],c^=a[_++],d^=a[_++];const x=a.length/4-2;for(let H=0;H<x;H++){const M=a[_++]^qa(v,b,s,d,c,l),D=a[_++]^qa(v,b,l,s,d,c),V=a[_++]^qa(v,b,c,l,s,d),it=a[_++]^qa(v,b,d,c,l,s);s=M,l=D,c=V,d=it}const T=a[_++]^vi(p,s,d,c,l),S=a[_++]^vi(p,l,s,d,c),R=a[_++]^vi(p,c,l,s,d),P=a[_++]^vi(p,d,c,l,s);return{s0:T,s1:S,s2:R,s3:P}}function iv(a,s){if(!s)return new Uint8Array(a);if(yi(s),s.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${s.length}`);return s}function T1(a){if(yi(a),a.length%Ga!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Ga}`)}function A1(a,s,l){let c=a.length;const d=c%Ga;if(!s&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=Ye(a);if(s){let _=Ga-d;_||(_=Ga),c=c+_}const v=iv(c,l),b=Ye(v);return{b:p,o:b,out:v}}function z1(a,s){if(!s)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const c=a[l-1];if(c<=0||c>16)throw new Error(`aes/pcks5: wrong padding byte: ${c}`);const d=a.subarray(0,-c);for(let p=0;p<c;p++)if(a[l-p-1]!==c)throw new Error("aes/pcks5: wrong padding");return d}function L1(a){const s=new Uint8Array(16),l=Ye(s);s.set(a);const c=Ga-a.length;for(let d=Ga-c;d<Ga;d++)s[d]=c;return l}const av=v1({blockSize:16,nonceLength:16},function(s,l,c={}){yi(s),yi(l,16);const d=!c.disablePadding;return{encrypt:(p,v)=>{const b=nv(s),{b:_,o:x,out:T}=A1(p,d,v),S=Ye(l);let R=S[0],P=S[1],H=S[2],M=S[3],D=0;for(;D+4<=_.length;)R^=_[D+0],P^=_[D+1],H^=_[D+2],M^=_[D+3],{s0:R,s1:P,s2:H,s3:M}=iy(b,R,P,H,M),x[D++]=R,x[D++]=P,x[D++]=H,x[D++]=M;if(d){const V=L1(p.subarray(D*4));R^=V[0],P^=V[1],H^=V[2],M^=V[3],{s0:R,s1:P,s2:H,s3:M}=iy(b,R,P,H,M),x[D++]=R,x[D++]=P,x[D++]=H,x[D++]=M}return b.fill(0),T},decrypt:(p,v)=>{T1(p);const b=E1(s),_=Ye(l),x=iv(p.length,v),T=Ye(p),S=Ye(x);let R=_[0],P=_[1],H=_[2],M=_[3];for(let D=0;D+4<=T.length;){const V=R,it=P,tt=H,gt=M;R=T[D+0],P=T[D+1],H=T[D+2],M=T[D+3];const{s0:yt,s1:at,s2:J,s3:ut}=S1(b,R,P,H,M);S[D++]=yt^V,S[D++]=at^it,S[D++]=J^tt,S[D++]=ut^gt}return b.fill(0),z1(x,d)}}}),rv=a=>Uint8Array.from(a.split("").map(s=>s.charCodeAt(0))),C1=rv("expand 16-byte k"),M1=rv("expand 32-byte k"),O1=Ye(C1),sv=Ye(M1);sv.slice();function Kt(a,s){return a<<s|a>>>32-s}function Ih(a){return a.byteOffset%4===0}const Zu=64,N1=16,ov=2**32-1,ay=new Uint32Array;function B1(a,s,l,c,d,p,v,b){const _=d.length,x=new Uint8Array(Zu),T=Ye(x),S=Ih(d)&&Ih(p),R=S?Ye(d):ay,P=S?Ye(p):ay;for(let H=0;H<_;v++){if(a(s,l,c,T,v,b),v>=ov)throw new Error("arx: counter overflow");const M=Math.min(Zu,_-H);if(S&&M===Zu){const D=H/4;if(H%4!==0)throw new Error("arx: invalid block position");for(let V=0,it;V<N1;V++)it=D+V,P[it]=R[it]^T[V];H+=Zu;continue}for(let D=0,V;D<M;D++)V=H+D,p[V]=d[V]^x[D];H+=M}}function R1(a,s){const{allowShortKeys:l,extendNonceFn:c,counterLength:d,counterRight:p,rounds:v}=g1({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof a!="function")throw new Error("core must be a function");return Oh(d),Oh(v),ey(p),ey(l),(b,_,x,T,S=0)=>{yi(b),yi(_),yi(x);const R=x.length;if(T||(T=new Uint8Array(R)),yi(T),Oh(S),S<0||S>=ov)throw new Error("arx: counter overflow");if(T.length<R)throw new Error(`arx: output (${T.length}) is shorter than data (${R})`);const P=[];let H=b.length,M,D;if(H===32)M=b.slice(),P.push(M),D=sv;else if(H===16&&l)M=new Uint8Array(32),M.set(b),M.set(b,16),D=O1,P.push(M);else throw new Error(`arx: invalid 32-byte key, got length=${H}`);Ih(_)||(_=_.slice(),P.push(_));const V=Ye(M);if(c){if(_.length!==24)throw new Error("arx: extended nonce must be 24 bytes");c(D,V,Ye(_.subarray(0,16)),V),_=_.subarray(16)}const it=16-d;if(it!==_.length)throw new Error(`arx: nonce must be ${it} or 16 bytes`);if(it!==12){const gt=new Uint8Array(12);gt.set(_,p?0:12-_.length),_=gt,P.push(_)}const tt=Ye(_);for(B1(a,D,V,tt,x,T,S,v);P.length>0;)P.pop().fill(0);return T}}function k1(a,s,l,c,d,p=20){let v=a[0],b=a[1],_=a[2],x=a[3],T=s[0],S=s[1],R=s[2],P=s[3],H=s[4],M=s[5],D=s[6],V=s[7],it=d,tt=l[0],gt=l[1],yt=l[2],at=v,J=b,ut=_,xt=x,pt=T,lt=S,ot=R,vt=P,St=H,nt=M,N=D,K=V,X=it,ft=tt,et=gt,A=yt;for(let rt=0;rt<p;rt+=2)at=at+pt|0,X=Kt(X^at,16),St=St+X|0,pt=Kt(pt^St,12),at=at+pt|0,X=Kt(X^at,8),St=St+X|0,pt=Kt(pt^St,7),J=J+lt|0,ft=Kt(ft^J,16),nt=nt+ft|0,lt=Kt(lt^nt,12),J=J+lt|0,ft=Kt(ft^J,8),nt=nt+ft|0,lt=Kt(lt^nt,7),ut=ut+ot|0,et=Kt(et^ut,16),N=N+et|0,ot=Kt(ot^N,12),ut=ut+ot|0,et=Kt(et^ut,8),N=N+et|0,ot=Kt(ot^N,7),xt=xt+vt|0,A=Kt(A^xt,16),K=K+A|0,vt=Kt(vt^K,12),xt=xt+vt|0,A=Kt(A^xt,8),K=K+A|0,vt=Kt(vt^K,7),at=at+lt|0,A=Kt(A^at,16),N=N+A|0,lt=Kt(lt^N,12),at=at+lt|0,A=Kt(A^at,8),N=N+A|0,lt=Kt(lt^N,7),J=J+ot|0,X=Kt(X^J,16),K=K+X|0,ot=Kt(ot^K,12),J=J+ot|0,X=Kt(X^J,8),K=K+X|0,ot=Kt(ot^K,7),ut=ut+vt|0,ft=Kt(ft^ut,16),St=St+ft|0,vt=Kt(vt^St,12),ut=ut+vt|0,ft=Kt(ft^ut,8),St=St+ft|0,vt=Kt(vt^St,7),xt=xt+pt|0,et=Kt(et^xt,16),nt=nt+et|0,pt=Kt(pt^nt,12),xt=xt+pt|0,et=Kt(et^xt,8),nt=nt+et|0,pt=Kt(pt^nt,7);let j=0;c[j++]=v+at|0,c[j++]=b+J|0,c[j++]=_+ut|0,c[j++]=x+xt|0,c[j++]=T+pt|0,c[j++]=S+lt|0,c[j++]=R+ot|0,c[j++]=P+vt|0,c[j++]=H+St|0,c[j++]=M+nt|0,c[j++]=D+N|0,c[j++]=V+K|0,c[j++]=it+X|0,c[j++]=tt+ft|0,c[j++]=gt+et|0,c[j++]=yt+A|0}const lv=R1(k1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class uv extends Vy{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,gi.hash(s);const c=al(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?s.create().update(c).digest():c);for(let v=0;v<p.length;v++)p[v]^=54;this.iHash.update(p),this.oHash=s.create();for(let v=0;v<p.length;v++)p[v]^=106;this.oHash.update(p),p.fill(0)}update(s){return gi.exists(this),this.iHash.update(s),this}digestInto(s){gi.exists(this),gi.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:v,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=v,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const oc=(a,s,l)=>new uv(a,s).update(l).digest();oc.create=(a,s)=>new uv(a,s);function D1(a,s,l){return gi.hash(a),oc(a,al(l),al(s))}const Bh=new Uint8Array([0]),ry=new Uint8Array;function U1(a,s,l,c=32){if(gi.hash(a),gi.number(c),c>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(c/a.outputLen);l===void 0&&(l=ry);const p=new Uint8Array(d*a.outputLen),v=oc.create(a,s),b=v._cloneInto(),_=new Uint8Array(v.outputLen);for(let x=0;x<d;x++)Bh[0]=x+1,b.update(x===0?ry:_).update(l).update(Bh).digestInto(_),p.set(_,a.outputLen*x),v._cloneInto(b);return v.destroy(),b.destroy(),_.fill(0),Bh.fill(0),p.slice(0,c)}var H1=Object.defineProperty,se=(a,s)=>{for(var l in s)H1(a,l,{get:s[l],enumerable:!0})},Ur=Symbol("verified"),j1=a=>a instanceof Object;function pd(a){if(!j1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}var Z1={};se(Z1,{Queue:()=>fv,QueueNode:()=>cv,binarySearch:()=>gd,bytesToHex:()=>Se,hexToBytes:()=>qr,insertEventIntoAscendingList:()=>q1,insertEventIntoDescendingList:()=>P1,normalizeURL:()=>jr,utf8Decoder:()=>Ii,utf8Encoder:()=>Jn});var Ii=new TextDecoder("utf-8"),Jn=new TextEncoder;function jr(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let s=new URL(a);return s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function P1(a,s){const[l,c]=gd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:d.created_at-s.created_at);return c||a.splice(l,0,s),a}function q1(a,s){const[l,c]=gd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:s.created_at-d.created_at);return c||a.splice(l,0,s),a}function gd(a,s){let l=0,c=a.length-1;for(;l<=c;){const d=Math.floor((l+c)/2),p=s(a[d]);if(p===0)return[d,!0];p<0?c=d-1:l=d+1}return[l,!1]}var cv=class{value;next=null;prev=null;constructor(a){this.value=a}},fv=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const s=new cv(a);return this.last?this.last===this.first?(this.last=s,this.last.prev=this.first,this.first.next=s):(s.prev=this.last,this.last.next=s,this.last=s):(this.first=s,this.last=s),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const s=this.first;return this.first=null,this.last=null,s.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},G1=class{generateSecretKey(){return pi.utils.randomPrivateKey()}getPublicKey(s){return Se(pi.getPublicKey(s))}finalizeEvent(s,l){const c=s;return c.pubkey=Se(pi.getPublicKey(l)),c.id=Gu(c),c.sig=Se(pi.sign(Gu(c),l)),c[Ur]=!0,c}verifyEvent(s){if(typeof s[Ur]=="boolean")return s[Ur];const l=Gu(s);if(l!==s.id)return s[Ur]=!1,!1;try{const c=pi.verify(s.sig,l,s.pubkey);return s[Ur]=c,c}catch{return s[Ur]=!1,!1}}};function Y1(a){if(!pd(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Gu(a){let s=Va(Jn.encode(Y1(a)));return Se(s)}var lc=new G1,hv=lc.generateSecretKey,rl=lc.getPublicKey,Dn=lc.finalizeEvent,uc=lc.verifyEvent,V1={};se(V1,{Application:()=>ix,BadgeAward:()=>$1,BadgeDefinition:()=>Jw,BlockedRelaysList:()=>Nw,BlossomServerList:()=>jw,BookmarkList:()=>Cw,Bookmarksets:()=>Qw,Calendar:()=>cx,CalendarEventRSVP:()=>fx,ChannelCreation:()=>vv,ChannelHideMessage:()=>wv,ChannelMessage:()=>bv,ChannelMetadata:()=>_v,ChannelMuteUser:()=>xv,ChatMessage:()=>tw,ClassifiedListing:()=>sx,ClientAuth:()=>Sv,Comment:()=>uw,CommunitiesList:()=>Mw,CommunityDefinition:()=>px,CommunityPostApproval:()=>yw,Contacts:()=>J1,CreateOrUpdateProduct:()=>$w,CreateOrUpdateStall:()=>Ww,Curationsets:()=>Xw,Date:()=>lx,DirectMessageRelaysList:()=>Uw,DraftClassifiedListing:()=>ox,DraftLong:()=>ex,Emojisets:()=>nx,EncryptedDirectMessage:()=>F1,EventDeletion:()=>W1,FavoriteRelays:()=>Rw,FileMessage:()=>nw,FileMetadata:()=>lw,FileServerPreference:()=>Hw,Followsets:()=>Yw,ForumThread:()=>ew,GenericRepost:()=>wd,Genericlists:()=>Vw,GiftWrap:()=>Ev,GroupMetadata:()=>gx,HTTPAuth:()=>xd,Handlerinformation:()=>mx,Handlerrecommendation:()=>dx,Highlights:()=>Sw,InterestsList:()=>kw,Interestsets:()=>Fw,JobFeedback:()=>bw,JobRequest:()=>vw,JobResult:()=>_w,Label:()=>gw,LightningPubRPC:()=>Pw,LiveChatMessage:()=>cw,LiveEvent:()=>ax,LongFormArticle:()=>tx,Metadata:()=>X1,Mutelist:()=>Aw,NWCWalletInfo:()=>Zw,NWCWalletRequest:()=>Tv,NWCWalletResponse:()=>qw,NormalVideo:()=>aw,NostrConnect:()=>Gw,OpenTimestamps:()=>sw,Photo:()=>iw,Pinlist:()=>zw,Poll:()=>ow,PollResponse:()=>Tw,PrivateDirectMessage:()=>yv,ProblemTracker:()=>dw,ProfileBadges:()=>Iw,PublicChatsList:()=>Ow,Reaction:()=>bd,RecommendRelay:()=>I1,RelayList:()=>Lw,RelayReview:()=>hx,Relaysets:()=>Kw,Report:()=>mw,Reporting:()=>pw,Repost:()=>_d,Seal:()=>gv,SearchRelaysList:()=>Bw,ShortTextNote:()=>pv,ShortVideo:()=>rw,Time:()=>ux,UserEmojiList:()=>Dw,UserStatuses:()=>rx,Voice:()=>fw,VoiceComment:()=>hw,Zap:()=>Ew,ZapGoal:()=>ww,ZapRequest:()=>xw,classifyKind:()=>K1,isAddressableKind:()=>vd,isEphemeralKind:()=>mv,isKind:()=>Q1,isRegularKind:()=>dv,isReplaceableKind:()=>yd});function dv(a){return a<1e4&&a!==0&&a!==3}function yd(a){return a===0||a===3||1e4<=a&&a<2e4}function mv(a){return 2e4<=a&&a<3e4}function vd(a){return 3e4<=a&&a<4e4}function K1(a){return dv(a)?"regular":yd(a)?"replaceable":mv(a)?"ephemeral":vd(a)?"parameterized":"unknown"}function Q1(a,s){const l=s instanceof Array?s:[s];return pd(a)&&l.includes(a.kind)||!1}var X1=0,pv=1,I1=2,J1=3,F1=4,W1=5,_d=6,bd=7,$1=8,tw=9,ew=11,gv=13,yv=14,nw=15,wd=16,iw=20,aw=21,rw=22,vv=40,_v=41,bv=42,wv=43,xv=44,sw=1040,Ev=1059,ow=1068,lw=1063,uw=1111,cw=1311,fw=1222,hw=1244,dw=1971,mw=1984,pw=1984,gw=1985,yw=4550,vw=5999,_w=6999,bw=7e3,ww=9041,xw=9734,Ew=9735,Sw=9802,Tw=1018,Aw=1e4,zw=10001,Lw=10002,Cw=10003,Mw=10004,Ow=10005,Nw=10006,Bw=10007,Rw=10012,kw=10015,Dw=10030,Uw=10050,Hw=10096,jw=10063,Zw=13194,Pw=21e3,Sv=22242,Tv=23194,qw=23195,Gw=24133,xd=27235,Yw=3e4,Vw=30001,Kw=30002,Qw=30003,Xw=30004,Iw=30008,Jw=30009,Fw=30015,Ww=30017,$w=30018,tx=30023,ex=30024,nx=30030,ix=30078,ax=30311,rx=30315,sx=30402,ox=30403,lx=31922,ux=31923,cx=31924,fx=31925,hx=31987,dx=31989,mx=31990,px=34550,gx=39e3;function yx(a,s){if(a.ids&&a.ids.indexOf(s.id)===-1||a.kinds&&a.kinds.indexOf(s.kind)===-1||a.authors&&a.authors.indexOf(s.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let c=l.slice(1),d=a[`#${c}`];if(d&&!s.tags.find(([p,v])=>p===l.slice(1)&&d.indexOf(v)!==-1))return!1}return!(a.since&&s.created_at<a.since||a.until&&s.created_at>a.until)}function vx(a,s){for(let l=0;l<a.length;l++)if(yx(a[l],s))return!0;return!1}var _x={};se(_x,{getHex64:()=>cc,getInt:()=>Av,getSubscriptionId:()=>zv,matchEventId:()=>bx,matchEventKind:()=>xx,matchEventPubkey:()=>wx});function cc(a,s){let l=s.length+3,c=a.indexOf(`"${s}":`)+l,d=a.slice(c).indexOf('"')+c+1;return a.slice(d,d+64)}function Av(a,s){let l=s.length,c=a.indexOf(`"${s}":`)+l+3,d=a.slice(c),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function zv(a){let s=a.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let l=a.slice(s+7+1).indexOf('"');if(l===-1)return null;let c=s+7+1+l,d=a.slice(c+1,80).indexOf('"');if(d===-1)return null;let p=c+1+d;return a.slice(c+1,p)}function bx(a,s){return s===cc(a,"id")}function wx(a,s){return s===cc(a,"pubkey")}function xx(a,s){return s===Av(a,"kind")}var Ex={};se(Ex,{makeAuthEvent:()=>Lv});function Lv(a,s){return{kind:Sv,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",s]],content:""}}async function Sx(){return new Promise((a,s)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,c=()=>{l.port1.removeEventListener("message",c),a()};l.port1.addEventListener("message",c),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),s(l)}})}var Tx=a=>(a[Ur]=!0,!0),Cv=class extends Error{constructor(a,s){super(`Tried to send message '${a} on a closed connection to ${s}.`),this.name="SendingOnClosedConnection"}},Mv=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new fv;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,s){this.url=jr(a),this.verifyEvent=s.verifyEvent,this._WebSocket=s.websocketImplementation||WebSocket,this.enablePing=s.enablePing,this.enableReconnect=s.enableReconnect||!1}static async connect(a,s){const l=new Mv(a,s);return await l.connect(),l}closeAllSubscriptions(a){for(let[s,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[s,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[s,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const s=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!s?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,s)=>{this.connectionTimeoutHandle=setTimeout(()=>{s("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),s(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const c of this.openSubs.values()){if(c.eosed=!1,l)for(let d=0;d<c.filters.length;d++)c.lastEmitted&&(c.filters[d].since=c.lastEmitted+1);c.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,s)=>{if(!this.connectionPromise)return s(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){s(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(s=>setTimeout(()=>s(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Sx();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const s=zv(a);if(s){const l=this.openSubs.get(s);if(!l)return;const c=cc(a,"id"),d=l.alreadyHaveEvent?.(c);if(l.receivedEvent?.(this,c),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const c=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&vx(c.filters,d)&&c.onevent(d),(!c.lastEmitted||c.lastEmitted<d.created_at)&&(c.lastEmitted=d.created_at);return}case"COUNT":{const c=l[1],d=l[2],p=this.openCountRequests.get(c);p&&(p.resolve(d.count),this.openCountRequests.delete(c));return}case"EOSE":{const c=this.openSubs.get(l[1]);if(!c)return;c.receivedEose();return}case"OK":{const c=l[1],d=l[2],p=l[3],v=this.openEventPublishes.get(c);v&&(clearTimeout(v.timeout),d?v.resolve(p):v.reject(new Error(p)),this.openEventPublishes.delete(c));return}case"CLOSED":{const c=l[1],d=this.openSubs.get(c);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new Cv(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const s=this.challenge;if(!s)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,c)=>{try{let d=await a(Lv(this.url,s)),p=setTimeout(()=>{let v=this.openEventPublishes.get(d.id);v&&(v.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:c,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const s=new Promise((l,c)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:c,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),s}async count(a,s){this.serial++;const l=s?.id||"count:"+this.serial,c=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),c}subscribe(a,s){const l=this.prepareSubscription(a,s);return l.fire(),l}prepareSubscription(a,s){this.serial++;const l=s.id||(s.label?s.label+":":"sub:")+this.serial,c=new Ax(this,l,a,s);return this.openSubs.set(l,c),c}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},Ax=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,s,l,c){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=s,this.alreadyHaveEvent=c.alreadyHaveEvent,this.receivedEvent=c.receivedEvent,this.eoseTimeout=c.eoseTimeout||a.baseEoseTimeout,this.oneose=c.oneose,this.onclose=c.onclose,this.onevent=c.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(s){if(!(s instanceof Cv))throw s}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},zx;try{zx=WebSocket}catch{}var Lx=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,s){a=jr(a);let l=this.relays.get(a);if(l||(l=new Mv(a,{verifyEvent:this.trustedRelayURLs.has(a)?Tx:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},s?.connectionTimeout&&(l.connectionTimeout=s.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const c=this.automaticallyAuth(a);c&&(l.onauth=c)}return await l.connect(),l}close(a){a.map(jr).forEach(s=>{this.relays.get(s)?.close(),this.relays.delete(s)})}subscribe(a,s,l){const c=[];for(let d=0;d<a.length;d++){const p=jr(a[d]);c.find(v=>v.url===p)||c.push({url:p,filter:s})}return this.subscribeMap(c,l)}subscribeMany(a,s,l){const c=[],d=[];for(let p=0;p<a.length;p++){const v=jr(a[p]);d.indexOf(v)===-1&&(d.push(v),c.push({url:v,filter:s}))}return this.subscribeMap(c,l)}subscribeMap(a,s){const l=new Map;for(const R of a){const{url:P,filter:H}=R;l.has(P)||l.set(P,[]),l.get(P).push(H)}const c=Array.from(l.entries()).map(([R,P])=>({url:R,filters:P}));this.trackRelays&&(s.receivedEvent=(R,P)=>{let H=this.seenOn.get(P);H||(H=new Set,this.seenOn.set(P,H)),H.add(R)});const d=new Set,p=[],v=[];let b=R=>{v[R]||(v[R]=!0,v.filter(P=>P).length===c.length&&(s.oneose?.(),b=()=>{}))};const _=[];let x=(R,P)=>{_[R]||(b(R),_[R]=P,_.filter(H=>H).length===c.length&&(s.onclose?.(_),x=()=>{}))};const T=R=>{if(s.alreadyHaveEvent?.(R))return!0;const P=d.has(R);return d.add(R),P},S=Promise.all(c.map(async({url:R,filters:P},H)=>{let M;try{M=await this.ensureRelay(R,{connectionTimeout:s.maxWait?Math.max(s.maxWait*.8,s.maxWait-1e3):void 0})}catch(V){x(H,V?.message||String(V));return}let D=M.subscribe(P,{...s,oneose:()=>b(H),onclose:V=>{V.startsWith("auth-required: ")&&s.onauth?M.auth(s.onauth).then(()=>{M.subscribe(P,{...s,oneose:()=>b(H),onclose:it=>{x(H,it)},alreadyHaveEvent:T,eoseTimeout:s.maxWait})}).catch(it=>{x(H,`auth was required and attempted, but failed with: ${it}`)}):x(H,V)},alreadyHaveEvent:T,eoseTimeout:s.maxWait});p.push(D)}));return{async close(R){await S,p.forEach(P=>{P.close(R)})}}}subscribeEose(a,s,l){const c=this.subscribe(a,s,{...l,oneose(){c.close("closed automatically on eose")}});return c}subscribeManyEose(a,s,l){const c=this.subscribeMany(a,s,{...l,oneose(){c.close("closed automatically on eose")}});return c}async querySync(a,s,l){return new Promise(async c=>{const d=[];this.subscribeEose(a,s,{...l,onevent(p){d.push(p)},onclose(p){c(d)}})})}async get(a,s,l){s.limit=1;const c=await this.querySync(a,s,l);return c.sort((d,p)=>p.created_at-d.created_at),c[0]||null}publish(a,s,l){return a.map(jr).map(async(c,d,p)=>{if(p.indexOf(c)!==d)return Promise.reject("duplicate url");let v=await this.ensureRelay(c);return v.publish(s).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await v.auth(l.onauth),v.publish(s);throw b}).then(b=>{if(this.trackRelays){let _=this.seenOn.get(s.id);_||(_=new Set,this.seenOn.set(s.id,_)),_.add(v)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((s,l)=>a.set(l,s.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},Ov;try{Ov=WebSocket}catch{}var Cx=class extends Lx{constructor(a){super({verifyEvent:uc,websocketImplementation:Ov,...a})}},nl={};se(nl,{BECH32_REGEX:()=>Nv,Bech32MaxSize:()=>Ed,NostrTypeGuard:()=>Mx,decode:()=>fc,decodeNostrURI:()=>Nx,encodeBytes:()=>dc,naddrEncode:()=>Hx,neventEncode:()=>Ux,noteEncode:()=>kx,nprofileEncode:()=>Dx,npubEncode:()=>Rx,nsecEncode:()=>Bx});var Mx={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},Ed=5e3,Nv=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Ox(a){const s=new Uint8Array(4);return s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=a&255,s}function Nx(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),fc(a)}catch{return{type:"invalid",data:null}}}function fc(a){let{prefix:s,words:l}=Zs.decode(a,Ed),c=new Uint8Array(Zs.fromWords(l));switch(s){case"nprofile":{let d=Rh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Se(d[0][0]),relays:d[1]?d[1].map(p=>Ii.decode(p)):[]}}}case"nevent":{let d=Rh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Se(d[0][0]),relays:d[1]?d[1].map(p=>Ii.decode(p)):[],author:d[2]?.[0]?Se(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(Se(d[3][0]),16):void 0}}}case"naddr":{let d=Rh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Ii.decode(d[0][0]),pubkey:Se(d[2][0]),kind:parseInt(Se(d[3][0]),16),relays:d[1]?d[1].map(p=>Ii.decode(p)):[]}}}case"nsec":return{type:s,data:c};case"npub":case"note":return{type:s,data:Se(c)};default:throw new Error(`unknown prefix ${s}`)}}function Rh(a){let s={},l=a;for(;l.length>0;){let c=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${c}`);s[c]=s[c]||[],s[c].push(p)}return s}function Bx(a){return dc("nsec",a)}function Rx(a){return dc("npub",qr(a))}function kx(a){return dc("note",qr(a))}function hc(a,s){let l=Zs.toWords(s);return Zs.encode(a,l,Ed)}function dc(a,s){return hc(a,s)}function Dx(a){let s=Sd({0:[qr(a.pubkey)],1:(a.relays||[]).map(l=>Jn.encode(l))});return hc("nprofile",s)}function Ux(a){let s;a.kind!==void 0&&(s=Ox(a.kind));let l=Sd({0:[qr(a.id)],1:(a.relays||[]).map(c=>Jn.encode(c)),2:a.author?[qr(a.author)]:[],3:s?[new Uint8Array(s)]:[]});return hc("nevent",l)}function Hx(a){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,a.kind,!1);let l=Sd({0:[Jn.encode(a.identifier)],1:(a.relays||[]).map(c=>Jn.encode(c)),2:[qr(a.pubkey)],3:[new Uint8Array(s)]});return hc("naddr",l)}function Sd(a){let s=[];return Object.entries(a).reverse().forEach(([l,c])=>{c.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),s.push(p)})}),rc(...s)}var jx={};se(jx,{decrypt:()=>Zx,encrypt:()=>Bv});function Bv(a,s,l){const c=a instanceof Uint8Array?Se(a):a,d=qs.getSharedSecret(c,"02"+s),p=Rv(d);let v=Uint8Array.from(Qy(16)),b=Jn.encode(l),_=av(p,v).encrypt(b),x=Ji.encode(new Uint8Array(_)),T=Ji.encode(new Uint8Array(v.buffer));return`${x}?iv=${T}`}function Zx(a,s,l){const c=a instanceof Uint8Array?Se(a):a;let[d,p]=l.split("?iv="),v=qs.getSharedSecret(c,"02"+s),b=Rv(v),_=Ji.decode(p),x=Ji.decode(d),T=av(b,_).decrypt(x);return Ii.decode(T)}function Rv(a){return a.slice(1,33)}var Px={};se(Px,{NIP05_REGEX:()=>Td,isNip05:()=>qx,isValid:()=>Vx,queryProfile:()=>kv,searchDomain:()=>Yx,useFetchImplementation:()=>Gx});var Td=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,qx=a=>Td.test(a||""),mc;try{mc=fetch}catch{}function Gx(a){mc=a}async function Yx(a,s=""){try{const l=`https://${a}/.well-known/nostr.json?name=${s}`,c=await mc(l,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");return(await c.json()).names}catch{return{}}}async function kv(a){const s=a.match(Td);if(!s)return null;const[,l="_",c]=s;try{const d=`https://${c}/.well-known/nostr.json?name=${l}`,p=await mc(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const v=await p.json(),b=v.names[l];return b?{pubkey:b,relays:v.relays?.[b]}:null}catch{return null}}async function Vx(a,s){const l=await kv(s);return l?l.pubkey===a:!1}var Kx={};se(Kx,{parse:()=>Qx});function Qx(a){const s={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,c;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[v,b,_,x,T]=p,S={id:b,relays:_?[_]:[],author:T};if(x==="root"){s.root=S;continue}if(x==="reply"){s.reply=S;continue}if(x==="mention"){s.mentions.push(S);continue}l?c=S:l=S,s.mentions.push(S);continue}if(p[0]==="q"&&p[1]){const[v,b,_]=p;s.quotes.push({id:b,relays:_?[_]:[]})}if(p[0]==="p"&&p[1]){s.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return s.root||(s.root=c||l||s.reply),s.reply||(s.reply=l||s.root),[s.reply,s.root].forEach(d=>{if(!d)return;let p=s.mentions.indexOf(d);if(p!==-1&&s.mentions.splice(p,1),d.author){let v=s.profiles.find(b=>b.pubkey===d.author);v&&v.relays&&(d.relays||(d.relays=[]),v.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),v.relays=d.relays)}}),s.mentions.forEach(d=>{if(d.author){let p=s.profiles.find(v=>v.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(v=>{d.relays.indexOf(v)===-1&&d.relays.push(v)}),p.relays=d.relays)}}),s}var Xx={};se(Xx,{fetchRelayInformation:()=>Jx,useFetchImplementation:()=>Ix});var Dv;try{Dv=fetch}catch{}function Ix(a){Dv=a}async function Jx(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Fx={};se(Fx,{fastEventHash:()=>Hv,getPow:()=>Uv,minePow:()=>Wx});function Uv(a){let s=0;for(let l=0;l<64;l+=8){const c=parseInt(a.substring(l,l+8),16);if(c===0)s+=32;else{s+=Math.clz32(c);break}}return s}function Wx(a,s){let l=0;const c=a,d=["nonce",l.toString(),s.toString()];for(c.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==c.created_at&&(l=0,c.created_at=p),d[1]=(++l).toString(),c.id=Hv(c),Uv(c.id)>=s)break}return c}function Hv(a){return Se(Va(Jn.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var $x={};se($x,{unwrapEvent:()=>c2,unwrapManyEvents:()=>f2,wrapEvent:()=>Fv,wrapManyEvents:()=>u2});var t2={};se(t2,{createRumor:()=>Qv,createSeal:()=>Xv,createWrap:()=>Iv,unwrapEvent:()=>Md,unwrapManyEvents:()=>Jv,wrapEvent:()=>Fu,wrapManyEvents:()=>o2});var sl={};se(sl,{decrypt:()=>Cd,encrypt:()=>Ld,getConversationKey:()=>Ad,v2:()=>r2});var jv=1,Zv=65535;function Ad(a,s){const l=qs.getSharedSecret(a,"02"+s).subarray(1,33);return D1(Va,l,"nip44-v2")}function Pv(a,s){const l=U1(Va,a,s,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function zd(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const s=1<<Math.floor(Math.log2(a-1))+1,l=s<=256?32:s/8;return l*(Math.floor((a-1)/l)+1)}function e2(a){if(!Number.isSafeInteger(a)||a<jv||a>Zv)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,a,!1),s}function n2(a){const s=Jn.encode(a),l=s.length,c=e2(l),d=new Uint8Array(zd(l)-l);return rc(c,s,d)}function i2(a){const s=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+s);if(s<jv||s>Zv||l.length!==s||a.length!==2+zd(s))throw new Error("invalid padding");return Ii.decode(l)}function qv(a,s,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const c=rc(l,s);return oc(Va,a,c)}function a2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const s=a.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=Ji.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const c=l.length;if(c<99||c>65603)throw new Error("invalid data length: "+c);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Ld(a,s,l=Qy(32)){const{chacha_key:c,chacha_nonce:d,hmac_key:p}=Pv(s,l),v=n2(a),b=lv(c,d,v),_=qv(p,b,l);return Ji.encode(rc(new Uint8Array([2]),l,b,_))}function Cd(a,s){const{nonce:l,ciphertext:c,mac:d}=a2(a),{chacha_key:p,chacha_nonce:v,hmac_key:b}=Pv(s,l),_=qv(b,c,l);if(!y1(_,d))throw new Error("invalid MAC");const x=lv(p,v,c);return i2(x)}var r2={utils:{getConversationKey:Ad,calcPaddedLen:zd},encrypt:Ld,decrypt:Cd},s2=2880*60,Gv=()=>Math.round(Date.now()/1e3),Yv=()=>Math.round(Gv()-Math.random()*s2),Vv=(a,s)=>Ad(a,s),Kv=(a,s,l)=>Ld(JSON.stringify(a),Vv(s,l)),sy=(a,s)=>JSON.parse(Cd(a.content,Vv(s,a.pubkey)));function Qv(a,s){const l={created_at:Gv(),content:"",tags:[],...a,pubkey:rl(s)};return l.id=Gu(l),l}function Xv(a,s,l){return Dn({kind:gv,content:Kv(a,s,l),created_at:Yv(),tags:[]},s)}function Iv(a,s){const l=hv();return Dn({kind:Ev,content:Kv(a,l,s),created_at:Yv(),tags:[["p",s]]},l)}function Fu(a,s,l){const c=Qv(a,s),d=Xv(c,s,l);return Iv(d,l)}function o2(a,s,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const c=rl(s),d=[Fu(a,s,c)];return l.forEach(p=>{d.push(Fu(a,s,p))}),d}function Md(a,s){const l=sy(a,s);return sy(l,s)}function Jv(a,s){let l=[];return a.forEach(c=>{l.push(Md(c,s))}),l.sort((c,d)=>c.created_at-d.created_at),l}function l2(a,s,l,c){const d={created_at:Math.ceil(Date.now()/1e3),kind:yv,tags:[],content:s};return(Array.isArray(a)?a:[a]).forEach(({publicKey:v,relayUrl:b})=>{d.tags.push(b?["p",v,b]:["p",v])}),c&&d.tags.push(["e",c.eventId,c.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function Fv(a,s,l,c,d){const p=l2(s,l,c,d);return Fu(p,a,s.publicKey)}function u2(a,s,l,c,d){if(!s||s.length===0)throw new Error("At least one recipient is required.");return[{publicKey:rl(a)},...s].map(v=>Fv(a,v,l,c,d))}var c2=Md,f2=Jv,h2={};se(h2,{finishRepostEvent:()=>d2,getRepostedEvent:()=>m2,getRepostedEventPointer:()=>Wv});function d2(a,s,l,c){let d;const p=[...a.tags??[],["e",s.id,l],["p",s.pubkey]];return s.kind===pv?d=_d:(d=wd,p.push(["k",String(s.kind)])),Dn({kind:d,tags:p,content:a.content===""||s.tags?.find(v=>v[0]==="-")?"":JSON.stringify(s),created_at:a.created_at},c)}function Wv(a){if(![_d,wd].includes(a.kind))return;let s,l;for(let c=a.tags.length-1;c>=0&&(s===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(s!==void 0)return{id:s[1],relays:[s[2],l?.[2]].filter(c=>typeof c=="string"),author:l?.[1]}}function m2(a,{skipVerification:s}={}){const l=Wv(a);if(l===void 0||a.content==="")return;let c;try{c=JSON.parse(a.content)}catch{return}if(c.id===l.id&&!(!s&&!uc(c)))return c}var p2={};se(p2,{NOSTR_URI_REGEX:()=>Od,parse:()=>y2,test:()=>g2});var Od=new RegExp(`nostr:(${Nv.source})`);function g2(a){return typeof a=="string"&&new RegExp(`^${Od.source}$`).test(a)}function y2(a){const s=a.match(new RegExp(`^${Od.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:s[0],value:s[1],decoded:fc(s[1])}}var v2={};se(v2,{finishReactionEvent:()=>_2,getReactedEventPointer:()=>b2});function _2(a,s,l){const c=s.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return Dn({...a,kind:bd,tags:[...a.tags??[],...c,["e",s.id],["p",s.pubkey]],content:a.content??"+"},l)}function b2(a){if(a.kind!==bd)return;let s,l;for(let c=a.tags.length-1;c>=0&&(s===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(s===void 0||l===void 0))return{id:s[1],relays:[s[2],l[2]].filter(c=>c!==void 0),author:l[1]}}var w2={};se(w2,{parse:()=>E2});var oy=/\W/m,ly=/[^\w\/] |[^\w\/]$|$|,| /m,x2=42;function*E2(a){let s=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const v=a.tags[p];v[0]==="emoji"&&v.length>=3&&s.push({type:"emoji",shortcode:v[1],url:v[2]})}a=a.content}const l=a.length;let c=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),v=a.indexOf("#",d);if(p===-1&&v===-1)break t;if(p===-1||v>=0&&v<p){if(v===0||a[v-1]===" "){const b=a.slice(v+1,v+x2).match(oy),_=b?v+1+b.index:l;yield{type:"text",text:a.slice(c,v)},yield{type:"hashtag",value:a.slice(v+1,_)},d=_,c=d;continue t}d=v+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(oy),_=b?p+60+b.index:l;try{let x,{data:T,type:S}=fc(a.slice(p+1,_));switch(S){case"npub":x={pubkey:T};break;case"note":x={id:T};break;case"nsec":d=_+1;continue;default:x=T}c!==p-5&&(yield{type:"text",text:a.slice(c,p-5)}),yield{type:"reference",pointer:x},d=_,c=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(ly),_=b?p+4+b.index:l,x=a[p-1]==="s"?5:4;try{let T=new URL(a.slice(p-x,_));if(T.hostname.indexOf(".")===-1)throw new Error("invalid url");if(c!==p-x&&(yield{type:"text",text:a.slice(c,p-x)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(T.pathname)){yield{type:"image",url:T.toString()},d=_,c=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(T.pathname)){yield{type:"video",url:T.toString()},d=_,c=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(T.pathname)){yield{type:"audio",url:T.toString()},d=_,c=d;continue t}yield{type:"url",url:T.toString()},d=_,c=d;continue t}catch{d=_+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(ly),_=b?p+4+b.index:l,x=a[p-1]==="s"?3:2;try{let T=new URL(a.slice(p-x,_));if(T.hostname.indexOf(".")===-1)throw new Error("invalid ws url");c!==p-x&&(yield{type:"text",text:a.slice(c,p-x)}),yield{type:"relay",url:T.toString()},d=_,c=d;continue t}catch{d=_+1;continue t}}else{for(let b=0;b<s.length;b++){const _=s[b];if(a[p+_.shortcode.length+1]===":"&&a.slice(p+1,p+_.shortcode.length+1)===_.shortcode){c!==p&&(yield{type:"text",text:a.slice(c,p)}),yield _,d=p+_.shortcode.length+2,c=d;continue t}}d=p+1;continue t}}c!==l&&(yield{type:"text",text:a.slice(c)})}var S2={};se(S2,{channelCreateEvent:()=>T2,channelHideMessageEvent:()=>L2,channelMessageEvent:()=>z2,channelMetadataEvent:()=>A2,channelMuteUserEvent:()=>C2});var T2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:vv,tags:[...a.tags??[]],content:l,created_at:a.created_at},s)},A2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:_v,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},z2=(a,s)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),Dn({kind:bv,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},s)},L2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:wv,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},C2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:xv,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},s)},M2={};se(M2,{EMOJI_SHORTCODE_REGEX:()=>$v,matchAll:()=>O2,regex:()=>Nd,replaceAll:()=>N2});var $v=/:(\w+):/,Nd=()=>new RegExp(`\\B${$v.source}\\B`,"g");function*O2(a){const s=a.matchAll(Nd());for(const l of s)try{const[c,d]=l;yield{shortcode:c,name:d,start:l.index,end:l.index+c.length}}catch{}}function N2(a,s){return a.replaceAll(Nd(),(l,c)=>s({shortcode:l,name:c}))}var B2={};se(B2,{useFetchImplementation:()=>R2,validateGithub:()=>k2});var Bd;try{Bd=fetch}catch{}function R2(a){Bd=a}async function k2(a,s,l){try{return await(await Bd(`https://gist.github.com/${s}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var D2={};se(D2,{makeNwcRequestEvent:()=>H2,parseConnectionString:()=>U2});function U2(a){const{host:s,pathname:l,searchParams:c}=new URL(a),d=l||s,p=c.get("relay"),v=c.get("secret");if(!d||!p||!v)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:v}}async function H2(a,s,l){const d=Bv(s,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:Tv,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return Dn(p,s)}var j2={};se(j2,{normalizeIdentifier:()=>Z2});function Z2(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(s=>new RegExp("\\p{Letter}","u").test(s)||new RegExp("\\p{Number}","u").test(s)?s:"-").join("")}var P2={};se(P2,{getSatoshisAmountFromBolt11:()=>Q2,getZapEndpoint:()=>G2,makeZapReceipt:()=>K2,makeZapRequest:()=>Y2,useFetchImplementation:()=>q2,validateZapRequest:()=>V2});var Rd;try{Rd=fetch}catch{}function q2(a){Rd=a}async function G2(a){try{let s="",{lud06:l,lud16:c}=JSON.parse(a.content);if(c){let[v,b]=c.split("@");s=new URL(`/.well-known/lnurlp/${v}`,`https://${b}`).toString()}else if(l){let{words:v}=Zs.decode(l,1e3),b=Zs.fromWords(v);s=Ii.decode(b)}else return null;let p=await(await Rd(s)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function Y2(a){let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(s.tags.push(["e",a.event.id]),yd(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];s.tags.push(l)}else if(vd(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];s.tags.push(c)}s.tags.push(["k",a.event.kind.toString()])}return s}function V2(a){let s;try{s=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!pd(s))return"Zap request is not a valid Nostr event.";if(!uc(s))return"Invalid signature on zap request.";let l=s.tags.find(([p,v])=>p==="p"&&v);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let c=s.tags.find(([p,v])=>p==="e"&&v);return c&&!c[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([p,v])=>p==="relays"&&v)?null:"Zap request doesn't have a 'relays' tag."}function K2({zapRequest:a,preimage:s,bolt11:l,paidAt:c}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),v={kind:9735,created_at:Math.round(c.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return s&&v.tags.push(["preimage",s]),v}function Q2(a){if(a.length<50)return 0;a=a.substring(0,50);const s=a.lastIndexOf("1");if(s===-1)return 0;const l=a.substring(0,s);if(!l.startsWith("lnbc"))return 0;const c=l.substring(4);if(c.length<1)return 0;const d=c[c.length-1],p=d.charCodeAt(0)-48,v=p>=0&&p<=9;let b=c.length-1;if(v&&b++,b<1)return 0;const _=parseInt(c.substring(0,b));switch(d){case"m":return _*1e5;case"u":return _*100;case"n":return _/10;case"p":return _/1e4;default:return _*1e8}}var X2={};se(X2,{Negentropy:()=>e0,NegentropyStorageVector:()=>F2,NegentropySync:()=>W2});var kh=97,Us=32,t0=16,Dr={Skip:0,Fingerprint:1,IdList:2},Xi=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof Xi&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const s=a.length+this.length;if(this.capacity<s){const l=this._raw,c=Math.max(this.capacity*2,s);this._raw=new Uint8Array(c),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const s=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,s}};function Pu(a){let s=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(s=s<<7|l&127,(l&128)===0)break}return s}function Ki(a){if(a===0)return new Xi(new Uint8Array([0]));let s=[];for(;a!==0;)s.push(a&127),a>>>=7;s.reverse();for(let l=0;l<s.length-1;l++)s[l]|=128;return new Xi(new Uint8Array(s))}function I2(a){return Yu(a,1)[0]}function Yu(a,s){if(a.length<s)throw Error("parse ends prematurely");return a.shiftN(s)}var J2=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(Us)}add(a){let s=0,l=0,c=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let v=p*4,b=c.getUint32(v,!0),_=d.getUint32(v,!0),x=b;x+=s,x+=_,x>4294967295&&(l=1),c.setUint32(v,x&4294967295,!0),s=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let c=l*4;a.setUint32(c,~a.getUint32(c,!0))}let s=new Uint8Array(Us);s[0]=1,this.add(s)}getFingerprint(a){let s=new Xi;return s.extend(this.buf),s.extend(Ki(a)),Va(s.unwrap()).subarray(0,t0)}},F2=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,s){if(this.sealed)throw Error("already sealed");const l=$y(s);if(l.byteLength!==Us)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Dh);for(let a=1;a<this.items.length;a++)if(Dh(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,s,l){this._checkSealed(),this._checkBounds(a,s);for(let c=a;c<s&&l(this.items[c],c);++c);}findLowerBound(a,s,l){return this._checkSealed(),this._checkBounds(a,s),this._binarySearch(this.items,a,s,c=>Dh(c,l)<0)}fingerprint(a,s){let l=new J2;return l.setToZero(),this.iterate(a,s,c=>(l.add(c.id),!0)),l.getFingerprint(s-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,s){if(a>s||s>this.items.length)throw Error("bad range")}_binarySearch(a,s,l,c){let d=l-s;for(;d>0;){let p=s,v=Math.floor(d/2);p+=v,c(a[p])?(s=++p,d-=v+1):d=v}return s}},e0=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,s=6e4){if(s<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=s,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,s){return{timestamp:a,id:s||new Uint8Array(0)}}initiate(){let a=new Xi;return a.extend(new Uint8Array([kh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),Bs(a.unwrap())}reconcile(a,s,l){const c=new Xi($y(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new Xi;d.extend(new Uint8Array([kh]));let p=I2(c);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==kh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let v=this.storage.size(),b=this._bound(0),_=0,x=!1;for(;c.length!==0;){let T=new Xi,S=()=>{x&&(x=!1,T.extend(this.encodeBound(b)),T.extend(Ki(Dr.Skip)))},R=this.decodeBound(c),P=Pu(c),H=_,M=this.storage.findLowerBound(_,v,R);if(P===Dr.Skip)x=!0;else if(P===Dr.Fingerprint){let D=Yu(c,t0),V=this.storage.fingerprint(H,M);n0(D,V)!==0?(S(),this.splitRange(H,M,R,T)):x=!0}else if(P===Dr.IdList){let D=Pu(c),V={};for(let it=0;it<D;it++){let tt=Yu(c,Us);V[Bs(tt)]=tt}if(x=!0,this.storage.iterate(H,M,it=>{let tt=it.id;const gt=Bs(tt);return V[gt]?delete V[Bs(tt)]:s?.(gt),!0}),l)for(let it of Object.values(V))l(Bs(it))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+T.length)){let D=this.storage.fingerprint(M,v);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(Ki(Dr.Fingerprint)),d.extend(D);break}else d.extend(T);_=M,b=R}return d.length===1?null:Bs(d.unwrap())}splitRange(a,s,l,c){let d=s-a,p=16;if(d<p*2)c.extend(this.encodeBound(l)),c.extend(Ki(Dr.IdList)),c.extend(Ki(d)),this.storage.iterate(a,s,v=>(c.extend(v.id),!0));else{let v=Math.floor(d/p),b=d%p,_=a;for(let x=0;x<p;x++){let T=v+(x<b?1:0),S=this.storage.fingerprint(_,_+T);_+=T;let R;if(_===s)R=l;else{let P,H;this.storage.iterate(_-1,_+1,(M,D)=>(D===_-1?P=M:H=M,!0)),R=this.getMinimalBound(P,H)}c.extend(this.encodeBound(R)),c.extend(Ki(Dr.Fingerprint)),c.extend(S)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let s=Pu(a);return s=s===0?Number.MAX_VALUE:s-1,this.lastTimestampIn===Number.MAX_VALUE||s===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(s+=this.lastTimestampIn,this.lastTimestampIn=s,s)}decodeBound(a){let s=this.decodeTimestampIn(a),l=Pu(a);if(l>Us)throw Error("bound key too long");let c=Yu(a,l);return{timestamp:s,id:c}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,Ki(0);let s=a;return a-=this.lastTimestampOut,this.lastTimestampOut=s,Ki(a+1)}encodeBound(a){let s=new Xi;return s.extend(this.encodeTimestampOut(a.timestamp)),s.extend(Ki(a.id.length)),s.extend(a.id),s}getMinimalBound(a,s){if(s.timestamp!==a.timestamp)return this._bound(s.timestamp);{let l=0,c=s.id,d=a.id;for(let p=0;p<Us&&c[p]===d[p];p++)l++;return this._bound(s.timestamp,s.id.subarray(0,l+1))}}};function n0(a,s){for(let l=0;l<a.byteLength;l++){if(a[l]<s[l])return-1;if(a[l]>s[l])return 1}return a.byteLength>s.byteLength?1:a.byteLength<s.byteLength?-1:0}function Dh(a,s){return a.timestamp===s.timestamp?n0(a.id,s.id):a.timestamp-s.timestamp}var W2=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,s,l,c={}){this.relay=a,this.storage=s,this.neg=new e0(s),this.onhave=c.onhave,this.onneed=c.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:c.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),c.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),c?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),c.onclose?.(p);break}case"NEG-ERR":c.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},$2={};se($2,{getToken:()=>tE,hashPayload:()=>kd,unpackEventFromToken:()=>a0,validateEvent:()=>c0,validateEventKind:()=>s0,validateEventMethodTag:()=>l0,validateEventPayloadTag:()=>u0,validateEventTimestamp:()=>r0,validateEventUrlTag:()=>o0,validateToken:()=>eE});var i0="Nostr ";async function tE(a,s,l,c=!1,d){const p={kind:xd,tags:[["u",a],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",kd(d)]);const v=await l(p);return(c?i0:"")+Ji.encode(Jn.encode(JSON.stringify(v)))}async function eE(a,s,l){const c=await a0(a).catch(p=>{throw p});return await c0(c,s,l).catch(p=>{throw p})}async function a0(a){if(!a)throw new Error("Missing token");a=a.replace(i0,"");const s=Ii.decode(Ji.decode(a));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function r0(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function s0(a){return a.kind===xd}function o0(a,s){const l=a.tags.find(c=>c[0]==="u");return l?l.length>0&&l[1]===s:!1}function l0(a,s){const l=a.tags.find(c=>c[0]==="method");return l?l.length>0&&l[1].toLowerCase()===s.toLowerCase():!1}function kd(a){const s=Va(Jn.encode(JSON.stringify(a)));return Se(s)}function u0(a,s){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const c=kd(s);return l.length>0&&l[1]===c}async function c0(a,s,l,c){if(!uc(a))throw new Error("Invalid nostr event, signature invalid");if(!s0(a))throw new Error("Invalid nostr event, kind invalid");if(!r0(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!o0(a,s))throw new Error("Invalid nostr event, url tag invalid");if(!l0(a,l))throw new Error("Invalid nostr event, method tag invalid");if(c&&typeof c=="object"&&Object.keys(c).length>0&&!u0(a,c))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const uy=a=>Array.from(a).map(s=>s.toString(16).padStart(2,"0")).join(""),f0=ht.createContext(null),nE=({children:a})=>{const[s,l]=ht.useState(localStorage.getItem("parlens_pubkey")),[c]=ht.useState(new Cx),d=async(b,_,x)=>{let T="",S=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");T=await window.nostr.getPublicKey()}else if(b==="nsec"&&_)try{const R=nl.decode(_);if(R.type!=="nsec")throw new Error("Not an nsec");S=R.data,T=rl(S),localStorage.setItem("parlens_privkey",uy(S))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(S=hv(),T=rl(S),localStorage.setItem("parlens_privkey",uy(S)));if(l(T),localStorage.setItem("parlens_pubkey",T),b==="create"&&x&&S)try{const R=Dn({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:x,display_name:x,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${T}`})},S);await Promise.any([c.publish(["wss://relay.damus.io","wss://nos.lol"],R)])}catch(R){console.warn("Failed to publish metadata:",R)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},v=async b=>{const _=localStorage.getItem("parlens_privkey");if(_){const x=new Uint8Array(_.match(/.{1,2}/g).map(T=>parseInt(T,16)));return Dn(b,x)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return O.jsx(f0.Provider,{value:{pubkey:s,login:d,logout:p,pool:c,signEvent:v},children:a})},cl=()=>{const a=ht.useContext(f0);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const iE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aE=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,l,c)=>c?c.toUpperCase():l.toLowerCase()),cy=a=>{const s=aE(a);return s.charAt(0).toUpperCase()+s.slice(1)},h0=(...a)=>a.filter((s,l,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===l).join(" ").trim(),rE=a=>{for(const s in a)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var sE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oE=ht.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:p,iconNode:v,...b},_)=>ht.createElement("svg",{ref:_,...sE,width:s,height:s,stroke:a,strokeWidth:c?Number(l)*24/Number(s):l,className:h0("lucide",d),...!p&&!rE(b)&&{"aria-hidden":"true"},...b},[...v.map(([x,T])=>ht.createElement(x,T)),...Array.isArray(p)?p:[p]]));const Ve=(a,s)=>{const l=ht.forwardRef(({className:c,...d},p)=>ht.createElement(oE,{ref:p,iconNode:s,className:h0(`lucide-${iE(cy(a))}`,`lucide-${a}`,c),...d}));return l.displayName=cy(a),l};const lE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uE=Ve("arrow-right",lE);const cE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jh=Ve("chevron-down",cE);const fE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fy=Ve("chevron-right",fE);const hE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dE=Ve("chevron-up",hE);const mE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hy=Ve("circle-question-mark",mE);const pE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],gE=Ve("clipboard-list",pE);const yE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vE=Ve("clock",yE);const _E=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bE=Ve("compass",_E);const wE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],d0=Ve("key",wE);const xE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fh=Ve("map-pin",xE);const EE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],SE=Ve("navigation",EE);const TE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AE=Ve("search",TE);const zE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],LE=Ve("shield-check",zE);const CE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ME=Ve("shield",CE);const OE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NE=Ve("user-plus",OE);const BE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],m0=Ve("x",BE);function RE(a,s){const l=ht.useRef(s);ht.useEffect(function(){s!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),s!=null&&a.attributionControl.addAttribution(s)),l.current=s},[a,s])}Ty();const kE=1;function DE(a){return Object.freeze({__version:kE,map:a})}function UE(a,s){return Object.freeze({...a,...s})}const Dd=ht.createContext(null);function p0(){const a=ht.use(Dd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function HE(a){function s(l,c){const{instance:d,context:p}=a(l).current;ht.useImperativeHandle(c,()=>d);const{children:v}=l;return v==null?null:Vu.createElement(Dd,{value:p},v)}return ht.forwardRef(s)}function jE(a){function s(l,c){const{instance:d}=a(l).current;return ht.useImperativeHandle(c,()=>d),null}return ht.forwardRef(s)}function ZE(a,s){const l=ht.useRef(void 0);ht.useEffect(function(){return s!=null&&a.instance.on(s),l.current=s,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,s])}function g0(a,s){const l=a.pane??s.pane;return l?{...a,pane:l}:a}var tl={exports:{}};var PE=tl.exports,dy;function qE(){return dy||(dy=1,(function(a,s){(function(l,c){c(s)})(PE,(function(l){var c="1.9.4";function d(n){var r,u,m,g;for(u=1,m=arguments.length;u<m;u++){g=arguments[u];for(r in g)n[r]=g[r]}return n}var p=Object.create||(function(){function n(){}return function(r){return n.prototype=r,new n}})();function v(n,r){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var m=u.call(arguments,2);return function(){return n.apply(r,m.length?m.concat(u.call(arguments)):arguments)}}var b=0;function _(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function x(n,r,u){var m,g,w,z;return z=function(){m=!1,g&&(w.apply(u,g),g=!1)},w=function(){m?g=arguments:(n.apply(u,arguments),setTimeout(z,r),m=!0)},w}function T(n,r,u){var m=r[1],g=r[0],w=m-g;return n===m&&u?n:((n-g)%w+w)%w+g}function S(){return!1}function R(n,r){if(r===!1)return n;var u=Math.pow(10,r===void 0?6:r);return Math.round(n*u)/u}function P(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function H(n){return P(n).split(/\s+/)}function M(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var u in r)n.options[u]=r[u];return n.options}function D(n,r,u){var m=[];for(var g in n)m.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!r||r.indexOf("?")===-1?"?":"&")+m.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function it(n,r){return n.replace(V,function(u,m){var g=r[m];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(r)),g})}var tt=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function gt(n,r){for(var u=0;u<n.length;u++)if(n[u]===r)return u;return-1}var yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function at(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var J=0;function ut(n){var r=+new Date,u=Math.max(0,16-(r-J));return J=r+u,window.setTimeout(n,u)}var xt=window.requestAnimationFrame||at("RequestAnimationFrame")||ut,pt=window.cancelAnimationFrame||at("CancelAnimationFrame")||at("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function lt(n,r,u){if(u&&xt===ut)n.call(r);else return xt.call(window,v(n,r))}function ot(n){n&&pt.call(window,n)}var vt={__proto__:null,extend:d,create:p,bind:v,get lastId(){return b},stamp:_,throttle:x,wrapNum:T,falseFn:S,formatNum:R,trim:P,splitWords:H,setOptions:M,getParamString:D,template:it,isArray:tt,indexOf:gt,emptyImageUrl:yt,requestFn:xt,cancelFn:pt,requestAnimFrame:lt,cancelAnimFrame:ot};function St(){}St.extend=function(n){var r=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=r.__super__=this.prototype,m=p(u);m.constructor=r,r.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(r[g]=this[g]);return n.statics&&d(r,n.statics),n.includes&&(nt(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=u.options?p(u.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,z=m._initHooks.length;w<z;w++)m._initHooks[w].call(this)}},r},St.include=function(n){var r=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},St.mergeOptions=function(n){return d(this.prototype.options,n),this},St.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function nt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=tt(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var N={on:function(n,r,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],r);else{n=H(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],r,u)}return this},off:function(n,r,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],r);else{n=H(n);for(var g=arguments.length===1,w=0,z=n.length;w<z;w++)g?this._off(n[w]):this._off(n[w],r,u)}return this},_on:function(n,r,u,m){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,u)===!1){u===this&&(u=void 0);var g={fn:r,ctx:u};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,r,u){var m,g,w;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,w=m.length;g<w;g++)m[g].fn=S;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var z=this._listens(n,r,u);if(z!==!1){var U=m[z];this._firingCount&&(U.fn=S,this._events[n]=m=m.slice()),m.splice(z,1)}}},fire:function(n,r,u){if(!this.listens(n,u))return this;var m=d({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,z=g.length;w<z;w++){var U=g[w],G=U.fn;U.once&&this.off(n,G,U.ctx),G.call(U.ctx||this,m)}this._firingCount--}}return u&&this._propagateEvent(m),this},listens:function(n,r,u,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=r;typeof r!="function"&&(m=!!r,g=void 0,u=void 0);var w=this._events&&this._events[n];if(w&&w.length&&this._listens(n,g,u)!==!1)return!0;if(m){for(var z in this._eventParents)if(this._eventParents[z].listens(n,r,u,m))return!0}return!1},_listens:function(n,r,u){if(!this._events)return!1;var m=this._events[n]||[];if(!r)return!!m.length;u===this&&(u=void 0);for(var g=0,w=m.length;g<w;g++)if(m[g].fn===r&&m[g].ctx===u)return g;return!1},once:function(n,r,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],r,!0);else{n=H(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],r,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[_(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[_(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var K=St.extend(N);function X(n,r,u){this.x=u?Math.round(n):n,this.y=u?Math.round(r):r}var ft=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(n){return this.clone()._add(et(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(et(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new X(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new X(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ft(this.x),this.y=ft(this.y),this},distanceTo:function(n){n=et(n);var r=n.x-this.x,u=n.y-this.y;return Math.sqrt(r*r+u*u)},equals:function(n){return n=et(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=et(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function et(n,r,u){return n instanceof X?n:tt(n)?new X(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new X(n.x,n.y):new X(n,r,u)}function A(n,r){if(n)for(var u=r?[n,r]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}A.prototype={extend:function(n){var r,u;if(!n)return this;if(n instanceof X||typeof n[0]=="number"||"x"in n)r=u=et(n);else if(n=j(n),r=n.min,u=n.max,!r||!u)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=u.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return et(this.min.x,this.max.y)},getTopRight:function(){return et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,u;return typeof n[0]=="number"||n instanceof X?n=et(n):n=j(n),n instanceof A?(r=n.min,u=n.max):r=u=n,r.x>=this.min.x&&u.x<=this.max.x&&r.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=j(n);var r=this.min,u=this.max,m=n.min,g=n.max,w=g.x>=r.x&&m.x<=u.x,z=g.y>=r.y&&m.y<=u.y;return w&&z},overlaps:function(n){n=j(n);var r=this.min,u=this.max,m=n.min,g=n.max,w=g.x>r.x&&m.x<u.x,z=g.y>r.y&&m.y<u.y;return w&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,u=this.max,m=Math.abs(r.x-u.x)*n,g=Math.abs(r.y-u.y)*n;return j(et(r.x-m,r.y-g),et(u.x+m,u.y+g))},equals:function(n){return n?(n=j(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function j(n,r){return!n||n instanceof A?n:new A(n,r)}function rt(n,r){if(n)for(var u=r?[n,r]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}rt.prototype={extend:function(n){var r=this._southWest,u=this._northEast,m,g;if(n instanceof dt)m=n,g=n;else if(n instanceof rt){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(mt(n)||st(n)):this;return!r&&!u?(this._southWest=new dt(m.lat,m.lng),this._northEast=new dt(g.lat,g.lng)):(r.lat=Math.min(m.lat,r.lat),r.lng=Math.min(m.lng,r.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(n){var r=this._southWest,u=this._northEast,m=Math.abs(r.lat-u.lat)*n,g=Math.abs(r.lng-u.lng)*n;return new rt(new dt(r.lat-m,r.lng-g),new dt(u.lat+m,u.lng+g))},getCenter:function(){return new dt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new dt(this.getNorth(),this.getWest())},getSouthEast:function(){return new dt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof dt||"lat"in n?n=mt(n):n=st(n);var r=this._southWest,u=this._northEast,m,g;return n instanceof rt?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=r.lat&&g.lat<=u.lat&&m.lng>=r.lng&&g.lng<=u.lng},intersects:function(n){n=st(n);var r=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>=r.lat&&m.lat<=u.lat,z=g.lng>=r.lng&&m.lng<=u.lng;return w&&z},overlaps:function(n){n=st(n);var r=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>r.lat&&m.lat<u.lat,z=g.lng>r.lng&&m.lng<u.lng;return w&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=st(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(n,r){return n instanceof rt?n:new rt(n,r)}function dt(n,r,u){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,u!==void 0&&(this.alt=+u)}dt.prototype={equals:function(n,r){if(!n)return!1;n=mt(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+R(this.lat,n)+", "+R(this.lng,n)+")"},distanceTo:function(n){return Ft.distance(this,mt(n))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,u=r/Math.cos(Math.PI/180*this.lat);return st([this.lat-r,this.lng-u],[this.lat+r,this.lng+u])},clone:function(){return new dt(this.lat,this.lng,this.alt)}};function mt(n,r,u){return n instanceof dt?n:tt(n)&&typeof n[0]!="object"?n.length===3?new dt(n[0],n[1],n[2]):n.length===2?new dt(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new dt(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new dt(n,r,u)}var zt={latLngToPoint:function(n,r){var u=this.projection.project(n),m=this.scale(r);return this.transformation._transform(u,m)},pointToLatLng:function(n,r){var u=this.scale(r),m=this.transformation.untransform(n,u);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,u=this.scale(n),m=this.transformation.transform(r.min,u),g=this.transformation.transform(r.max,u);return new A(m,g)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?T(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?T(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new dt(u,r,m)},wrapLatLngBounds:function(n){var r=n.getCenter(),u=this.wrapLatLng(r),m=r.lat-u.lat,g=r.lng-u.lng;if(m===0&&g===0)return n;var w=n.getSouthWest(),z=n.getNorthEast(),U=new dt(w.lat-m,w.lng-g),G=new dt(z.lat-m,z.lng-g);return new rt(U,G)}},Ft=d({},zt,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var u=Math.PI/180,m=n.lat*u,g=r.lat*u,w=Math.sin((r.lat-n.lat)*u/2),z=Math.sin((r.lng-n.lng)*u/2),U=w*w+Math.cos(m)*Math.cos(g)*z*z,G=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*G}}),Pt=6378137,je={R:Pt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,u=this.MAX_LATITUDE,m=Math.max(Math.min(u,n.lat),-u),g=Math.sin(m*r);return new X(this.R*n.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var r=180/Math.PI;return new dt((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:(function(){var n=Pt*Math.PI;return new A([-n,-n],[n,n])})()};function Un(n,r,u,m){if(tt(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=u,this._d=m}Un.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new X((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function ye(n,r,u,m){return new Un(n,r,u,m)}var dn=d({},Ft,{code:"EPSG:3857",projection:je,transformation:(function(){var n=.5/(Math.PI*je.R);return ye(n,.5,-n,.5)})()}),We=d({},dn,{code:"EPSG:900913"});function _i(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function bi(n,r){var u="",m,g,w,z,U,G;for(m=0,w=n.length;m<w;m++){for(U=n[m],g=0,z=U.length;g<z;g++)G=U[g],u+=(g?"L":"M")+G.x+" "+G.y;u+=r?wt.svg?"z":"x":""}return u||"M0 0"}var Ys=document.documentElement.style,Qa="ActiveXObject"in window,Vs=Qa&&!document.addEventListener,Yr="msLaunchUri"in navigator&&!("documentMode"in document),Xa=$e("webkit"),hl=$e("android"),dl=$e("android 2")||$e("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_c=hl&&$e("Google")&&Ke<537&&!("AudioNode"in window),Vr=!!window.opera,Ks=!Yr&&$e("chrome"),Ia=$e("gecko")&&!Xa&&!Vr&&!Qa,bc=!Ks&&$e("safari"),Qs=$e("phantom"),ml="OTransition"in Ys,wc=navigator.platform.indexOf("Win")===0,ta=Qa&&"transition"in Ys,Be="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!dl,Hn="MozPerspective"in Ys,Qe=!window.L_DISABLE_3D&&(ta||Be||Hn)&&!ml&&!Qs,Ja=typeof orientation<"u"||$e("mobile"),xc=Ja&&Xa,Ec=Ja&&Be,Fa=!window.PointerEvent&&window.MSPointerEvent,Wa=!!(window.PointerEvent||Fa),$a="ontouchstart"in window||!!window.TouchEvent,wi=!window.L_NO_TOUCH&&($a||Wa),Kr=Ja&&Vr,tr=Ja&&Ia,Sc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pl=(function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",S,r),window.removeEventListener("testPassiveEventSupport",S,r)}catch{}return n})(),Xs=(function(){return!!document.createElement("canvas").getContext})(),xi=!!(document.createElementNS&&_i("svg").createSVGRect),Tc=!!xi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),gl=!xi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),yl=navigator.platform.indexOf("Mac")===0,vl=navigator.platform.indexOf("Linux")===0;function $e(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var wt={ie:Qa,ielt9:Vs,edge:Yr,webkit:Xa,android:hl,android23:dl,androidStock:_c,opera:Vr,chrome:Ks,gecko:Ia,safari:bc,phantom:Qs,opera12:ml,win:wc,ie3d:ta,webkit3d:Be,gecko3d:Hn,any3d:Qe,mobile:Ja,mobileWebkit:xc,mobileWebkit3d:Ec,msPointer:Fa,pointer:Wa,touch:wi,touchNative:$a,mobileOpera:Kr,mobileGecko:tr,retina:Sc,passiveEvents:pl,canvas:Xs,svg:xi,vml:gl,inlineSvg:Tc,mac:yl,linux:vl},Is=wt.msPointer?"MSPointerDown":"pointerdown",Js=wt.msPointer?"MSPointerMove":"pointermove",jn=wt.msPointer?"MSPointerUp":"pointerup",ve=wt.msPointer?"MSPointerCancel":"pointercancel",Le={touchstart:Is,touchmove:Js,touchend:jn,touchcancel:ve},Ei={touchstart:na,touchmove:Wn,touchend:Wn,touchcancel:Wn},Fn={},_l=!1;function Ac(n,r,u){return r==="touchstart"&&ea(),Ei[r]?(u=Ei[r].bind(this,u),n.addEventListener(Le[r],u,!1),u):(console.warn("wrong event specified:",r),S)}function bl(n,r,u){if(!Le[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Le[r],u,!1)}function er(n){Fn[n.pointerId]=n}function Fs(n){Fn[n.pointerId]&&(Fn[n.pointerId]=n)}function Si(n){delete Fn[n.pointerId]}function ea(){_l||(document.addEventListener(Is,er,!0),document.addEventListener(Js,Fs,!0),document.addEventListener(jn,Si,!0),document.addEventListener(ve,Si,!0),_l=!0)}function Wn(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var u in Fn)r.touches.push(Fn[u]);r.changedTouches=[r],n(r)}}function na(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&ce(r),Wn(n,r)}function _e(n){var r={},u,m;for(m in n)u=n[m],r[m]=u&&u.bind?u.bind(n):u;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var wl=200;function xl(n,r){n.addEventListener("dblclick",r);var u=0,m;function g(w){if(w.detail!==1){m=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var z=lr(w);if(!(z.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!z.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var U=Date.now();U-u<=wl?(m++,m===2&&r(_e(w))):m=1,u=U}}}return n.addEventListener("click",g),{dblclick:r,simDblclick:g}}function Ti(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var $n=ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nr=ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ws=nr==="webkitTransition"||nr==="OTransition"?nr+"End":"transitionend";function $s(n){return typeof n=="string"?document.getElementById(n):n}function ir(n,r){var u=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!u||u==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);u=m?m[r]:null}return u==="auto"?null:u}function Rt(n,r,u){var m=document.createElement(n);return m.className=r||"",u&&u.appendChild(m),m}function Wt(n){var r=n.parentNode;r&&r.removeChild(n)}function tn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Te(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Ai(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function to(n,r){if(n.classList!==void 0)return n.classList.contains(r);var u=Qr(n);return u.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(u)}function Ct(n,r){if(n.classList!==void 0)for(var u=H(r),m=0,g=u.length;m<g;m++)n.classList.add(u[m]);else if(!to(n,r)){var w=Qr(n);ia(n,(w?w+" ":"")+r)}}function oe(n,r){n.classList!==void 0?n.classList.remove(r):ia(n,P((" "+Qr(n)+" ").replace(" "+r+" "," ")))}function ia(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Qr(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&eo(n,r)}function eo(n,r){var u=!1,m="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(m)}catch{if(r===1)return}r=Math.round(r*100),u?(u.Enabled=r!==100,u.Opacity=r):n.style.filter+=" progid:"+m+"(opacity="+r+")"}function ar(n){for(var r=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in r)return n[u];return!1}function Zn(n,r,u){var m=r||new X(0,0);n.style[$n]=(wt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(u?" scale("+u+")":"")}function ne(n,r){n._leaflet_pos=r,wt.any3d?Zn(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function ti(n){return n._leaflet_pos||new X(0,0)}var aa,En,no;if("onselectstart"in document)aa=function(){Lt(window,"selectstart",ce)},En=function(){Xt(window,"selectstart",ce)};else{var ra=ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);aa=function(){if(ra){var n=document.documentElement.style;no=n[ra],n[ra]="none"}},En=function(){ra&&(document.documentElement.style[ra]=no,no=void 0)}}function Xr(){Lt(window,"dragstart",ce)}function rr(){Xt(window,"dragstart",ce)}var Ir,io;function sa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(en(),Ir=n,io=n.style.outlineStyle,n.style.outlineStyle="none",Lt(window,"keydown",en))}function en(){Ir&&(Ir.style.outlineStyle=io,Ir=void 0,io=void 0,Xt(window,"keydown",en))}function Jr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function sr(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var oa={__proto__:null,TRANSFORM:$n,TRANSITION:nr,TRANSITION_END:Ws,get:$s,getStyle:ir,create:Rt,remove:Wt,empty:tn,toFront:Te,toBack:Ai,hasClass:to,addClass:Ct,removeClass:oe,setClass:ia,getClass:Qr,setOpacity:ae,testProp:ar,setTransform:Zn,setPosition:ne,getPosition:ti,get disableTextSelection(){return aa},get enableTextSelection(){return En},disableImageDrag:Xr,enableImageDrag:rr,preventOutline:sa,restoreOutline:en,getSizedParentNode:Jr,getScale:sr};function Lt(n,r,u,m){if(r&&typeof r=="object")for(var g in r)pn(n,g,r[g],u);else{r=H(r);for(var w=0,z=r.length;w<z;w++)pn(n,r[w],u,m)}return this}var mn="_leaflet_events";function Xt(n,r,u,m){if(arguments.length===1)ao(n),delete n[mn];else if(r&&typeof r=="object")for(var g in r)or(n,g,r[g],u);else if(r=H(r),arguments.length===2)ao(n,function(U){return gt(r,U)!==-1});else for(var w=0,z=r.length;w<z;w++)or(n,r[w],u,m);return this}function ao(n,r){for(var u in n[mn]){var m=u.split(/\d/)[0];(!r||r(m))&&or(n,m,null,null,u)}}var zi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pn(n,r,u,m){var g=r+_(u)+(m?"_"+_(m):"");if(n[mn]&&n[mn][g])return this;var w=function(U){return u.call(m||n,U||window.event)},z=w;!wt.touchNative&&wt.pointer&&r.indexOf("touch")===0?w=Ac(n,r,w):wt.touch&&r==="dblclick"?w=xl(n,w):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(zi[r]||r,w,wt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(w=function(U){U=U||window.event,Pn(n,U)&&z(U)},n.addEventListener(zi[r],w,!1)):n.addEventListener(r,z,!1):n.attachEvent("on"+r,w),n[mn]=n[mn]||{},n[mn][g]=w}function or(n,r,u,m,g){g=g||r+_(u)+(m?"_"+_(m):"");var w=n[mn]&&n[mn][g];if(!w)return this;!wt.touchNative&&wt.pointer&&r.indexOf("touch")===0?bl(n,r,w):wt.touch&&r==="dblclick"?Ti(n,w):"removeEventListener"in n?n.removeEventListener(zi[r]||r,w,!1):n.detachEvent("on"+r,w),n[mn][g]=null}function gn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Sn(n){return pn(n,"wheel",gn),this}function Li(n){return Lt(n,"mousedown touchstart dblclick contextmenu",gn),n._leaflet_disable_click=!0,this}function ce(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ei(n){return ce(n),gn(n),this}function lr(n){if(n.composedPath)return n.composedPath();for(var r=[],u=n.target;u;)r.push(u),u=u.parentNode;return r}function ur(n,r){if(!r)return new X(n.clientX,n.clientY);var u=sr(r),m=u.boundingClientRect;return new X((n.clientX-m.left)/u.x-r.clientLeft,(n.clientY-m.top)/u.y-r.clientTop)}var El=wt.linux&&wt.chrome?window.devicePixelRatio:wt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Re(n){return wt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/El:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Pn(n,r){var u=r.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var Fr={__proto__:null,on:Lt,off:Xt,stopPropagation:gn,disableScrollPropagation:Sn,disableClickPropagation:Li,preventDefault:ce,stop:ei,getPropagationPath:lr,getMousePosition:ur,getWheelDelta:Re,isExternalTarget:Pn,addListener:Lt,removeListener:Xt},la=K.extend({run:function(n,r,u,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ti(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=lt(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,u=this._duration*1e3;r<u?this._runFrame(this._easeOut(r/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var u=this._startPos.add(this._offset.multiplyBy(n));r&&u._round(),ne(this._el,u),this.fire("step")},_complete:function(){ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ht=K.extend({options:{crs:dn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=M(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(mt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nr&&wt.any3d&&!wt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Ws,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,u){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(mt(n),r,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=d({animate:u.animate},u.zoom),u.pan=d({animate:u.animate,duration:u.duration},u.pan));var m=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,u.zoom):this._tryAnimatedPan(n,u.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,u){var m=this.getZoomScale(r),g=this.getSize().divideBy(2),w=n instanceof X?n:this.latLngToContainerPoint(n),z=w.subtract(g).multiplyBy(1-1/m),U=this.containerPointToLatLng(g.add(z));return this.setView(U,r,{zoom:u})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():st(n);var u=et(r.paddingTopLeft||r.padding||[0,0]),m=et(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(n,!1,u.add(m));if(g=typeof r.maxZoom=="number"?Math.min(r.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var w=m.subtract(u).divideBy(2),z=this.project(n.getSouthWest(),g),U=this.project(n.getNorthEast(),g),G=this.unproject(z.add(U).divideBy(2).add(w),g);return{center:G,zoom:g}},fitBounds:function(n,r){if(n=st(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,r);return this.setView(u.center,u.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=et(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new la,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,u){if(u=u||{},u.animate===!1||!wt.any3d)return this.setView(n,r,u);this._stop();var m=this.project(this.getCenter()),g=this.project(n),w=this.getSize(),z=this._zoom;n=mt(n),r=r===void 0?z:r;var U=Math.max(w.x,w.y),G=U*this.getZoomScale(z,r),W=g.distanceTo(m)||1,ct=1.42,Et=ct*ct;function Nt(ue){var Vn=ue?-1:1,Ni=ue?G:U,bo=G*G-U*U+Vn*Et*Et*W*W,Tr=2*Ni*Et*W,Ar=bo/Tr,ci=Math.sqrt(Ar*Ar+1)-Ar,Kn=ci<1e-9?-18:Math.log(ci);return Kn}function Ae(ue){return(Math.exp(ue)-Math.exp(-ue))/2}function fe(ue){return(Math.exp(ue)+Math.exp(-ue))/2}function Ie(ue){return Ae(ue)/fe(ue)}var qt=Nt(0);function Gt(ue){return U*(fe(qt)/fe(qt+ct*ue))}function kt(ue){return U*(fe(qt)*Ie(qt+ct*ue)-Ae(qt))/Et}function li(ue){return 1-Math.pow(1-ue,1.5)}var sn=Date.now(),fs=(Nt(1)-qt)/ct,ui=u.duration?1e3*u.duration:1e3*fs*.8;function _o(){var ue=(Date.now()-sn)/ui,Vn=li(ue)*fs;ue<=1?(this._flyToFrame=lt(_o,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(kt(Vn)/W)),z),this.getScaleZoom(U/Gt(Vn),z),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),_o.call(this),this},flyToBounds:function(n,r){var u=this._getBoundsCenterZoom(n,r);return this.flyTo(u.center,u.zoom,r)},setMaxBounds:function(n){return n=st(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var u=this.getCenter(),m=this._limitCenter(u,this._zoom,st(n));return u.equals(m)||this.panTo(m,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var u=et(r.paddingTopLeft||r.padding||[0,0]),m=et(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(n),z=this.getPixelBounds(),U=j([z.min.add(u),z.max.subtract(m)]),G=U.getSize();if(!U.contains(w)){this._enforcingBounds=!0;var W=w.subtract(U.getCenter()),ct=U.extend(w).getSize().subtract(G);g.x+=W.x<0?-ct.x:ct.x,g.y+=W.y<0?-ct.y:ct.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),m=r.divideBy(2).round(),g=u.divideBy(2).round(),w=m.subtract(g);return!w.x&&!w.y?this:(n.animate&&n.pan?this.panBy(w):(n.pan&&this._rawPanBy(w),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=v(this._handleGeolocationResponse,this),u=v(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,u,n):navigator.geolocation.getCurrentPosition(r,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,u=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,u=n.coords.longitude,m=new dt(r,u),g=m.toBounds(n.coords.accuracy*2),w=this._locateOptions;if(w.setView){var z=this.getBoundsZoom(g);this.setView(m,w.maxZoom?Math.min(z,w.maxZoom):z)}var U={latlng:m,bounds:g,timestamp:n.timestamp};for(var G in n.coords)typeof n.coords[G]=="number"&&(U[G]=n.coords[G]);this.fire("locationfound",U)}},addHandler:function(n,r){if(!r)return this;var u=this[n]=new r(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Wt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Rt("div",u,r||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new rt(r,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,u){n=st(n),u=et(u||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),z=n.getNorthWest(),U=n.getSouthEast(),G=this.getSize().subtract(u),W=j(this.project(U,m),this.project(z,m)).getSize(),ct=wt.any3d?this.options.zoomSnap:1,Et=G.x/W.x,Nt=G.y/W.y,Ae=r?Math.max(Et,Nt):Math.min(Et,Nt);return m=this.getScaleZoom(Ae,m),ct&&(m=Math.round(m/(ct/100))*(ct/100),m=r?Math.ceil(m/ct)*ct:Math.floor(m/ct)*ct),Math.max(g,Math.min(w,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var u=this._getTopLeftPoint(n,r);return new A(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var u=this.options.crs;return r=r===void 0?this._zoom:r,u.scale(n)/u.scale(r)},getScaleZoom:function(n,r){var u=this.options.crs;r=r===void 0?this._zoom:r;var m=u.zoom(n*u.scale(r));return isNaN(m)?1/0:m},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(mt(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(et(n),r)},layerPointToLatLng:function(n){var r=et(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(mt(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(mt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(st(n))},distance:function(n,r){return this.options.crs.distance(mt(n),mt(r))},containerPointToLayerPoint:function(n){return et(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return et(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(et(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(mt(n)))},mouseEventToContainerPoint:function(n){return ur(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=$s(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(r,"scroll",this._onScroll,this),this._containerId=_(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&wt.any3d,Ct(n,"leaflet-container"+(wt.touch?" leaflet-touch":"")+(wt.retina?" leaflet-retina":"")+(wt.ielt9?" leaflet-oldie":"")+(wt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=ir(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(n.markerPane,"leaflet-zoom-hide"),Ct(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,u){ne(this._mapPane,new X(0,0));var m=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,u)._move(n,r)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,u,m){r===void 0&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ne(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[_(this._container)]=this;var r=n?Xt:Lt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),wt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ot(this._resizeRequest),this._resizeRequest=lt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var u=[],m,g=r==="mouseout"||r==="mouseover",w=n.target||n.srcElement,z=!1;w;){if(m=this._targets[_(w)],m&&(r==="click"||r==="preclick")&&this._draggableMoved(m)){z=!0;break}if(m&&m.listens(r,!0)&&(g&&!Pn(w,n)||(u.push(m),g))||w===this._container)break;w=w.parentNode}return!u.length&&!z&&!g&&this.listens(r,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var u=n.type;u==="mousedown"&&sa(r),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,u){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,u)}var g=this._findEventTargets(n,r);if(u){for(var w=[],z=0;z<u.length;z++)u[z].listens(r,!0)&&w.push(u[z]);g=w.concat(g)}if(g.length){r==="contextmenu"&&ce(n);var U=g[0],G={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var W=U.getLatLng&&(!U._radius||U._radius<=10);G.containerPoint=W?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(n),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=W?U.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(z=0;z<g.length;z++)if(g[z].fire(r,G,!0),G.originalEvent._stopped||g[z].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return ti(this._mapPane)||new X(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var u=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var u=this.getSize()._divideBy(2);return this.project(n,r)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,u){var m=this._getNewPixelOrigin(u,r);return this.project(n,r)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,r,u){var m=this._getNewPixelOrigin(u,r);return j([this.project(n.getSouthWest(),r)._subtract(m),this.project(n.getNorthWest(),r)._subtract(m),this.project(n.getSouthEast(),r)._subtract(m),this.project(n.getNorthEast(),r)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,u){if(!u)return n;var m=this.project(n,r),g=this.getSize().divideBy(2),w=new A(m.subtract(g),m.add(g)),z=this._getBoundsOffset(w,u,r);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?n:this.unproject(m.add(z),r)},_limitOffset:function(n,r){if(!r)return n;var u=this.getPixelBounds(),m=new A(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(m,r))},_getBoundsOffset:function(n,r,u){var m=j(this.project(r.getNorthEast(),u),this.project(r.getSouthWest(),u)),g=m.min.subtract(n.min),w=m.max.subtract(n.max),z=this._rebound(g.x,-w.x),U=this._rebound(g.y,-w.y);return new X(z,U)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),u=this.getMaxZoom(),m=wt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(r,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var u=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,r),!0)},_createAnimProxy:function(){var n=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var u=$n,m=this._proxy.style[u];Zn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),m===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Zn(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(r),g=this._getCenterOffset(n)._divideBy(1-1/m);return u.animate!==!0&&!this.getSize().contains(g)?!1:(lt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,u,m){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ro(n,r){return new Ht(n,r)}var Xe=St.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),u=this.getPosition(),m=n._controlCorners[u];return Ct(r,"leaflet-control"),u.indexOf("bottom")!==-1?m.insertBefore(r,m.firstChild):m.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),qn=function(n){return new Xe(n)};Ht.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",u=this._controlContainer=Rt("div",r+"control-container",this._container);function m(g,w){var z=r+g+" "+r+w;n[g+w]=Rt("div",z,u)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Wt(this._controlCorners[n]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cr=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,u,m){return u<m?-1:m<u?1:0}},initialize:function(n,r,u){M(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in r)this._addLayer(r[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Xe.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(_(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=Rt("div",n),u=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Li(r),Sn(r);var m=this._section=Rt("section",n+"-list");u&&(this._map.on("click",this.collapse,this),Lt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Rt("a",n+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),Lt(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){ce(w),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Rt("div",n+"-base",m),this._separator=Rt("div",n+"-separator",m),this._overlaysList=Rt("div",n+"-overlays",m),r.appendChild(m)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&_(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:u}),this.options.sortLayers&&this._layers.sort(v(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tn(this._baseLayersList),tn(this._overlaysList),this._layerControlInputs=[];var n,r,u,m,g=0;for(u=0;u<this._layers.length;u++)m=this._layers[u],this._addItem(m),r=r||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(_(n.target)),u=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,r)},_createRadioElement:function(n,r){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=u,m.firstChild},_addItem:function(n){var r=document.createElement("label"),u=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=u):m=this._createRadioElement("leaflet-base-layers_"+_(this),u),this._layerControlInputs.push(m),m.layerId=_(n.layer),Lt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var w=document.createElement("span");r.appendChild(w),w.appendChild(m),w.appendChild(g);var z=n.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,u,m=[],g=[];this._handlingClick=!0;for(var w=n.length-1;w>=0;w--)r=n[w],u=this._getLayer(r.layerId).layer,r.checked?m.push(u):r.checked||g.push(u);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<m.length;w++)this._map.hasLayer(m[w])||this._map.addLayer(m[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,u,m=this._map.getZoom(),g=n.length-1;g>=0;g--)r=n[g],u=this._getLayer(r.layerId).layer,r.disabled=u.options.minZoom!==void 0&&m<u.options.minZoom||u.options.maxZoom!==void 0&&m>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Lt(n,"click",ce),this.expand();var r=this;setTimeout(function(){Xt(n,"click",ce),r._preventClick=!1})}}),Sl=function(n,r,u){return new cr(n,r,u)},so=Xe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",u=Rt("div",r+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,r+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,r+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,u,m,g){var w=Rt("a",u,m);return w.innerHTML=n,w.href="#",w.title=r,w.setAttribute("role","button"),w.setAttribute("aria-label",r),Li(w),Lt(w,"click",ei),Lt(w,"click",g,this),Lt(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";oe(this._zoomInButton,r),oe(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Ct(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Ct(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new so,this.addControl(this.zoomControl))});var zc=function(n){return new so(n)},Tl=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",u=Rt("div",r),m=this.options;return this._addScales(m,r+"-line",u),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,u){n.metric&&(this._mScale=Rt("div",r,u)),n.imperial&&(this._iScale=Rt("div",r,u))},_update:function(){var n=this._map,r=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),u=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,u,r/n)},_updateImperial:function(n){var r=n*3.2808399,u,m,g;r>5280?(u=r/5280,m=this._getRoundNum(u),this._updateScale(this._iScale,m+" mi",m/u)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(n,r,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),u=n/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}}),oo=function(n){return new Tl(n)},Lc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lo=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(wt.inlineSvg?Lc+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),Li(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook(function(){this.options.attributionControl&&new lo().addTo(this)});var Cc=function(n){return new lo(n)};Xe.Layers=cr,Xe.Zoom=so,Xe.Scale=Tl,Xe.Attribution=lo,qn.layers=Sl,qn.zoom=zc,qn.scale=oo,qn.attribution=Cc;var Tn=St.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tn.addTo=function(n,r){return n.addHandler(r,this),this};var Mc={Events:N},uo=wt.touch?"touchstart mousedown":"mousedown",ni=K.extend({options:{clickTolerance:3},initialize:function(n,r,u,m){M(this,m),this._element=n,this._dragStartTarget=r||n,this._preventOutline=u},enable:function(){this._enabled||(Lt(this._dragStartTarget,uo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!to(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ni._dragging=this,this._preventOutline&&sa(this._element),Xr(),aa(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,u=Jr(this._element);this._startPoint=new X(r.clientX,r.clientY),this._startPos=ti(this._element),this._parentScale=sr(u);var m=n.type==="mousedown";Lt(document,m?"mousemove":"touchmove",this._onMove,this),Lt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,u=new X(r.clientX,r.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ce(n),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ne(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xt(document,"mousemove touchmove",this._onMove,this),Xt(document,"mouseup touchend touchcancel",this._onUp,this),rr(),En();var r=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Al(n,r,u){var m,g=[1,4,2,8],w,z,U,G,W,ct,Et,Nt;for(w=0,ct=n.length;w<ct;w++)n[w]._code=Ci(n[w],r);for(U=0;U<4;U++){for(Et=g[U],m=[],w=0,ct=n.length,z=ct-1;w<ct;z=w++)G=n[w],W=n[z],G._code&Et?W._code&Et||(Nt=Wr(W,G,Et,r,u),Nt._code=Ci(Nt,r),m.push(Nt)):(W._code&Et&&(Nt=Wr(W,G,Et,r,u),Nt._code=Ci(Nt,r),m.push(Nt)),m.push(G));n=m}return n}function zl(n,r){var u,m,g,w,z,U,G,W,ct;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Et=mt([0,0]),Nt=st(n),Ae=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Ae<1700&&(Et=co(n));var fe=n.length,Ie=[];for(u=0;u<fe;u++){var qt=mt(n[u]);Ie.push(r.project(mt([qt.lat-Et.lat,qt.lng-Et.lng])))}for(U=G=W=0,u=0,m=fe-1;u<fe;m=u++)g=Ie[u],w=Ie[m],z=g.y*w.x-w.y*g.x,G+=(g.x+w.x)*z,W+=(g.y+w.y)*z,U+=z*3;U===0?ct=Ie[0]:ct=[G/U,W/U];var Gt=r.unproject(et(ct));return mt([Gt.lat+Et.lat,Gt.lng+Et.lng])}function co(n){for(var r=0,u=0,m=0,g=0;g<n.length;g++){var w=mt(n[g]);r+=w.lat,u+=w.lng,m++}return mt([r/m,u/m])}var fo={__proto__:null,clipPolygon:Al,polygonCenter:zl,centroid:co};function Ll(n,r){if(!r||!n.length)return n.slice();var u=r*r;return n=Nc(n,u),n=Ml(n,u),n}function Cl(n,r,u){return Math.sqrt(fr(n,r,u,!0))}function Oc(n,r,u){return fr(n,r,u)}function Ml(n,r){var u=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(u);g[0]=g[u-1]=1,ho(n,g,r,0,u-1);var w,z=[];for(w=0;w<u;w++)g[w]&&z.push(n[w]);return z}function ho(n,r,u,m,g){var w=0,z,U,G;for(U=m+1;U<=g-1;U++)G=fr(n[U],n[m],n[g],!0),G>w&&(z=U,w=G);w>u&&(r[z]=1,ho(n,r,u,m,z),ho(n,r,u,z,g))}function Nc(n,r){for(var u=[n[0]],m=1,g=0,w=n.length;m<w;m++)Bc(n[m],n[g])>r&&(u.push(n[m]),g=m);return g<w-1&&u.push(n[w-1]),u}var Ol;function Nl(n,r,u,m,g){var w=m?Ol:Ci(n,u),z=Ci(r,u),U,G,W;for(Ol=z;;){if(!(w|z))return[n,r];if(w&z)return!1;U=w||z,G=Wr(n,r,U,u,g),W=Ci(G,u),U===w?(n=G,w=W):(r=G,z=W)}}function Wr(n,r,u,m,g){var w=r.x-n.x,z=r.y-n.y,U=m.min,G=m.max,W,ct;return u&8?(W=n.x+w*(G.y-n.y)/z,ct=G.y):u&4?(W=n.x+w*(U.y-n.y)/z,ct=U.y):u&2?(W=G.x,ct=n.y+z*(G.x-n.x)/w):u&1&&(W=U.x,ct=n.y+z*(U.x-n.x)/w),new X(W,ct,g)}function Ci(n,r){var u=0;return n.x<r.min.x?u|=1:n.x>r.max.x&&(u|=2),n.y<r.min.y?u|=4:n.y>r.max.y&&(u|=8),u}function Bc(n,r){var u=r.x-n.x,m=r.y-n.y;return u*u+m*m}function fr(n,r,u,m){var g=r.x,w=r.y,z=u.x-g,U=u.y-w,G=z*z+U*U,W;return G>0&&(W=((n.x-g)*z+(n.y-w)*U)/G,W>1?(g=u.x,w=u.y):W>0&&(g+=z*W,w+=U*W)),z=n.x-g,U=n.y-w,m?z*z+U*U:new X(g,w)}function nn(n){return!tt(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function $r(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(n)}function ua(n,r){var u,m,g,w,z,U,G,W;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ct=mt([0,0]),Et=st(n),Nt=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Nt<1700&&(ct=co(n));var Ae=n.length,fe=[];for(u=0;u<Ae;u++){var Ie=mt(n[u]);fe.push(r.project(mt([Ie.lat-ct.lat,Ie.lng-ct.lng])))}for(u=0,m=0;u<Ae-1;u++)m+=fe[u].distanceTo(fe[u+1])/2;if(m===0)W=fe[0];else for(u=0,w=0;u<Ae-1;u++)if(z=fe[u],U=fe[u+1],g=z.distanceTo(U),w+=g,w>m){G=(w-m)/g,W=[U.x-G*(U.x-z.x),U.y-G*(U.y-z.y)];break}var qt=r.unproject(et(W));return mt([qt.lat+ct.lat,qt.lng+ct.lng])}var Rc={__proto__:null,simplify:Ll,pointToSegmentDistance:Cl,closestPointOnSegment:Oc,clipSegment:Nl,_getEdgeIntersection:Wr,_getBitCode:Ci,_sqClosestPointOnSegment:fr,isFlat:nn,_flat:$r,polylineCenter:ua},ts={project:function(n){return new X(n.lng,n.lat)},unproject:function(n){return new dt(n.y,n.x)},bounds:new A([-180,-90],[180,90])},es={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,u=this.R,m=n.lat*r,g=this.R_MINOR/u,w=Math.sqrt(1-g*g),z=w*Math.sin(m),U=Math.tan(Math.PI/4-m/2)/Math.pow((1-z)/(1+z),w/2);return m=-u*Math.log(Math.max(U,1e-10)),new X(n.lng*r*u,m)},unproject:function(n){for(var r=180/Math.PI,u=this.R,m=this.R_MINOR/u,g=Math.sqrt(1-m*m),w=Math.exp(-n.y/u),z=Math.PI/2-2*Math.atan(w),U=0,G=.1,W;U<15&&Math.abs(G)>1e-7;U++)W=g*Math.sin(z),W=Math.pow((1-W)/(1+W),g/2),G=Math.PI/2-2*Math.atan(w*W)-z,z+=G;return new dt(z*r,n.x*r/u)}},Bl={__proto__:null,LonLat:ts,Mercator:es,SphericalMercator:je},Rl=d({},Ft,{code:"EPSG:3395",projection:es,transformation:(function(){var n=.5/(Math.PI*es.R);return ye(n,.5,-n,.5)})()}),mo=d({},Ft,{code:"EPSG:4326",projection:ts,transformation:ye(1/180,1,-1/180,.5)}),ca=d({},zt,{projection:ts,transformation:ye(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var u=r.lng-n.lng,m=r.lat-n.lat;return Math.sqrt(u*u+m*m)},infinite:!0});zt.Earth=Ft,zt.EPSG3395=Rl,zt.EPSG3857=dn,zt.EPSG900913=We,zt.EPSG4326=mo,zt.Simple=ca;var yn=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[_(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[_(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var u=this.getEvents();r.on(u,this),this.once("remove",function(){r.off(u,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=_(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=_(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return _(n)in this._layers},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},_addLayers:function(n){n=n?tt(n)?n:[n]:[];for(var r=0,u=n.length;r<u;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[_(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=_(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,u=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),r=g.maxZoom===void 0?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fa=yn.extend({initialize:function(n,r){M(this,r),this._layers={};var u,m;if(n)for(u=0,m=n.length;u<m;u++)this.addLayer(n[u])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),u,m;for(u in this._layers)m=this._layers[u],m[n]&&m[n].apply(m,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return _(n)}}),kc=function(n,r){return new fa(n,r)},An=fa.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),fa.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),fa.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new rt;for(var r in this._layers){var u=this._layers[r];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),kl=function(n,r){return new An(n,r)},zn=St.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(u,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,r){var u=this.options,m=u[r+"Size"];typeof m=="number"&&(m=[m,m]);var g=et(m),w=et(r==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(u.className||""),w&&(n.style.marginLeft=-w.x+"px",n.style.marginTop=-w.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return wt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function hr(n){return new zn(n)}var dr=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof dr.imagePath!="string"&&(dr.imagePath=this._detectIconPath()),(this.options.imagePath||dr.imagePath)+zn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(u,m,g){var w=m.exec(u);return w&&w[g]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Rt("div","leaflet-default-icon-path",document.body),r=ir(n,"background-image")||ir(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),mr=Tn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ni(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,u=r._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=ti(r._icon),z=u.getPixelBounds(),U=u.getPixelOrigin(),G=j(z.min._subtract(U).add(g),z.max._subtract(U).subtract(g));if(!G.contains(w)){var W=et((Math.max(G.max.x,w.x)-G.max.x)/(z.max.x-G.max.x)-(Math.min(G.min.x,w.x)-G.min.x)/(z.min.x-G.min.x),(Math.max(G.max.y,w.y)-G.max.y)/(z.max.y-G.max.y)-(Math.min(G.min.y,w.y)-G.min.y)/(z.min.y-G.min.y)).multiplyBy(m);u.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),ne(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=lt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ot(this._panRequest),this._panRequest=lt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,u=r._shadow,m=ti(r._icon),g=r._map.layerPointToLatLng(m);u&&ne(u,m),r._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),pr=yn.extend({options:{icon:new dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){M(this,r),this._latlng=mt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=mt(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),m=!1;u!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),Ct(u,r),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(u,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(Ct(g,r),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ne(this._icon,n),this._shadow&&ne(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mr)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mr(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,u=r.iconSize?et(r.iconSize):et(0,0),m=r.iconAnchor?et(r.iconAnchor):et(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:u.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dl(n,r){return new pr(n,r)}var Ln=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ha=Ln.extend({options:{fill:!0,radius:10},initialize:function(n,r){M(this,r),this._latlng=mt(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=mt(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Ln.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,u=this._clickTolerance(),m=[n+u,r+u];this._pxBounds=new A(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ul(n,r){return new ha(n,r)}var ns=ha.extend({initialize:function(n,r,u){if(typeof r=="number"&&(r=d({},u,{radius:r})),M(this,r),this._latlng=mt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Ln.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,u=this._map,m=u.options.crs;if(m.distance===Ft.distance){var g=Math.PI/180,w=this._mRadius/Ft.R/g,z=u.project([r+w,n]),U=u.project([r-w,n]),G=z.add(U).divideBy(2),W=u.unproject(G).lat,ct=Math.acos((Math.cos(w*g)-Math.sin(r*g)*Math.sin(W*g))/(Math.cos(r*g)*Math.cos(W*g)))/g;(isNaN(ct)||ct===0)&&(ct=w/Math.cos(Math.PI/180*r)),this._point=G.subtract(u.getPixelOrigin()),this._radius=isNaN(ct)?0:G.x-u.project([W,n-ct]).x,this._radiusY=G.y-z.y}else{var Et=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Et).x}this._updateBounds()}});function Hl(n,r,u){return new ns(n,r,u)}var Gn=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){M(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,u=null,m=fr,g,w,z=0,U=this._parts.length;z<U;z++)for(var G=this._parts[z],W=1,ct=G.length;W<ct;W++){g=G[W-1],w=G[W];var Et=m(n,g,w,!0);Et<r&&(r=Et,u=m(n,g,w))}return u&&(u.distance=Math.sqrt(r)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ua(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=mt(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new rt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],u=nn(n),m=0,g=n.length;m<g;m++)u?(r[m]=mt(n[m]),this._bounds.extend(r[m])):r[m]=this._convertLatLngs(n[m]);return r},_project:function(){var n=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new X(n,n);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,u){var m=n[0]instanceof dt,g=n.length,w,z;if(m){for(z=[],w=0;w<g;w++)z[w]=this._map.latLngToLayerPoint(n[w]),u.extend(z[w]);r.push(z)}else for(w=0;w<g;w++)this._projectLatlngs(n[w],r,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,u,m,g,w,z,U,G;for(u=0,g=0,w=this._rings.length;u<w;u++)for(G=this._rings[u],m=0,z=G.length;m<z-1;m++)U=Nl(G[m],G[m+1],n,m,!0),U&&(r[g]=r[g]||[],r[g].push(U[0]),(U[1]!==G[m+1]||m===z-2)&&(r[g].push(U[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,u=0,m=n.length;u<m;u++)n[u]=Ll(n[u],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var u,m,g,w,z,U,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,w=this._parts.length;u<w;u++)for(U=this._parts[u],m=0,z=U.length,g=z-1;m<z;g=m++)if(!(!r&&m===0)&&Cl(n,U[g],U[m])<=G)return!0;return!1}});function Dc(n,r){return new Gn(n,r)}Gn._flat=$r;var da=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Gn.prototype._convertLatLngs.call(this,n),u=r.length;return u>=2&&r[0]instanceof dt&&r[0].equals(r[u-1])&&r.pop(),r},_setLatLngs:function(n){Gn.prototype._setLatLngs.call(this,n),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,u=new X(r,r);if(n=new A(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,w;m<g;m++)w=Al(this._rings[m],n,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,u,m,g,w,z,U,G,W;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(w=0,G=this._parts.length;w<G;w++)for(u=this._parts[w],z=0,W=u.length,U=W-1;z<W;U=z++)m=u[z],g=u[U],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(r=!r);return r||Gn.prototype._containsPoint.call(this,n,!0)}});function Uc(n,r){return new da(n,r)}var Yn=An.extend({initialize:function(n,r){M(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=tt(n)?n:n.features,u,m,g;if(r){for(u=0,m=r.length;u<m;u++)g=r[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(n))return this;var z=Ce(n,w);return z?(z.feature=rs(n),z.defaultOptions=z.options,this.resetStyle(z),w.onEachFeature&&w.onEachFeature(n,z),this.addLayer(z)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Ce(n,r){var u=n.type==="Feature"?n.geometry:n,m=u?u.coordinates:null,g=[],w=r&&r.pointToLayer,z=r&&r.coordsToLatLng||is,U,G,W,ct;if(!m&&!u)return null;switch(u.type){case"Point":return U=z(m),ma(w,n,U,r);case"MultiPoint":for(W=0,ct=m.length;W<ct;W++)U=z(m[W]),g.push(ma(w,n,U,r));return new An(g);case"LineString":case"MultiLineString":return G=gr(m,u.type==="LineString"?0:1,z),new Gn(G,r);case"Polygon":case"MultiPolygon":return G=gr(m,u.type==="Polygon"?1:2,z),new da(G,r);case"GeometryCollection":for(W=0,ct=u.geometries.length;W<ct;W++){var Et=Ce({geometry:u.geometries[W],type:"Feature",properties:n.properties},r);Et&&g.push(Et)}return new An(g);case"FeatureCollection":for(W=0,ct=u.features.length;W<ct;W++){var Nt=Ce(u.features[W],r);Nt&&g.push(Nt)}return new An(g);default:throw new Error("Invalid GeoJSON object.")}}function ma(n,r,u,m){return n?n(r,u):new pr(u,m&&m.markersInheritOptions&&m)}function is(n){return new dt(n[1],n[0],n[2])}function gr(n,r,u){for(var m=[],g=0,w=n.length,z;g<w;g++)z=r?gr(n[g],r-1,u):(u||is)(n[g]),m.push(z);return m}function as(n,r){return n=mt(n),n.alt!==void 0?[R(n.lng,r),R(n.lat,r),R(n.alt,r)]:[R(n.lng,r),R(n.lat,r)]}function yr(n,r,u,m){for(var g=[],w=0,z=n.length;w<z;w++)g.push(r?yr(n[w],nn(n[w])?0:r-1,u,m):as(n[w],m));return!r&&u&&g.length>0&&g.push(g[0].slice()),g}function ii(n,r){return n.feature?d({},n.feature,{geometry:r}):rs(r)}function rs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ai={toGeoJSON:function(n){return ii(this,{type:"Point",coordinates:as(this.getLatLng(),n)})}};pr.include(ai),ns.include(ai),ha.include(ai),Gn.include({toGeoJSON:function(n){var r=!nn(this._latlngs),u=yr(this._latlngs,r?1:0,!1,n);return ii(this,{type:(r?"Multi":"")+"LineString",coordinates:u})}}),da.include({toGeoJSON:function(n){var r=!nn(this._latlngs),u=r&&!nn(this._latlngs[0]),m=yr(this._latlngs,u?2:r?1:0,!0,n);return r||(m=[m]),ii(this,{type:(u?"Multi":"")+"Polygon",coordinates:m})}}),fa.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(u){r.push(u.toGeoJSON(n).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var u=r==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(n);if(u)m.push(w.geometry);else{var z=rs(w);z.type==="FeatureCollection"?m.push.apply(m,z.features):m.push(z)}}}),u?ii(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function ss(n,r){return new Yn(n,r)}var vr=ss,pa=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,u){this._url=n,this._bounds=st(r),M(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Te(this._image),this},bringToBack:function(){return this._map&&Ai(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=st(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:Rt("img");if(Ct(r,"leaflet-image-layer"),this._zoomAnimated&&Ct(r,"leaflet-zoom-animated"),this.options.className&&Ct(r,this.options.className),r.onselectstart=S,r.onmousemove=S,r.onload=v(this.fire,this,"load"),r.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Zn(this._image,u,r)},_reset:function(){var n=this._image,r=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=r.getSize();ne(n,r.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),jl=function(n,r,u){return new pa(n,r,u)},ri=pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:Rt("video");if(Ct(r,"leaflet-image-layer"),this._zoomAnimated&&Ct(r,"leaflet-zoom-animated"),this.options.className&&Ct(r,this.options.className),r.onselectstart=S,r.onmousemove=S,r.onloadeddata=v(this.fire,this,"load"),n){for(var u=r.getElementsByTagName("source"),m=[],g=0;g<u.length;g++)m.push(u[g].src);this._url=u.length>0?m:[r.src];return}tt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var z=Rt("source");z.src=this._url[w],r.appendChild(z)}}});function ga(n,r,u){return new ri(n,r,u)}var os=pa.extend({_initImage:function(){var n=this._image=this._url;Ct(n,"leaflet-image-layer"),this._zoomAnimated&&Ct(n,"leaflet-zoom-animated"),this.options.className&&Ct(n,this.options.className),n.onselectstart=S,n.onmousemove=S}});function Zl(n,r,u){return new os(n,r,u)}var Me=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof dt||tt(n))?(this._latlng=mt(n),M(this,r)):(M(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(v(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=mt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Te(this._container),this},bringToBack:function(){return this._map&&Ai(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof An){r=null;var u=this._source._layers;for(var m in u)if(u[m]._map){r=u[m];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=et(this.options.offset),u=this._getAnchor();this._zoomAnimated?ne(this._container,n.add(u)):r=r.add(n).add(u);var m=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(n,r,u,m){var g=r;return g instanceof n||(g=new n(m).setContent(r)),u&&g.setLatLng(u),g}}),yn.include({_initOverlay:function(n,r,u,m){var g=u;return g instanceof n?(M(g,m),g._source=this):(g=r&&!m?r:new n(m,this),g.setContent(u)),g}});var _r=Me.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Me.prototype.openOn.call(this,n)},onAdd:function(n){Me.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",gn))},onRemove:function(n){Me.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",gn))},getEvents:function(){var n=Me.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=Rt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Rt("div",n+"-content-wrapper",r);if(this._contentNode=Rt("div",n+"-content",u),Li(r),Sn(this._contentNode),Lt(r,"contextmenu",gn),this._tipContainer=Rt("div",n+"-tip-container",r),this._tip=Rt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Rt("a",n+"-close-button",r);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(m,"click",function(g){ce(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),r.width=u+1+"px",r.whiteSpace="",r.height="";var m=n.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&m>g?(r.height=g+"px",Ct(n,w)):oe(n,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();ne(this._container,r.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(ir(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,m=this._containerWidth,g=new X(this._containerLeft,-u-this._containerBottom);g._add(ti(this._container));var w=n.layerPointToContainerPoint(g),z=et(this.options.autoPanPadding),U=et(this.options.autoPanPaddingTopLeft||z),G=et(this.options.autoPanPaddingBottomRight||z),W=n.getSize(),ct=0,Et=0;w.x+m+G.x>W.x&&(ct=w.x+m-W.x+G.x),w.x-ct-U.x<0&&(ct=w.x-U.x),w.y+u+G.y>W.y&&(Et=w.y+u-W.y+G.y),w.y-Et-U.y<0&&(Et=w.y-U.y),(ct||Et)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ct,Et]))}},_getAnchor:function(){return et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pl=function(n,r){return new _r(n,r)};Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(n,r,u){return this._initOverlay(_r,n,r,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),yn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(_r,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ei(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Ln)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var br=Me.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Me.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Me.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Me.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,u,m=this._map,g=this._container,w=m.latLngToContainerPoint(m.getCenter()),z=m.layerPointToContainerPoint(n),U=this.options.direction,G=g.offsetWidth,W=g.offsetHeight,ct=et(this.options.offset),Et=this._getAnchor();U==="top"?(r=G/2,u=W):U==="bottom"?(r=G/2,u=0):U==="center"?(r=G/2,u=W/2):U==="right"?(r=0,u=W/2):U==="left"?(r=G,u=W/2):z.x<w.x?(U="right",r=0,u=W/2):(U="left",r=G+(ct.x+Et.x)*2,u=W/2),n=n.subtract(et(r,u,!0)).add(ct).add(Et),oe(g,"leaflet-tooltip-right"),oe(g,"leaflet-tooltip-left"),oe(g,"leaflet-tooltip-top"),oe(g,"leaflet-tooltip-bottom"),Ct(g,"leaflet-tooltip-"+U),ne(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hc=function(n,r){return new br(n,r)};Ht.include({openTooltip:function(n,r,u){return this._initOverlay(br,n,r,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),yn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(br,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[r](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(Lt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Lt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,u,m;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(u),r=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(r)}});var ql=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(tn(r),r.appendChild(u.html)):r.innerHTML=u.html!==!1?u.html:"",u.bgPos){var m=et(u.bgPos);r.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function jc(n){return new ql(n)}zn.Default=dr;var ya=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:wt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Wt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Te(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof X?n:new X(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,u=-n(-1/0,1/0),m=0,g=r.length,w;m<g;m++)w=r[m].style.zIndex,r[m]!==this._container&&w&&(u=n(u,+w));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!wt.ielt9){ae(this._container,this.options.opacity);var n=+new Date,r=!1,u=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var w=Math.min(1,(n-g.loaded)/200);ae(g.el,w),w<1?r=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),r&&(ot(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=r-Math.abs(n-u),this._onUpdateLevel(u)):(Wt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=r,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),S(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var n,r,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var m=r.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Wt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,u,m){var g=Math.floor(n/2),w=Math.floor(r/2),z=u-1,U=new X(+g,+w);U.z=+z;var G=this._tileCoordsToKey(U),W=this._tiles[G];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),z>m?this._retainParent(g,w,z,m):!1)},_retainChildren:function(n,r,u,m){for(var g=2*n;g<2*n+2;g++)for(var w=2*r;w<2*r+2;w++){var z=new X(g,w);z.z=u+1;var U=this._tileCoordsToKey(z),G=this._tiles[U];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);u+1<m&&this._retainChildren(g,w,u+1,m)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,u,m){var g=Math.round(r);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,r)},_setZoomTransform:function(n,r,u){var m=this._map.getZoomScale(u,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(r,u)).round();wt.any3d?Zn(n.el,g,m):ne(n.el,g)},_resetGrid:function(){var n=this._map,r=n.options.crs,u=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],m).x/u.x),Math.ceil(n.project([0,r.wrapLng[1]],m).x/u.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],m).y/u.x),Math.ceil(n.project([r.wrapLat[1],0],m).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,u=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),m=r.getZoomScale(u,this._tileZoom),g=r.project(n,this._tileZoom).floor(),w=r.getSize().divideBy(m*2);return new A(g.subtract(w),g.add(w))},_update:function(n){var r=this._map;if(r){var u=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),w=g.getCenter(),z=[],U=this.options.keepBuffer,G=new A(g.getBottomLeft().subtract([U,-U]),g.getTopRight().add([U,-U]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var ct=this._tiles[W].coords;(ct.z!==this._tileZoom||!G.contains(new X(ct.x,ct.y)))&&(this._tiles[W].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var Et=g.min.y;Et<=g.max.y;Et++)for(var Nt=g.min.x;Nt<=g.max.x;Nt++){var Ae=new X(Nt,Et);if(Ae.z=this._tileZoom,!!this._isValidTile(Ae)){var fe=this._tiles[this._tileCoordsToKey(Ae)];fe?fe.current=!0:z.push(Ae)}}if(z.sort(function(qt,Gt){return qt.distanceTo(w)-Gt.distanceTo(w)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(Nt=0;Nt<z.length;Nt++)this._addTile(z[Nt],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var u=this._globalTileRange;if(!r.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!r.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return st(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,u=this.getTileSize(),m=n.scaleBy(u),g=m.add(u),w=r.unproject(m,n.z),z=r.unproject(g,n.z);return[w,z]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),u=new rt(r[0],r[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),u=new X(+r[0],+r[1]);return u.z=+r[2],u},_removeTile:function(n){var r=this._tiles[n];r&&(Wt(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Ct(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=S,n.onmousemove=S,wt.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,r){var u=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),v(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&lt(v(this._tileReady,this,n,null,g)),ne(g,u),this._tiles[m]={el:g,coords:n,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,r,u){r&&this.fire("tileerror",{error:r,tile:u,coords:n});var m=this._tileCoordsToKey(n);u=this._tiles[m],u&&(u.loaded=+new Date,this._map._fadeAnimated?(ae(u.el,0),ot(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),r||(Ct(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),wt.ielt9||!this._map._fadeAnimated?lt(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new X(this._wrapX?T(n.x,this._wrapX):n.x,this._wrapY?T(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new A(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Gl(n){return new ya(n)}var si=ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=M(this,r),r.detectRetina&&wt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var u=document.createElement("img");return Lt(u,"load",v(this._tileOnLoad,this,r,u)),Lt(u,"error",v(this._tileOnError,this,r,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var r={r:wt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=u),r["-y"]=u}return it(this._url,d(r,this.options))},_tileOnLoad:function(n,r){wt.ielt9?setTimeout(v(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,u){var m=this.options.errorTileUrl;m&&r.getAttribute("src")!==m&&(r.src=m),n(u,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,u=this.options.zoomReverse,m=this.options.zoomOffset;return u&&(n=r-n),n+m},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=S,r.onerror=S,!r.complete)){r.src=yt;var u=this._tiles[n].coords;Wt(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:u})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",yt),ya.prototype._removeTile.call(this,n)},_tileReady:function(n,r,u){if(!(!this._map||u&&u.getAttribute("src")===yt))return ya.prototype._tileReady.call(this,n,r,u)}});function an(n,r){return new si(n,r)}var wr=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var u=d({},this.defaultWmsParams);for(var m in r)m in this.options||(u[m]=r[m]);r=M(this,r);var g=r.detectRetina&&wt.retina?2:1,w=this.getTileSize();u.width=w.x*g,u.height=w.y*g,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,si.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),u=this._crs,m=j(u.project(r[0]),u.project(r[1])),g=m.min,w=m.max,z=(this._wmsVersion>=1.3&&this._crs===mo?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),U=si.prototype.getTileUrl.call(this,n);return U+D(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(n,r){return d(this.wmsParams,n),r||this.redraw(),this}});function rn(n,r){return new wr(n,r)}si.WMS=wr,an.wms=rn;var Ze=yn.extend({options:{padding:.1},initialize:function(n){M(this,n),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var u=this._map.getZoomScale(r,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),w=m.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(n,r));wt.any3d?Zn(this._container,w,u):ne(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),u=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new A(u,u.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ls=Ze.extend({options:{tolerance:0},getEvents:function(){var n=Ze.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ze.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Lt(n,"mousemove",this._onMouseMove,this),Lt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ot(this._redrawRequest),delete this._ctx,Wt(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ze.prototype._update.call(this);var n=this._bounds,r=this._container,u=n.getSize(),m=wt.retina?2:1;ne(r,n.min),r.width=m*u.x,r.height=m*u.y,r.style.width=u.x+"px",r.style.height=u.y+"px",wt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ze.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[_(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,u=r.next,m=r.prev;u?u.prev=m:this._drawLast=m,m?m.next=u:this._drawFirst=u,delete n._order,delete this._layers[_(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),u=[],m,g;for(g=0;g<r.length;g++){if(m=Number(r[g]),isNaN(m))return;u.push(m)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||lt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var u=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var u,m,g,w,z=n._parts,U=z.length,G=this._ctx;if(U){for(G.beginPath(),u=0;u<U;u++){for(m=0,g=z[u].length;m<g;m++)w=z[u][m],G[m?"lineTo":"moveTo"](w.x,w.y);r&&G.closePath()}this._fillStroke(G,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,u=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(r.x,r.y/g,m,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,r){var u=r.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(m=u);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(oe(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(r)&&(m=u);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,u){this._map._fireDOMEvent(r,u||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var u=r.next,m=r.prev;if(u)u.prev=m;else return;m?m.next=u:u&&(this._drawFirst=u),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var u=r.next,m=r.prev;if(m)m.next=u;else return;u?u.prev=m:m&&(this._drawLast=m),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function xr(n){return wt.canvas?new ls(n):null}var oi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),po={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ze.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=oi("shape");Ct(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=oi("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Wt(r),n.removeInteractiveTarget(r),delete this._layers[_(n)]},_updateStyle:function(n){var r=n._stroke,u=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(r||(r=n._stroke=oi("stroke")),g.appendChild(r),r.weight=m.weight+"px",r.color=m.color,r.opacity=m.opacity,m.dashArray?r.dashStyle=tt(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=m.lineCap.replace("butt","flat"),r.joinstyle=m.lineJoin):r&&(g.removeChild(r),n._stroke=null),m.fill?(u||(u=n._fill=oi("fill")),g.appendChild(u),u.color=m.fillColor||m.color,u.opacity=m.fillOpacity):u&&(g.removeChild(u),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),u=Math.round(n._radius),m=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+u+","+m+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Te(n._container)},_bringToBack:function(n){Ai(n._container)}},Cn=wt.vml?oi:_i,va=Ze.extend({_initContainer:function(){this._container=Cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ze.prototype._update.call(this);var n=this._bounds,r=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,u.setAttribute("width",r.x),u.setAttribute("height",r.y)),ne(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Cn("path");n.options.className&&Ct(r,n.options.className),n.options.interactive&&Ct(r,"leaflet-interactive"),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Wt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[_(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,u=n.options;r&&(u.stroke?(r.setAttribute("stroke",u.color),r.setAttribute("stroke-opacity",u.opacity),r.setAttribute("stroke-width",u.weight),r.setAttribute("stroke-linecap",u.lineCap),r.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?r.setAttribute("stroke-dasharray",u.dashArray):r.removeAttribute("stroke-dasharray"),u.dashOffset?r.setAttribute("stroke-dashoffset",u.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),u.fill?(r.setAttribute("fill",u.fillColor||u.color),r.setAttribute("fill-opacity",u.fillOpacity),r.setAttribute("fill-rule",u.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,bi(n._parts,r))},_updateCircle:function(n){var r=n._point,u=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||u,g="a"+u+","+m+" 0 1,0 ",w=n._empty()?"M0 0":"M"+(r.x-u)+","+r.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(n,w)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Te(n._path)},_bringToBack:function(n){Ai(n._path)}});wt.vml&&va.include(po);function Er(n){return wt.svg||wt.vml?new va(n):null}Ht.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&xr(n)||Er(n)}});var Mi=da.extend({initialize:function(n,r){da.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=st(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Zc(n,r){return new Mi(n,r)}va.create=Cn,va.pointsToPath=bi,Yn.geometryToLayer=Ce,Yn.coordsToLatLng=is,Yn.coordsToLatLngs=gr,Yn.latLngToCoords=as,Yn.latLngsToCoords=yr,Yn.getFeature=ii,Yn.asFeature=rs,Ht.mergeOptions({boxZoom:!0});var Pe=Tn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),aa(),Xr(),this._startPoint=this._map.mouseEventToContainerPoint(n),Lt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new A(this._point,this._startPoint),u=r.getSize();ne(this._box,r.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Wt(this._box),oe(this._container,"leaflet-crosshair")),En(),rr(),Xt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var r=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",Pe),Ht.mergeOptions({doubleClickZoom:!0});var us=Tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,u=r.getZoom(),m=r.options.zoomDelta,g=n.originalEvent.shiftKey?u-m:u+m;r.options.doubleClickZoom==="center"?r.setZoom(g):r.setZoomAround(n.containerPoint,g)}});Ht.addInitHook("addHandler","doubleClickZoom",us),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mn=Tn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ni(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=st(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),u=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-r+u)%n+r-u,w=(m+r+u)%n-r-u,z=Math.abs(g+u)<Math.abs(w+u)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(n){var r=this._map,u=r.options,m=!u.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),m)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,z=u.easeLinearity,U=g.multiplyBy(z/w),G=U.distanceTo([0,0]),W=Math.min(u.inertiaMaxSpeed,G),ct=U.multiplyBy(W/G),Et=W/(u.inertiaDeceleration*z),Nt=ct.multiplyBy(-Et/2).round();!Nt.x&&!Nt.y?r.fire("moveend"):(Nt=r._limitOffset(Nt,r.options.maxBounds),lt(function(){r.panBy(Nt,{duration:Et,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Ht.addInitHook("addHandler","dragging",Mn),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var go=Tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Lt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,u=n.scrollTop||r.scrollTop,m=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(m,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},u=this.keyCodes,m,g;for(m=0,g=u.left.length;m<g;m++)r[u.left[m]]=[-1*n,0];for(m=0,g=u.right.length;m<g;m++)r[u.right[m]]=[n,0];for(m=0,g=u.down.length;m<g;m++)r[u.down[m]]=[0,n];for(m=0,g=u.up.length;m<g;m++)r[u.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},u=this.keyCodes,m,g;for(m=0,g=u.zoomIn.length;m<g;m++)r[u.zoomIn[m]]=n;for(m=0,g=u.zoomOut.length;m<g;m++)r[u.zoomOut[m]]=-n},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,u=this._map,m;if(r in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(m=this._panKeys[r],n.shiftKey&&(m=et(m).multiplyBy(3)),u.options.maxBounds&&(m=u._limitOffset(et(m),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(m)));u.panTo(g)}else u.panBy(m)}else if(r in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ei(n)}}});Ht.addInitHook("addHandler","keyboard",go),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sr=Tn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Re(n),u=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),m),ei(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,w=u?Math.ceil(g/u)*u:g,z=n._limitZoom(r+(this._delta>0?w:-w))-r;this._delta=0,this._startTime=null,z&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+z):n.setZoomAround(this._lastMousePos,r+z))}});Ht.addInitHook("addHandler","scrollWheelZoom",Sr);var Oi=600;Ht.mergeOptions({tapHold:wt.touchNative&&wt.safari&&wt.mobile,tapTolerance:15});var cs=Tn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new X(r.clientX,r.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",ce),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Oi),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Xt(document,"touchend",ce),Xt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new X(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});u._simulated=!0,r.target.dispatchEvent(u)}});Ht.addInitHook("addHandler","tapHold",cs),Ht.mergeOptions({touchZoom:wt.touch,bounceAtZoomLimits:!0});var yo=Tn.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var u=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(u.add(m)._divideBy(2))),this._startDist=u.distanceTo(m),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),ce(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,u=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]),g=u.distanceTo(m)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=u._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),ot(this._animRequest);var z=v(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=lt(z,this,!0),ce(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ot(this._animRequest),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ht.addInitHook("addHandler","touchZoom",yo),Ht.BoxZoom=Pe,Ht.DoubleClickZoom=us,Ht.Drag=Mn,Ht.Keyboard=go,Ht.ScrollWheelZoom=Sr,Ht.TapHold=cs,Ht.TouchZoom=yo,l.Bounds=A,l.Browser=wt,l.CRS=zt,l.Canvas=ls,l.Circle=ns,l.CircleMarker=ha,l.Class=St,l.Control=Xe,l.DivIcon=ql,l.DivOverlay=Me,l.DomEvent=Fr,l.DomUtil=oa,l.Draggable=ni,l.Evented=K,l.FeatureGroup=An,l.GeoJSON=Yn,l.GridLayer=ya,l.Handler=Tn,l.Icon=zn,l.ImageOverlay=pa,l.LatLng=dt,l.LatLngBounds=rt,l.Layer=yn,l.LayerGroup=fa,l.LineUtil=Rc,l.Map=Ht,l.Marker=pr,l.Mixin=Mc,l.Path=Ln,l.Point=X,l.PolyUtil=fo,l.Polygon=da,l.Polyline=Gn,l.Popup=_r,l.PosAnimation=la,l.Projection=Bl,l.Rectangle=Mi,l.Renderer=Ze,l.SVG=va,l.SVGOverlay=os,l.TileLayer=si,l.Tooltip=br,l.Transformation=Un,l.Util=vt,l.VideoOverlay=ri,l.bind=v,l.bounds=j,l.canvas=xr,l.circle=Hl,l.circleMarker=Ul,l.control=qn,l.divIcon=jc,l.extend=d,l.featureGroup=kl,l.geoJSON=ss,l.geoJson=vr,l.gridLayer=Gl,l.icon=hr,l.imageOverlay=jl,l.latLng=mt,l.latLngBounds=st,l.layerGroup=kc,l.map=ro,l.marker=Dl,l.point=et,l.polygon=Uc,l.polyline=Dc,l.popup=Pl,l.rectangle=Zc,l.setOptions=M,l.stamp=_,l.svg=Er,l.svgOverlay=Zl,l.tileLayer=an,l.tooltip=Hc,l.transformation=ye,l.version=c,l.videoOverlay=ga;var vo=window.L;l.noConflict=function(){return window.L=vo,this},window.L=l}))})(tl,tl.exports)),tl.exports}var pc=qE();const Gr=nd(pc);function y0(a,s,l){return Object.freeze({instance:a,context:s,container:l})}function v0(a,s){return s==null?function(c,d){const p=ht.useRef(void 0);return p.current||(p.current=a(c,d)),p}:function(c,d){const p=ht.useRef(void 0);p.current||(p.current=a(c,d));const v=ht.useRef(c),{instance:b}=p.current;return ht.useEffect(function(){v.current!==c&&(s(b,c,v.current),v.current=c)},[b,c,s]),p}}function GE(a,s){ht.useEffect(function(){return(s.layerContainer??s.map).addLayer(a.instance),function(){s.layerContainer?.removeLayer(a.instance),s.map.removeLayer(a.instance)}},[s,a])}function _0(a){return function(l){const c=p0(),d=a(g0(l,c),c);return RE(c.map,l.attribution),ZE(d.current,l.eventHandlers),GE(d.current,c),d}}function YE(a,s){const l=v0(a,s),c=_0(l);return HE(c)}function VE(a,s){const l=v0(a,s),c=_0(l);return jE(c)}function KE(a,s,l){const{opacity:c,zIndex:d}=s;c!=null&&c!==l.opacity&&a.setOpacity(c),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function b0(){return p0().map}function QE(a){const s=b0();return ht.useEffect(function(){return s.on(a),function(){s.off(a)}},[s,a]),s}function XE({bounds:a,boundsOptions:s,center:l,children:c,className:d,id:p,placeholder:v,style:b,whenReady:_,zoom:x,...T},S){const[R]=ht.useState({className:d,id:p,style:b}),[P,H]=ht.useState(null),M=ht.useRef(void 0);ht.useImperativeHandle(S,()=>P?.map??null,[P]);const D=ht.useCallback(it=>{if(it!==null&&!M.current){const tt=new pc.Map(it,T);M.current=tt,l!=null&&x!=null?tt.setView(l,x):a!=null&&tt.fitBounds(a,s),_!=null&&tt.whenReady(_),H(DE(tt))}},[]);ht.useEffect(()=>()=>{P?.map.remove()},[P]);const V=P?Vu.createElement(Dd,{value:P},c):v??null;return Vu.createElement("div",{...R,ref:D},V)}const IE=ht.forwardRef(XE),fl=YE(function({position:s,...l},c){const d=new pc.Marker(s,l);return y0(d,UE(c,{overlayContainer:d}))},function(s,l,c){l.position!==c.position&&s.setLatLng(l.position),l.icon!=null&&l.icon!==c.icon&&s.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==c.zIndexOffset&&s.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==c.opacity&&s.setOpacity(l.opacity),s.dragging!=null&&l.draggable!==c.draggable&&(l.draggable===!0?s.dragging.enable():s.dragging.disable())}),JE=VE(function({url:s,...l},c){const d=new pc.TileLayer(s,g0(l,c));return y0(d,c)},function(s,l,c){KE(s,l,c);const{url:d}=l;d!=null&&d!==c.url&&s.setUrl(d)}),el={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:31714},Ds=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function Wu(a,s,l=10){const c=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,v=-90,b=90,_=-180,x=180,T="",S=0,R=0;for(;T.length<l;){if(p){const P=(_+x)/2;s>P?(R|=c[S],_=P):x=P}else{const P=(v+b)/2;a>P?(R|=c[S],v=P):b=P}p=!p,S<4?S++:(T+=d[R],S=0,R=0)}return T}function FE(a,s,l=5){const c=Wu(a,s,l),d=l===5?.02:l===6?.005:.001,p=l===5?.04:l===6?.01:.002,v=new Set;v.add(c);const b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[_,x]of b){const T=a+_*d,S=s+x*p;v.add(Wu(T,S,l))}return Array.from(v)}async function WE(a,s,l){const c=JSON.stringify(a);if(l){const d=sl.getConversationKey(l,s);return sl.encrypt(c,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(s,c);throw new Error("No encryption method available")}async function $E(a,s,l){let c;if(l){const d=sl.getConversationKey(l,s);c=sl.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)c=await window.nostr.nip44.decrypt(s,a);else throw new Error("No decryption method available");return JSON.parse(c)}const $u={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function tS(a,s){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${s}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&$u[d]?$u[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),w0()}}function w0(){try{const s=window.navigator.language.split("-")[1]?.toUpperCase();return s&&$u[s]?$u[s]:"USD"}catch{return"USD"}}function Ps(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const eS={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function nS(a){return(eS[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}var Rs=Symbol("verified"),iS=a=>a instanceof Object;function aS(a){if(!iS(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}new TextDecoder("utf-8");var rS=new TextEncoder,sS=class{generateSecretKey(){return pi.utils.randomPrivateKey()}getPublicKey(a){return Se(pi.getPublicKey(a))}finalizeEvent(a,s){const l=a;return l.pubkey=Se(pi.getPublicKey(s)),l.id=Uh(l),l.sig=Se(pi.sign(Uh(l),s)),l[Rs]=!0,l}verifyEvent(a){if(typeof a[Rs]=="boolean")return a[Rs];const s=Uh(a);if(s!==a.id)return a[Rs]=!1,!1;try{const l=pi.verify(a.sig,s,a.pubkey);return a[Rs]=l,l}catch{return a[Rs]=!1,!1}}};function oS(a){if(!aS(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Uh(a){let s=Va(rS.encode(oS(a)));return Se(s)}var gc=new sS,lS=gc.generateSecretKey;gc.getPublicKey;var uS=gc.finalizeEvent;gc.verifyEvent;const cS=({status:a,setStatus:s,location:l,vehicleType:c,setOpenSpots:d,parkLocation:p,setParkLocation:v})=>{const{pubkey:b,pool:_,signEvent:x}=cl(),[T,S]=ht.useState(!1),[R,P]=ht.useState("0"),[H,M]=ht.useState("USD"),[D,V]=ht.useState("$"),[it,tt]=ht.useState(null);ht.useEffect(()=>{if(a==="search"&&l){const at=FE(l[0],l[1],5);console.log("[Parlens] Searching for spots in geohashes:",at);const J=Math.floor(Date.now()/1e3);console.log("[Parlens] Searching for open spots - Kind:",el.OPEN_SPOT_BROADCAST,"Geohashes:",at);const ut=_.subscribeMany(Ds,[{kinds:[el.OPEN_SPOT_BROADCAST],"#g":at,since:J-300}],{onevent(xt){const pt=Math.floor(Date.now()/1e3);console.log("[Parlens] Received event - ID:",xt.id.substring(0,16),"Kind:",xt.kind);const lt=xt.tags.find(ot=>ot[0]==="expiration");if(lt){const ot=parseInt(lt[1]);if(console.log("[Parlens] Expiration check:",ot,"vs current:",pt,"expired:",ot<pt),ot<pt){console.log("[Parlens] Skipping expired spot");return}}try{const ot=xt.tags,vt=ot.find(K=>K[0]==="location"),St=ot.find(K=>K[0]==="hourly_rate"),nt=ot.find(K=>K[0]==="currency"),N=ot.find(K=>K[0]==="type");if(console.log("[Parlens] Tags - location:",vt?.[1],"type:",N?.[1],"price:",St?.[1]),vt){const[K,X]=vt[1].split(",").map(Number),ft=N?N[1]:"car";ft!==c&&console.log("[Parlens] Note: Type mismatch but showing anyway:",ft,"vs",c);const et={id:xt.id,lat:K,lon:X,price:St?parseFloat(St[1]):0,currency:nt?nt[1]:"USD",type:ft};console.log("[Parlens] *** ADDING SPOT TO MAP ***",et),d(A=>A.find(j=>j.id===et.id)?(console.log("[Parlens] Spot already exists, skipping"),A):(console.log("[Parlens] New spots array length:",A.length+1),[...A,et]))}else console.log("[Parlens] No location tag found")}catch(ot){console.warn("[Parlens] Error parsing spot:",ot)}},oneose(){console.log("[Parlens] End of stored events for spot search")}});return()=>{ut.close(),d([])}}},[a,l,c]),ht.useEffect(()=>{const at=localStorage.getItem("parlens_session");if(at)try{const J=JSON.parse(at);J.status==="parked"&&J.parkLocation&&J.sessionStart?(console.log("[Parlens] Restoring parked session:",J),tt(J.sessionStart),v(J.parkLocation),s("parked")):J.status==="search"&&(console.log("[Parlens] Restoring search session"),s("search"))}catch(J){console.warn("[Parlens] Failed to restore session:",J),localStorage.removeItem("parlens_session")}},[]),ht.useEffect(()=>{a==="parked"&&it&&p?localStorage.setItem("parlens_session",JSON.stringify({status:"parked",sessionStart:it,parkLocation:p})):a==="search"?localStorage.setItem("parlens_session",JSON.stringify({status:"search"})):a==="idle"&&localStorage.removeItem("parlens_session")},[a,it,p]),ht.useEffect(()=>{(async()=>{const J=w0();if(M(J),V(Ps(J)),l)try{const ut=await tS(l[0],l[1]);M(ut),V(Ps(ut))}catch{console.warn("GPS currency detection failed")}})()},[l]);const gt=async()=>{a==="idle"?s("search"):a==="search"?(tt(Math.floor(Date.now()/1e3)),v([l[0],l[1]]),s("parked")):a==="parked"&&S(!0)},yt=async()=>{s("idle"),S(!1);const at=p?p[0]:l[0],J=p?p[1]:l[1],ut=Wu(at,J,5),xt=Math.floor(Date.now()/1e3),pt=it||xt;try{const lt={status:"vacated",lat:at,lon:J,geohash:ut,fee:R,currency:H,started_at:pt,finished_at:xt},ot=localStorage.getItem("parlens_privkey"),vt=ot?new Uint8Array(ot.match(/.{1,2}/g).map(st=>parseInt(st,16))):void 0,St=await WE(lt,b,vt),nt={kind:el.PARKING_LOG,content:St,tags:[["g",ut],["client","parlens"],["type",c],["d",`session_${pt}`]],created_at:xt,pubkey:b},N=await x(nt);console.log("Publishing log:",N.id,"to",Ds);const K=_.publish(Ds,N);await Promise.allSettled(K),console.log("Log published");const X=lS(),ft=Math.max((xt-pt)/3600,.1),et=(parseFloat(R)/ft).toFixed(2),A=xt+60,j={kind:el.OPEN_SPOT_BROADCAST,content:"",tags:[["d",`spot_${ut}_${xt}`],["g",ut],["location",`${at},${J}`],["hourly_rate",et],["currency",H],["type",c],["expiration",String(A)],["client","parlens"]],created_at:xt},rt=uS(j,X);console.log("Broadcasting open spot (anonymous, addressable):",rt.id,"pubkey:",rt.pubkey),_.publish(Ds,rt),tt(null),v(null)}catch(lt){console.error("Persistence error:",lt),alert("Could not save to Nostr. Check relay connections.")}};return O.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&O.jsx("button",{onClick:()=>s("idle"),className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),O.jsxs("button",{onClick:gt,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&O.jsx(AE,{size:32,strokeWidth:2.5}),a==="search"&&O.jsx(Fh,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(c==="bicycle"?O.jsx("span",{className:"text-3xl",children:""}):c==="motorcycle"?O.jsx("span",{className:"text-3xl",children:""}):O.jsx("span",{className:"text-3xl",children:""}))]})]}),T&&O.jsx("div",{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:O.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in slide-in-from-bottom-10 sm:zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[O.jsxs("div",{className:"text-center space-y-1",children:[O.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),O.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[O.jsx("span",{className:"text-2xl font-bold text-blue-500",children:D}),O.jsx("input",{type:"number",value:R,onChange:at=>P(at.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),O.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:H})]}),O.jsxs("div",{className:"flex flex-col gap-1.5",children:[O.jsx("button",{onClick:()=>P(String(Math.max(0,parseFloat(R||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:O.jsx(dE,{size:22,className:"text-zinc-600 dark:text-white/70"})}),O.jsx("button",{onClick:()=>P(String(Math.max(0,parseFloat(R||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:O.jsx(Jh,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),O.jsxs("div",{className:"w-full space-y-3",children:[O.jsxs("button",{onClick:yt,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",O.jsx(uE,{size:20})]}),O.jsx("button",{onClick:()=>S(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function fS(){const{pool:a,pubkey:s}=cl(),[l,c]=ht.useState([]),[d,p]=ht.useState(!0),v=ht.useCallback(async()=>{if(s){p(!0),console.log("[useParkingLogs] Fetching logs for",s);try{const b=await a.querySync(Ds,{kinds:[el.PARKING_LOG],authors:[s],limit:50});console.log("[useParkingLogs] Fetched",b.length,"events");const _=b.sort((x,T)=>T.created_at-x.created_at);c(_)}catch(b){console.error("[useParkingLogs] Fetch error:",b)}finally{p(!1)}}},[a,s]);return ht.useEffect(()=>{v()},[v]),{logs:l,loading:d,refetch:v}}const hS=({setHistorySpots:a})=>{const{pubkey:s,logout:l,pool:c}=cl(),{logs:d,refetch:p}=fS(),[v,b]=ht.useState(!1),[_,x]=ht.useState(null),[T,S]=ht.useState([]),[R,P]=ht.useState(!1);ht.useEffect(()=>{s&&(async()=>{const D=await c.get(Ds,{kinds:[0],authors:[s]});if(D)try{const V=JSON.parse(D.content);x({name:V.name||V.display_name||"Nostr User",npub:nl.npubEncode(s),picture:V.picture})}catch(V){console.error("Error parsing profile:",V)}else x({name:"Nostr User",npub:nl.npubEncode(s),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${s}`})})()},[s,c]),ht.useEffect(()=>{(async()=>{if(!s||!d.length)return;const D=localStorage.getItem("parlens_privkey"),V=D?new Uint8Array(D.match(/.{1,2}/g).map(tt=>parseInt(tt,16))):void 0,it=await Promise.all(d.map(async tt=>{try{const gt=await $E(tt.content,s,V);return{...tt,decryptedContent:gt}}catch{return{...tt,decryptedContent:null}}}));S(it.filter(tt=>tt.decryptedContent))})()},[d,s]),ht.useEffect(()=>{a&&a(R?T:[])},[R,T,a]);const H=()=>{const M=localStorage.getItem("parlens_privkey");if(M){const D=nl.nsecEncode(new Uint8Array(M.match(/.{1,2}/g).map(V=>parseInt(V,16))));navigator.clipboard.writeText(D),alert("Secret key copied to clipboard")}};return O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:()=>{p(),b(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Activity Log",children:O.jsx(gE,{size:20})}),v&&O.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[O.jsx("button",{onClick:()=>b(!1),className:"absolute inset-0 z-0 cursor-default"}),O.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:_?.name||"Nostr User"}),O.jsx("button",{onClick:()=>b(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:O.jsx(m0,{size:20,className:"text-black/60 dark:text-white/60"})})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),O.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[O.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{navigator.clipboard.writeText(_?.npub),alert("Public key copied")},children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:O.jsx(d0,{size:20})}),O.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),O.jsx(fy,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),O.jsxs("div",{onClick:H,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:O.jsx(ME,{size:20})}),O.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),O.jsx(fy,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]}),O.jsx("p",{className:"text-xs text-zinc-400 dark:text-white/30 mt-2 ml-2 leading-relaxed",children:" Store your npub and nsec securely. These are your account access keys and cannot be recovered if lost."})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&O.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:O.jsx(Fh,{size:20})}),O.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),O.jsx("button",{onClick:()=>P(!R),className:`w-12 h-7 rounded-full transition-colors relative ${R?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:O.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${R?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),O.jsx("div",{className:"space-y-2",children:T.length>0?T.map(M=>{const D=M.decryptedContent,V=Ps(D.currency||"USD"),it=D.started_at?new Date(D.started_at*1e3):null,tt=D.finished_at?new Date(D.finished_at*1e3):new Date(M.created_at*1e3),gt=D.lat&&D.lon?`${D.lat.toFixed(5)}, ${D.lon.toFixed(5)}`:null,yt=M.tags?.find(J=>J[0]==="type")?.[1]||"car",at=yt==="bicycle"?"":yt==="motorcycle"?"":"";return O.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("span",{className:"text-2xl",children:at}),O.jsx("p",{className:"font-bold text-xl",children:D.fee?`${V}${D.fee}`:"Free"})]}),O.jsx("span",{className:"text-2xl",children:nS(D.currency||"USD")})]}),gt&&O.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[O.jsx(Fh,{size:12,className:"text-blue-500 dark:text-blue-400"}),O.jsx("span",{className:"font-mono",children:gt})]}),O.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[O.jsx(vE,{size:12,className:"text-green-500 dark:text-green-400"}),O.jsxs("div",{className:"space-x-1",children:[it&&O.jsxs("span",{children:["Start: ",it.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",it.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),O.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),O.jsxs("span",{children:["End: ",tt.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",tt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},M.id)}):O.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:O.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),O.jsx("button",{onClick:()=>{l(),b(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout Session"})]})]})]})};function dS(a){return a>=17?8:a>=15?7:a>=13?6:a>=11?5:a>=9?4:3}function my(a,s,l=!0){if(!l||s>=17||a.length<2)return a;const c=dS(s),d=new Map;for(const v of a){const b=Wu(v.lat,v.lon,c);if(d.has(b)){const _=d.get(b);_.spots.push(v),_.count++,_.minPrice=Math.min(_.minPrice,v.price),_.maxPrice=Math.max(_.maxPrice,v.price),_.lat=_.spots.reduce((x,T)=>x+T.lat,0)/_.count,_.lon=_.spots.reduce((x,T)=>x+T.lon,0)/_.count}else d.set(b,{id:`cluster-${b}`,lat:v.lat,lon:v.lon,spots:[v],minPrice:v.price,maxPrice:v.price,currency:v.currency,count:1})}const p=[];for(const v of d.values())v.count===1?p.push(v.spots[0]):p.push(v);return p}function py(a){return"count"in a&&a.count>1}const mS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",pS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",gS=Gr.icon({iconUrl:mS,shadowUrl:pS,iconSize:[25,41],iconAnchor:[12,41]});Gr.Marker.prototype.options.icon=gS;const yS=({location:a,bearing:s})=>{const l=`
           <div style="transform: rotate(${s}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,c=Gr.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return O.jsx(fl,{position:a,icon:c})},vS=({location:a,vehicleType:s})=>{const c=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));">${s==="bicycle"?"":s==="motorcycle"?"":""}</div>`,d=Gr.divIcon({className:"active-session-marker",html:c,iconSize:[40,40],iconAnchor:[20,20]});return O.jsx(fl,{position:a,icon:d})},_S=({spot:a,bearing:s,orientationMode:l})=>{const d=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                
             </div>
             <div style="background: #34C759; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${a.price>0?`${a.currency==="USD"?"$":a.currency}${a.price.toFixed(2)}/hr`:"Free"}
             </div>
        </div>
    `,p=Gr.divIcon({className:"spot-marker",html:d,iconSize:[60,60],iconAnchor:[30,45]});return O.jsx(fl,{position:[a.lat,a.lon],icon:p})},bS=({spot:a,bearing:s,orientationMode:l})=>{const c=a.decryptedContent;if(!c||!c.lat||!c.lon)return null;const p=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); opacity: 0.7;">
                
             </div>
             <div style="background: #8E8E93; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${c.fee?`${Ps(c.currency||"USD")}${c.fee}`:"Free"}
             </div>
        </div>
    `,v=Gr.divIcon({className:"history-marker",html:p,iconSize:[60,60],iconAnchor:[30,45]});return O.jsx(fl,{position:[c.lat,c.lon],icon:v})},gy=({cluster:a,type:s,bearing:l,orientationMode:c})=>{const d=s==="open"?"":"",p=s==="open"?"#34C759":"#8E8E93",v=c==="auto"?l:0,b=a.minPrice===a.maxPrice?a.minPrice>0?`${Ps(a.currency)}${a.minPrice}`:"Free":`${Ps(a.currency)}${a.minPrice}-${a.maxPrice}`,_=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 70px; transform: rotate(${v}deg);">
             <div style="font-size: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); position: relative;">
                ${d}
                <div style="position: absolute; top: -5px; right: -5px; background: ${p}; color: white; font-size: 10px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                    ${a.count}
                </div>
             </div>
             <div style="background: ${p}; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${b}
             </div>
        </div>
    `,x=Gr.divIcon({className:"cluster-marker",html:_,iconSize:[70,60],iconAnchor:[35,45]});return O.jsx(fl,{position:[a.lat,a.lon],icon:x})},wS=({onZoomChange:a})=>{const s=QE({zoomend:()=>{a(s.getZoom())}});return ht.useEffect(()=>{a(s.getZoom())},[]),null},xS=({location:a,bearing:s,orientationMode:l,shouldRecenter:c,setShouldRecenter:d})=>{const p=b0();return ht.useEffect(()=>{c&&a&&(p.setView(a,16,{animate:!0}),d(!1))},[c,a,p,d]),ht.useEffect(()=>{if(a){l==="auto"&&p.setView(a,p.getZoom(),{animate:!0});const v=p.getContainer();v.style.transition="transform 0.5s cubic-bezier(0.1, 0, 0.3, 1)",v.style.transformOrigin="center center",l==="auto"?(v.style.transform=`rotate(${-s}deg)`,v.style.width="200%",v.style.height="200%",v.style.top="-50%",v.style.left="-50%"):(v.style.transform="rotate(0deg)",v.style.width="100%",v.style.height="100%",v.style.top="0",v.style.left="0"),v.style.position="absolute",p.invalidateSize()}},[a,s,l,p]),null},ES=()=>{const[a,s]=ht.useState(null),[l,c]=ht.useState(0),[d,p]=ht.useState("idle"),[v,b]=ht.useState("auto"),[_,x]=ht.useState(!1),[T,S]=ht.useState("car"),[R,P]=ht.useState([]),[H,M]=ht.useState([]),[D,V]=ht.useState(null),[it,tt]=ht.useState(!1),[gt,yt]=ht.useState(16),[at,J]=ht.useState(!1);ht.useEffect(()=>{const pt=window.matchMedia("(prefers-color-scheme: dark)");J(pt.matches);const lt=ot=>J(ot.matches);return pt.addEventListener("change",lt),()=>pt.removeEventListener("change",lt)},[]);const ut=ht.useRef(null);ht.useEffect(()=>("geolocation"in navigator&&(ut.current=navigator.geolocation.watchPosition(pt=>{const{latitude:lt,longitude:ot,heading:vt}=pt.coords;s([lt,ot]),vt!==null&&c(vt)},pt=>console.error("Location error:",pt),{enableHighAccuracy:!0,maximumAge:0,timeout:5e3})),()=>{ut.current!==null&&navigator.geolocation.clearWatch(ut.current)}),[]),ht.useEffect(()=>{const lt=setTimeout(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()!=="granted"){console.warn("Device orientation permission denied");return}}catch(vt){console.error("Error requesting device orientation permission:",vt);return}const ot=vt=>{vt.webkitCompassHeading!==void 0?c(vt.webkitCompassHeading):vt.alpha!==null&&c(360-vt.alpha)};return window.addEventListener("deviceorientation",ot,!0),()=>window.removeEventListener("deviceorientation",ot,!0)},500);return()=>clearTimeout(lt)},[]);const xt=pt=>{if(d!=="idle"){alert("Please end your current session before changing vehicle type.");return}S(pt)};return a?O.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[O.jsx("div",{className:"absolute inset-0",children:O.jsxs(IE,{center:a,zoom:16,zoomControl:!1,className:"h-full w-full",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[O.jsx(JE,{url:at?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO"}),O.jsx(wS,{onZoomChange:yt}),O.jsx(yS,{location:a,bearing:l}),d==="parked"&&D&&O.jsx(vS,{location:D,vehicleType:T}),d==="search"&&R.length>0&&(()=>{const pt=R.map(ot=>({id:ot.id,lat:ot.lat,lon:ot.lon,price:ot.price,currency:ot.currency,original:ot}));return my(pt,gt).map(ot=>py(ot)?O.jsx(gy,{cluster:ot,type:"open",bearing:l,orientationMode:v},ot.id):O.jsx(_S,{spot:ot.original||ot,bearing:l,orientationMode:v},ot.id))})(),H.length>0&&(()=>{const lt=H.filter(vt=>(vt.tags?.find(nt=>nt[0]==="type")?.[1]||"car")===T).map(vt=>{const St=vt.decryptedContent;return St&&St.lat&&St.lon?{id:vt.id,lat:St.lat,lon:St.lon,price:parseFloat(St.fee)||0,currency:St.currency||"USD",original:vt}:null}).filter(Boolean);return my(lt,gt).map(vt=>py(vt)?O.jsx(gy,{cluster:vt,type:"history",bearing:l,orientationMode:v},vt.id):O.jsx(bS,{spot:vt.original||vt,bearing:l,orientationMode:v},vt.id))})(),O.jsx(xS,{location:a,bearing:l,orientationMode:v,shouldRecenter:it,setShouldRecenter:tt})]})}),O.jsxs("div",{className:"absolute bottom-10 left-6 z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",children:[O.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[O.jsx("button",{onClick:()=>xt("bicycle"),className:`p-2.5 rounded-full transition-all ${T==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:O.jsx("span",{className:"text-xl",children:""})}),O.jsx("button",{onClick:()=>xt("motorcycle"),className:`p-2.5 rounded-full transition-all ${T==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:O.jsx("span",{className:"text-xl",children:""})}),O.jsx("button",{onClick:()=>xt("car"),className:`p-2.5 rounded-full transition-all ${T==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:O.jsx("span",{className:"text-xl",children:""})})]}),O.jsx("button",{onClick:()=>x(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:O.jsx(hy,{size:20})})]}),O.jsxs("div",{className:"absolute bottom-10 right-6 z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",children:[O.jsx("button",{onClick:()=>{b(pt=>pt==="auto"?"fixed":"auto"),tt(!0)},className:`h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg ${v==="auto"?"bg-blue-500/20 border-blue-500/50 text-blue-500 dark:text-blue-400":"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70"}`,children:v==="auto"?O.jsx(SE,{size:20,className:"fill-current"}):O.jsx(bE,{size:20})}),O.jsx(hS,{setHistorySpots:M}),O.jsx(cS,{status:d,setStatus:p,location:a,vehicleType:T,setOpenSpots:P,parkLocation:D,setParkLocation:V})]}),_&&O.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/40 dark:bg-black/80 backdrop-blur-xl p-6 animate-in fade-in",children:O.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2.5rem] border border-black/5 dark:border-white/10 shadow-2xl p-8 space-y-8 animate-in zoom-in-95 max-h-[85vh] overflow-y-auto no-scrollbar relative transition-colors",children:[O.jsx("button",{onClick:()=>x(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:O.jsx(m0,{size:20,className:"text-black/60 dark:text-white/60"})}),O.jsxs("div",{className:"text-center space-y-2 pt-4",children:[O.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:O.jsx(hy,{size:32})}),O.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),O.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[O.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",children:[O.jsx("span",{children:"Using Browser Menu (Android)"}),O.jsx(Jh,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),O.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[O.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),O.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[O.jsx("li",{children:"Tap menu button (three dots)"}),O.jsx("li",{children:'Tap "Add to Home screen"'}),O.jsx("li",{children:'Tap "Add" to confirm'})]}),O.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),O.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[O.jsx("li",{children:"Tap menu button (three dots)"}),O.jsx("li",{children:'Tap "Install"'})]})]})]}),O.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[O.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",children:[O.jsx("span",{children:"Using Share Button (iOS)"}),O.jsx(Jh,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),O.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:O.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),O.jsxs("li",{children:["Scroll down and tap ",O.jsx("strong",{children:"Add to Home Screen"}),"."]}),O.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),O.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Search for spots"}),"Click the main button once to see open spots reported by others."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Park & End Session"}),"Click again to mark your location. When leaving, click once more to end the session and report the fee."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. View History"}),"Use the log button (clipboard icon) to see your parking history."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"5. Secure your keys"}),"Copy and store your npub (public key) and nsec (secret key) from the profile section. These are your account access keys and cannot be recovered if lost."]})]})]})}),d==="search"&&O.jsx("div",{className:"absolute top-12 left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",children:O.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5 whitespace-nowrap min-w-max",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),O.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),d==="parked"&&O.jsx("div",{className:"absolute top-12 left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",children:O.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[O.jsx("span",{className:"text-lg",children:T==="bicycle"?"":T==="motorcycle"?"":""}),O.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):O.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-black",children:O.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700",children:[O.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),O.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})},SS=()=>{const{login:a}=cl(),[s,l]=ht.useState(""),[c,d]=ht.useState(""),[p,v]=ht.useState(!1),[b,_]=ht.useState("landing"),[x,T]=ht.useState(""),S=async H=>{v(!0),d("");try{await a(H,H==="nsec"?s:void 0)}catch(M){d(M.message)}finally{v(!1)}},R=()=>{_("setup")},P=async()=>{if(!x.trim()){d("Please enter a username");return}v(!0);try{await a("create",void 0,x)}catch(H){d(H.message)}finally{v(!1)}};return O.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-black p-6 text-white text-center",children:O.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsx("div",{className:"mx-auto flex h-24 w-24 items-center justify-center rounded-[2.5rem] bg-blue-500 shadow-2xl shadow-blue-500/20",children:O.jsx("span",{className:"text-5xl font-black text-white",children:"P"})}),O.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),O.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Public Parking Management"})]}),O.jsxs("div",{className:"space-y-4",children:[b==="landing"?O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:R,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":O.jsxs(O.Fragment,{children:[O.jsx(NE,{size:20,strokeWidth:3}),"Create a Nostr Account"]})}),O.jsx("div",{className:"pt-4 pb-2",children:O.jsx("h2",{className:"text-lg font-bold text-white/50 uppercase tracking-widest text-center",children:"Login"})}),O.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.jsxs("button",{onClick:()=>_("nsec"),disabled:p,className:"h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[O.jsx(d0,{size:18}),"Secret Key"]}),O.jsxs("button",{onClick:()=>S("extension"),disabled:p,className:"h-16 rounded-3xl bg-zinc-900 border border-white/10 text-white font-bold active:scale-95 transition-all flex items-center justify-center gap-2",children:[O.jsx(LE,{size:18,className:"text-blue-400"}),"Browser"]})]})]}):b==="setup"?O.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[O.jsxs("div",{className:"text-center pb-2",children:[O.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),O.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),O.jsx("input",{type:"text",placeholder:"Username",value:x,onChange:H=>T(H.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-white/20",autoFocus:!0}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{onClick:()=>_("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),O.jsx("button",{onClick:P,disabled:p||!x,className:"flex-1 h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):O.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[O.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:s,onChange:H=>l(H.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-white/20",autoFocus:!0}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{onClick:()=>_("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),O.jsx("button",{onClick:()=>S("nsec"),disabled:p||!s,className:"flex-1 h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),c&&O.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:c})]})]})})},TS=()=>{const{pubkey:a}=cl();return a?O.jsx(ES,{}):O.jsx(SS,{})};var yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AS={setTimeout:(a,s)=>setTimeout(a,s),clearTimeout:a=>clearTimeout(a),setInterval:(a,s)=>setInterval(a,s),clearInterval:a=>clearInterval(a)},zS=class{#t=AS;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,s){return this.#t.setTimeout(a,s)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,s){return this.#t.setInterval(a,s)}clearInterval(a){this.#t.clearInterval(a)}},Wh=new zS;function LS(a){setTimeout(a,0)}var vc=typeof window>"u"||"Deno"in globalThis;function In(){}function CS(a,s){return typeof a=="function"?a(s):a}function MS(a){return typeof a=="number"&&a>=0&&a!==1/0}function OS(a,s){return Math.max(a+(s||0)-Date.now(),0)}function $h(a,s){return typeof a=="function"?a(s):a}function NS(a,s){return typeof a=="function"?a(s):a}function yy(a,s){const{type:l="all",exact:c,fetchStatus:d,predicate:p,queryKey:v,stale:b}=a;if(v){if(c){if(s.queryHash!==Ud(v,s.options))return!1}else if(!ll(s.queryKey,v))return!1}if(l!=="all"){const _=s.isActive();if(l==="active"&&!_||l==="inactive"&&_)return!1}return!(typeof b=="boolean"&&s.isStale()!==b||d&&d!==s.state.fetchStatus||p&&!p(s))}function vy(a,s){const{exact:l,status:c,predicate:d,mutationKey:p}=a;if(p){if(!s.options.mutationKey)return!1;if(l){if(ol(s.options.mutationKey)!==ol(p))return!1}else if(!ll(s.options.mutationKey,p))return!1}return!(c&&s.state.status!==c||d&&!d(s))}function Ud(a,s){return(s?.queryKeyHashFn||ol)(a)}function ol(a){return JSON.stringify(a,(s,l)=>td(l)?Object.keys(l).sort().reduce((c,d)=>(c[d]=l[d],c),{}):l)}function ll(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?Object.keys(s).every(l=>ll(a[l],s[l])):!1}var BS=Object.prototype.hasOwnProperty;function x0(a,s){if(a===s)return a;const l=_y(a)&&_y(s);if(!l&&!(td(a)&&td(s)))return s;const d=(l?a:Object.keys(a)).length,p=l?s:Object.keys(s),v=p.length,b=l?new Array(v):{};let _=0;for(let x=0;x<v;x++){const T=l?x:p[x],S=a[T],R=s[T];if(S===R){b[T]=S,(l?x<d:BS.call(a,T))&&_++;continue}if(S===null||R===null||typeof S!="object"||typeof R!="object"){b[T]=R;continue}const P=x0(S,R);b[T]=P,P===S&&_++}return d===v&&_===d?a:b}function _y(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function td(a){if(!by(a))return!1;const s=a.constructor;if(s===void 0)return!0;const l=s.prototype;return!(!by(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function by(a){return Object.prototype.toString.call(a)==="[object Object]"}function RS(a){return new Promise(s=>{Wh.setTimeout(s,a)})}function kS(a,s,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,s):l.structuralSharing!==!1?x0(a,s):s}function DS(a,s,l=0){const c=[...a,s];return l&&c.length>l?c.slice(1):c}function US(a,s,l=0){const c=[s,...a];return l&&c.length>l?c.slice(0,-1):c}var Hd=Symbol();function E0(a,s){return!a.queryFn&&s?.initialPromise?()=>s.initialPromise:!a.queryFn||a.queryFn===Hd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var HS=class extends yc{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!vc&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(s=>{s(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},S0=new HS;function jS(){let a,s;const l=new Promise((d,p)=>{a=d,s=p});l.status="pending",l.catch(()=>{});function c(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{c({status:"fulfilled",value:d}),a(d)},l.reject=d=>{c({status:"rejected",reason:d}),s(d)},l}var ZS=LS;function PS(){let a=[],s=0,l=b=>{b()},c=b=>{b()},d=ZS;const p=b=>{s?a.push(b):d(()=>{l(b)})},v=()=>{const b=a;a=[],b.length&&d(()=>{c(()=>{b.forEach(_=>{l(_)})})})};return{batch:b=>{let _;s++;try{_=b()}finally{s--,s||v()}return _},batchCalls:b=>(..._)=>{p(()=>{b(..._)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{c=b},setScheduler:b=>{d=b}}}var Fe=PS(),qS=class extends yc{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!vc&&window.addEventListener){const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},tc=new qS;function GS(a){return Math.min(1e3*2**a,3e4)}function T0(a){return(a??"online")==="online"?tc.isOnline():!0}var ed=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function A0(a){let s=!1,l=0,c;const d=jS(),p=()=>d.status!=="pending",v=M=>{if(!p()){const D=new ed(M);R(D),a.onCancel?.(D)}},b=()=>{s=!0},_=()=>{s=!1},x=()=>S0.isFocused()&&(a.networkMode==="always"||tc.isOnline())&&a.canRun(),T=()=>T0(a.networkMode)&&a.canRun(),S=M=>{p()||(c?.(),d.resolve(M))},R=M=>{p()||(c?.(),d.reject(M))},P=()=>new Promise(M=>{c=D=>{(p()||x())&&M(D)},a.onPause?.()}).then(()=>{c=void 0,p()||a.onContinue?.()}),H=()=>{if(p())return;let M;const D=l===0?a.initialPromise:void 0;try{M=D??a.fn()}catch(V){M=Promise.reject(V)}Promise.resolve(M).then(S).catch(V=>{if(p())return;const it=a.retry??(vc?0:3),tt=a.retryDelay??GS,gt=typeof tt=="function"?tt(l,V):tt,yt=it===!0||typeof it=="number"&&l<it||typeof it=="function"&&it(l,V);if(s||!yt){R(V);return}l++,a.onFail?.(l,V),RS(gt).then(()=>x()?void 0:P()).then(()=>{s?R(V):H()})})};return{promise:d,status:()=>d.status,cancel:v,continue:()=>(c?.(),d),cancelRetry:b,continueRetry:_,canStart:T,start:()=>(T()?H():P().then(H),d)}}var z0=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MS(this.gcTime)&&(this.#t=Wh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(vc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Wh.clearTimeout(this.#t),this.#t=void 0)}},YS=class extends z0{#t;#e;#n;#a;#i;#s;#o;constructor(a){super(),this.#o=!1,this.#s=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=xy(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#s,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=xy(this.options);s.data!==void 0&&(this.setState(wy(s.data,s.dataUpdatedAt)),this.#t=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,s){const l=kS(this.state.data,a,this.options);return this.#r({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(a,s){this.#r({type:"setState",state:a,setStateOptions:s})}cancel(a){const s=this.#i?.promise;return this.#i?.cancel(a),s?s.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>NS(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>$h(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!OS(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(s=>s!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(a,s){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=E0(this.options,s),x=(()=>{const T={client:this.#a,queryKey:this.queryKey,meta:this.meta};return c(T),T})();return this.#o=!1,this.options.persister?this.options.persister(b,x,this):b(x)},v=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return c(b),b})();this.options.behavior?.onFetch(v,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==v.fetchOptions?.meta)&&this.#r({type:"fetch",meta:v.fetchOptions?.meta}),this.#i=A0({initialPromise:s?.initialPromise,fn:v.fetchFn,onCancel:b=>{b instanceof ed&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,_)=>{this.#r({type:"failed",failureCount:b,error:_})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay,networkMode:v.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof ed){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#r({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#r(a){const s=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...VS(l.data,this.options),fetchMeta:a.meta??null};case"success":const c={...l,...wy(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?c:void 0,c;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=s(this.state),Fe.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function VS(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T0(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function wy(a,s){return{data:a,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xy(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,l=s!==void 0,c=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:l?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function Ey(a){return{onFetch:(s,l)=>{const c=s.options,d=s.fetchOptions?.meta?.fetchMore?.direction,p=s.state.data?.pages||[],v=s.state.data?.pageParams||[];let b={pages:[],pageParams:[]},_=0;const x=async()=>{let T=!1;const S=H=>{Object.defineProperty(H,"signal",{enumerable:!0,get:()=>(s.signal.aborted?T=!0:s.signal.addEventListener("abort",()=>{T=!0}),s.signal)})},R=E0(s.options,s.fetchOptions),P=async(H,M,D)=>{if(T)return Promise.reject();if(M==null&&H.pages.length)return Promise.resolve(H);const it=(()=>{const at={client:s.client,queryKey:s.queryKey,pageParam:M,direction:D?"backward":"forward",meta:s.options.meta};return S(at),at})(),tt=await R(it),{maxPages:gt}=s.options,yt=D?US:DS;return{pages:yt(H.pages,tt,gt),pageParams:yt(H.pageParams,M,gt)}};if(d&&p.length){const H=d==="backward",M=H?KS:Sy,D={pages:p,pageParams:v},V=M(c,D);b=await P(D,V,H)}else{const H=a??p.length;do{const M=_===0?v[0]??c.initialPageParam:Sy(c,b);if(_>0&&M==null)break;b=await P(b,M),_++}while(_<H)}return b};s.options.persister?s.fetchFn=()=>s.options.persister?.(x,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},l):s.fetchFn=x}}}function Sy(a,{pages:s,pageParams:l}){const c=s.length-1;return s.length>0?a.getNextPageParam(s[c],s,l[c],l):void 0}function KS(a,{pages:s,pageParams:l}){return s.length>0?a.getPreviousPageParam?.(s[0],s,l[0],l):void 0}var QS=class extends z0{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||XS(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(s=>s!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const s=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=A0({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,v)=>{this.#i({type:"failed",failureCount:p,error:v})},onPause:()=>{this.#i({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const c=this.state.status==="pending",d=!this.#a.canStart();try{if(c)s();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const v=await this.options.onMutate?.(a,l);v!==this.state.context&&this.#i({type:"pending",context:v,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const s=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Fe.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function XS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var IS=class extends yc{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,s,l){const c=new QS({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(s),state:l});return this.add(c),c}add(a){this.#t.add(a);const s=qu(a);if(typeof s=="string"){const l=this.#e.get(s);l?l.push(a):this.#e.set(s,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const s=qu(a);if(typeof s=="string"){const l=this.#e.get(s);if(l)if(l.length>1){const c=l.indexOf(a);c!==-1&&l.splice(c,1)}else l[0]===a&&this.#e.delete(s)}}this.notify({type:"removed",mutation:a})}canRun(a){const s=qu(a);if(typeof s=="string"){const c=this.#e.get(s)?.find(d=>d.state.status==="pending");return!c||c===a}else return!0}runNext(a){const s=qu(a);return typeof s=="string"?this.#e.get(s)?.find(c=>c!==a&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fe.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const s={exact:!0,...a};return this.getAll().find(l=>vy(s,l))}findAll(a={}){return this.getAll().filter(s=>vy(a,s))}notify(a){Fe.batch(()=>{this.listeners.forEach(s=>{s(a)})})}resumePausedMutations(){const a=this.getAll().filter(s=>s.state.isPaused);return Fe.batch(()=>Promise.all(a.map(s=>s.continue().catch(In))))}};function qu(a){return a.options.scope?.id}var JS=class extends yc{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,s,l){const c=s.queryKey,d=s.queryHash??Ud(c,s);let p=this.get(d);return p||(p=new YS({client:a,queryKey:c,queryHash:d,options:a.defaultQueryOptions(s),state:l,defaultOptions:a.getQueryDefaults(c)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const s=this.#t.get(a.queryHash);s&&(a.destroy(),s===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Fe.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const s={exact:!0,...a};return this.getAll().find(l=>yy(s,l))}findAll(a={}){const s=this.getAll();return Object.keys(a).length>0?s.filter(l=>yy(a,l)):s}notify(a){Fe.batch(()=>{this.listeners.forEach(s=>{s(a)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},FS=class{#t;#e;#n;#a;#i;#s;#o;#r;constructor(a={}){this.#t=a.queryCache||new JS,this.#e=a.mutationCache||new IS,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=S0.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=tc.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),l=this.#t.build(this,s),c=l.state.data;return c===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime($h(s.staleTime,l))&&this.prefetchQuery(s),Promise.resolve(c))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:s,state:l})=>{const c=l.data;return[s,c]})}setQueryData(a,s,l){const c=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(c.queryHash)?.state.data,v=CS(s,p);if(v!==void 0)return this.#t.build(this,c).setData(v,{...l,manual:!0})}setQueriesData(a,s,l){return Fe.batch(()=>this.#t.findAll(a).map(({queryKey:c})=>[c,this.setQueryData(c,s,l)]))}getQueryState(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state}removeQueries(a){const s=this.#t;Fe.batch(()=>{s.findAll(a).forEach(l=>{s.remove(l)})})}resetQueries(a,s){const l=this.#t;return Fe.batch(()=>(l.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const l={revert:!0,...s},c=Fe.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(c).then(In).catch(In)}invalidateQueries(a,s={}){return Fe.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},s)))}refetchQueries(a,s={}){const l={...s,cancelRefetch:s.cancelRefetch??!0},c=Fe.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(In)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(c).then(In)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const l=this.#t.build(this,s);return l.isStaleByTime($h(s.staleTime,l))?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(In).catch(In)}fetchInfiniteQuery(a){return a.behavior=Ey(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(In).catch(In)}ensureInfiniteQueryData(a){return a.behavior=Ey(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return tc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,s){this.#a.set(ol(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...this.#a.values()],l={};return s.forEach(c=>{ll(a,c.queryKey)&&Object.assign(l,c.defaultOptions)}),l}setMutationDefaults(a,s){this.#i.set(ol(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...this.#i.values()],l={};return s.forEach(c=>{ll(a,c.mutationKey)&&Object.assign(l,c.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const s={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=Ud(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Hd&&(s.enabled=!1),s}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},WS=ht.createContext(void 0),$S=({client:a,children:s})=>(ht.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),O.jsx(WS.Provider,{value:a,children:s}));const tT=new FS;$_.createRoot(document.getElementById("root")).render(O.jsx(Vu.StrictMode,{children:O.jsx($S,{client:tT,children:O.jsx(nE,{children:O.jsx(TS,{})})})}));
