(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function sd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wh={exports:{}},ll={};var qg;function ob(){if(qg)return ll;qg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(u,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:u,key:_,ref:d!==void 0?d:null,props:p}}return ll.Fragment=s,ll.jsx=l,ll.jsxs=l,ll}var Gg;function lb(){return Gg||(Gg=1,wh.exports=ob()),wh.exports}var w=lb(),Sh={exports:{}},Dt={};var Vg;function ub(){if(Vg)return Dt;Vg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function R(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function U(z,P,st){this.props=z,this.context=P,this.refs=D,this.updater=st||Z}U.prototype.isReactComponent={},U.prototype.setState=function(z,P){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,P,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function $(){}$.prototype=U.prototype;function W(z,P,st){this.props=z,this.context=P,this.refs=D,this.updater=st||Z}var gt=W.prototype=new $;gt.constructor=W,M(gt,U.prototype),gt.isPureReactComponent=!0;var dt=Array.isArray;function rt(){}var F={H:null,A:null,T:null,S:null},lt=Object.prototype.hasOwnProperty;function wt(z,P,st){var ot=st.ref;return{$$typeof:a,type:z,key:P,ref:ot!==void 0?ot:null,props:st}}function xt(z,P){return wt(z.type,P,z.props)}function mt(z){return typeof z=="object"&&z!==null&&z.$$typeof===a}function vt(z){var P={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(st){return P[st]})}var Ct=/\/+/g;function Nt(z,P){return typeof z=="object"&&z!==null&&z.key!=null?vt(""+z.key):P.toString(36)}function at(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(rt,rt):(z.status="pending",z.then(function(P){z.status==="pending"&&(z.status="fulfilled",z.value=P)},function(P){z.status==="pending"&&(z.status="rejected",z.reason=P)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function k(z,P,st,ot,ht){var ct=typeof z;(ct==="undefined"||ct==="boolean")&&(z=null);var Mt=!1;if(z===null)Mt=!0;else switch(ct){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(z.$$typeof){case a:case s:Mt=!0;break;case T:return Mt=z._init,k(Mt(z._payload),P,st,ot,ht)}}if(Mt)return ht=ht(z),Mt=ot===""?"."+Nt(z,0):ot,dt(ht)?(st="",Mt!=null&&(st=Mt.replace(Ct,"$&/")+"/"),k(ht,P,st,"",function(xe){return xe})):ht!=null&&(mt(ht)&&(ht=xt(ht,st+(ht.key==null||z&&z.key===ht.key?"":(""+ht.key).replace(Ct,"$&/")+"/")+Mt)),P.push(ht)),1;Mt=0;var Xt=ot===""?".":ot+":";if(dt(z))for(var Pt=0;Pt<z.length;Pt++)ot=z[Pt],ct=Xt+Nt(ot,Pt),Mt+=k(ot,P,st,ct,ht);else if(Pt=R(z),typeof Pt=="function")for(z=Pt.call(z),Pt=0;!(ot=z.next()).done;)ot=ot.value,ct=Xt+Nt(ot,Pt++),Mt+=k(ot,P,st,ct,ht);else if(ct==="object"){if(typeof z.then=="function")return k(at(z),P,st,ot,ht);throw P=String(z),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function K(z,P,st){if(z==null)return z;var ot=[],ht=0;return k(z,ot,"","",function(ct){return P.call(st,ct,ht++)}),ot}function I(z){if(z._status===-1){var P=z._result;P=P(),P.then(function(st){(z._status===0||z._status===-1)&&(z._status=1,z._result=st)},function(st){(z._status===0||z._status===-1)&&(z._status=2,z._result=st)}),z._status===-1&&(z._status=0,z._result=P)}if(z._status===1)return z._result.default;throw z._result}var ft=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},it={map:K,forEach:function(z,P,st){K(z,function(){P.apply(this,arguments)},st)},count:function(z){var P=0;return K(z,function(){P++}),P},toArray:function(z){return K(z,function(P){return P})||[]},only:function(z){if(!mt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Dt.Activity=A,Dt.Children=it,Dt.Component=U,Dt.Fragment=l,Dt.Profiler=d,Dt.PureComponent=W,Dt.StrictMode=u,Dt.Suspense=v,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return F.H.useMemoCache(z)}},Dt.cache=function(z){return function(){return z.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(z,P,st){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ot=M({},z.props),ht=z.key;if(P!=null)for(ct in P.key!==void 0&&(ht=""+P.key),P)!lt.call(P,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&P.ref===void 0||(ot[ct]=P[ct]);var ct=arguments.length-2;if(ct===1)ot.children=st;else if(1<ct){for(var Mt=Array(ct),Xt=0;Xt<ct;Xt++)Mt[Xt]=arguments[Xt+2];ot.children=Mt}return wt(z.type,ht,ot)},Dt.createContext=function(z){return z={$$typeof:_,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:p,_context:z},z},Dt.createElement=function(z,P,st){var ot,ht={},ct=null;if(P!=null)for(ot in P.key!==void 0&&(ct=""+P.key),P)lt.call(P,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ht[ot]=P[ot]);var Mt=arguments.length-2;if(Mt===1)ht.children=st;else if(1<Mt){for(var Xt=Array(Mt),Pt=0;Pt<Mt;Pt++)Xt[Pt]=arguments[Pt+2];ht.children=Xt}if(z&&z.defaultProps)for(ot in Mt=z.defaultProps,Mt)ht[ot]===void 0&&(ht[ot]=Mt[ot]);return wt(z,ct,ht)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(z){return{$$typeof:b,render:z}},Dt.isValidElement=mt,Dt.lazy=function(z){return{$$typeof:T,_payload:{_status:-1,_result:z},_init:I}},Dt.memo=function(z,P){return{$$typeof:x,type:z,compare:P===void 0?null:P}},Dt.startTransition=function(z){var P=F.T,st={};F.T=st;try{var ot=z(),ht=F.S;ht!==null&&ht(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(rt,ft)}catch(ct){ft(ct)}finally{P!==null&&st.types!==null&&(P.types=st.types),F.T=P}},Dt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Dt.use=function(z){return F.H.use(z)},Dt.useActionState=function(z,P,st){return F.H.useActionState(z,P,st)},Dt.useCallback=function(z,P){return F.H.useCallback(z,P)},Dt.useContext=function(z){return F.H.useContext(z)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(z,P){return F.H.useDeferredValue(z,P)},Dt.useEffect=function(z,P){return F.H.useEffect(z,P)},Dt.useEffectEvent=function(z){return F.H.useEffectEvent(z)},Dt.useId=function(){return F.H.useId()},Dt.useImperativeHandle=function(z,P,st){return F.H.useImperativeHandle(z,P,st)},Dt.useInsertionEffect=function(z,P){return F.H.useInsertionEffect(z,P)},Dt.useLayoutEffect=function(z,P){return F.H.useLayoutEffect(z,P)},Dt.useMemo=function(z,P){return F.H.useMemo(z,P)},Dt.useOptimistic=function(z,P){return F.H.useOptimistic(z,P)},Dt.useReducer=function(z,P,st){return F.H.useReducer(z,P,st)},Dt.useRef=function(z){return F.H.useRef(z)},Dt.useState=function(z){return F.H.useState(z)},Dt.useSyncExternalStore=function(z,P,st){return F.H.useSyncExternalStore(z,P,st)},Dt.useTransition=function(){return F.H.useTransition()},Dt.version="19.2.3",Dt}var Yg;function rd(){return Yg||(Yg=1,Sh.exports=ub()),Sh.exports}var X=rd();const hl=sd(X);var Eh={exports:{}},ul={},Th={exports:{}},Ah={};var Ig;function cb(){return Ig||(Ig=1,(function(a){function s(k,K){var I=k.length;k.push(K);t:for(;0<I;){var ft=I-1>>>1,it=k[ft];if(0<d(it,K))k[ft]=K,k[I]=it,I=ft;else break t}}function l(k){return k.length===0?null:k[0]}function u(k){if(k.length===0)return null;var K=k[0],I=k.pop();if(I!==K){k[0]=I;t:for(var ft=0,it=k.length,z=it>>>1;ft<z;){var P=2*(ft+1)-1,st=k[P],ot=P+1,ht=k[ot];if(0>d(st,I))ot<it&&0>d(ht,st)?(k[ft]=ht,k[ot]=I,ft=ot):(k[ft]=st,k[P]=I,ft=P);else if(ot<it&&0>d(ht,I))k[ft]=ht,k[ot]=I,ft=ot;else break t}}return K}function d(k,K){var I=k.sortIndex-K.sortIndex;return I!==0?I:k.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var _=Date,b=_.now();a.unstable_now=function(){return _.now()-b}}var v=[],x=[],T=1,A=null,N=3,R=!1,Z=!1,M=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function gt(k){for(var K=l(x);K!==null;){if(K.callback===null)u(x);else if(K.startTime<=k)u(x),K.sortIndex=K.expirationTime,s(v,K);else break;K=l(x)}}function dt(k){if(M=!1,gt(k),!Z)if(l(v)!==null)Z=!0,rt||(rt=!0,vt());else{var K=l(x);K!==null&&at(dt,K.startTime-k)}}var rt=!1,F=-1,lt=5,wt=-1;function xt(){return D?!0:!(a.unstable_now()-wt<lt)}function mt(){if(D=!1,rt){var k=a.unstable_now();wt=k;var K=!0;try{t:{Z=!1,M&&(M=!1,$(F),F=-1),R=!0;var I=N;try{e:{for(gt(k),A=l(v);A!==null&&!(A.expirationTime>k&&xt());){var ft=A.callback;if(typeof ft=="function"){A.callback=null,N=A.priorityLevel;var it=ft(A.expirationTime<=k);if(k=a.unstable_now(),typeof it=="function"){A.callback=it,gt(k),K=!0;break e}A===l(v)&&u(v),gt(k)}else u(v);A=l(v)}if(A!==null)K=!0;else{var z=l(x);z!==null&&at(dt,z.startTime-k),K=!1}}break t}finally{A=null,N=I,R=!1}K=void 0}}finally{K?vt():rt=!1}}}var vt;if(typeof W=="function")vt=function(){W(mt)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Nt=Ct.port2;Ct.port1.onmessage=mt,vt=function(){Nt.postMessage(null)}}else vt=function(){U(mt,0)};function at(k,K){F=U(function(){k(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(k){switch(N){case 1:case 2:case 3:var K=3;break;default:K=N}var I=N;N=K;try{return k()}finally{N=I}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=N;N=k;try{return K()}finally{N=I}},a.unstable_scheduleCallback=function(k,K,I){var ft=a.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ft+I:ft):I=ft,k){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=I+it,k={id:T++,callback:K,priorityLevel:k,startTime:I,expirationTime:it,sortIndex:-1},I>ft?(k.sortIndex=I,s(x,k),l(v)===null&&k===l(x)&&(M?($(F),F=-1):M=!0,at(dt,I-ft))):(k.sortIndex=it,s(v,k),Z||R||(Z=!0,rt||(rt=!0,vt()))),k},a.unstable_shouldYield=xt,a.unstable_wrapCallback=function(k){var K=N;return function(){var I=N;N=K;try{return k.apply(this,arguments)}finally{N=I}}}})(Ah)),Ah}var Kg;function fb(){return Kg||(Kg=1,Th.exports=cb()),Th.exports}var zh={exports:{}},rn={};var Qg;function hb(){if(Qg)return rn;Qg=1;var a=rd();function s(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(v,x,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:A==null?null:""+A,children:v,containerInfo:x,implementation:T}}var _=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,rn.createPortal=function(v,x){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(s(299));return p(v,x,null,T)},rn.flushSync=function(v){var x=_.T,T=u.p;try{if(_.T=null,u.p=2,v)return v()}finally{_.T=x,u.p=T,u.d.f()}},rn.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,u.d.C(v,x))},rn.prefetchDNS=function(v){typeof v=="string"&&u.d.D(v)},rn.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var T=x.as,A=b(T,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,R=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;T==="style"?u.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:R}):T==="script"&&u.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:R,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},rn.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var T=b(x.as,x.crossOrigin);u.d.M(v,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&u.d.M(v)},rn.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var T=x.as,A=b(T,x.crossOrigin);u.d.L(v,T,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},rn.preloadModule=function(v,x){if(typeof v=="string")if(x){var T=b(x.as,x.crossOrigin);u.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else u.d.m(v)},rn.requestFormReset=function(v){u.d.r(v)},rn.unstable_batchedUpdates=function(v,x){return v(x)},rn.useFormState=function(v,x,T){return _.H.useFormState(v,x,T)},rn.useFormStatus=function(){return _.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var Xg;function D0(){if(Xg)return zh.exports;Xg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),zh.exports=hb(),zh.exports}var Fg;function db(){if(Fg)return ul;Fg=1;var a=fb(),s=rd(),l=D0();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v(t){if(p(t)!==t)throw Error(u(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,o=e;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return v(f),t;if(h===o)return v(f),e;h=h.sibling}throw Error(u(188))}if(i.return!==o.return)i=f,o=h;else{for(var y=!1,E=f.child;E;){if(E===i){y=!0,i=f,o=h;break}if(E===o){y=!0,o=f,i=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===i){y=!0,i=h,o=f;break}if(E===o){y=!0,o=h,i=f;break}E=E.sibling}if(!y)throw Error(u(189))}}if(i.alternate!==o)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function T(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=T(t),e!==null)return e;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),W=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),wt=Symbol.for("react.activity"),xt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function vt(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Symbol.for("react.client.reference");function Nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ct?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case U:return"Profiler";case D:return"StrictMode";case dt:return"Suspense";case rt:return"SuspenseList";case wt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case W:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case gt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return e=t.displayName||null,e!==null?e:Nt(t.type)||"Memo";case lt:e=t._payload,t=t._init;try{return Nt(t(e))}catch{}}return null}var at=Array.isArray,k=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ft=[],it=-1;function z(t){return{current:t}}function P(t){0>it||(t.current=ft[it],ft[it]=null,it--)}function st(t,e){it++,ft[it]=t.current,t.current=e}var ot=z(null),ht=z(null),ct=z(null),Mt=z(null);function Xt(t,e){switch(st(ct,e),st(ht,t),st(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?fg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=fg(e),t=hg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(ot),st(ot,t)}function Pt(){P(ot),P(ht),P(ct)}function xe(t){t.memoizedState!==null&&st(Mt,t);var e=ot.current,i=hg(e,t.type);e!==i&&(st(ht,t),st(ot,i))}function en(t){ht.current===t&&(P(ot),P(ht)),Mt.current===t&&(P(Mt),al._currentValue=I)}var ue,Qe;function Ue(t){if(ue===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ue=e&&e[1]||"",Qe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+t+Qe}var Le=!1;function mn(t,e){if(!t||Le)return"";Le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var Y=Q}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(Q){Y=Q}t.call(nt.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var O=y.split(`
`),G=E.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===G.length)for(o=O.length-1,f=G.length-1;1<=o&&0<=f&&O[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==G[f]){var J=`
`+O[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{Le=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ue(i):""}function $n(t,e){switch(t.tag){case 26:case 27:case 5:return Ue(t.type);case 16:return Ue("Lazy");case 13:return t.child!==e&&e!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return mn(t.type,!1);case 11:return mn(t.type.render,!1);case 1:return mn(t.type,!0);case 31:return Ue("Activity");default:return""}}function ti(t){try{var e="",i=null;do e+=$n(t,i),i=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,ut=a.unstable_scheduleCallback,Et=a.unstable_cancelCallback,_t=a.unstable_shouldYield,Ot=a.unstable_requestPaint,Tt=a.unstable_now,Qt=a.unstable_getCurrentPriorityLevel,ce=a.unstable_ImmediatePriority,qe=a.unstable_UserBlockingPriority,ge=a.unstable_NormalPriority,ei=a.unstable_LowPriority,nn=a.unstable_IdlePriority,un=a.log,gi=a.unstable_setDisableYieldValue,Ln=null,Me=null;function pn(t){if(typeof un=="function"&&gi(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Ln,t)}catch{}}var Xe=Math.clz32?Math.clz32:ao,Hi=Math.log,Sl=Math.LN2;function ao(t){return t>>>=0,t===0?32:31-(Hi(t)/Sl|0)|0}var Pi=256,ni=262144,Zi=4194304;function qi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rr(t,e,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~h,o!==0?f=qi(o):(y&=E,y!==0?f=qi(y):i||(i=E&~t,i!==0&&(f=qi(i))))):(E=o&~h,E!==0?f=qi(E):y!==0?f=qi(y):i||(i=o&~t,i!==0&&(f=qi(i)))),f===0?0:e!==0&&e!==f&&(e&h)===0&&(h=f&-f,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:f}function ps(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Cc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function El(){var t=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),t}function so(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Gi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lc(t,e,i,o,f,h){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,G=t.hiddenUpdates;for(i=y&~i;0<i;){var J=31-Xe(i),nt=1<<J;E[J]=0,O[J]=-1;var Y=G[J];if(Y!==null)for(G[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}i&=~nt}o!==0&&Tl(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~e))}function Tl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Xe(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function Al(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-Xe(i),f=1<<o;f&e|t[o]&e&&(t[o]|=e),i&=~f}}function zl(t,e){var i=e&-e;return i=(i&42)!==0?1:gn(i),(i&(t.suspendedLanes|e))!==0?0:i}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function At(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ro(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Bg(t.type))}function oo(t,e){var i=K.p;try{return K.p=t,e()}finally{K.p=i}}var ii=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ii,Ge="__reactProps$"+ii,Vi="__reactContainer$"+ii,yi="__reactEvents$"+ii,Cl="__reactListeners$"+ii,Mc="__reactHandles$"+ii,Ll="__reactResources$"+ii,gs="__reactMarker$"+ii;function lo(t){delete t[Ne],delete t[Ge],delete t[yi],delete t[Cl],delete t[Mc]}function Yi(t){var e=t[Ne];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Vi]||i[Ne]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=_g(t);t!==null;){if(i=t[Ne])return i;t=_g(t)}return e}t=i,i=t.parentNode}return null}function Sa(t){if(t=t[Ne]||t[Vi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function vi(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function Ea(t){var e=t[Ll];return e||(e=t[Ll]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Oe(t){t[gs]=!0}var Ml=new Set,Nl={};function Ii(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(Nl[t]=e,t=0;t<e.length;t++)Ml.add(e[t])}var ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uo={},co={};function vs(t){return yt.call(co,t)?!0:yt.call(uo,t)?!1:ys.test(t)?co[t]=!0:(uo[t]=!0,!1)}function Zt(t,e,i){if(vs(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function se(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function yn(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function He(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fo(t,e,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(y){i=""+y,h.call(this,y)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bt(t){if(!t._valueTracker){var e=Ki(t)?"checked":"value";t._valueTracker=fo(t,e,""+t[e])}}function ye(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=Ki(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var or=/[\n"\\]/g;function de(t){return t.replace(or,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ho(t,e,i,o,f,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+He(e)):t.value!==""+He(e)&&(t.value=""+He(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?ai(t,y,He(e)):i!=null?ai(t,y,He(i)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+He(E):t.removeAttribute("name")}function _s(t,e,i,o,f,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Bt(t);return}i=i!=null?""+He(i):"",e=e!=null?""+He(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Bt(t)}function ai(t,e,i){e==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function fe(t,e,i,o){if(t=t.options,e){e={};for(var f=0;f<i.length;f++)e["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=e.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+He(i),e=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function bi(t,e,i){if(e!=null&&(e=""+He(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+He(i):""}function Aa(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(u(92));if(at(o)){if(1<o.length)throw Error(u(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=He(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Bt(t)}function Hn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function za(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||mo.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function lr(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in e)o=e[f],e.hasOwnProperty(f)&&i[f]!==o&&za(t,f,o)}else for(var h in e)e.hasOwnProperty(h)&&za(t,h,e[h])}function bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ur=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return po.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vn(){}var cr=null;function xs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var La=null,Rt=null;function Mn(t){var e=Sa(t);if(e&&(t=e.stateNode)){var i=t[Ge]||null;t:switch(t=e.stateNode,e.type){case"input":if(ho(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+de(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var f=o[Ge]||null;if(!f)throw Error(u(90));ho(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&ye(o)}break t;case"textarea":bi(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&fe(t,!!i.multiple,e,!1)}}}var ne=!1;function go(t,e,i){if(ne)return t(e,i);ne=!0;try{var o=t(e);return o}finally{if(ne=!1,(La!==null||Rt!==null)&&(zu(),La&&(e=La,t=Rt,Rt=La=null,Mn(e),t)))for(e=0;e<t.length;e++)Mn(t[e])}}function Qi(t,e){var i=t.stateNode;if(i===null)return null;var o=i[Ge]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(Nn)try{var On={};Object.defineProperty(On,"passive",{get:function(){ws=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{ws=!1}var Pn=null,Xi=null,we=null;function xi(){if(we)return we;var t,e=Xi,i=e.length,o,f="value"in Pn?Pn.value:Pn.textContent,h=f.length;for(t=0;t<i&&e[t]===f[t];t++);var y=i-t;for(o=1;o<=y&&e[i-o]===f[h-o];o++);return we=f.slice(t,1<o?1-o:void 0)}function Ss(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function Ol(){return!1}function Fe(t){function e(i,o,f,h,y){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Es:Ol,this.isPropagationStopped=Ol,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=Fe(si),Ma=A({},si,{view:0,detail:0}),Yt=Fe(Ma),yo,cn,ri,Ts=A({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(yo=t.screenX-ri.screenX,cn=t.screenY-ri.screenY):cn=yo=0,ri=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),kl=Fe(Ts),vo=A({},Ts,{dataTransfer:0}),Nc=Fe(vo),Rl=A({},Ma,{relatedTarget:0}),_o=Fe(Rl),Oc=A({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),bo=Fe(Oc),kc=A({},si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zn=Fe(kc),Rc=A({},si,{data:0}),xo=Fe(Rc),wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dl[t])?!!e[t]:!1}function So(){return wo}var jl=A({},Ma,{key:function(t){if(t.key){var e=wi[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ul=Fe(jl),Bc=A({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Fe(Bc),Eo=A({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),Dc=Fe(Eo),Pl=A({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zl=Fe(Pl),hr=A({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fi=Fe(hr),jc=A({},si,{newState:0,oldState:0}),As=Fe(jc),_n=[9,13,27,32],dr=Nn&&"CompositionEvent"in window,Na=null;Nn&&"documentMode"in document&&(Na=document.documentMode);var Uc=Nn&&"TextEvent"in window&&!Na,mr=Nn&&(!dr||Na&&8<Na&&11>=Na),pr=" ",ql=!1;function Gl(t,e){switch(t){case"keyup":return _n.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function To(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function kn(t,e){switch(t){case"compositionend":return To(e);case"keypress":return e.which!==32?null:(ql=!0,pr);case"textInput":return t=e.data,t===pr&&ql?null:t;default:return null}}function ka(t,e){if(Oa)return t==="compositionend"||!dr&&Gl(t,e)?(t=xi(),we=Xi=Pn=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mr&&e.locale!=="ko"?null:e.data;default:return null}}var Hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hc[t.type]:e==="textarea"}function Vl(t,e,i,o){La?Rt?Rt.push(o):Rt=[o]:La=o,e=Ru(e,"onChange"),0<e.length&&(i=new fr("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var Gn=null,zs=null;function Cs(t){sg(t,0)}function Ls(t){var e=vi(t);if(ye(e))return t}function Ms(t,e){if(t==="change")return e}var Yl=!1;if(Nn){var Vn;if(Nn){var Ra="oninput"in document;if(!Ra){var Il=document.createElement("div");Il.setAttribute("oninput","return;"),Ra=typeof Il.oninput=="function"}Vn=Ra}else Vn=!1;Yl=Vn&&(!document.documentMode||9<document.documentMode)}function gr(){Gn&&(Gn.detachEvent("onpropertychange",Kl),zs=Gn=null)}function Kl(t){if(t.propertyName==="value"&&Ls(zs)){var e=[];Vl(e,zs,t,xs(t)),go(Cs,e)}}function oi(t,e,i){t==="focusin"?(gr(),Gn=e,zs=i,Gn.attachEvent("onpropertychange",Kl)):t==="focusout"&&gr()}function Pc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ls(zs)}function Ba(t,e){if(t==="click")return Ls(e)}function Zc(t,e){if(t==="input"||t==="change")return Ls(e)}function li(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ve=typeof Object.is=="function"?Object.is:li;function Da(t,e){if(Ve(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!yt.call(e,f)||!Ve(t[f],e[f]))return!1}return!0}function yr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ns(t,e){var i=yr(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=yr(i)}}function vr(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vr(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Os(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ta(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ta(t.document)}return e}function Si(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var _r=Nn&&"documentMode"in document&&11>=document.documentMode,Ei=null,br=null,ks=null,ja=!1;function Ql(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ja||Ei==null||Ei!==Ta(o)||(o=Ei,"selectionStart"in o&&Si(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ks&&Da(ks,o)||(ks=o,o=Ru(br,"onSelect"),0<o.length&&(e=new fr("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=Ei)))}function Ti(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ua={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},xr={},Xl={};Nn&&(Xl=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Ye(t){if(xr[t])return xr[t];if(!Ua[t])return t;var e=Ua[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Xl)return xr[t]=e[i];return t}var Rs=Ye("animationend"),Fl=Ye("animationiteration"),Bs=Ye("animationstart"),qc=Ye("transitionrun"),Jl=Ye("transitionstart"),Gc=Ye("transitioncancel"),Ha=Ye("transitionend"),Wl=new Map,Ai="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ai.push("scrollEnd");function bn(t,e){Wl.set(t,e),Ii(e,[t])}var Ds=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],an=0,wr=0;function js(){for(var t=an,e=wr=an=0;e<t;){var i=xn[e];xn[e++]=null;var o=xn[e];xn[e++]=null;var f=xn[e];xn[e++]=null;var h=xn[e];if(xn[e++]=null,o!==null&&f!==null){var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}h!==0&&Pa(i,f,h)}}function zi(t,e,i,o){xn[an++]=t,xn[an++]=e,xn[an++]=i,xn[an++]=o,wr|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ao(t,e,i,o){return zi(t,e,i,o),Us(t)}function Yn(t,e){return zi(t,null,null,e),Us(t)}function Pa(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&e!==null&&(f=31-Xe(i),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[e]:o.push(e),e.lane=i|536870912),h):null}function Us(t){if(50<Jo)throw Jo=0,If=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ji={};function Vc(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,i,o){return new Vc(t,e,i,o)}function Sr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function In(t,e){var i=t.alternate;return i===null?(i=sn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function zo(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Hs(t,e,i,o,f,h){var y=0;if(o=t,typeof t=="function")Sr(t)&&(y=1);else if(typeof t=="string")y=X_(t,i,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case wt:return t=sn(31,i,e,f),t.elementType=wt,t.lanes=h,t;case M:return Wi(i.children,f,h,e);case D:y=8,f|=24;break;case U:return t=sn(12,i,e,f|2),t.elementType=U,t.lanes=h,t;case dt:return t=sn(13,i,e,f),t.elementType=dt,t.lanes=h,t;case rt:return t=sn(19,i,e,f),t.elementType=rt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:y=10;break t;case $:y=9;break t;case gt:y=11;break t;case F:y=14;break t;case lt:y=16,o=null;break t}y=29,i=Error(u(130,t===null?"null":typeof t,"")),o=null}return e=sn(y,i,e,f),e.elementType=t,e.type=o,e.lanes=h,e}function Wi(t,e,i,o){return t=sn(7,t,o,e),t.lanes=i,t}function Er(t,e,i){return t=sn(6,t,null,e),t.lanes=i,t}function Co(t){var e=sn(18,null,null,0);return e.stateNode=t,e}function Lo(t,e,i){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function r(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ti(e)},n.set(t,e),e)}return{value:t,source:e,stack:ti(e)}}var c=[],m=0,g=null,S=0,C=[],H=0,V=null,et=1,pt="";function zt(t,e){c[m++]=S,c[m++]=g,g=t,S=e}function Ut(t,e,i){C[H++]=et,C[H++]=pt,C[H++]=V,V=t;var o=et;t=pt;var f=32-Xe(o)-1;o&=~(1<<f),i+=1;var h=32-Xe(e)+f;if(30<h){var y=f-f%5;h=(o&(1<<y)-1).toString(32),o>>=y,f-=y,et=1<<32-Xe(e)+f|i<<f|o,pt=h+t}else et=1<<h|i<<f|o,pt=t}function Pe(t){t.return!==null&&(zt(t,1),Ut(t,1,0))}function Se(t){for(;t===g;)g=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===V;)V=C[--H],C[H]=null,pt=C[--H],C[H]=null,et=C[--H],C[H]=null}function fn(t,e){C[H++]=et,C[H++]=pt,C[H++]=V,et=e.id,pt=e.overflow,V=t}var Ft=null,Jt=null,qt=!1,Ci=null,wn=!1,Tr=Error(u(519));function Li(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(r(e,t)),Tr}function Mo(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[Ne]=t,e[Ge]=o,i){case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":case"embed":Vt("load",e);break;case"video":case"audio":for(i=0;i<$o.length;i++)Vt($o[i],e);break;case"source":Vt("error",e);break;case"img":case"image":case"link":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"input":Vt("invalid",e),_s(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",e);break;case"textarea":Vt("invalid",e),Aa(e,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||ug(e.textContent,i)?(o.popover!=null&&(Vt("beforetoggle",e),Vt("toggle",e)),o.onScroll!=null&&Vt("scroll",e),o.onScrollEnd!=null&&Vt("scrollend",e),o.onClick!=null&&(e.onclick=vn),e=!0):e=!1,e||Li(t,!0)}function be(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Ft=Ft.return}}function ui(t){if(t!==Ft)return!1;if(!qt)return be(t),qt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||oh(t.type,t.memoizedProps)),i=!i),i&&Jt&&Li(t),be(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Jt=vg(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Jt=vg(t)}else e===27?(e=Jt,ts(t.type)?(t=hh,hh=null,Jt=t):Jt=e):Jt=Ft?Qn(t.stateNode.nextSibling):null;return!0}function $i(){Jt=Ft=null,qt=!1}function No(){var t=Ci;return t!==null&&(An===null?An=t:An.push.apply(An,t),Ci=null),t}function Ps(t){Ci===null?Ci=[t]:Ci.push(t)}var Zs=z(null),Mi=null,ci=null;function Za(t,e,i){st(Zs,e._currentValue),e._currentValue=i}function ta(t){t._currentValue=Zs.current,P(Zs)}function Yc(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Ic(t,e,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var y=f.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=f;for(var O=0;O<e.length;O++)if(E.context===e[O]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Yc(h.return,i,t),o||(y=null);break t}h=E.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(u(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),Yc(y,i,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ar(t,e,i,o){t=null;for(var f=e,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(u(387));if(y=y.memoizedProps,y!==null){var E=f.type;Ve(f.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(f===Mt.current){if(y=f.alternate,y===null)throw Error(u(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(al):t=[al])}f=f.return}t!==null&&Ic(e,t,i,o),e.flags|=262144}function $l(t){for(t=t.firstContext;t!==null;){if(!Ve(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Mi=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return Qd(Mi,t)}function tu(t,e){return Mi===null&&qs(t),Qd(t,e)}function Qd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ci===null){if(t===null)throw Error(u(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return i}var Yv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Iv=a.unstable_scheduleCallback,Kv=a.unstable_NormalPriority,ke={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Yv,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&Iv(Kv,function(){t.controller.abort()})}var ko=null,Qc=0,zr=0,Cr=null;function Qv(t,e){if(ko===null){var i=ko=[];Qc=0,zr=Wf(),Cr={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Qc++,e.then(Xd,Xd),e}function Xd(){if(--Qc===0&&ko!==null){Cr!==null&&(Cr.status="fulfilled");var t=ko;ko=null,zr=0,Cr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Xv(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var f=0;f<i.length;f++)(0,i[f])(e)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Fd=k.S;k.S=function(t,e){kp=Tt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Qv(t,e),Fd!==null&&Fd(t,e)};var Gs=z(null);function Xc(){var t=Gs.current;return t!==null?t:he.pooledCache}function eu(t,e){e===null?st(Gs,Gs.current):st(Gs,e.pool)}function Jd(){var t=Xc();return t===null?null:{parent:ke._currentValue,pool:t}}var Lr=Error(u(460)),Fc=Error(u(474)),nu=Error(u(542)),iu={then:function(){}};function Wd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $d(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(vn,vn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,em(t),t;default:if(typeof e.status=="string")e.then(vn,vn);else{if(t=he,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=o}},function(o){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,em(t),t}throw Ys=e,Lr}}function Vs(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ys=i,Lr):i}}var Ys=null;function tm(){if(Ys===null)throw Error(u(459));var t=Ys;return Ys=null,t}function em(t){if(t===Lr||t===nu)throw Error(u(483))}var Mr=null,Ro=0;function au(t){var e=Ro;return Ro+=1,Mr===null&&(Mr=[]),$d(Mr,t,e)}function Bo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function su(t,e){throw e.$$typeof===N?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nm(t){function e(j,B){if(t){var q=j.deletions;q===null?(j.deletions=[B],j.flags|=16):q.push(B)}}function i(j,B){if(!t)return null;for(;B!==null;)e(j,B),B=B.sibling;return null}function o(j){for(var B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function f(j,B){return j=In(j,B),j.index=0,j.sibling=null,j}function h(j,B,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<B?(j.flags|=67108866,B):q):(j.flags|=67108866,B)):(j.flags|=1048576,B)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,B,q,tt){return B===null||B.tag!==6?(B=Er(q,j.mode,tt),B.return=j,B):(B=f(B,q),B.return=j,B)}function O(j,B,q,tt){var Lt=q.type;return Lt===M?J(j,B,q.props.children,tt,q.key):B!==null&&(B.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===lt&&Vs(Lt)===B.type)?(B=f(B,q.props),Bo(B,q),B.return=j,B):(B=Hs(q.type,q.key,q.props,null,j.mode,tt),Bo(B,q),B.return=j,B)}function G(j,B,q,tt){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Lo(q,j.mode,tt),B.return=j,B):(B=f(B,q.children||[]),B.return=j,B)}function J(j,B,q,tt,Lt){return B===null||B.tag!==7?(B=Wi(q,j.mode,tt,Lt),B.return=j,B):(B=f(B,q),B.return=j,B)}function nt(j,B,q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Er(""+B,j.mode,q),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return q=Hs(B.type,B.key,B.props,null,j.mode,q),Bo(q,B),q.return=j,q;case Z:return B=Lo(B,j.mode,q),B.return=j,B;case lt:return B=Vs(B),nt(j,B,q)}if(at(B)||vt(B))return B=Wi(B,j.mode,q,null),B.return=j,B;if(typeof B.then=="function")return nt(j,au(B),q);if(B.$$typeof===W)return nt(j,tu(j,B),q);su(j,B)}return null}function Y(j,B,q,tt){var Lt=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Lt!==null?null:E(j,B,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===Lt?O(j,B,q,tt):null;case Z:return q.key===Lt?G(j,B,q,tt):null;case lt:return q=Vs(q),Y(j,B,q,tt)}if(at(q)||vt(q))return Lt!==null?null:J(j,B,q,tt,null);if(typeof q.then=="function")return Y(j,B,au(q),tt);if(q.$$typeof===W)return Y(j,B,tu(j,q),tt);su(j,q)}return null}function Q(j,B,q,tt,Lt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(q)||null,E(B,j,""+tt,Lt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case R:return j=j.get(tt.key===null?q:tt.key)||null,O(B,j,tt,Lt);case Z:return j=j.get(tt.key===null?q:tt.key)||null,G(B,j,tt,Lt);case lt:return tt=Vs(tt),Q(j,B,q,tt,Lt)}if(at(tt)||vt(tt))return j=j.get(q)||null,J(B,j,tt,Lt,null);if(typeof tt.then=="function")return Q(j,B,q,au(tt),Lt);if(tt.$$typeof===W)return Q(j,B,q,tu(B,tt),Lt);su(B,tt)}return null}function bt(j,B,q,tt){for(var Lt=null,Wt=null,St=B,Ht=B=0,Kt=null;St!==null&&Ht<q.length;Ht++){St.index>Ht?(Kt=St,St=null):Kt=St.sibling;var $t=Y(j,St,q[Ht],tt);if($t===null){St===null&&(St=Kt);break}t&&St&&$t.alternate===null&&e(j,St),B=h($t,B,Ht),Wt===null?Lt=$t:Wt.sibling=$t,Wt=$t,St=Kt}if(Ht===q.length)return i(j,St),qt&&zt(j,Ht),Lt;if(St===null){for(;Ht<q.length;Ht++)St=nt(j,q[Ht],tt),St!==null&&(B=h(St,B,Ht),Wt===null?Lt=St:Wt.sibling=St,Wt=St);return qt&&zt(j,Ht),Lt}for(St=o(St);Ht<q.length;Ht++)Kt=Q(St,j,Ht,q[Ht],tt),Kt!==null&&(t&&Kt.alternate!==null&&St.delete(Kt.key===null?Ht:Kt.key),B=h(Kt,B,Ht),Wt===null?Lt=Kt:Wt.sibling=Kt,Wt=Kt);return t&&St.forEach(function(ss){return e(j,ss)}),qt&&zt(j,Ht),Lt}function kt(j,B,q,tt){if(q==null)throw Error(u(151));for(var Lt=null,Wt=null,St=B,Ht=B=0,Kt=null,$t=q.next();St!==null&&!$t.done;Ht++,$t=q.next()){St.index>Ht?(Kt=St,St=null):Kt=St.sibling;var ss=Y(j,St,$t.value,tt);if(ss===null){St===null&&(St=Kt);break}t&&St&&ss.alternate===null&&e(j,St),B=h(ss,B,Ht),Wt===null?Lt=ss:Wt.sibling=ss,Wt=ss,St=Kt}if($t.done)return i(j,St),qt&&zt(j,Ht),Lt;if(St===null){for(;!$t.done;Ht++,$t=q.next())$t=nt(j,$t.value,tt),$t!==null&&(B=h($t,B,Ht),Wt===null?Lt=$t:Wt.sibling=$t,Wt=$t);return qt&&zt(j,Ht),Lt}for(St=o(St);!$t.done;Ht++,$t=q.next())$t=Q(St,j,Ht,$t.value,tt),$t!==null&&(t&&$t.alternate!==null&&St.delete($t.key===null?Ht:$t.key),B=h($t,B,Ht),Wt===null?Lt=$t:Wt.sibling=$t,Wt=$t);return t&&St.forEach(function(rb){return e(j,rb)}),qt&&zt(j,Ht),Lt}function le(j,B,q,tt){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:t:{for(var Lt=q.key;B!==null;){if(B.key===Lt){if(Lt=q.type,Lt===M){if(B.tag===7){i(j,B.sibling),tt=f(B,q.props.children),tt.return=j,j=tt;break t}}else if(B.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===lt&&Vs(Lt)===B.type){i(j,B.sibling),tt=f(B,q.props),Bo(tt,q),tt.return=j,j=tt;break t}i(j,B);break}else e(j,B);B=B.sibling}q.type===M?(tt=Wi(q.props.children,j.mode,tt,q.key),tt.return=j,j=tt):(tt=Hs(q.type,q.key,q.props,null,j.mode,tt),Bo(tt,q),tt.return=j,j=tt)}return y(j);case Z:t:{for(Lt=q.key;B!==null;){if(B.key===Lt)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){i(j,B.sibling),tt=f(B,q.children||[]),tt.return=j,j=tt;break t}else{i(j,B);break}else e(j,B);B=B.sibling}tt=Lo(q,j.mode,tt),tt.return=j,j=tt}return y(j);case lt:return q=Vs(q),le(j,B,q,tt)}if(at(q))return bt(j,B,q,tt);if(vt(q)){if(Lt=vt(q),typeof Lt!="function")throw Error(u(150));return q=Lt.call(q),kt(j,B,q,tt)}if(typeof q.then=="function")return le(j,B,au(q),tt);if(q.$$typeof===W)return le(j,B,tu(j,q),tt);su(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,B!==null&&B.tag===6?(i(j,B.sibling),tt=f(B,q),tt.return=j,j=tt):(i(j,B),tt=Er(q,j.mode,tt),tt.return=j,j=tt),y(j)):i(j,B)}return function(j,B,q,tt){try{Ro=0;var Lt=le(j,B,q,tt);return Mr=null,Lt}catch(St){if(St===Lr||St===nu)throw St;var Wt=sn(29,St,null,j.mode);return Wt.lanes=tt,Wt.return=j,Wt}}}var Is=nm(!0),im=nm(!1),qa=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Va(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ee&2)!==0){var f=o.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),o.pending=e,e=Us(t),Pa(t,null,i),e}return zi(t,o,e,i),Us(t)}function Do(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,Al(t,i)}}function $c(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?f=h=e:h=h.next=e}else f=h=e;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var tf=!1;function jo(){if(tf){var t=Cr;if(t!==null)throw t}}function Uo(t,e,i,o){tf=!1;var f=t.updateQueue;qa=!1;var h=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,G=O.next;O.next=null,y===null?h=G:y.next=G,y=O;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==y&&(E===null?J.firstBaseUpdate=G:E.next=G,J.lastBaseUpdate=O))}if(h!==null){var nt=f.baseState;y=0,J=G=O=null,E=h;do{var Y=E.lane&-536870913,Q=Y!==E.lane;if(Q?(It&Y)===Y:(o&Y)===Y){Y!==0&&Y===zr&&(tf=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var bt=t,kt=E;Y=e;var le=i;switch(kt.tag){case 1:if(bt=kt.payload,typeof bt=="function"){nt=bt.call(le,nt,Y);break t}nt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=kt.payload,Y=typeof bt=="function"?bt.call(le,nt,Y):bt,Y==null)break t;nt=A({},nt,Y);break t;case 2:qa=!0}}Y=E.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(G=J=Q,O=nt):J=J.next=Q,y|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(O=nt),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=J,h===null&&(f.shared.lanes=0),Xa|=y,t.lanes=y,t.memoizedState=nt}}function am(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function sm(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)am(i[t],e)}var Nr=z(null),ru=z(0);function rm(t,e){t=ua,st(ru,t),st(Nr,e),ua=t|e.baseLanes}function ef(){st(ru,ua),st(Nr,Nr.current)}function nf(){ua=ru.current,P(Nr),P(ru)}var Rn=z(null),Kn=null;function Ya(t){var e=t.alternate;st(Ae,Ae.current&1),st(Rn,t),Kn===null&&(e===null||Nr.current!==null||e.memoizedState!==null)&&(Kn=t)}function af(t){st(Ae,Ae.current),st(Rn,t),Kn===null&&(Kn=t)}function om(t){t.tag===22?(st(Ae,Ae.current),st(Rn,t),Kn===null&&(Kn=t)):Ia()}function Ia(){st(Ae,Ae.current),st(Rn,Rn.current)}function Bn(t){P(Rn),Kn===t&&(Kn=null),P(Ae)}var Ae=z(0);function ou(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ch(i)||fh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ea=0,jt=null,re=null,Re=null,lu=!1,Or=!1,Ks=!1,uu=0,Ho=0,kr=null,Fv=0;function Ee(){throw Error(u(321))}function sf(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ve(t[i],e[i]))return!1;return!0}function rf(t,e,i,o,f,h){return ea=h,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?Vm:xf,Ks=!1,h=i(o,f),Ks=!1,Or&&(h=um(e,i,o,f)),lm(t),h}function lm(t){k.H=qo;var e=re!==null&&re.next!==null;if(ea=0,Re=re=jt=null,lu=!1,Ho=0,kr=null,e)throw Error(u(300));t===null||Be||(t=t.dependencies,t!==null&&$l(t)&&(Be=!0))}function um(t,e,i,o){jt=t;var f=0;do{if(Or&&(kr=null),Ho=0,Or=!1,25<=f)throw Error(u(301));if(f+=1,Re=re=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=Ym,h=e(i,o)}while(Or);return h}function Jv(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?Po(e):e,t=t.useState()[0],(re!==null?re.memoizedState:null)!==t&&(jt.flags|=1024),e}function of(){var t=uu!==0;return uu=0,t}function lf(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function uf(t){if(lu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}lu=!1}ea=0,Re=re=jt=null,Or=!1,Ho=uu=0,kr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?jt.memoizedState=Re=t:Re=Re.next=t,Re}function ze(){if(re===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=Re===null?jt.memoizedState:Re.next;if(e!==null)Re=e,re=t;else{if(t===null)throw jt.alternate===null?Error(u(467)):Error(u(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Re===null?jt.memoizedState=Re=t:Re=Re.next=t}return Re}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(t){var e=Ho;return Ho+=1,kr===null&&(kr=[]),t=$d(kr,t,e),e=jt,(Re===null?e.memoizedState:Re.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?Vm:xf),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Po(t);if(t.$$typeof===W)return Je(t)}throw Error(u(438,String(t)))}function cf(t){var e=null,i=jt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=jt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=cu(),jt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=xt;return e.index++,i}function na(t,e){return typeof e=="function"?e(t):e}function hu(t){var e=ze();return ff(e,re,t)}function ff(t,e,i){var o=t.queue;if(o===null)throw Error(u(311));o.lastRenderedReducer=i;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var y=f.next;f.next=h.next,h.next=y}e.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{e=f.next;var E=y=null,O=null,G=e,J=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(It&nt)===nt:(ea&nt)===nt){var Y=G.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===zr&&(J=!0);else if((ea&Y)===Y){G=G.next,Y===zr&&(J=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(E=O=nt,y=h):O=O.next=nt,jt.lanes|=Y,Xa|=Y;nt=G.action,Ks&&i(h,nt),h=G.hasEagerState?G.eagerState:i(h,nt)}else Y={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(E=O=Y,y=h):O=O.next=Y,jt.lanes|=nt,Xa|=nt;G=G.next}while(G!==null&&G!==e);if(O===null?y=h:O.next=E,!Ve(h,t.memoizedState)&&(Be=!0,J&&(i=Cr,i!==null)))throw i;t.memoizedState=h,t.baseState=y,t.baseQueue=O,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function hf(t){var e=ze(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,h=e.memoizedState;if(f!==null){i.pending=null;var y=f=f.next;do h=t(h,y.action),y=y.next;while(y!==f);Ve(h,e.memoizedState)||(Be=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,o]}function cm(t,e,i){var o=jt,f=ze(),h=qt;if(h){if(i===void 0)throw Error(u(407));i=i()}else i=e();var y=!Ve((re||f).memoizedState,i);if(y&&(f.memoizedState=i,Be=!0),f=f.queue,pf(dm.bind(null,o,f,t),[t]),f.getSnapshot!==e||y||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Rr(9,{destroy:void 0},hm.bind(null,o,f,i,e),null),he===null)throw Error(u(349));h||(ea&127)!==0||fm(o,e,i)}return i}function fm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=jt.updateQueue,e===null?(e=cu(),jt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function hm(t,e,i,o){e.value=i,e.getSnapshot=o,mm(e)&&pm(t)}function dm(t,e,i){return i(function(){mm(e)&&pm(t)})}function mm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ve(t,i)}catch{return!0}}function pm(t){var e=Yn(t,2);e!==null&&zn(e,t,2)}function df(t){var e=hn();if(typeof t=="function"){var i=t;if(t=i(),Ks){pn(!0);try{i()}finally{pn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},e}function gm(t,e,i,o){return t.baseState=i,ff(t,re,typeof o=="function"?o:na)}function Wv(t,e,i,o,f){if(pu(t))throw Error(u(485));if(t=e.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};k.T!==null?i(!0):h.isTransition=!1,o(h),i=e.pending,i===null?(h.next=e.pending=h,ym(e,h)):(h.next=i.next,e.pending=i.next=h)}}function ym(t,e){var i=e.action,o=e.payload,f=t.state;if(e.isTransition){var h=k.T,y={};k.T=y;try{var E=i(f,o),O=k.S;O!==null&&O(y,E),vm(t,e,E)}catch(G){mf(t,e,G)}finally{h!==null&&y.types!==null&&(h.types=y.types),k.T=h}}else try{h=i(f,o),vm(t,e,h)}catch(G){mf(t,e,G)}}function vm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){_m(t,e,o)},function(o){return mf(t,e,o)}):_m(t,e,i)}function _m(t,e,i){e.status="fulfilled",e.value=i,bm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,ym(t,i)))}function mf(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,bm(e),e=e.next;while(e!==o)}t.action=null}function bm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function xm(t,e){return e}function wm(t,e){if(qt){var i=he.formState;if(i!==null){t:{var o=jt;if(qt){if(Jt){e:{for(var f=Jt,h=wn;f.nodeType!==8;){if(!h){f=null;break e}if(f=Qn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Jt=Qn(f.nextSibling),o=f.data==="F!";break t}}Li(o)}o=!1}o&&(e=i[0])}}return i=hn(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:e},i.queue=o,i=Zm.bind(null,jt,o),o.dispatch=i,o=df(!1),h=bf.bind(null,jt,!1,o.queue),o=hn(),f={state:e,dispatch:null,action:t,pending:null},o.queue=f,i=Wv.bind(null,jt,f,h,i),f.dispatch=i,o.memoizedState=t,[e,i,!1]}function Sm(t){var e=ze();return Em(e,re,t)}function Em(t,e,i){if(e=ff(t,e,xm)[0],t=hu(na)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=Po(e)}catch(y){throw y===Lr?nu:y}else o=e;e=ze();var f=e.queue,h=f.dispatch;return i!==e.memoizedState&&(jt.flags|=2048,Rr(9,{destroy:void 0},$v.bind(null,f,i),null)),[o,h,t]}function $v(t,e){t.action=e}function Tm(t){var e=ze(),i=re;if(i!==null)return Em(e,i,t);ze(),e=e.memoizedState,i=ze();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function Rr(t,e,i,o){return t={tag:t,create:i,deps:o,inst:e,next:null},e=jt.updateQueue,e===null&&(e=cu(),jt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function Am(){return ze().memoizedState}function du(t,e,i,o){var f=hn();jt.flags|=t,f.memoizedState=Rr(1|e,{destroy:void 0},i,o===void 0?null:o)}function mu(t,e,i,o){var f=ze();o=o===void 0?null:o;var h=f.memoizedState.inst;re!==null&&o!==null&&sf(o,re.memoizedState.deps)?f.memoizedState=Rr(e,h,i,o):(jt.flags|=t,f.memoizedState=Rr(1|e,h,i,o))}function zm(t,e){du(8390656,8,t,e)}function pf(t,e){mu(2048,8,t,e)}function t_(t){jt.flags|=4;var e=jt.updateQueue;if(e===null)e=cu(),jt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Cm(t){var e=ze().memoizedState;return t_({ref:e,nextImpl:t}),function(){if((ee&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function Lm(t,e){return mu(4,2,t,e)}function Mm(t,e){return mu(4,4,t,e)}function Nm(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Om(t,e,i){i=i!=null?i.concat([t]):null,mu(4,4,Nm.bind(null,e,t),i)}function gf(){}function km(t,e){var i=ze();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&sf(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function Rm(t,e){var i=ze();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&sf(e,o[1]))return o[0];if(o=t(),Ks){pn(!0);try{t()}finally{pn(!1)}}return i.memoizedState=[o,e],o}function yf(t,e,i){return i===void 0||(ea&1073741824)!==0&&(It&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Bp(),jt.lanes|=t,Xa|=t,i)}function Bm(t,e,i,o){return Ve(i,e)?i:Nr.current!==null?(t=yf(t,i,o),Ve(t,e)||(Be=!0),t):(ea&42)===0||(ea&1073741824)!==0&&(It&261930)===0?(Be=!0,t.memoizedState=i):(t=Bp(),jt.lanes|=t,Xa|=t,e)}function Dm(t,e,i,o,f){var h=K.p;K.p=h!==0&&8>h?h:8;var y=k.T,E={};k.T=E,bf(t,!1,e,i);try{var O=f(),G=k.S;if(G!==null&&G(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=Xv(O,o);Zo(t,e,J,Un(t))}else Zo(t,e,o,Un(t))}catch(nt){Zo(t,e,{then:function(){},status:"rejected",reason:nt},Un())}finally{K.p=h,y!==null&&E.types!==null&&(y.types=E.types),k.T=y}}function e_(){}function vf(t,e,i,o){if(t.tag!==5)throw Error(u(476));var f=jm(t).queue;Dm(t,f,e,I,i===null?e_:function(){return Um(t),i(o)})}function jm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:I},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Um(t){var e=jm(t);e.next===null&&(e=t.alternate.memoizedState),Zo(t,e.next.queue,{},Un())}function _f(){return Je(al)}function Hm(){return ze().memoizedState}function Pm(){return ze().memoizedState}function n_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Un();t=Ga(i);var o=Va(e,t,i);o!==null&&(zn(o,e,i),Do(o,e,i)),e={cache:Kc()},t.payload=e;return}e=e.return}}function i_(t,e,i){var o=Un();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},pu(t)?qm(e,i):(i=Ao(t,e,i,o),i!==null&&(zn(i,t,o),Gm(i,e,o)))}function Zm(t,e,i){var o=Un();Zo(t,e,i,o)}function Zo(t,e,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(pu(t))qm(e,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var y=e.lastRenderedState,E=h(y,i);if(f.hasEagerState=!0,f.eagerState=E,Ve(E,y))return zi(t,e,f,0),he===null&&js(),!1}catch{}if(i=Ao(t,e,f,o),i!==null)return zn(i,t,o),Gm(i,e,o),!0}return!1}function bf(t,e,i,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(e)throw Error(u(479))}else e=Ao(t,i,o,2),e!==null&&zn(e,t,2)}function pu(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function qm(t,e){Or=lu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Gm(t,e,i){if((i&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,Al(t,i)}}var qo={readContext:Je,use:fu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};qo.useEffectEvent=Ee;var Vm={readContext:Je,use:fu,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:zm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,du(4194308,4,Nm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return du(4194308,4,t,e)},useInsertionEffect:function(t,e){du(4,2,t,e)},useMemo:function(t,e){var i=hn();e=e===void 0?null:e;var o=t();if(Ks){pn(!0);try{t()}finally{pn(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=hn();if(i!==void 0){var f=i(e);if(Ks){pn(!0);try{i(e)}finally{pn(!1)}}}else f=e;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=i_.bind(null,jt,t),[o.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:function(t){t=df(t);var e=t.queue,i=Zm.bind(null,jt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:gf,useDeferredValue:function(t,e){var i=hn();return yf(i,t,e)},useTransition:function(){var t=df(!1);return t=Dm.bind(null,jt,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=jt,f=hn();if(qt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),he===null)throw Error(u(349));(It&127)!==0||fm(o,e,i)}f.memoizedState=i;var h={value:i,getSnapshot:e};return f.queue=h,zm(dm.bind(null,o,h,t),[t]),o.flags|=2048,Rr(9,{destroy:void 0},hm.bind(null,o,h,i,e),null),i},useId:function(){var t=hn(),e=he.identifierPrefix;if(qt){var i=pt,o=et;i=(o&~(1<<32-Xe(o)-1)).toString(32)+i,e="_"+e+"R_"+i,i=uu++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=Fv++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:_f,useFormState:wm,useActionState:wm,useOptimistic:function(t){var e=hn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=bf.bind(null,jt,!0,i),i.dispatch=e,[t,e]},useMemoCache:cf,useCacheRefresh:function(){return hn().memoizedState=n_.bind(null,jt)},useEffectEvent:function(t){var e=hn(),i={impl:t};return e.memoizedState=i,function(){if((ee&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},xf={readContext:Je,use:fu,useCallback:km,useContext:Je,useEffect:pf,useImperativeHandle:Om,useInsertionEffect:Lm,useLayoutEffect:Mm,useMemo:Rm,useReducer:hu,useRef:Am,useState:function(){return hu(na)},useDebugValue:gf,useDeferredValue:function(t,e){var i=ze();return Bm(i,re.memoizedState,t,e)},useTransition:function(){var t=hu(na)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:Po(t),e]},useSyncExternalStore:cm,useId:Hm,useHostTransitionStatus:_f,useFormState:Sm,useActionState:Sm,useOptimistic:function(t,e){var i=ze();return gm(i,re,t,e)},useMemoCache:cf,useCacheRefresh:Pm};xf.useEffectEvent=Cm;var Ym={readContext:Je,use:fu,useCallback:km,useContext:Je,useEffect:pf,useImperativeHandle:Om,useInsertionEffect:Lm,useLayoutEffect:Mm,useMemo:Rm,useReducer:hf,useRef:Am,useState:function(){return hf(na)},useDebugValue:gf,useDeferredValue:function(t,e){var i=ze();return re===null?yf(i,t,e):Bm(i,re.memoizedState,t,e)},useTransition:function(){var t=hf(na)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:Po(t),e]},useSyncExternalStore:cm,useId:Hm,useHostTransitionStatus:_f,useFormState:Tm,useActionState:Tm,useOptimistic:function(t,e){var i=ze();return re!==null?gm(i,re,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Pm};Ym.useEffectEvent=Cm;function wf(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:A({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Sf={enqueueSetState:function(t,e,i){t=t._reactInternals;var o=Un(),f=Ga(o);f.payload=e,i!=null&&(f.callback=i),e=Va(t,f,o),e!==null&&(zn(e,t,o),Do(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=Un(),f=Ga(o);f.tag=1,f.payload=e,i!=null&&(f.callback=i),e=Va(t,f,o),e!==null&&(zn(e,t,o),Do(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Un(),o=Ga(i);o.tag=2,e!=null&&(o.callback=e),e=Va(t,o,i),e!==null&&(zn(e,t,i),Do(e,t,i))}};function Im(t,e,i,o,f,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,y):e.prototype&&e.prototype.isPureReactComponent?!Da(i,o)||!Da(f,h):!0}function Km(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Qs(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=A({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function Qm(t){Ds(t)}function Xm(t){console.error(t)}function Fm(t){Ds(t)}function gu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function Jm(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ef(t,e,i){return i=Ga(i),i.tag=3,i.payload={element:null},i.callback=function(){gu(t,e)},i}function Wm(t){return t=Ga(t),t.tag=3,t}function $m(t,e,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Jm(e,i,o)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Jm(e,i,o),typeof f!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function a_(t,e,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&Ar(e,i,f,!0),i=Rn.current,i!==null){switch(i.tag){case 31:case 13:return Kn===null?Cu():i.alternate===null&&Te===0&&(Te=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===iu?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),Xf(t,o,f)),!1;case 22:return i.flags|=65536,o===iu?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),Xf(t,o,f)),!1}throw Error(u(435,i.tag))}return Xf(t,o,f),Cu(),!1}if(qt)return e=Rn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,o!==Tr&&(t=Error(u(422),{cause:o}),Ps(r(t,i)))):(o!==Tr&&(e=Error(u(423),{cause:o}),Ps(r(e,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=r(o,i),f=Ef(t.stateNode,o,f),$c(t,f),Te!==4&&(Te=2)),!1;var h=Error(u(520),{cause:o});if(h=r(h,i),Fo===null?Fo=[h]:Fo.push(h),Te!==4&&(Te=2),e===null)return!0;o=r(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Ef(i.stateNode,o,t),$c(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Fa===null||!Fa.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Wm(f),$m(f,t,i,o),$c(i,f),!1}i=i.return}while(i!==null);return!1}var Tf=Error(u(461)),Be=!1;function We(t,e,i,o){e.child=t===null?im(e,null,i,o):Is(e,t.child,i,o)}function tp(t,e,i,o,f){i=i.render;var h=e.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return qs(e),o=rf(t,e,i,y,h,f),E=of(),t!==null&&!Be?(lf(t,e,f),ia(t,e,f)):(qt&&E&&Pe(e),e.flags|=1,We(t,e,o,f),e.child)}function ep(t,e,i,o,f){if(t===null){var h=i.type;return typeof h=="function"&&!Sr(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,np(t,e,h,o,f)):(t=Hs(i.type,null,o,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!kf(t,f)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:Da,i(y,o)&&t.ref===e.ref)return ia(t,e,f)}return e.flags|=1,t=In(h,o),t.ref=e.ref,t.return=e,e.child=t}function np(t,e,i,o,f){if(t!==null){var h=t.memoizedProps;if(Da(h,o)&&t.ref===e.ref)if(Be=!1,e.pendingProps=o=h,kf(t,f))(t.flags&131072)!==0&&(Be=!0);else return e.lanes=t.lanes,ia(t,e,f)}return Af(t,e,i,o,f)}function ip(t,e,i,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,e.child=null;return ap(t,e,h,i,o)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(e,h!==null?h.cachePool:null),h!==null?rm(e,h):ef(),om(e);else return o=e.lanes=536870912,ap(t,e,h!==null?h.baseLanes|i:i,i,o)}else h!==null?(eu(e,h.cachePool),rm(e,h),Ia(),e.memoizedState=null):(t!==null&&eu(e,null),ef(),Ia());return We(t,e,f,i),e.child}function Go(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ap(t,e,i,o,f){var h=Xc();return h=h===null?null:{parent:ke._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&eu(e,null),ef(),om(e),t!==null&&Ar(t,e,o,!0),e.childLanes=f,null}function yu(t,e){return e=_u({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function sp(t,e,i){return Is(e,t.child,null,i),t=yu(e,e.pendingProps),t.flags|=2,Bn(e),e.memoizedState=null,t}function s_(t,e,i){var o=e.pendingProps,f=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(qt){if(o.mode==="hidden")return t=yu(e,o),e.lanes=536870912,Go(null,t);if(af(e),(t=Jt)?(t=yg(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:V!==null?{id:et,overflow:pt}:null,retryLane:536870912,hydrationErrors:null},i=Co(t),i.return=e,e.child=i,Ft=e,Jt=null)):t=null,t===null)throw Li(e);return e.lanes=536870912,null}return yu(e,o)}var h=t.memoizedState;if(h!==null){var y=h.dehydrated;if(af(e),f)if(e.flags&256)e.flags&=-257,e=sp(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Be||Ar(t,e,i,!1),f=(i&t.childLanes)!==0,Be||f){if(o=he,o!==null&&(y=zl(o,i),y!==0&&y!==h.retryLane))throw h.retryLane=y,Yn(t,y),zn(o,t,y),Tf;Cu(),e=sp(t,e,i)}else t=h.treeContext,Jt=Qn(y.nextSibling),Ft=e,qt=!0,Ci=null,wn=!1,t!==null&&fn(e,t),e=yu(e,o),e.flags|=4096;return e}return t=In(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function vu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Af(t,e,i,o,f){return qs(e),i=rf(t,e,i,o,void 0,f),o=of(),t!==null&&!Be?(lf(t,e,f),ia(t,e,f)):(qt&&o&&Pe(e),e.flags|=1,We(t,e,i,f),e.child)}function rp(t,e,i,o,f,h){return qs(e),e.updateQueue=null,i=um(e,o,i,f),lm(t),o=of(),t!==null&&!Be?(lf(t,e,h),ia(t,e,h)):(qt&&o&&Pe(e),e.flags|=1,We(t,e,i,h),e.child)}function op(t,e,i,o,f){if(qs(e),e.stateNode===null){var h=Ji,y=i.contextType;typeof y=="object"&&y!==null&&(h=Je(y)),h=new i(o,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=o,h.state=e.memoizedState,h.refs={},Jc(e),y=i.contextType,h.context=typeof y=="object"&&y!==null?Je(y):Ji,h.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(wf(e,i,y,o),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Sf.enqueueReplaceState(h,h.state,null),Uo(e,o,h,f),jo(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,O=Qs(i,E);h.props=O;var G=h.context,J=i.contextType;y=Ji,typeof J=="object"&&J!==null&&(y=Je(J));var nt=i.getDerivedStateFromProps;J=typeof nt=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||G!==y)&&Km(e,h,o,y),qa=!1;var Y=e.memoizedState;h.state=Y,Uo(e,o,h,f),jo(),G=e.memoizedState,E||Y!==G||qa?(typeof nt=="function"&&(wf(e,i,nt,o),G=e.memoizedState),(O=qa||Im(e,i,O,o,Y,G,y))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=G),h.props=o,h.state=G,h.context=y,o=O):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,Wc(t,e),y=e.memoizedProps,J=Qs(i,y),h.props=J,nt=e.pendingProps,Y=h.context,G=i.contextType,O=Ji,typeof G=="object"&&G!==null&&(O=Je(G)),E=i.getDerivedStateFromProps,(G=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==nt||Y!==O)&&Km(e,h,o,O),qa=!1,Y=e.memoizedState,h.state=Y,Uo(e,o,h,f),jo();var Q=e.memoizedState;y!==nt||Y!==Q||qa||t!==null&&t.dependencies!==null&&$l(t.dependencies)?(typeof E=="function"&&(wf(e,i,E,o),Q=e.memoizedState),(J=qa||Im(e,i,J,o,Y,Q,O)||t!==null&&t.dependencies!==null&&$l(t.dependencies))?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Q,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Q,O)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=Q),h.props=o,h.state=Q,h.context=O,o=J):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),o=!1)}return h=o,vu(t,e),o=(e.flags&128)!==0,h||o?(h=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&o?(e.child=Is(e,t.child,null,f),e.child=Is(e,null,i,f)):We(t,e,i,f),e.memoizedState=h.state,t=e.child):t=ia(t,e,f),t}function lp(t,e,i,o){return $i(),e.flags|=256,We(t,e,i,o),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Jd()}}function Lf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=jn),t}function up(t,e,i){var o=e.pendingProps,f=!1,h=(e.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(f=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(f?Ya(e):Ia(),(t=Jt)?(t=yg(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:V!==null?{id:et,overflow:pt}:null,retryLane:536870912,hydrationErrors:null},i=Co(t),i.return=e,e.child=i,Ft=e,Jt=null)):t=null,t===null)throw Li(e);return fh(t)?e.lanes=32:e.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Ia(),f=e.mode,E=_u({mode:"hidden",children:E},f),o=Wi(o,f,i,null),E.return=e,o.return=e,E.sibling=o,e.child=E,o=e.child,o.memoizedState=Cf(i),o.childLanes=Lf(t,y,i),e.memoizedState=zf,Go(null,o)):(Ya(e),Mf(e,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(h)e.flags&256?(Ya(e),e.flags&=-257,e=Nf(t,e,i)):e.memoizedState!==null?(Ia(),e.child=t.child,e.flags|=128,e=null):(Ia(),E=o.fallback,f=e.mode,o=_u({mode:"visible",children:o.children},f),E=Wi(E,f,i,null),E.flags|=2,o.return=e,E.return=e,o.sibling=E,e.child=o,Is(e,t.child,null,i),o=e.child,o.memoizedState=Cf(i),o.childLanes=Lf(t,y,i),e.memoizedState=zf,e=Go(null,o));else if(Ya(e),fh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var G=y.dgst;y=G,o=Error(u(419)),o.stack="",o.digest=y,Ps({value:o,source:null,stack:null}),e=Nf(t,e,i)}else if(Be||Ar(t,e,i,!1),y=(i&t.childLanes)!==0,Be||y){if(y=he,y!==null&&(o=zl(y,i),o!==0&&o!==O.retryLane))throw O.retryLane=o,Yn(t,o),zn(y,t,o),Tf;ch(E)||Cu(),e=Nf(t,e,i)}else ch(E)?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,Jt=Qn(E.nextSibling),Ft=e,qt=!0,Ci=null,wn=!1,t!==null&&fn(e,t),e=Mf(e,o.children),e.flags|=4096);return e}return f?(Ia(),E=o.fallback,f=e.mode,O=t.child,G=O.sibling,o=In(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,G!==null?E=In(G,E):(E=Wi(E,f,i,null),E.flags|=2),E.return=e,o.return=e,o.sibling=E,e.child=o,Go(null,o),o=e.child,E=t.child.memoizedState,E===null?E=Cf(i):(f=E.cachePool,f!==null?(O=ke._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Jd(),E={baseLanes:E.baseLanes|i,cachePool:f}),o.memoizedState=E,o.childLanes=Lf(t,y,i),e.memoizedState=zf,Go(t.child,o)):(Ya(e),i=t.child,t=i.sibling,i=In(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function Mf(t,e){return e=_u({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function _u(t,e){return t=sn(22,t,null,e),t.lanes=0,t}function Nf(t,e,i){return Is(e,t.child,null,i),t=Mf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cp(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Yc(t.return,e,i)}function Of(t,e,i,o,f,h){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:h}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=f,y.treeForkCount=h)}function fp(t,e,i){var o=e.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var y=Ae.current,E=(y&2)!==0;if(E?(y=y&1|2,e.flags|=128):y&=1,st(Ae,y),We(t,e,o,i),o=qt?S:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cp(t,i,e);else if(t.tag===19)cp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=e.child,f=null;i!==null;)t=i.alternate,t!==null&&ou(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=e.child,e.child=null):(f=i.sibling,i.sibling=null),Of(e,!1,f,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&ou(t)===null){e.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Of(e,!0,i,null,h,o);break;case"together":Of(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function ia(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Ar(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=In(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=In(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function kf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&$l(t)))}function r_(t,e,i){switch(e.tag){case 3:Xt(e,e.stateNode.containerInfo),Za(e,ke,t.memoizedState.cache),$i();break;case 27:case 5:xe(e);break;case 4:Xt(e,e.stateNode.containerInfo);break;case 10:Za(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,af(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(Ya(e),e.flags|=128,null):(i&e.child.childLanes)!==0?up(t,e,i):(Ya(e),t=ia(t,e,i),t!==null?t.sibling:null);Ya(e);break;case 19:var f=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(Ar(t,e,i,!1),o=(i&e.childLanes)!==0),f){if(o)return fp(t,e,i);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Ae,Ae.current),o)break;return null;case 22:return e.lanes=0,ip(t,e,i,e.pendingProps);case 24:Za(e,ke,t.memoizedState.cache)}return ia(t,e,i)}function hp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Be=!0;else{if(!kf(t,i)&&(e.flags&128)===0)return Be=!1,r_(t,e,i);Be=(t.flags&131072)!==0}else Be=!1,qt&&(e.flags&1048576)!==0&&Ut(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=Vs(e.elementType),e.type=t,typeof t=="function")Sr(t)?(o=Qs(t,o),e.tag=1,e=op(null,e,t,o,i)):(e.tag=0,e=Af(null,e,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===gt){e.tag=11,e=tp(null,e,t,o,i);break t}else if(f===F){e.tag=14,e=ep(null,e,t,o,i);break t}}throw e=Nt(t)||t,Error(u(306,e,""))}}return e;case 0:return Af(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,f=Qs(o,e.pendingProps),op(t,e,o,f,i);case 3:t:{if(Xt(e,e.stateNode.containerInfo),t===null)throw Error(u(387));o=e.pendingProps;var h=e.memoizedState;f=h.element,Wc(t,e),Uo(e,o,null,i);var y=e.memoizedState;if(o=y.cache,Za(e,ke,o),o!==h.cache&&Ic(e,[ke],i,!0),jo(),o=y.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=lp(t,e,o,i);break t}else if(o!==f){f=r(Error(u(424)),e),Ps(f),e=lp(t,e,o,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Jt=Qn(t.firstChild),Ft=e,qt=!0,Ci=null,wn=!0,i=im(e,null,o,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if($i(),o===f){e=ia(t,e,i);break t}We(t,e,o,i)}e=e.child}return e;case 26:return vu(t,e),t===null?(i=Sg(e.type,null,e.pendingProps,null))?e.memoizedState=i:qt||(i=e.type,t=e.pendingProps,o=Bu(ct.current).createElement(i),o[Ne]=e,o[Ge]=t,$e(o,i,t),Oe(o),e.stateNode=o):e.memoizedState=Sg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return xe(e),t===null&&qt&&(o=e.stateNode=bg(e.type,e.pendingProps,ct.current),Ft=e,wn=!0,f=Jt,ts(e.type)?(hh=f,Jt=Qn(o.firstChild)):Jt=f),We(t,e,e.pendingProps.children,i),vu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((f=o=Jt)&&(o=D_(o,e.type,e.pendingProps,wn),o!==null?(e.stateNode=o,Ft=e,Jt=Qn(o.firstChild),wn=!1,f=!0):f=!1),f||Li(e)),xe(e),f=e.type,h=e.pendingProps,y=t!==null?t.memoizedProps:null,o=h.children,oh(f,h)?o=null:y!==null&&oh(f,y)&&(e.flags|=32),e.memoizedState!==null&&(f=rf(t,e,Jv,null,null,i),al._currentValue=f),vu(t,e),We(t,e,o,i),e.child;case 6:return t===null&&qt&&((t=i=Jt)&&(i=j_(i,e.pendingProps,wn),i!==null?(e.stateNode=i,Ft=e,Jt=null,t=!0):t=!1),t||Li(e)),null;case 13:return up(t,e,i);case 4:return Xt(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Is(e,null,o,i):We(t,e,o,i),e.child;case 11:return tp(t,e,e.type,e.pendingProps,i);case 7:return We(t,e,e.pendingProps,i),e.child;case 8:return We(t,e,e.pendingProps.children,i),e.child;case 12:return We(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,Za(e,e.type,o.value),We(t,e,o.children,i),e.child;case 9:return f=e.type._context,o=e.pendingProps.children,qs(e),f=Je(f),o=o(f),e.flags|=1,We(t,e,o,i),e.child;case 14:return ep(t,e,e.type,e.pendingProps,i);case 15:return np(t,e,e.type,e.pendingProps,i);case 19:return fp(t,e,i);case 31:return s_(t,e,i);case 22:return ip(t,e,i,e.pendingProps);case 24:return qs(e),o=Je(ke),t===null?(f=Xc(),f===null&&(f=he,h=Kc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),e.memoizedState={parent:o,cache:f},Jc(e),Za(e,ke,f)):((t.lanes&i)!==0&&(Wc(t,e),Uo(e,null,null,i),jo()),f=t.memoizedState,h=e.memoizedState,f.parent!==o?(f={parent:o,cache:o},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),Za(e,ke,o)):(o=h.cache,Za(e,ke,o),o!==f.cache&&Ic(e,[ke],i,!0))),We(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function aa(t){t.flags|=4}function Rf(t,e,i,o,f){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Hp())t.flags|=8192;else throw Ys=iu,Fc}else t.flags&=-16777217}function dp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cg(e))if(Hp())t.flags|=8192;else throw Ys=iu,Fc}function bu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?El():536870912,t.lanes|=e,Ur|=e)}function Vo(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function o_(t,e,i){var o=e.pendingProps;switch(Se(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return me(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),ta(ke),Pt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ui(e)?aa(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,No())),me(e),null;case 26:var f=e.type,h=e.memoizedState;return t===null?(aa(e),h!==null?(me(e),dp(e,h)):(me(e),Rf(e,f,null,o,i))):h?h!==t.memoizedState?(aa(e),me(e),dp(e,h)):(me(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&aa(e),me(e),Rf(e,f,t,o,i)),null;case 27:if(en(e),i=ct.current,f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&aa(e);else{if(!o){if(e.stateNode===null)throw Error(u(166));return me(e),null}t=ot.current,ui(e)?Mo(e):(t=bg(f,o,i),e.stateNode=t,aa(e))}return me(e),null;case 5:if(en(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&aa(e);else{if(!o){if(e.stateNode===null)throw Error(u(166));return me(e),null}if(h=ot.current,ui(e))Mo(e);else{var y=Bu(ct.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?y.createElement(f,{is:o.is}):y.createElement(f)}}h[Ne]=e,h[Ge]=o;t:for(y=e.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break t;for(;y.sibling===null;){if(y.return===null||y.return===e)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}e.stateNode=h;t:switch($e(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&aa(e)}}return me(e),Rf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&aa(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(u(166));if(t=ct.current,ui(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Ne]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||ug(t.nodeValue,i)),t||Li(e,!0)}else t=Bu(t).createTextNode(o),t[Ne]=e,e.stateNode=t}return me(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(o=ui(e),i!==null){if(t===null){if(!o)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[Ne]=e}else $i(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;me(e),t=!1}else i=No(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(Bn(e),e):(Bn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return me(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ui(e),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(u(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(u(317));f[Ne]=e}else $i(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;me(e),f=!1}else f=No(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(Bn(e),e):(Bn(e),null)}return Bn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=e.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),bu(e,e.updateQueue),me(e),null);case 4:return Pt(),t===null&&nh(e.stateNode.containerInfo),me(e),null;case 10:return ta(e.type),me(e),null;case 19:if(P(Ae),o=e.memoizedState,o===null)return me(e),null;if(f=(e.flags&128)!==0,h=o.rendering,h===null)if(f)Vo(o,!1);else{if(Te!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=ou(t),h!==null){for(e.flags|=128,Vo(o,!1),t=h.updateQueue,e.updateQueue=t,bu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)zo(i,t),i=i.sibling;return st(Ae,Ae.current&1|2),qt&&zt(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Tt()>Tu&&(e.flags|=128,f=!0,Vo(o,!1),e.lanes=4194304)}else{if(!f)if(t=ou(h),t!==null){if(e.flags|=128,f=!0,t=t.updateQueue,e.updateQueue=t,bu(e,t),Vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!qt)return me(e),null}else 2*Tt()-o.renderingStartTime>Tu&&i!==536870912&&(e.flags|=128,f=!0,Vo(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Tt(),t.sibling=null,i=Ae.current,st(Ae,f?i&1|2:i&1),qt&&zt(e,o.treeForkCount),t):(me(e),null);case 22:case 23:return Bn(e),nf(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(i&536870912)!==0&&(e.flags&128)===0&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),i=e.updateQueue,i!==null&&bu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&P(Gs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ta(ke),me(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function l_(t,e){switch(Se(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ta(ke),Pt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return en(e),null;case 31:if(e.memoizedState!==null){if(Bn(e),e.alternate===null)throw Error(u(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Bn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return P(Ae),null;case 4:return Pt(),null;case 10:return ta(e.type),null;case 22:case 23:return Bn(e),nf(),t!==null&&P(Gs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ta(ke),null;case 25:return null;default:return null}}function mp(t,e){switch(Se(e),e.tag){case 3:ta(ke),Pt();break;case 26:case 27:case 5:en(e);break;case 4:Pt();break;case 31:e.memoizedState!==null&&Bn(e);break;case 13:Bn(e);break;case 19:P(Ae);break;case 10:ta(e.type);break;case 22:case 23:Bn(e),nf(),t!==null&&P(Gs);break;case 24:ta(ke)}}function Yo(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var h=i.create,y=i.inst;o=h(),y.destroy=o}i=i.next}while(i!==f)}}catch(E){ae(e,e.return,E)}}function Ka(t,e,i){try{var o=e.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,f=e;var O=i,G=E;try{G()}catch(J){ae(f,O,J)}}}o=o.next}while(o!==h)}}catch(J){ae(e,e.return,J)}}function pp(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{sm(e,i)}catch(o){ae(t,t.return,o)}}}function gp(t,e,i){i.props=Qs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){ae(t,e,o)}}function Io(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){ae(t,e,f)}}function Ni(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){ae(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ae(t,e,f)}else i.current=null}function yp(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){ae(t,t.return,f)}}function Bf(t,e,i){try{var o=t.stateNode;M_(o,t.type,i,e),o[Ge]=e}catch(f){ae(t,t.return,f)}}function vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function Df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=vn));else if(o!==4&&(o===27&&ts(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(jf(t,e,i),t=t.sibling;t!==null;)jf(t,e,i),t=t.sibling}function xu(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&(o===27&&ts(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(xu(t,e,i),t=t.sibling;t!==null;)xu(t,e,i),t=t.sibling}function _p(t){var e=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);$e(e,o,i),e[Ne]=t,e[Ge]=i}catch(h){ae(t,t.return,h)}}var sa=!1,De=!1,Uf=!1,bp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function u_(t,e){if(t=t.containerInfo,sh=qu,t=Os(t),Si(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,E=-1,O=-1,G=0,J=0,nt=t,Y=null;e:for(;;){for(var Q;nt!==i||f!==0&&nt.nodeType!==3||(E=y+f),nt!==h||o!==0&&nt.nodeType!==3||(O=y+o),nt.nodeType===3&&(y+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)Y=nt,nt=Q;for(;;){if(nt===t)break e;if(Y===i&&++G===f&&(E=y),Y===h&&++J===o&&(O=y),(Q=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=Q}i=E===-1||O===-1?null:{start:E,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(rh={focusedElem:t,selectionRange:i},qu=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){switch(e=Ie,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,f=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var bt=Qs(i.type,f);t=o.getSnapshotBeforeUpdate(bt,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(kt){ae(i,i.return,kt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)uh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}}function xp(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:oa(t,i),o&4&&Yo(5,i);break;case 1:if(oa(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){ae(i,i.return,y)}else{var f=Qs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ae(i,i.return,y)}}o&64&&pp(i),o&512&&Io(i,i.return);break;case 3:if(oa(t,i),o&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{sm(t,e)}catch(y){ae(i,i.return,y)}}break;case 27:e===null&&o&4&&_p(i);case 26:case 5:oa(t,i),e===null&&o&4&&yp(i),o&512&&Io(i,i.return);break;case 12:oa(t,i);break;case 31:oa(t,i),o&4&&Ep(t,i);break;case 13:oa(t,i),o&4&&Tp(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=v_.bind(null,i),U_(t,i))));break;case 22:if(o=i.memoizedState!==null||sa,!o){e=e!==null&&e.memoizedState!==null||De,f=sa;var h=De;sa=o,(De=e)&&!h?la(t,i,(i.subtreeFlags&8772)!==0):oa(t,i),sa=f,De=h}break;case 30:break;default:oa(t,i)}}function wp(t){var e=t.alternate;e!==null&&(t.alternate=null,wp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lo(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ve=null,Sn=!1;function ra(t,e,i){for(i=i.child;i!==null;)Sp(t,e,i),i=i.sibling}function Sp(t,e,i){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Ln,i)}catch{}switch(i.tag){case 26:De||Ni(i,e),ra(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:De||Ni(i,e);var o=ve,f=Sn;ts(i.type)&&(ve=i.stateNode,Sn=!1),ra(t,e,i),el(i.stateNode),ve=o,Sn=f;break;case 5:De||Ni(i,e);case 6:if(o=ve,f=Sn,ve=null,ra(t,e,i),ve=o,Sn=f,ve!==null)if(Sn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(i.stateNode)}catch(h){ae(i,e,h)}else try{ve.removeChild(i.stateNode)}catch(h){ae(i,e,h)}break;case 18:ve!==null&&(Sn?(t=ve,pg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ir(t)):pg(ve,i.stateNode));break;case 4:o=ve,f=Sn,ve=i.stateNode.containerInfo,Sn=!0,ra(t,e,i),ve=o,Sn=f;break;case 0:case 11:case 14:case 15:Ka(2,i,e),De||Ka(4,i,e),ra(t,e,i);break;case 1:De||(Ni(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&gp(i,e,o)),ra(t,e,i);break;case 21:ra(t,e,i);break;case 22:De=(o=De)||i.memoizedState!==null,ra(t,e,i),De=o;break;default:ra(t,e,i)}}function Ep(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ir(t)}catch(i){ae(e,e.return,i)}}}function Tp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ir(t)}catch(i){ae(e,e.return,i)}}function c_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new bp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new bp),e;default:throw Error(u(435,t.tag))}}function wu(t,e){var i=c_(t);e.forEach(function(o){if(!i.has(o)){i.add(o);var f=__.bind(null,t,o);o.then(f,f)}})}function En(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],h=t,y=e,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ts(E.type)){ve=E.stateNode,Sn=!1;break t}break;case 5:ve=E.stateNode,Sn=!1;break t;case 3:case 4:ve=E.stateNode.containerInfo,Sn=!0;break t}E=E.return}if(ve===null)throw Error(u(160));Sp(h,y,f),ve=null,Sn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ap(e,t),e=e.sibling}var fi=null;function Ap(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(e,t),Tn(t),o&4&&(Ka(3,t,t.return),Yo(3,t),Ka(5,t,t.return));break;case 1:En(e,t),Tn(t),o&512&&(De||i===null||Ni(i,i.return)),o&64&&sa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=fi;if(En(e,t),Tn(t),o&512&&(De||i===null||Ni(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[gs]||h[Ne]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),$e(h,o,i),h[Ne]=t,Oe(h),o=h;break t;case"link":var y=Ag("link","href",f).get(o+(i.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(E,1);break e}}h=f.createElement(o),$e(h,o,i),f.head.appendChild(h);break;case"meta":if(y=Ag("meta","content",f).get(o+(i.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(E,1);break e}}h=f.createElement(o),$e(h,o,i),f.head.appendChild(h);break;default:throw Error(u(468,o))}h[Ne]=t,Oe(h),o=h}t.stateNode=o}else zg(f,t.type,t.stateNode);else t.stateNode=Tg(f,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?zg(f,t.type,t.stateNode):Tg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,i.memoizedProps)}break;case 27:En(e,t),Tn(t),o&512&&(De||i===null||Ni(i,i.return)),i!==null&&o&4&&Bf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(En(e,t),Tn(t),o&512&&(De||i===null||Ni(i,i.return)),t.flags&32){f=t.stateNode;try{Hn(f,"")}catch(bt){ae(t,t.return,bt)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Bf(t,f,i!==null?i.memoizedProps:f)),o&1024&&(Uf=!0);break;case 6:if(En(e,t),Tn(t),o&4){if(t.stateNode===null)throw Error(u(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(bt){ae(t,t.return,bt)}}break;case 3:if(Uu=null,f=fi,fi=Du(e.containerInfo),En(e,t),fi=f,Tn(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ir(e.containerInfo)}catch(bt){ae(t,t.return,bt)}Uf&&(Uf=!1,zp(t));break;case 4:o=fi,fi=Du(t.stateNode.containerInfo),En(e,t),Tn(t),fi=o;break;case 12:En(e,t),Tn(t);break;case 31:En(e,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wu(t,o)));break;case 13:En(e,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Eu=Tt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wu(t,o)));break;case 22:f=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,G=sa,J=De;if(sa=G||f,De=J||O,En(e,t),De=J,sa=G,Tn(t),o&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(i===null||O||sa||De||Xs(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){O=i=e;try{if(h=O.stateNode,f)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=O.stateNode;var nt=O.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(bt){ae(O,O.return,bt)}}}else if(e.tag===6){if(i===null){O=e;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(bt){ae(O,O.return,bt)}}}else if(e.tag===18){if(i===null){O=e;try{var Q=O.stateNode;f?gg(Q,!0):gg(O.stateNode,!1)}catch(bt){ae(O,O.return,bt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,wu(t,i))));break;case 19:En(e,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wu(t,o)));break;case 30:break;case 21:break;default:En(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{for(var i,o=t.return;o!==null;){if(vp(o)){i=o;break}o=o.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var f=i.stateNode,h=Df(t);xu(t,h,f);break;case 5:var y=i.stateNode;i.flags&32&&(Hn(y,""),i.flags&=-33);var E=Df(t);xu(t,E,y);break;case 3:case 4:var O=i.stateNode.containerInfo,G=Df(t);jf(t,G,O);break;default:throw Error(u(161))}}catch(J){ae(t,t.return,J)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;zp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function oa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)xp(t,e.alternate,e),e=e.sibling}function Xs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ka(4,e,e.return),Xs(e);break;case 1:Ni(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&gp(e,e.return,i),Xs(e);break;case 27:el(e.stateNode);case 26:case 5:Ni(e,e.return),Xs(e);break;case 22:e.memoizedState===null&&Xs(e);break;case 30:Xs(e);break;default:Xs(e)}t=t.sibling}}function la(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,f=t,h=e,y=h.flags;switch(h.tag){case 0:case 11:case 15:la(f,h,i),Yo(4,h);break;case 1:if(la(f,h,i),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ae(o,o.return,G)}if(o=h,f=o.updateQueue,f!==null){var E=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)am(O[f],E)}catch(G){ae(o,o.return,G)}}i&&y&64&&pp(h),Io(h,h.return);break;case 27:_p(h);case 26:case 5:la(f,h,i),i&&o===null&&y&4&&yp(h),Io(h,h.return);break;case 12:la(f,h,i);break;case 31:la(f,h,i),i&&y&4&&Ep(f,h);break;case 13:la(f,h,i),i&&y&4&&Tp(f,h);break;case 22:h.memoizedState===null&&la(f,h,i),Io(h,h.return);break;case 30:break;default:la(f,h,i)}e=e.sibling}}function Hf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Oo(i))}function Pf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Oo(t))}function hi(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cp(t,e,i,o),e=e.sibling}function Cp(t,e,i,o){var f=e.flags;switch(e.tag){case 0:case 11:case 15:hi(t,e,i,o),f&2048&&Yo(9,e);break;case 1:hi(t,e,i,o);break;case 3:hi(t,e,i,o),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Oo(t)));break;case 12:if(f&2048){hi(t,e,i,o),t=e.stateNode;try{var h=e.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ae(e,e.return,O)}}else hi(t,e,i,o);break;case 31:hi(t,e,i,o);break;case 13:hi(t,e,i,o);break;case 23:break;case 22:h=e.stateNode,y=e.alternate,e.memoizedState!==null?h._visibility&2?hi(t,e,i,o):Ko(t,e):h._visibility&2?hi(t,e,i,o):(h._visibility|=2,Br(t,e,i,o,(e.subtreeFlags&10256)!==0||!1)),f&2048&&Hf(y,e);break;case 24:hi(t,e,i,o),f&2048&&Pf(e.alternate,e);break;default:hi(t,e,i,o)}}function Br(t,e,i,o,f){for(f=f&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,y=e,E=i,O=o,G=y.flags;switch(y.tag){case 0:case 11:case 15:Br(h,y,E,O,f),Yo(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?Br(h,y,E,O,f):Ko(h,y):(J._visibility|=2,Br(h,y,E,O,f)),f&&G&2048&&Hf(y.alternate,y);break;case 24:Br(h,y,E,O,f),f&&G&2048&&Pf(y.alternate,y);break;default:Br(h,y,E,O,f)}e=e.sibling}}function Ko(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,f=o.flags;switch(o.tag){case 22:Ko(i,o),f&2048&&Hf(o.alternate,o);break;case 24:Ko(i,o),f&2048&&Pf(o.alternate,o);break;default:Ko(i,o)}e=e.sibling}}var Qo=8192;function Dr(t,e,i){if(t.subtreeFlags&Qo)for(t=t.child;t!==null;)Lp(t,e,i),t=t.sibling}function Lp(t,e,i){switch(t.tag){case 26:Dr(t,e,i),t.flags&Qo&&t.memoizedState!==null&&F_(i,fi,t.memoizedState,t.memoizedProps);break;case 5:Dr(t,e,i);break;case 3:case 4:var o=fi;fi=Du(t.stateNode.containerInfo),Dr(t,e,i),fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,Dr(t,e,i),Qo=o):Dr(t,e,i));break;default:Dr(t,e,i)}}function Mp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Xo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Ie=o,Op(o,t)}Mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Np(t),t=t.sibling}function Np(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&Ka(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Su(t)):Xo(t);break;default:Xo(t)}}function Su(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Ie=o,Op(o,t)}Mp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ka(8,e,e.return),Su(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Su(e));break;default:Su(e)}t=t.sibling}}function Op(t,e){for(;Ie!==null;){var i=Ie;switch(i.tag){case 0:case 11:case 15:Ka(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ie=o;else t:for(i=t;Ie!==null;){o=Ie;var f=o.sibling,h=o.return;if(wp(o),o===i){Ie=null;break t}if(f!==null){f.return=h,Ie=f;break t}Ie=h}}}var f_={getCacheForType:function(t){var e=Je(ke),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Je(ke).controller.signal}},h_=typeof WeakMap=="function"?WeakMap:Map,ee=0,he=null,Gt=null,It=0,ie=0,Dn=null,Qa=!1,jr=!1,Zf=!1,ua=0,Te=0,Xa=0,Fs=0,qf=0,jn=0,Ur=0,Fo=null,An=null,Gf=!1,Eu=0,kp=0,Tu=1/0,Au=null,Fa=null,Ze=0,Ja=null,Hr=null,ca=0,Vf=0,Yf=null,Rp=null,Jo=0,If=null;function Un(){return(ee&2)!==0&&It!==0?It&-It:k.T!==null?Wf():ro()}function Bp(){if(jn===0)if((It&536870912)===0||qt){var t=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),jn=t}else jn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),jn}function zn(t,e,i){(t===he&&(ie===2||ie===9)||t.cancelPendingCommit!==null)&&(Pr(t,0),Wa(t,It,jn,!1)),Gi(t,i),((ee&2)===0||t!==he)&&(t===he&&((ee&2)===0&&(Fs|=i),Te===4&&Wa(t,It,jn,!1)),Oi(t))}function Dp(t,e,i){if((ee&6)!==0)throw Error(u(327));var o=!i&&(e&127)===0&&(e&t.expiredLanes)===0||ps(t,e),f=o?p_(t,e):Qf(t,e,!0),h=o;do{if(f===0){jr&&!o&&Wa(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!d_(i)){f=Qf(t,e,!1),h=!1;continue}if(f===2){if(h=e,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var E=t;f=Fo;var O=E.current.memoizedState.isDehydrated;if(O&&(Pr(E,y).flags|=256),y=Qf(E,y,!1),y!==2){if(Zf&&!O){E.errorRecoveryDisabledLanes|=h,Fs|=h,f=4;break t}h=An,An=f,h!==null&&(An===null?An=h:An.push.apply(An,h))}f=y}if(h=!1,f!==2)continue}}if(f===1){Pr(t,0),Wa(t,e,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:Wa(o,e,jn,!Qa);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(f=Eu+300-Tt(),10<f)){if(Wa(o,e,jn,!Qa),rr(o,0,!0)!==0)break t;ca=e,o.timeoutHandle=dg(jp.bind(null,o,i,An,Au,Gf,e,jn,Fs,Ur,Qa,h,"Throttled",-0,0),f);break t}jp(o,i,An,Au,Gf,e,jn,Fs,Ur,Qa,h,null,-0,0)}}break}while(!0);Oi(t)}function jp(t,e,i,o,f,h,y,E,O,G,J,nt,Y,Q){if(t.timeoutHandle=-1,nt=e.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},Lp(e,h,nt);var bt=(h&62914560)===h?Eu-Tt():(h&4194048)===h?kp-Tt():0;if(bt=J_(nt,bt),bt!==null){ca=h,t.cancelPendingCommit=bt(Yp.bind(null,t,e,h,i,o,f,y,E,O,J,nt,null,Y,Q)),Wa(t,h,y,!G);return}}Yp(t,e,h,i,o,f,y,E,O)}function d_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],h=f.getSnapshot;f=f.value;try{if(!Ve(h(),f))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wa(t,e,i,o){e&=~qf,e&=~Fs,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var f=e;0<f;){var h=31-Xe(f),y=1<<h;o[h]=-1,f&=~y}i!==0&&Tl(t,i,e)}function zu(){return(ee&6)===0?(Wo(0),!1):!0}function Kf(){if(Gt!==null){if(ie===0)var t=Gt.return;else t=Gt,ci=Mi=null,uf(t),Mr=null,Ro=0,t=Gt;for(;t!==null;)mp(t.alternate,t),t=t.return;Gt=null}}function Pr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,k_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ca=0,Kf(),he=t,Gt=i=In(t.current,null),It=e,ie=0,Dn=null,Qa=!1,jr=ps(t,e),Zf=!1,Ur=jn=qf=Fs=Xa=Te=0,An=Fo=null,Gf=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var f=31-Xe(o),h=1<<f;e|=t[f],o&=~h}return ua=e,js(),i}function Up(t,e){jt=null,k.H=qo,e===Lr||e===nu?(e=tm(),ie=3):e===Fc?(e=tm(),ie=4):ie=e===Tf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Dn=e,Gt===null&&(Te=1,gu(t,r(e,t.current)))}function Hp(){var t=Rn.current;return t===null?!0:(It&4194048)===It?Kn===null:(It&62914560)===It||(It&536870912)!==0?t===Kn:!1}function Pp(){var t=k.H;return k.H=qo,t===null?qo:t}function Zp(){var t=k.A;return k.A=f_,t}function Cu(){Te=4,Qa||(It&4194048)!==It&&Rn.current!==null||(jr=!0),(Xa&134217727)===0&&(Fs&134217727)===0||he===null||Wa(he,It,jn,!1)}function Qf(t,e,i){var o=ee;ee|=2;var f=Pp(),h=Zp();(he!==t||It!==e)&&(Au=null,Pr(t,e)),e=!1;var y=Te;t:do try{if(ie!==0&&Gt!==null){var E=Gt,O=Dn;switch(ie){case 8:Kf(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(e=!0);var G=ie;if(ie=0,Dn=null,Zr(t,E,O,G),i&&jr){y=0;break t}break;default:G=ie,ie=0,Dn=null,Zr(t,E,O,G)}}m_(),y=Te;break}catch(J){Up(t,J)}while(!0);return e&&t.shellSuspendCounter++,ci=Mi=null,ee=o,k.H=f,k.A=h,Gt===null&&(he=null,It=0,js()),y}function m_(){for(;Gt!==null;)qp(Gt)}function p_(t,e){var i=ee;ee|=2;var o=Pp(),f=Zp();he!==t||It!==e?(Au=null,Tu=Tt()+500,Pr(t,e)):jr=ps(t,e);t:do try{if(ie!==0&&Gt!==null){e=Gt;var h=Dn;e:switch(ie){case 1:ie=0,Dn=null,Zr(t,e,h,1);break;case 2:case 9:if(Wd(h)){ie=0,Dn=null,Gp(e);break}e=function(){ie!==2&&ie!==9||he!==t||(ie=7),Oi(t)},h.then(e,e);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Wd(h)?(ie=0,Dn=null,Gp(e)):(ie=0,Dn=null,Zr(t,e,h,7));break;case 5:var y=null;switch(Gt.tag){case 26:y=Gt.memoizedState;case 5:case 27:var E=Gt;if(y?Cg(y):E.stateNode.complete){ie=0,Dn=null;var O=E.sibling;if(O!==null)Gt=O;else{var G=E.return;G!==null?(Gt=G,Lu(G)):Gt=null}break e}}ie=0,Dn=null,Zr(t,e,h,5);break;case 6:ie=0,Dn=null,Zr(t,e,h,6);break;case 8:Kf(),Te=6;break t;default:throw Error(u(462))}}g_();break}catch(J){Up(t,J)}while(!0);return ci=Mi=null,k.H=o,k.A=f,ee=i,Gt!==null?0:(he=null,It=0,js(),Te)}function g_(){for(;Gt!==null&&!_t();)qp(Gt)}function qp(t){var e=hp(t.alternate,t,ua);t.memoizedProps=t.pendingProps,e===null?Lu(t):Gt=e}function Gp(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=rp(i,e,e.pendingProps,e.type,void 0,It);break;case 11:e=rp(i,e,e.pendingProps,e.type.render,e.ref,It);break;case 5:uf(e);default:mp(i,e),e=Gt=zo(e,ua),e=hp(i,e,ua)}t.memoizedProps=t.pendingProps,e===null?Lu(t):Gt=e}function Zr(t,e,i,o){ci=Mi=null,uf(e),Mr=null,Ro=0;var f=e.return;try{if(a_(t,f,e,i,It)){Te=1,gu(t,r(i,t.current)),Gt=null;return}}catch(h){if(f!==null)throw Gt=f,h;Te=1,gu(t,r(i,t.current)),Gt=null;return}e.flags&32768?(qt||o===1?t=!0:jr||(It&536870912)!==0?t=!1:(Qa=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vp(e,t)):Lu(e)}function Lu(t){var e=t;do{if((e.flags&32768)!==0){Vp(e,Qa);return}t=e.return;var i=o_(e.alternate,e,ua);if(i!==null){Gt=i;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);Te===0&&(Te=5)}function Vp(t,e){do{var i=l_(t.alternate,t);if(i!==null){i.flags&=32767,Gt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=i}while(t!==null);Te=6,Gt=null}function Yp(t,e,i,o,f,h,y,E,O){t.cancelPendingCommit=null;do Mu();while(Ze!==0);if((ee&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(h=e.lanes|e.childLanes,h|=wr,Lc(t,i,h,y,E,O),t===he&&(Gt=he=null,It=0),Hr=e,Ja=t,ca=i,Vf=h,Yf=f,Rp=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,b_(ge,function(){return Fp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=k.T,k.T=null,f=K.p,K.p=2,y=ee,ee|=4;try{u_(t,e,i)}finally{ee=y,K.p=f,k.T=o}}Ze=1,Ip(),Kp(),Qp()}}function Ip(){if(Ze===1){Ze=0;var t=Ja,e=Hr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var o=K.p;K.p=2;var f=ee;ee|=4;try{Ap(e,t);var h=rh,y=Os(t.containerInfo),E=h.focusedElem,O=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&vr(E.ownerDocument.documentElement,E)){if(O!==null&&Si(E)){var G=O.start,J=O.end;if(J===void 0&&(J=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(J,E.value.length);else{var nt=E.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),bt=E.textContent.length,kt=Math.min(O.start,bt),le=O.end===void 0?kt:Math.min(O.end,bt);!Q.extend&&kt>le&&(y=le,le=kt,kt=y);var j=Ns(E,kt),B=Ns(E,le);if(j&&B&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var q=nt.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),kt>le?(Q.addRange(q),Q.extend(B.node,B.offset)):(q.setEnd(B.node,B.offset),Q.addRange(q))}}}}for(nt=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<nt.length;E++){var tt=nt[E];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}qu=!!sh,rh=sh=null}finally{ee=f,K.p=o,k.T=i}}t.current=e,Ze=2}}function Kp(){if(Ze===2){Ze=0;var t=Ja,e=Hr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var o=K.p;K.p=2;var f=ee;ee|=4;try{xp(t,e.alternate,e)}finally{ee=f,K.p=o,k.T=i}}Ze=3}}function Qp(){if(Ze===4||Ze===3){Ze=0,Ot();var t=Ja,e=Hr,i=ca,o=Rp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ze=5:(Ze=0,Hr=Ja=null,Xp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fa=null),At(i),e=e.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Ln,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=k.T,f=K.p,K.p=2,k.T=null;try{for(var h=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];h(E.value,{componentStack:E.stack})}}finally{k.T=e,K.p=f}}(ca&3)!==0&&Mu(),Oi(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===If?Jo++:(Jo=0,If=t):Jo=0,Wo(0)}}function Xp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Oo(e)))}function Mu(){return Ip(),Kp(),Qp(),Fp()}function Fp(){if(Ze!==5)return!1;var t=Ja,e=Vf;Vf=0;var i=At(ca),o=k.T,f=K.p;try{K.p=32>i?32:i,k.T=null,i=Yf,Yf=null;var h=Ja,y=ca;if(Ze=0,Hr=Ja=null,ca=0,(ee&6)!==0)throw Error(u(331));var E=ee;if(ee|=4,Np(h.current),Cp(h,h.current,y,i),ee=E,Wo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Ln,h)}catch{}return!0}finally{K.p=f,k.T=o,Xp(t,e)}}function Jp(t,e,i){e=r(i,e),e=Ef(t.stateNode,e,2),t=Va(t,e,2),t!==null&&(Gi(t,2),Oi(t))}function ae(t,e,i){if(t.tag===3)Jp(t,t,i);else for(;e!==null;){if(e.tag===3){Jp(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fa===null||!Fa.has(o))){t=r(i,t),i=Wm(2),o=Va(e,i,2),o!==null&&($m(i,o,e,t),Gi(o,2),Oi(o));break}}e=e.return}}function Xf(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new h_;var f=new Set;o.set(e,f)}else f=o.get(e),f===void 0&&(f=new Set,o.set(e,f));f.has(i)||(Zf=!0,f.add(i),t=y_.bind(null,t,e,i),e.then(t,t))}function y_(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,he===t&&(It&i)===i&&(Te===4||Te===3&&(It&62914560)===It&&300>Tt()-Eu?(ee&2)===0&&Pr(t,0):qf|=i,Ur===It&&(Ur=0)),Oi(t)}function Wp(t,e){e===0&&(e=El()),t=Yn(t,e),t!==null&&(Gi(t,e),Oi(t))}function v_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Wp(t,i)}function __(t,e){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(u(314))}o!==null&&o.delete(e),Wp(t,i)}function b_(t,e){return ut(t,e)}var Nu=null,qr=null,Ff=!1,Ou=!1,Jf=!1,$a=0;function Oi(t){t!==qr&&t.next===null&&(qr===null?Nu=qr=t:qr=qr.next=t),Ou=!0,Ff||(Ff=!0,w_())}function Wo(t,e){if(!Jf&&Ou){Jf=!0;do for(var i=!1,o=Nu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var y=o.suspendedLanes,E=o.pingedLanes;h=(1<<31-Xe(42|t)+1)-1,h&=f&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,ng(o,h))}else h=It,h=rr(o,o===he?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||ps(o,h)||(i=!0,ng(o,h));o=o.next}while(i);Jf=!1}}function x_(){$p()}function $p(){Ou=Ff=!1;var t=0;$a!==0&&O_()&&(t=$a);for(var e=Tt(),i=null,o=Nu;o!==null;){var f=o.next,h=tg(o,e);h===0?(o.next=null,i===null?Nu=f:i.next=f,f===null&&(qr=i)):(i=o,(t!==0||(h&3)!==0)&&(Ou=!0)),o=f}Ze!==0&&Ze!==5||Wo(t),$a!==0&&($a=0)}function tg(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Xe(h),E=1<<y,O=f[y];O===-1?((E&i)===0||(E&o)!==0)&&(f[y]=Cc(E,e)):O<=e&&(t.expiredLanes|=E),h&=~E}if(e=he,i=It,i=rr(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===e&&(ie===2||ie===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Et(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||ps(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&Et(o),At(i)){case 2:case 8:i=qe;break;case 32:i=ge;break;case 268435456:i=nn;break;default:i=ge}return o=eg.bind(null,t),i=ut(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&Et(o),t.callbackPriority=2,t.callbackNode=null,2}function eg(t,e){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Mu()&&t.callbackNode!==i)return null;var o=It;return o=rr(t,t===he?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Dp(t,o,e),tg(t,Tt()),t.callbackNode!=null&&t.callbackNode===i?eg.bind(null,t):null)}function ng(t,e){if(Mu())return null;Dp(t,e,!0)}function w_(){R_(function(){(ee&6)!==0?ut(ce,x_):$p()})}function Wf(){if($a===0){var t=zr;t===0&&(t=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),$a=t}return $a}function ig(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function ag(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function S_(t,e,i,o,f){if(e==="submit"&&i&&i.stateNode===f){var h=ig((f[Ge]||null).action),y=o.submitter;y&&(e=(e=y[Ge]||null)?ig(e.formAction):y.getAttribute("formAction"),e!==null&&(h=e,y=null));var E=new fr("action","action",null,o,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($a!==0){var O=y?ag(f,y):new FormData(f);vf(i,{pending:!0,data:O,method:f.method,action:h},null,O)}}else typeof h=="function"&&(E.preventDefault(),O=y?ag(f,y):new FormData(f),vf(i,{pending:!0,data:O,method:f.method,action:h},h,O))},currentTarget:f}]})}}for(var $f=0;$f<Ai.length;$f++){var th=Ai[$f],E_=th.toLowerCase(),T_=th[0].toUpperCase()+th.slice(1);bn(E_,"on"+T_)}bn(Rs,"onAnimationEnd"),bn(Fl,"onAnimationIteration"),bn(Bs,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(qc,"onTransitionRun"),bn(Jl,"onTransitionStart"),bn(Gc,"onTransitionCancel"),bn(Ha,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function sg(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var y=o.length-1;0<=y;y--){var E=o[y],O=E.instance,G=E.currentTarget;if(E=E.listener,O!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=G;try{h(f)}catch(J){Ds(J)}f.currentTarget=null,h=O}else for(y=0;y<o.length;y++){if(E=o[y],O=E.instance,G=E.currentTarget,E=E.listener,O!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=G;try{h(f)}catch(J){Ds(J)}f.currentTarget=null,h=O}}}}function Vt(t,e){var i=e[yi];i===void 0&&(i=e[yi]=new Set);var o=t+"__bubble";i.has(o)||(rg(e,t,2,!1),i.add(o))}function eh(t,e,i){var o=0;e&&(o|=4),rg(i,t,o,e)}var ku="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[ku]){t[ku]=!0,Ml.forEach(function(i){i!=="selectionchange"&&(A_.has(i)||eh(i,!1,t),eh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ku]||(e[ku]=!0,eh("selectionchange",!1,e))}}function rg(t,e,i,o){switch(Bg(e)){case 2:var f=tb;break;case 8:f=eb;break;default:f=yh}i=f.bind(null,e,i,t),f=void 0,!ws||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(e,i,{capture:!0,passive:f}):t.addEventListener(e,i,!0):f!==void 0?t.addEventListener(e,i,{passive:f}):t.addEventListener(e,i,!1)}function ih(t,e,i,o,f){var h=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===f)break;if(y===4)for(y=o.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;E!==null;){if(y=Yi(E),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){o=h=y;continue t}E=E.parentNode}}o=o.return}go(function(){var G=h,J=xs(i),nt=[];t:{var Y=Wl.get(t);if(Y!==void 0){var Q=fr,bt=t;switch(t){case"keypress":if(Ss(i)===0)break t;case"keydown":case"keyup":Q=Ul;break;case"focusin":bt="focus",Q=_o;break;case"focusout":bt="blur",Q=_o;break;case"beforeblur":case"afterblur":Q=_o;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Dc;break;case Rs:case Fl:case Bs:Q=bo;break;case Ha:Q=Zl;break;case"scroll":case"scrollend":Q=Yt;break;case"wheel":Q=Fi;break;case"copy":case"cut":case"paste":Q=Zn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hl;break;case"toggle":case"beforetoggle":Q=As}var kt=(e&4)!==0,le=!kt&&(t==="scroll"||t==="scrollend"),j=kt?Y!==null?Y+"Capture":null:Y;kt=[];for(var B=G,q;B!==null;){var tt=B;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||j===null||(tt=Qi(B,j),tt!=null&&kt.push(tl(B,tt,q))),le)break;B=B.return}0<kt.length&&(Y=new Q(Y,bt,null,i,J),nt.push({event:Y,listeners:kt}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&i!==cr&&(bt=i.relatedTarget||i.fromElement)&&(Yi(bt)||bt[Vi]))break t;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(bt=i.relatedTarget||i.toElement,Q=G,bt=bt?Yi(bt):null,bt!==null&&(le=p(bt),kt=bt.tag,bt!==le||kt!==5&&kt!==27&&kt!==6)&&(bt=null)):(Q=null,bt=G),Q!==bt)){if(kt=kl,tt="onMouseLeave",j="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(kt=Hl,tt="onPointerLeave",j="onPointerEnter",B="pointer"),le=Q==null?Y:vi(Q),q=bt==null?Y:vi(bt),Y=new kt(tt,B+"leave",Q,i,J),Y.target=le,Y.relatedTarget=q,tt=null,Yi(J)===G&&(kt=new kt(j,B+"enter",bt,i,J),kt.target=q,kt.relatedTarget=le,tt=kt),le=tt,Q&&bt)e:{for(kt=z_,j=Q,B=bt,q=0,tt=j;tt;tt=kt(tt))q++;tt=0;for(var Lt=B;Lt;Lt=kt(Lt))tt++;for(;0<q-tt;)j=kt(j),q--;for(;0<tt-q;)B=kt(B),tt--;for(;q--;){if(j===B||B!==null&&j===B.alternate){kt=j;break e}j=kt(j),B=kt(B)}kt=null}else kt=null;Q!==null&&og(nt,Y,Q,kt,!1),bt!==null&&le!==null&&og(nt,le,bt,kt,!0)}}t:{if(Y=G?vi(G):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Wt=Ms;else if(qn(Y))if(Yl)Wt=Zc;else{Wt=Pc;var St=oi}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&bs(G.elementType)&&(Wt=Ms):Wt=Ba;if(Wt&&(Wt=Wt(t,G))){Vl(nt,Wt,i,J);break t}St&&St(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&ai(Y,"number",Y.value)}switch(St=G?vi(G):window,t){case"focusin":(qn(St)||St.contentEditable==="true")&&(Ei=St,br=G,ks=null);break;case"focusout":ks=br=Ei=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,Ql(nt,i,J);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":Ql(nt,i,J)}var Ht;if(dr)t:{switch(t){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else Oa?Gl(t,i)&&(Kt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Kt="onCompositionStart");Kt&&(mr&&i.locale!=="ko"&&(Oa||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Oa&&(Ht=xi()):(Pn=J,Xi="value"in Pn?Pn.value:Pn.textContent,Oa=!0)),St=Ru(G,Kt),0<St.length&&(Kt=new xo(Kt,t,null,i,J),nt.push({event:Kt,listeners:St}),Ht?Kt.data=Ht:(Ht=To(i),Ht!==null&&(Kt.data=Ht)))),(Ht=Uc?kn(t,i):ka(t,i))&&(Kt=Ru(G,"onBeforeInput"),0<Kt.length&&(St=new xo("onBeforeInput","beforeinput",null,i,J),nt.push({event:St,listeners:Kt}),St.data=Ht)),S_(nt,t,G,i,J)}sg(nt,e)})}function tl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Ru(t,e){for(var i=e+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Qi(t,i),f!=null&&o.unshift(tl(t,f,h)),f=Qi(t,e),f!=null&&o.push(tl(t,f,h))),t.tag===3)return o;t=t.return}return[]}function z_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function og(t,e,i,o,f){for(var h=e._reactName,y=[];i!==null&&i!==o;){var E=i,O=E.alternate,G=E.stateNode;if(E=E.tag,O!==null&&O===o)break;E!==5&&E!==26&&E!==27||G===null||(O=G,f?(G=Qi(i,h),G!=null&&y.unshift(tl(i,G,O))):f||(G=Qi(i,h),G!=null&&y.push(tl(i,G,O)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var C_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function lg(t){return(typeof t=="string"?t:""+t).replace(C_,`
`).replace(L_,"")}function ug(t,e){return e=lg(e),lg(t)===e}function oe(t,e,i,o,f,h){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||Hn(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&Hn(t,""+o);break;case"className":se(t,"class",o);break;case"tabIndex":se(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":se(t,i,o);break;case"style":lr(t,o,h);break;case"data":if(e!=="object"){se(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Ca(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&oe(t,e,"name",f.name,f,null),oe(t,e,"formEncType",f.formEncType,f,null),oe(t,e,"formMethod",f.formMethod,f,null),oe(t,e,"formTarget",f.formTarget,f,null)):(oe(t,e,"encType",f.encType,f,null),oe(t,e,"method",f.method,f,null),oe(t,e,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Ca(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=vn);break;case"onScroll":o!=null&&Vt("scroll",t);break;case"onScrollEnd":o!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(u(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=Ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Zt(t,"popover",o);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ur.get(i)||i,Zt(t,i,o))}}function ah(t,e,i,o,f,h){switch(i){case"style":lr(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(u(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof o=="string"?Hn(t,o):(typeof o=="number"||typeof o=="bigint")&&Hn(t,""+o);break;case"onScroll":o!=null&&Vt("scroll",t);break;case"onScrollEnd":o!=null&&Vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),e=i.slice(2,f?i.length-7:void 0),h=t[Ge]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,f);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Zt(t,i,o)}}}function $e(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var o=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:oe(t,e,h,y,i,null)}}f&&oe(t,e,"srcSet",i.srcSet,i,null),o&&oe(t,e,"src",i.src,i,null);return;case"input":Vt("invalid",t);var E=h=y=f=null,O=null,G=null;for(o in i)if(i.hasOwnProperty(o)){var J=i[o];if(J!=null)switch(o){case"name":f=J;break;case"type":y=J;break;case"checked":O=J;break;case"defaultChecked":G=J;break;case"value":h=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,e));break;default:oe(t,e,o,J,i,null)}}_s(t,h,E,O,G,y,f,!1);return;case"select":Vt("invalid",t),o=y=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:oe(t,e,f,E,i,null)}e=h,i=y,t.multiple=!!o,e!=null?fe(t,!!o,e,!1):i!=null&&fe(t,!!o,i,!0);return;case"textarea":Vt("invalid",t),h=f=o=null;for(y in i)if(i.hasOwnProperty(y)&&(E=i[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(u(91));break;default:oe(t,e,y,E,i,null)}Aa(t,o,f,h);return;case"option":for(O in i)i.hasOwnProperty(O)&&(o=i[O],o!=null)&&(O==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":oe(t,e,O,o,i,null));return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(o=0;o<$o.length;o++)Vt($o[o],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(o=i[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:oe(t,e,G,o,i,null)}return;default:if(bs(e)){for(J in i)i.hasOwnProperty(J)&&(o=i[J],o!==void 0&&ah(t,e,J,o,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(o=i[E],o!=null&&oe(t,e,E,o,i,null))}function M_(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,y=null,E=null,O=null,G=null,J=null;for(Q in i){var nt=i[Q];if(i.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=nt;default:o.hasOwnProperty(Q)||oe(t,e,Q,null,o,nt)}}for(var Y in o){var Q=o[Y];if(nt=i[Y],o.hasOwnProperty(Y)&&(Q!=null||nt!=null))switch(Y){case"type":h=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":y=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(u(137,e));break;default:Q!==nt&&oe(t,e,Y,Q,o,nt)}}ho(t,y,E,O,G,J,h,f);return;case"select":Q=y=E=Y=null;for(h in i)if(O=i[h],i.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":Q=O;default:o.hasOwnProperty(h)||oe(t,e,h,null,o,O)}for(f in o)if(h=o[f],O=i[f],o.hasOwnProperty(f)&&(h!=null||O!=null))switch(f){case"value":Y=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==O&&oe(t,e,f,h,o,O)}e=E,i=y,o=Q,Y!=null?fe(t,!!i,Y,!1):!!o!=!!i&&(e!=null?fe(t,!!i,e,!0):fe(t,!!i,i?[]:"",!1));return;case"textarea":Q=Y=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(t,e,E,null,o,f)}for(y in o)if(f=o[y],h=i[y],o.hasOwnProperty(y)&&(f!=null||h!=null))switch(y){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(u(91));break;default:f!==h&&oe(t,e,y,f,o,h)}bi(t,Y,Q);return;case"option":for(var bt in i)Y=i[bt],i.hasOwnProperty(bt)&&Y!=null&&!o.hasOwnProperty(bt)&&(bt==="selected"?t.selected=!1:oe(t,e,bt,null,o,Y));for(O in o)Y=o[O],Q=i[O],o.hasOwnProperty(O)&&Y!==Q&&(Y!=null||Q!=null)&&(O==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":oe(t,e,O,Y,o,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in i)Y=i[kt],i.hasOwnProperty(kt)&&Y!=null&&!o.hasOwnProperty(kt)&&oe(t,e,kt,null,o,Y);for(G in o)if(Y=o[G],Q=i[G],o.hasOwnProperty(G)&&Y!==Q&&(Y!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,e));break;default:oe(t,e,G,Y,o,Q)}return;default:if(bs(e)){for(var le in i)Y=i[le],i.hasOwnProperty(le)&&Y!==void 0&&!o.hasOwnProperty(le)&&ah(t,e,le,void 0,o,Y);for(J in o)Y=o[J],Q=i[J],!o.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||ah(t,e,J,Y,o,Q);return}}for(var j in i)Y=i[j],i.hasOwnProperty(j)&&Y!=null&&!o.hasOwnProperty(j)&&oe(t,e,j,null,o,Y);for(nt in o)Y=o[nt],Q=i[nt],!o.hasOwnProperty(nt)||Y===Q||Y==null&&Q==null||oe(t,e,nt,Y,o,Q)}function cg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],h=f.transferSize,y=f.initiatorType,E=f.duration;if(h&&E&&cg(y)){for(y=0,E=f.responseEnd,o+=1;o<i.length;o++){var O=i[o],G=O.startTime;if(G>E)break;var J=O.transferSize,nt=O.initiatorType;J&&cg(nt)&&(O=O.responseEnd,y+=J*(O<E?1:(E-G)/(O-G)))}if(--o,e+=8*(h+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sh=null,rh=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function fg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=null;function O_(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,k_=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(t){return mg.resolve(null).then(t).catch(B_)}:dg;function B_(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function pg(t,e){var i=e,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Ir(e);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")el(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,el(i);for(var h=i.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[gs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=y}}else i==="body"&&el(t.ownerDocument.body);i=f}while(i);Ir(e)}function gg(t,e){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function uh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":uh(i),lo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function D_(t,e,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[gs])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function j_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Qn(t.nextSibling),t===null))return null;return t}function yg(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Qn(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$?"||t.data==="$~"}function fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function U_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var o=function(){e(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var hh=null;function vg(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Qn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function _g(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function bg(t,e,i){switch(e=Bu(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function el(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lo(t)}var Xn=new Map,xg=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=K.d;K.d={f:H_,r:P_,D:Z_,C:q_,L:G_,m:V_,X:I_,S:Y_,M:K_};function H_(){var t=fa.f(),e=zu();return t||e}function P_(t){var e=Sa(t);e!==null&&e.tag===5&&e.type==="form"?Um(e):fa.r(t)}var Gr=typeof document>"u"?null:document;function wg(t,e,i){var o=Gr;if(o&&typeof e=="string"&&e){var f=de(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),xg.has(f)||(xg.add(f),t={rel:t,crossOrigin:i,href:e},o.querySelector(f)===null&&(e=o.createElement("link"),$e(e,"link",t),Oe(e),o.head.appendChild(e)))}}function Z_(t){fa.D(t),wg("dns-prefetch",t,null)}function q_(t,e){fa.C(t,e),wg("preconnect",t,e)}function G_(t,e,i){fa.L(t,e,i);var o=Gr;if(o&&t&&e){var f='link[rel="preload"][as="'+de(e)+'"]';e==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+de(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+de(i.imageSizes)+'"]')):f+='[href="'+de(t)+'"]';var h=f;switch(e){case"style":h=Vr(t);break;case"script":h=Yr(t)}Xn.has(h)||(t=A({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Xn.set(h,t),o.querySelector(f)!==null||e==="style"&&o.querySelector(nl(h))||e==="script"&&o.querySelector(il(h))||(e=o.createElement("link"),$e(e,"link",t),Oe(e),o.head.appendChild(e)))}}function V_(t,e){fa.m(t,e);var i=Gr;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Yr(t)}if(!Xn.has(h)&&(t=A({rel:"modulepreload",href:t},e),Xn.set(h,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(il(h)))return}o=i.createElement("link"),$e(o,"link",t),Oe(o),i.head.appendChild(o)}}}function Y_(t,e,i){fa.S(t,e,i);var o=Gr;if(o&&t){var f=Ea(o).hoistableStyles,h=Vr(t);e=e||"default";var y=f.get(h);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(nl(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Xn.get(h))&&dh(t,i);var O=y=o.createElement("link");Oe(O),$e(O,"link",t),O._p=new Promise(function(G,J){O.onload=G,O.onerror=J}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(y,e,o)}y={type:"stylesheet",instance:y,count:1,state:E},f.set(h,y)}}}function I_(t,e){fa.X(t,e);var i=Gr;if(i&&t){var o=Ea(i).hoistableScripts,f=Yr(t),h=o.get(f);h||(h=i.querySelector(il(f)),h||(t=A({src:t,async:!0},e),(e=Xn.get(f))&&mh(t,e),h=i.createElement("script"),Oe(h),$e(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function K_(t,e){fa.M(t,e);var i=Gr;if(i&&t){var o=Ea(i).hoistableScripts,f=Yr(t),h=o.get(f);h||(h=i.querySelector(il(f)),h||(t=A({src:t,async:!0,type:"module"},e),(e=Xn.get(f))&&mh(t,e),h=i.createElement("script"),Oe(h),$e(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Sg(t,e,i,o){var f=(f=ct.current)?Du(f):null;if(!f)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Vr(i.href),i=Ea(f).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Vr(i.href);var h=Ea(f).hoistableStyles,y=h.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=f.querySelector(nl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Xn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xn.set(t,i),h||Q_(f,t,i,y.state))),e&&o===null)throw Error(u(528,""));return y}if(e&&o!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Yr(i),i=Ea(f).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function Vr(t){return'href="'+de(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function Eg(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Q_(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),$e(e,"link",i),Oe(e),t.head.appendChild(e))}function Yr(t){return'[src="'+de(t)+'"]'}function il(t){return"script[async]"+t}function Tg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+de(i.href)+'"]');if(o)return e.instance=o,Oe(o),o;var f=A({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Oe(o),$e(o,"style",f),ju(o,i.precedence,t),e.instance=o;case"stylesheet":f=Vr(i.href);var h=t.querySelector(nl(f));if(h)return e.state.loading|=4,e.instance=h,Oe(h),h;o=Eg(i),(f=Xn.get(f))&&dh(o,f),h=(t.ownerDocument||t).createElement("link"),Oe(h);var y=h;return y._p=new Promise(function(E,O){y.onload=E,y.onerror=O}),$e(h,"link",o),e.state.loading|=4,ju(h,i.precedence,t),e.instance=h;case"script":return h=Yr(i.src),(f=t.querySelector(il(h)))?(e.instance=f,Oe(f),f):(o=i,(f=Xn.get(h))&&(o=A({},i),mh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Oe(f),$e(f,"link",o),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,ju(o,i.precedence,t));return e.instance}function ju(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===e)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function dh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Uu=null;function Ag(t,e,i){if(Uu===null){var o=new Map,f=Uu=new Map;f.set(i,o)}else f=Uu,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[gs]||h[Ne]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(e)||"";y=t+y;var E=o.get(y);E?E.push(h):o.set(y,[h])}}return o}function zg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function X_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function F_(t,e,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Vr(o.href),h=e.querySelector(nl(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Hu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,Oe(h);return}h=e.ownerDocument||e,o=Eg(o),(f=Xn.get(f))&&dh(o,f),h=h.createElement("link"),Oe(h);var y=h;y._p=new Promise(function(E,O){y.onload=E,y.onerror=O}),$e(h,"link",o),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Hu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var ph=0;function J_(t,e){return t.stylesheets&&t.count===0&&Zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&ph===0&&(ph=62500*N_());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>ph?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function Zu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,e.forEach(W_,t),Pu=null,Hu.call(t))}function W_(t,e){if(!(e.state.loading&4)){var i=Pu.get(t);if(i)var o=i.get(null);else{i=new Map,Pu.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var y=f[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),o=y)}o&&i.set(null,o)}f=e.instance,y=f.getAttribute("data-precedence"),h=i.get(y)||o,h===o&&i.set(null,f),i.set(y,f),this.count++,o=Hu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var al={$$typeof:W,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function $_(t,e,i,o,f,h,y,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=so(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.hiddenUpdates=so(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Lg(t,e,i,o,f,h,y,E,O,G,J,nt){return t=new $_(t,e,i,y,O,G,J,nt,E),e=1,h===!0&&(e|=24),h=sn(3,null,null,e),t.current=h,h.stateNode=t,e=Kc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:e},Jc(h),t}function Mg(t){return t?(t=Ji,t):Ji}function Ng(t,e,i,o,f,h){f=Mg(f),o.context===null?o.context=f:o.pendingContext=f,o=Ga(e),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Va(t,o,e),i!==null&&(zn(i,t,e),Do(i,t,e))}function Og(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function gh(t,e){Og(t,e),(t=t.alternate)&&Og(t,e)}function kg(t){if(t.tag===13||t.tag===31){var e=Yn(t,67108864);e!==null&&zn(e,t,67108864),gh(t,67108864)}}function Rg(t){if(t.tag===13||t.tag===31){var e=Un();e=gn(e);var i=Yn(t,e);i!==null&&zn(i,t,e),gh(t,e)}}var qu=!0;function tb(t,e,i,o){var f=k.T;k.T=null;var h=K.p;try{K.p=2,yh(t,e,i,o)}finally{K.p=h,k.T=f}}function eb(t,e,i,o){var f=k.T;k.T=null;var h=K.p;try{K.p=8,yh(t,e,i,o)}finally{K.p=h,k.T=f}}function yh(t,e,i,o){if(qu){var f=vh(o);if(f===null)ih(t,e,o,Gu,i),Dg(t,o);else if(ib(f,t,e,i,o))o.stopPropagation();else if(Dg(t,o),e&4&&-1<nb.indexOf(t)){for(;f!==null;){var h=Sa(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=qi(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var O=1<<31-Xe(y);E.entanglements[1]|=O,y&=~O}Oi(h),(ee&6)===0&&(Tu=Tt()+500,Wo(0))}}break;case 31:case 13:E=Yn(h,2),E!==null&&zn(E,h,2),zu(),gh(h,2)}if(h=vh(o),h===null&&ih(t,e,o,Gu,i),h===f)break;f=h}f!==null&&o.stopPropagation()}else ih(t,e,o,null,i)}}function vh(t){return t=xs(t),_h(t)}var Gu=null;function _h(t){if(Gu=null,t=Yi(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Gu=t,null}function Bg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case ce:return 2;case qe:return 8;case ge:case ei:return 32;case nn:return 268435456;default:return 32}default:return 32}}var bh=!1,es=null,ns=null,is=null,sl=new Map,rl=new Map,as=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dg(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function ol(t,e,i,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},e!==null&&(e=Sa(e),e!==null&&kg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function ib(t,e,i,o,f){switch(e){case"focusin":return es=ol(es,t,e,i,o,f),!0;case"dragenter":return ns=ol(ns,t,e,i,o,f),!0;case"mouseover":return is=ol(is,t,e,i,o,f),!0;case"pointerover":var h=f.pointerId;return sl.set(h,ol(sl.get(h)||null,t,e,i,o,f)),!0;case"gotpointercapture":return h=f.pointerId,rl.set(h,ol(rl.get(h)||null,t,e,i,o,f)),!0}return!1}function jg(t){var e=Yi(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,oo(t.priority,function(){Rg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,oo(t.priority,function(){Rg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=vh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);cr=o,i.target.dispatchEvent(o),cr=null}else return e=Sa(i),e!==null&&kg(e),t.blockedOn=i,!1;e.shift()}return!0}function Ug(t,e,i){Vu(t)&&i.delete(e)}function ab(){bh=!1,es!==null&&Vu(es)&&(es=null),ns!==null&&Vu(ns)&&(ns=null),is!==null&&Vu(is)&&(is=null),sl.forEach(Ug),rl.forEach(Ug)}function Yu(t,e){t.blockedOn===e&&(t.blockedOn=null,bh||(bh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ab)))}var Iu=null;function Hg(t){Iu!==t&&(Iu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Iu===t&&(Iu=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],f=t[e+2];if(typeof o!="function"){if(_h(o||i)===null)continue;break}var h=Sa(i);h!==null&&(t.splice(e,3),e-=3,vf(h,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Ir(t){function e(O){return Yu(O,t)}es!==null&&Yu(es,t),ns!==null&&Yu(ns,t),is!==null&&Yu(is,t),sl.forEach(e),rl.forEach(e);for(var i=0;i<as.length;i++){var o=as[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<as.length&&(i=as[0],i.blockedOn===null);)jg(i),i.blockedOn===null&&as.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],y=f[Ge]||null;if(typeof h=="function")y||Hg(i);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,y=h[Ge]||null)E=y.formAction;else if(_h(f)!==null)continue}else E=y.action;typeof E=="function"?i[o+1]=E:(i.splice(o,3),o-=3),Hg(i)}}}function Pg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function e(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),f!==null&&(f(),f=null)}}}function xh(t){this._internalRoot=t}Ku.prototype.render=xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,o=Un();Ng(i,o,t,e,null,null)},Ku.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ng(t.current,2,null,t,null,null),zu(),e[Vi]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=ro();t={blockedOn:null,target:t,priority:e};for(var i=0;i<as.length&&e!==0&&e<as[i].priority;i++);as.splice(i,0,t),i===0&&jg(t)}};var Zg=s.version;if(Zg!=="19.2.3")throw Error(u(527,Zg,"19.2.3"));K.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=x(e),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Ln=Qu.inject(sb),Me=Qu}catch{}}return ul.createRoot=function(t,e){if(!d(t))throw Error(u(299));var i=!1,o="",f=Qm,h=Xm,y=Fm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError)),e=Lg(t,1,!1,null,null,i,o,null,f,h,y,Pg),t[Vi]=e.current,nh(t),new xh(e)},ul.hydrateRoot=function(t,e,i){if(!d(t))throw Error(u(299));var o=!1,f="",h=Qm,y=Xm,E=Fm,O=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),e=Lg(t,1,!0,e,i??null,o,f,O,h,y,E,Pg),e.context=Mg(null),i=e.current,o=Un(),o=gn(o),f=Ga(o),f.callback=null,Va(i,f,o),i=o,e.current.lanes=i,Gi(e,i),Oi(e),t[Vi]=e.current,nh(t),new Ku(e)},ul.version="19.2.3",ul}var Jg;function mb(){if(Jg)return Eh.exports;Jg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),Eh.exports=db(),Eh.exports}var pb=mb();const gb=sd(pb),yb="modulepreload",vb=function(a){return"/parlens-pwa/"+a},Wg={},_b=function(s,l,u){let d=Promise.resolve();if(l&&l.length>0){let x=function(T){return Promise.all(T.map(A=>Promise.resolve(A).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};var _=x;document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),v=b?.nonce||b?.getAttribute("nonce");d=x(l.map(T=>{if(T=vb(T),T in Wg)return;Wg[T]=!0;const A=T.endsWith(".css"),N=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${N}`))return;const R=document.createElement("link");if(R.rel=A?"stylesheet":yb,A||(R.as="script"),R.crossOrigin="",R.href=T,v&&R.setAttribute("nonce",v),document.head.appendChild(R),A)return new Promise((Z,M)=>{R.addEventListener("load",Z),R.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${T}`)))})}))}function p(b){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=b,window.dispatchEvent(v),!v.defaultPrevented)throw b}return d.then(b=>{for(const v of b||[])v.status==="rejected"&&p(v.reason);return s().catch(p)})};function $g(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function j0(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function bb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$g(a.outputLen),$g(a.blockLen)}function ec(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function xb(a,s){j0(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Ch=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const U0=a=>a instanceof Uint8Array,Lh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),ki=(a,s)=>a<<32-s|a>>>s,wb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wb)throw new Error("Non little-endian hardware is not supported");function Sb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function od(a){if(typeof a=="string"&&(a=Sb(a)),!U0(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function Eb(...a){const s=new Uint8Array(a.reduce((u,d)=>u+d.length,0));let l=0;return a.forEach(u=>{if(!U0(u))throw new Error("Uint8Array expected");s.set(u,l),l+=u.length}),s}let H0=class{clone(){return this._cloneInto()}};function Tb(a){const s=u=>a().update(od(u)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function P0(a=32){if(Ch&&typeof Ch.getRandomValues=="function")return Ch.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Ab(a,s,l,u){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,u);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),v=u?4:0,x=u?0:4;a.setUint32(s+v,_,u),a.setUint32(s+x,b,u)}let zb=class extends H0{constructor(s,l,u,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=u,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Lh(this.buffer)}update(s){ec(this);const{view:l,buffer:u,blockLen:d}=this;s=od(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const v=Lh(s);for(;d<=p-_;_+=d)this.process(v,_);continue}u.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){ec(this),xb(s,this),this.finished=!0;const{buffer:l,view:u,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(u,0),_=0);for(let A=_;A<d;A++)l[A]=0;Ab(u,d-8,BigInt(this.length*8),p),this.process(u,0);const b=Lh(s),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=v/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<x;A++)b.setUint32(4*A,T[A],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const u=s.slice(0,l);return this.destroy(),u}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:u,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(u),s}};const Cb=(a,s,l)=>a&s^~a&l,Lb=(a,s,l)=>a&s^a&l^s&l,Mb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),os=new Uint32Array(64);let Nb=class extends zb{constructor(){super(64,32,8,!1),this.A=rs[0]|0,this.B=rs[1]|0,this.C=rs[2]|0,this.D=rs[3]|0,this.E=rs[4]|0,this.F=rs[5]|0,this.G=rs[6]|0,this.H=rs[7]|0}get(){const{A:s,B:l,C:u,D:d,E:p,F:_,G:b,H:v}=this;return[s,l,u,d,p,_,b,v]}set(s,l,u,d,p,_,b,v){this.A=s|0,this.B=l|0,this.C=u|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=v|0}process(s,l){for(let A=0;A<16;A++,l+=4)os[A]=s.getUint32(l,!1);for(let A=16;A<64;A++){const N=os[A-15],R=os[A-2],Z=ki(N,7)^ki(N,18)^N>>>3,M=ki(R,17)^ki(R,19)^R>>>10;os[A]=M+os[A-7]+Z+os[A-16]|0}let{A:u,B:d,C:p,D:_,E:b,F:v,G:x,H:T}=this;for(let A=0;A<64;A++){const N=ki(b,6)^ki(b,11)^ki(b,25),R=T+N+Cb(b,v,x)+Mb[A]+os[A]|0,M=(ki(u,2)^ki(u,13)^ki(u,22))+Lb(u,d,p)|0;T=x,x=v,v=b,b=_+R|0,_=p,p=d,d=u,u=R+M|0}u=u+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,v=v+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(u,d,p,_,b,v,x,T)}roundClean(){os.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const qh=Tb(()=>new Nb);const Z0=BigInt(0),fc=BigInt(1),Ob=BigInt(2),hc=a=>a instanceof Uint8Array,kb=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Fr(a){if(!hc(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=kb[a[l]];return s}function q0(a){const s=a.toString(16);return s.length&1?`0${s}`:s}function ld(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Jr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let u=0;u<l.length;u++){const d=u*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[u]=_}return l}function Cn(a){return ld(Fr(a))}function ud(a){if(!hc(a))throw new Error("Uint8Array expected");return ld(Fr(Uint8Array.from(a).reverse()))}function hs(a,s){return Jr(a.toString(16).padStart(s*2,"0"))}function cd(a,s){return hs(a,s).reverse()}function Rb(a){return Jr(q0(a))}function on(a,s,l){let u;if(typeof s=="string")try{u=Jr(s)}catch(p){throw new Error(`${a} must be valid hex string, got "${s}". Cause: ${p}`)}else if(hc(s))u=Uint8Array.from(s);else throw new Error(`${a} must be hex string or Uint8Array`);const d=u.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return u}function ar(...a){const s=new Uint8Array(a.reduce((u,d)=>u+d.length,0));let l=0;return a.forEach(u=>{if(!hc(u))throw new Error("Uint8Array expected");s.set(u,l),l+=u.length}),s}function Bb(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0}function Db(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function jb(a){let s;for(s=0;a>Z0;a>>=fc,s+=1);return s}function Ub(a,s){return a>>BigInt(s)&fc}const Hb=(a,s,l)=>a|(l?fc:Z0)<<BigInt(s),fd=a=>(Ob<<BigInt(a-1))-fc,Mh=a=>new Uint8Array(a),t0=a=>Uint8Array.from(a);function G0(a,s,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let u=Mh(a),d=Mh(a),p=0;const _=()=>{u.fill(1),d.fill(0),p=0},b=(...A)=>l(d,u,...A),v=(A=Mh())=>{d=b(t0([0]),A),u=b(),A.length!==0&&(d=b(t0([1]),A),u=b())},x=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let A=0;const N=[];for(;A<s;){u=b();const R=u.slice();N.push(R),A+=u.length}return ar(...N)};return(A,N)=>{_(),v(A);let R;for(;!(R=N(x()));)v();return _(),R}}const Pb={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function xl(a,s,l={}){const u=(d,p,_)=>{const b=Pb[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const v=a[d];if(!(_&&v===void 0)&&!b(v,a))throw new Error(`Invalid param ${String(d)}=${v} (${typeof v}), expected ${p}`)};for(const[d,p]of Object.entries(s))u(d,p,!1);for(const[d,p]of Object.entries(l))u(d,p,!0);return a}const Zb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Ub,bitLen:jb,bitMask:fd,bitSet:Hb,bytesToHex:Fr,bytesToNumberBE:Cn,bytesToNumberLE:ud,concatBytes:ar,createHmacDrbg:G0,ensureBytes:on,equalBytes:Bb,hexToBytes:Jr,hexToNumber:ld,numberToBytesBE:hs,numberToBytesLE:cd,numberToHexUnpadded:q0,numberToVarBytesBE:Rb,utf8ToBytes:Db,validateObject:xl},Symbol.toStringTag,{value:"Module"}));const Ke=BigInt(0),Ce=BigInt(1),tr=BigInt(2),qb=BigInt(3),Gh=BigInt(4),e0=BigInt(5),n0=BigInt(8);BigInt(9);BigInt(16);function tn(a,s){const l=a%s;return l>=Ke?l:s+l}function Gb(a,s,l){if(l<=Ke||s<Ke)throw new Error("Expected power/modulo > 0");if(l===Ce)return Ke;let u=Ce;for(;s>Ke;)s&Ce&&(u=u*a%l),a=a*a%l,s>>=Ce;return u}function Fn(a,s,l){let u=a;for(;s-- >Ke;)u*=u,u%=l;return u}function Vh(a,s){if(a===Ke||s<=Ke)throw new Error(`invert: expected positive integers, got n=${a} mod=${s}`);let l=tn(a,s),u=s,d=Ke,p=Ce;for(;l!==Ke;){const b=u/l,v=u%l,x=d-p*b;u=l,l=v,d=p,p=x}if(u!==Ce)throw new Error("invert: does not exist");return tn(d,s)}function Vb(a){const s=(a-Ce)/tr;let l,u,d;for(l=a-Ce,u=0;l%tr===Ke;l/=tr,u++);for(d=tr;d<a&&Gb(d,s,a)!==a-Ce;d++);if(u===1){const _=(a+Ce)/Gh;return function(v,x){const T=v.pow(x,_);if(!v.eql(v.sqr(T),x))throw new Error("Cannot find square root");return T}}const p=(l+Ce)/tr;return function(b,v){if(b.pow(v,s)===b.neg(b.ONE))throw new Error("Cannot find square root");let x=u,T=b.pow(b.mul(b.ONE,d),l),A=b.pow(v,p),N=b.pow(v,l);for(;!b.eql(N,b.ONE);){if(b.eql(N,b.ZERO))return b.ZERO;let R=1;for(let M=b.sqr(N);R<x&&!b.eql(M,b.ONE);R++)M=b.sqr(M);const Z=b.pow(T,Ce<<BigInt(x-R-1));T=b.sqr(Z),A=b.mul(A,Z),N=b.mul(N,T),x=R}return A}}function Yb(a){if(a%Gh===qb){const s=(a+Ce)/Gh;return function(u,d){const p=u.pow(d,s);if(!u.eql(u.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%n0===e0){const s=(a-e0)/n0;return function(u,d){const p=u.mul(d,tr),_=u.pow(p,s),b=u.mul(d,_),v=u.mul(u.mul(b,tr),_),x=u.mul(b,u.sub(v,u.ONE));if(!u.eql(u.sqr(x),d))throw new Error("Cannot find square root");return x}}return Vb(a)}const Ib=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kb(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=Ib.reduce((u,d)=>(u[d]="function",u),s);return xl(a,l)}function Qb(a,s,l){if(l<Ke)throw new Error("Expected power > 0");if(l===Ke)return a.ONE;if(l===Ce)return s;let u=a.ONE,d=s;for(;l>Ke;)l&Ce&&(u=a.mul(u,d)),d=a.sqr(d),l>>=Ce;return u}function Xb(a,s){const l=new Array(s.length),u=s.reduce((p,_,b)=>a.is0(_)?p:(l[b]=p,a.mul(p,_)),a.ONE),d=a.inv(u);return s.reduceRight((p,_,b)=>a.is0(_)?p:(l[b]=a.mul(p,l[b]),a.mul(p,_)),d),l}function V0(a,s){const l=s!==void 0?s:a.toString(2).length,u=Math.ceil(l/8);return{nBitLength:l,nByteLength:u}}function Fb(a,s,l=!1,u={}){if(a<=Ke)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=V0(a,s);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _=Yb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:fd(d),ZERO:Ke,ONE:Ce,create:v=>tn(v,a),isValid:v=>{if(typeof v!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof v}`);return Ke<=v&&v<a},is0:v=>v===Ke,isOdd:v=>(v&Ce)===Ce,neg:v=>tn(-v,a),eql:(v,x)=>v===x,sqr:v=>tn(v*v,a),add:(v,x)=>tn(v+x,a),sub:(v,x)=>tn(v-x,a),mul:(v,x)=>tn(v*x,a),pow:(v,x)=>Qb(b,v,x),div:(v,x)=>tn(v*Vh(x,a),a),sqrN:v=>v*v,addN:(v,x)=>v+x,subN:(v,x)=>v-x,mulN:(v,x)=>v*x,inv:v=>Vh(v,a),sqrt:u.sqrt||(v=>_(b,v)),invertBatch:v=>Xb(b,v),cmov:(v,x,T)=>T?x:v,toBytes:v=>l?cd(v,p):hs(v,p),fromBytes:v=>{if(v.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${v.length}`);return l?ud(v):Cn(v)}});return Object.freeze(b)}function Y0(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const s=a.toString(2).length;return Math.ceil(s/8)}function I0(a){const s=Y0(a);return s+Math.ceil(s/2)}function Jb(a,s,l=!1){const u=a.length,d=Y0(s),p=I0(s);if(u<16||u<p||u>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${u}`);const _=l?Cn(a):ud(a),b=tn(_,s-Ce)+Ce;return l?cd(b,d):hs(b,d)}const Wb=BigInt(0),Nh=BigInt(1);function $b(a,s){const l=(d,p)=>{const _=p.negate();return d?_:p},u=d=>{const p=Math.ceil(s/d)+1,_=2**(d-1);return{windows:p,windowSize:_}};return{constTimeNegate:l,unsafeLadder(d,p){let _=a.ZERO,b=d;for(;p>Wb;)p&Nh&&(_=_.add(b)),b=b.double(),p>>=Nh;return _},precomputeWindow(d,p){const{windows:_,windowSize:b}=u(p),v=[];let x=d,T=x;for(let A=0;A<_;A++){T=x,v.push(T);for(let N=1;N<b;N++)T=T.add(x),v.push(T);x=T.double()}return v},wNAF(d,p,_){const{windows:b,windowSize:v}=u(d);let x=a.ZERO,T=a.BASE;const A=BigInt(2**d-1),N=2**d,R=BigInt(d);for(let Z=0;Z<b;Z++){const M=Z*v;let D=Number(_&A);_>>=R,D>v&&(D-=N,_+=Nh);const U=M,$=M+Math.abs(D)-1,W=Z%2!==0,gt=D<0;D===0?T=T.add(l(W,p[U])):x=x.add(l(gt,p[$]))}return{p:x,f:T}},wNAFCached(d,p,_,b){const v=d._WINDOW_SIZE||1;let x=p.get(d);return x||(x=this.precomputeWindow(d,v),v!==1&&p.set(d,b(x))),this.wNAF(v,x,_)}}}function K0(a){return Kb(a.Fp),xl(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...V0(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function tx(a){const s=K0(a);xl(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:u,a:d}=s;if(l){if(!u.eql(d,u.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:ex,hexToBytes:nx}=Zb,nr={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(a){const{Err:s}=nr;if(a.length<2||a[0]!==2)throw new s("Invalid signature integer tag");const l=a[1],u=a.subarray(2,l+2);if(!l||u.length!==l)throw new s("Invalid signature integer: wrong length");if(u[0]&128)throw new s("Invalid signature integer: negative");if(u[0]===0&&!(u[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:ex(u),l:a.subarray(l+2)}},toSig(a){const{Err:s}=nr,l=typeof a=="string"?nx(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let u=l.length;if(u<2||l[0]!=48)throw new s("Invalid signature tag");if(l[1]!==u-2)throw new s("Invalid signature: incorrect length");const{d,l:p}=nr._parseInt(l.subarray(2)),{d:_,l:b}=nr._parseInt(p);if(b.length)throw new s("Invalid signature: left bytes after parsing");return{r:d,s:_}},hexFromSig(a){const s=x=>Number.parseInt(x[0],16)&8?"00"+x:x,l=x=>{const T=x.toString(16);return T.length&1?`0${T}`:T},u=s(l(a.s)),d=s(l(a.r)),p=u.length/2,_=d.length/2,b=l(p),v=l(_);return`30${l(_+p+4)}02${v}${d}02${b}${u}`}},ma=BigInt(0),Jn=BigInt(1);BigInt(2);const i0=BigInt(3);BigInt(4);function ix(a){const s=tx(a),{Fp:l}=s,u=s.toBytes||((Z,M,D)=>{const U=M.toAffine();return ar(Uint8Array.from([4]),l.toBytes(U.x),l.toBytes(U.y))}),d=s.fromBytes||(Z=>{const M=Z.subarray(1),D=l.fromBytes(M.subarray(0,l.BYTES)),U=l.fromBytes(M.subarray(l.BYTES,2*l.BYTES));return{x:D,y:U}});function p(Z){const{a:M,b:D}=s,U=l.sqr(Z),$=l.mul(U,Z);return l.add(l.add($,l.mul(Z,M)),D)}if(!l.eql(l.sqr(s.Gy),p(s.Gx)))throw new Error("bad generator point: equation left != right");function _(Z){return typeof Z=="bigint"&&ma<Z&&Z<s.n}function b(Z){if(!_(Z))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function v(Z){const{allowedPrivateKeyLengths:M,nByteLength:D,wrapPrivateKey:U,n:$}=s;if(M&&typeof Z!="bigint"){if(Z instanceof Uint8Array&&(Z=Fr(Z)),typeof Z!="string"||!M.includes(Z.length))throw new Error("Invalid key");Z=Z.padStart(D*2,"0")}let W;try{W=typeof Z=="bigint"?Z:Cn(on("private key",Z,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof Z}`)}return U&&(W=tn(W,$)),b(W),W}const x=new Map;function T(Z){if(!(Z instanceof A))throw new Error("ProjectivePoint expected")}class A{constructor(M,D,U){if(this.px=M,this.py=D,this.pz=U,M==null||!l.isValid(M))throw new Error("x required");if(D==null||!l.isValid(D))throw new Error("y required");if(U==null||!l.isValid(U))throw new Error("z required")}static fromAffine(M){const{x:D,y:U}=M||{};if(!M||!l.isValid(D)||!l.isValid(U))throw new Error("invalid affine point");if(M instanceof A)throw new Error("projective point not allowed");const $=W=>l.eql(W,l.ZERO);return $(D)&&$(U)?A.ZERO:new A(D,U,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const D=l.invertBatch(M.map(U=>U.pz));return M.map((U,$)=>U.toAffine(D[$])).map(A.fromAffine)}static fromHex(M){const D=A.fromAffine(d(on("pointHex",M)));return D.assertValidity(),D}static fromPrivateKey(M){return A.BASE.multiply(v(M))}_setWindowSize(M){this._WINDOW_SIZE=M,x.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:M,y:D}=this.toAffine();if(!l.isValid(M)||!l.isValid(D))throw new Error("bad point: x or y not FE");const U=l.sqr(D),$=p(M);if(!l.eql(U,$))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:M}=this.toAffine();if(l.isOdd)return!l.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){T(M);const{px:D,py:U,pz:$}=this,{px:W,py:gt,pz:dt}=M,rt=l.eql(l.mul(D,dt),l.mul(W,$)),F=l.eql(l.mul(U,dt),l.mul(gt,$));return rt&&F}negate(){return new A(this.px,l.neg(this.py),this.pz)}double(){const{a:M,b:D}=s,U=l.mul(D,i0),{px:$,py:W,pz:gt}=this;let dt=l.ZERO,rt=l.ZERO,F=l.ZERO,lt=l.mul($,$),wt=l.mul(W,W),xt=l.mul(gt,gt),mt=l.mul($,W);return mt=l.add(mt,mt),F=l.mul($,gt),F=l.add(F,F),dt=l.mul(M,F),rt=l.mul(U,xt),rt=l.add(dt,rt),dt=l.sub(wt,rt),rt=l.add(wt,rt),rt=l.mul(dt,rt),dt=l.mul(mt,dt),F=l.mul(U,F),xt=l.mul(M,xt),mt=l.sub(lt,xt),mt=l.mul(M,mt),mt=l.add(mt,F),F=l.add(lt,lt),lt=l.add(F,lt),lt=l.add(lt,xt),lt=l.mul(lt,mt),rt=l.add(rt,lt),xt=l.mul(W,gt),xt=l.add(xt,xt),lt=l.mul(xt,mt),dt=l.sub(dt,lt),F=l.mul(xt,wt),F=l.add(F,F),F=l.add(F,F),new A(dt,rt,F)}add(M){T(M);const{px:D,py:U,pz:$}=this,{px:W,py:gt,pz:dt}=M;let rt=l.ZERO,F=l.ZERO,lt=l.ZERO;const wt=s.a,xt=l.mul(s.b,i0);let mt=l.mul(D,W),vt=l.mul(U,gt),Ct=l.mul($,dt),Nt=l.add(D,U),at=l.add(W,gt);Nt=l.mul(Nt,at),at=l.add(mt,vt),Nt=l.sub(Nt,at),at=l.add(D,$);let k=l.add(W,dt);return at=l.mul(at,k),k=l.add(mt,Ct),at=l.sub(at,k),k=l.add(U,$),rt=l.add(gt,dt),k=l.mul(k,rt),rt=l.add(vt,Ct),k=l.sub(k,rt),lt=l.mul(wt,at),rt=l.mul(xt,Ct),lt=l.add(rt,lt),rt=l.sub(vt,lt),lt=l.add(vt,lt),F=l.mul(rt,lt),vt=l.add(mt,mt),vt=l.add(vt,mt),Ct=l.mul(wt,Ct),at=l.mul(xt,at),vt=l.add(vt,Ct),Ct=l.sub(mt,Ct),Ct=l.mul(wt,Ct),at=l.add(at,Ct),mt=l.mul(vt,at),F=l.add(F,mt),mt=l.mul(k,at),rt=l.mul(Nt,rt),rt=l.sub(rt,mt),mt=l.mul(Nt,vt),lt=l.mul(k,lt),lt=l.add(lt,mt),new A(rt,F,lt)}subtract(M){return this.add(M.negate())}is0(){return this.equals(A.ZERO)}wNAF(M){return R.wNAFCached(this,x,M,D=>{const U=l.invertBatch(D.map($=>$.pz));return D.map(($,W)=>$.toAffine(U[W])).map(A.fromAffine)})}multiplyUnsafe(M){const D=A.ZERO;if(M===ma)return D;if(b(M),M===Jn)return this;const{endo:U}=s;if(!U)return R.unsafeLadder(this,M);let{k1neg:$,k1:W,k2neg:gt,k2:dt}=U.splitScalar(M),rt=D,F=D,lt=this;for(;W>ma||dt>ma;)W&Jn&&(rt=rt.add(lt)),dt&Jn&&(F=F.add(lt)),lt=lt.double(),W>>=Jn,dt>>=Jn;return $&&(rt=rt.negate()),gt&&(F=F.negate()),F=new A(l.mul(F.px,U.beta),F.py,F.pz),rt.add(F)}multiply(M){b(M);let D=M,U,$;const{endo:W}=s;if(W){const{k1neg:gt,k1:dt,k2neg:rt,k2:F}=W.splitScalar(D);let{p:lt,f:wt}=this.wNAF(dt),{p:xt,f:mt}=this.wNAF(F);lt=R.constTimeNegate(gt,lt),xt=R.constTimeNegate(rt,xt),xt=new A(l.mul(xt.px,W.beta),xt.py,xt.pz),U=lt.add(xt),$=wt.add(mt)}else{const{p:gt,f:dt}=this.wNAF(D);U=gt,$=dt}return A.normalizeZ([U,$])[0]}multiplyAndAddUnsafe(M,D,U){const $=A.BASE,W=(dt,rt)=>rt===ma||rt===Jn||!dt.equals($)?dt.multiplyUnsafe(rt):dt.multiply(rt),gt=W(this,D).add(W(M,U));return gt.is0()?void 0:gt}toAffine(M){const{px:D,py:U,pz:$}=this,W=this.is0();M==null&&(M=W?l.ONE:l.inv($));const gt=l.mul(D,M),dt=l.mul(U,M),rt=l.mul($,M);if(W)return{x:l.ZERO,y:l.ZERO};if(!l.eql(rt,l.ONE))throw new Error("invZ was invalid");return{x:gt,y:dt}}isTorsionFree(){const{h:M,isTorsionFree:D}=s;if(M===Jn)return!0;if(D)return D(A,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:D}=s;return M===Jn?this:D?D(A,this):this.multiplyUnsafe(s.h)}toRawBytes(M=!0){return this.assertValidity(),u(A,this,M)}toHex(M=!0){return Fr(this.toRawBytes(M))}}A.BASE=new A(s.Gx,s.Gy,l.ONE),A.ZERO=new A(l.ZERO,l.ONE,l.ZERO);const N=s.nBitLength,R=$b(A,s.endo?Math.ceil(N/2):N);return{CURVE:s,ProjectivePoint:A,normPrivateKeyToScalar:v,weierstrassEquation:p,isWithinCurveOrder:_}}function ax(a){const s=K0(a);return xl(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function sx(a){const s=ax(a),{Fp:l,n:u}=s,d=l.BYTES+1,p=2*l.BYTES+1;function _(at){return ma<at&&at<l.ORDER}function b(at){return tn(at,u)}function v(at){return Vh(at,u)}const{ProjectivePoint:x,normPrivateKeyToScalar:T,weierstrassEquation:A,isWithinCurveOrder:N}=ix({...s,toBytes(at,k,K){const I=k.toAffine(),ft=l.toBytes(I.x),it=ar;return K?it(Uint8Array.from([k.hasEvenY()?2:3]),ft):it(Uint8Array.from([4]),ft,l.toBytes(I.y))},fromBytes(at){const k=at.length,K=at[0],I=at.subarray(1);if(k===d&&(K===2||K===3)){const ft=Cn(I);if(!_(ft))throw new Error("Point is not on curve");const it=A(ft);let z=l.sqrt(it);const P=(z&Jn)===Jn;return(K&1)===1!==P&&(z=l.neg(z)),{x:ft,y:z}}else if(k===p&&K===4){const ft=l.fromBytes(I.subarray(0,l.BYTES)),it=l.fromBytes(I.subarray(l.BYTES,2*l.BYTES));return{x:ft,y:it}}else throw new Error(`Point of length ${k} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),R=at=>Fr(hs(at,s.nByteLength));function Z(at){const k=u>>Jn;return at>k}function M(at){return Z(at)?b(-at):at}const D=(at,k,K)=>Cn(at.slice(k,K));class U{constructor(k,K,I){this.r=k,this.s=K,this.recovery=I,this.assertValidity()}static fromCompact(k){const K=s.nByteLength;return k=on("compactSignature",k,K*2),new U(D(k,0,K),D(k,K,2*K))}static fromDER(k){const{r:K,s:I}=nr.toSig(on("DER",k));return new U(K,I)}assertValidity(){if(!N(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!N(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new U(this.r,this.s,k)}recoverPublicKey(k){const{r:K,s:I,recovery:ft}=this,it=F(on("msgHash",k));if(ft==null||![0,1,2,3].includes(ft))throw new Error("recovery id invalid");const z=ft===2||ft===3?K+s.n:K;if(z>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const P=(ft&1)===0?"02":"03",st=x.fromHex(P+R(z)),ot=v(z),ht=b(-it*ot),ct=b(I*ot),Mt=x.BASE.multiplyAndAddUnsafe(st,ht,ct);if(!Mt)throw new Error("point at infinify");return Mt.assertValidity(),Mt}hasHighS(){return Z(this.s)}normalizeS(){return this.hasHighS()?new U(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return Jr(this.toDERHex())}toDERHex(){return nr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Jr(this.toCompactHex())}toCompactHex(){return R(this.r)+R(this.s)}}const $={isValidPrivateKey(at){try{return T(at),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const at=I0(s.n);return Jb(s.randomBytes(at),s.n)},precompute(at=8,k=x.BASE){return k._setWindowSize(at),k.multiply(BigInt(3)),k}};function W(at,k=!0){return x.fromPrivateKey(at).toRawBytes(k)}function gt(at){const k=at instanceof Uint8Array,K=typeof at=="string",I=(k||K)&&at.length;return k?I===d||I===p:K?I===2*d||I===2*p:at instanceof x}function dt(at,k,K=!0){if(gt(at))throw new Error("first arg must be private key");if(!gt(k))throw new Error("second arg must be public key");return x.fromHex(k).multiply(T(at)).toRawBytes(K)}const rt=s.bits2int||function(at){const k=Cn(at),K=at.length*8-s.nBitLength;return K>0?k>>BigInt(K):k},F=s.bits2int_modN||function(at){return b(rt(at))},lt=fd(s.nBitLength);function wt(at){if(typeof at!="bigint")throw new Error("bigint expected");if(!(ma<=at&&at<lt))throw new Error(`bigint expected < 2^${s.nBitLength}`);return hs(at,s.nByteLength)}function xt(at,k,K=mt){if(["recovered","canonical"].some(Pt=>Pt in K))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:ft}=s;let{lowS:it,prehash:z,extraEntropy:P}=K;it==null&&(it=!0),at=on("msgHash",at),z&&(at=on("prehashed msgHash",I(at)));const st=F(at),ot=T(k),ht=[wt(ot),wt(st)];if(P!=null){const Pt=P===!0?ft(l.BYTES):P;ht.push(on("extraEntropy",Pt))}const ct=ar(...ht),Mt=st;function Xt(Pt){const xe=rt(Pt);if(!N(xe))return;const en=v(xe),ue=x.BASE.multiply(xe).toAffine(),Qe=b(ue.x);if(Qe===ma)return;const Ue=b(en*b(Mt+Qe*ot));if(Ue===ma)return;let Le=(ue.x===Qe?0:2)|Number(ue.y&Jn),mn=Ue;return it&&Z(Ue)&&(mn=M(Ue),Le^=1),new U(Qe,mn,Le)}return{seed:ct,k2sig:Xt}}const mt={lowS:s.lowS,prehash:!1},vt={lowS:s.lowS,prehash:!1};function Ct(at,k,K=mt){const{seed:I,k2sig:ft}=xt(at,k,K),it=s;return G0(it.hash.outputLen,it.nByteLength,it.hmac)(I,ft)}x.BASE._setWindowSize(8);function Nt(at,k,K,I=vt){const ft=at;if(k=on("msgHash",k),K=on("publicKey",K),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:it,prehash:z}=I;let P,st;try{if(typeof ft=="string"||ft instanceof Uint8Array)try{P=U.fromDER(ft)}catch(ue){if(!(ue instanceof nr.Err))throw ue;P=U.fromCompact(ft)}else if(typeof ft=="object"&&typeof ft.r=="bigint"&&typeof ft.s=="bigint"){const{r:ue,s:Qe}=ft;P=new U(ue,Qe)}else throw new Error("PARSE");st=x.fromHex(K)}catch(ue){if(ue.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(it&&P.hasHighS())return!1;z&&(k=s.hash(k));const{r:ot,s:ht}=P,ct=F(k),Mt=v(ht),Xt=b(ct*Mt),Pt=b(ot*Mt),xe=x.BASE.multiplyAndAddUnsafe(st,Xt,Pt)?.toAffine();return xe?b(xe.x)===ot:!1}return{CURVE:s,getPublicKey:W,getSharedSecret:dt,sign:Ct,verify:Nt,ProjectivePoint:x,Signature:U,utils:$}}let Q0=class extends H0{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,bb(s);const u=od(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(u.length>d?s.create().update(u).digest():u);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return ec(this),this.iHash.update(s),this}digestInto(s){ec(this),j0(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:u,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=u._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const X0=(a,s,l)=>new Q0(a,s).update(l).digest();X0.create=(a,s)=>new Q0(a,s);function rx(a){return{hash:a,hmac:(s,...l)=>X0(a,s,Eb(...l)),randomBytes:P0}}function ox(a,s){const l=u=>sx({...a,...rx(u)});return Object.freeze({...l(s),create:l})}const dc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),F0=BigInt(1),ic=BigInt(2),a0=(a,s)=>(a+s/ic)/s;function J0(a){const s=dc,l=BigInt(3),u=BigInt(6),d=BigInt(11),p=BigInt(22),_=BigInt(23),b=BigInt(44),v=BigInt(88),x=a*a*a%s,T=x*x*a%s,A=Fn(T,l,s)*T%s,N=Fn(A,l,s)*T%s,R=Fn(N,ic,s)*x%s,Z=Fn(R,d,s)*R%s,M=Fn(Z,p,s)*Z%s,D=Fn(M,b,s)*M%s,U=Fn(D,v,s)*D%s,$=Fn(U,b,s)*M%s,W=Fn($,l,s)*T%s,gt=Fn(W,_,s)*Z%s,dt=Fn(gt,u,s)*x%s,rt=Fn(dt,ic,s);if(!Yh.eql(Yh.sqr(rt),a))throw new Error("Cannot find square root");return rt}const Yh=Fb(dc,void 0,void 0,{sqrt:J0}),to=ox({a:BigInt(0),b:BigInt(7),Fp:Yh,n:nc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const s=nc,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),u=-F0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,_=BigInt("0x100000000000000000000000000000000"),b=a0(p*a,s),v=a0(-u*a,s);let x=tn(a-b*l-v*d,s),T=tn(-b*u-v*p,s);const A=x>_,N=T>_;if(A&&(x=s-x),N&&(T=s-T),x>_||T>_)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:A,k1:x,k2neg:N,k2:T}}}},qh),mc=BigInt(0),W0=a=>typeof a=="bigint"&&mc<a&&a<dc,lx=a=>typeof a=="bigint"&&mc<a&&a<nc,s0={};function ac(a,...s){let l=s0[a];if(l===void 0){const u=qh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=ar(u,u),s0[a]=l}return qh(ar(l,...s))}const hd=a=>a.toRawBytes(!0).slice(1),Ih=a=>hs(a,32),Oh=a=>tn(a,dc),dl=a=>tn(a,nc),dd=to.ProjectivePoint,ux=(a,s,l)=>dd.BASE.multiplyAndAddUnsafe(a,s,l);function Kh(a){let s=to.utils.normPrivateKeyToScalar(a),l=dd.fromPrivateKey(s);return{scalar:l.hasEvenY()?s:dl(-s),bytes:hd(l)}}function $0(a){if(!W0(a))throw new Error("bad x: need 0 < x < p");const s=Oh(a*a),l=Oh(s*a+BigInt(7));let u=J0(l);u%ic!==mc&&(u=Oh(-u));const d=new dd(a,u,F0);return d.assertValidity(),d}function ty(...a){return dl(Cn(ac("BIP0340/challenge",...a)))}function cx(a){return Kh(a).bytes}function fx(a,s,l=P0(32)){const u=on("message",a),{bytes:d,scalar:p}=Kh(s),_=on("auxRand",l,32),b=Ih(p^Cn(ac("BIP0340/aux",_))),v=ac("BIP0340/nonce",b,d,u),x=dl(Cn(v));if(x===mc)throw new Error("sign failed: k is zero");const{bytes:T,scalar:A}=Kh(x),N=ty(T,d,u),R=new Uint8Array(64);if(R.set(T,0),R.set(Ih(dl(A+N*p)),32),!ey(R,u,d))throw new Error("sign: Invalid signature produced");return R}function ey(a,s,l){const u=on("signature",a,64),d=on("message",s),p=on("publicKey",l,32);try{const _=$0(Cn(p)),b=Cn(u.subarray(0,32));if(!W0(b))return!1;const v=Cn(u.subarray(32,64));if(!lx(v))return!1;const x=ty(Ih(b),hd(_),d),T=ux(_,v,dl(-x));return!(!T||!T.hasEvenY()||T.toAffine().x!==b)}catch{return!1}}const Bi={getPublicKey:cx,sign:fx,verify:ey,utils:{randomPrivateKey:to.utils.randomPrivateKey,lift_x:$0,pointToBytes:hd,numberToBytesBE:hs,bytesToNumberBE:Cn,taggedHash:ac,mod:tn}},kh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const md=a=>a instanceof Uint8Array,Rh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),Ri=(a,s)=>a<<32-s|a>>>s,hx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!hx)throw new Error("Non little-endian hardware is not supported");const dx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function je(a){if(!md(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=dx[a[l]];return s}function sr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let u=0;u<l.length;u++){const d=u*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[u]=_}return l}function mx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function ml(a){if(typeof a=="string"&&(a=mx(a)),!md(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function pc(...a){const s=new Uint8Array(a.reduce((u,d)=>u+d.length,0));let l=0;return a.forEach(u=>{if(!md(u))throw new Error("Uint8Array expected");s.set(u,l),l+=u.length}),s}class ny{clone(){return this._cloneInto()}}function iy(a){const s=u=>a().update(ml(u)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function ay(a=32){if(kh&&typeof kh.getRandomValues=="function")return kh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Qh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function px(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function sy(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function gx(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qh(a.outputLen),Qh(a.blockLen)}function yx(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function vx(a,s){sy(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Di={number:Qh,bool:px,bytes:sy,hash:gx,exists:yx,output:vx};function _x(a,s,l,u){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,u);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),v=u?4:0,x=u?0:4;a.setUint32(s+v,_,u),a.setUint32(s+x,b,u)}class bx extends ny{constructor(s,l,u,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=u,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Rh(this.buffer)}update(s){Di.exists(this);const{view:l,buffer:u,blockLen:d}=this;s=ml(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const v=Rh(s);for(;d<=p-_;_+=d)this.process(v,_);continue}u.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){Di.exists(this),Di.output(s,this),this.finished=!0;const{buffer:l,view:u,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(u,0),_=0);for(let A=_;A<d;A++)l[A]=0;_x(u,d-8,BigInt(this.length*8),p),this.process(u,0);const b=Rh(s),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=v/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<x;A++)b.setUint32(4*A,T[A],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const u=s.slice(0,l);return this.destroy(),u}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:u,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(u),s}}const xx=(a,s,l)=>a&s^~a&l,wx=(a,s,l)=>a&s^a&l^s&l,Sx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ls=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),us=new Uint32Array(64);class ry extends bx{constructor(){super(64,32,8,!1),this.A=ls[0]|0,this.B=ls[1]|0,this.C=ls[2]|0,this.D=ls[3]|0,this.E=ls[4]|0,this.F=ls[5]|0,this.G=ls[6]|0,this.H=ls[7]|0}get(){const{A:s,B:l,C:u,D:d,E:p,F:_,G:b,H:v}=this;return[s,l,u,d,p,_,b,v]}set(s,l,u,d,p,_,b,v){this.A=s|0,this.B=l|0,this.C=u|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=v|0}process(s,l){for(let A=0;A<16;A++,l+=4)us[A]=s.getUint32(l,!1);for(let A=16;A<64;A++){const N=us[A-15],R=us[A-2],Z=Ri(N,7)^Ri(N,18)^N>>>3,M=Ri(R,17)^Ri(R,19)^R>>>10;us[A]=M+us[A-7]+Z+us[A-16]|0}let{A:u,B:d,C:p,D:_,E:b,F:v,G:x,H:T}=this;for(let A=0;A<64;A++){const N=Ri(b,6)^Ri(b,11)^Ri(b,25),R=T+N+xx(b,v,x)+Sx[A]+us[A]|0,M=(Ri(u,2)^Ri(u,13)^Ri(u,22))+wx(u,d,p)|0;T=x,x=v,v=b,b=_+R|0,_=p,p=d,d=u,u=R+M|0}u=u+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,v=v+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(u,d,p,_,b,v,x,T)}roundClean(){us.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Ex extends ry{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ds=iy(()=>new ry);iy(()=>new Ex);function eo(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function ba(...a){const s=(d,p)=>_=>d(p(_)),l=Array.from(a).reverse().reduce((d,p)=>d?s(d,p.encode):p.encode,void 0),u=a.reduce((d,p)=>d?s(d,p.decode):p.decode,void 0);return{encode:l,decode:u}}function xa(a){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(l=>{if(eo(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const u=a.indexOf(l);if(u===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return u})}}}function wa(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of s)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return s.join(a)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(a)}}}function gc(a,s="="){if(eo(a),typeof s!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let u of l)if(typeof u!="string")throw new Error(`padding.encode: non-string input=${u}`);for(;l.length*a%8;)l.push(s);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let u=l.length;if(u*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;u>0&&l[u-1]===s;u--)if(!((u-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,u)}}}function oy(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>a(s)}}function r0(a,s,l){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let u=0;const d=[],p=Array.from(a);for(p.forEach(_=>{if(eo(_),_<0||_>=s)throw new Error(`Wrong integer: ${_}`)});;){let _=0,b=!0;for(let v=u;v<p.length;v++){const x=p[v],T=s*_+x;if(!Number.isSafeInteger(T)||s*_/s!==_||T-x!==s*_)throw new Error("convertRadix: carry overflow");if(_=T%l,p[v]=Math.floor(T/l),!Number.isSafeInteger(p[v])||p[v]*l+_!==T)throw new Error("convertRadix: carry overflow");if(b)p[v]?b=!1:u=v;else continue}if(d.push(_),b)break}for(let _=0;_<a.length-1&&a[_]===0;_++)d.push(0);return d.reverse()}const ly=(a,s)=>s?ly(s,a%s):a,sc=(a,s)=>a+(s-ly(a,s));function Xh(a,s,l,u){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if(sc(s,l)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${l} carryBits=${sc(s,l)}`);let d=0,p=0;const _=2**l-1,b=[];for(const v of a){if(eo(v),v>=2**s)throw new Error(`convertRadix2: invalid data word=${v} from=${s}`);if(d=d<<s|v,p+s>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${s}`);for(p+=s;p>=l;p-=l)b.push((d>>p-l&_)>>>0);d&=2**p-1}if(d=d<<l-p&_,!u&&p>=s)throw new Error("Excess padding");if(!u&&d)throw new Error(`Non-zero padding: ${d}`);return u&&p>0&&b.push(d>>>0),b}function Tx(a){return eo(a),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return r0(Array.from(s),2**8,a)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(r0(s,a,2**8))}}}function ms(a,s=!1){if(eo(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(sc(8,a)>32||sc(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Xh(Array.from(l),8,a,!s)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Xh(l,a,8,s))}}}function o0(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return a.apply(null,s)}catch{}}}const Ax=ba(ms(4),xa("0123456789ABCDEF"),wa("")),zx=ba(ms(5),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),gc(5),wa(""));ba(ms(5),xa("0123456789ABCDEFGHIJKLMNOPQRSTUV"),gc(5),wa(""));ba(ms(5),xa("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),wa(""),oy(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const va=ba(ms(6),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),gc(6),wa("")),Cx=ba(ms(6),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),gc(6),wa("")),pd=a=>ba(Tx(58),xa(a),wa("")),Fh=pd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");pd("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");pd("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const l0=[0,2,3,5,6,7,9,10,11],Lx={encode(a){let s="";for(let l=0;l<a.length;l+=8){const u=a.subarray(l,l+8);s+=Fh.encode(u).padStart(l0[u.length],"1")}return s},decode(a){let s=[];for(let l=0;l<a.length;l+=11){const u=a.slice(l,l+11),d=l0.indexOf(u.length),p=Fh.decode(u);for(let _=0;_<p.length-d;_++)if(p[_]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(s)}},Jh=ba(xa("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),wa("")),u0=[996825010,642813549,513874426,1027748829,705979059];function cl(a){const s=a>>25;let l=(a&33554431)<<5;for(let u=0;u<u0.length;u++)(s>>u&1)===1&&(l^=u0[u]);return l}function c0(a,s,l=1){const u=a.length;let d=1;for(let p=0;p<u;p++){const _=a.charCodeAt(p);if(_<33||_>126)throw new Error(`Invalid prefix (${a})`);d=cl(d)^_>>5}d=cl(d);for(let p=0;p<u;p++)d=cl(d)^a.charCodeAt(p)&31;for(let p of s)d=cl(d)^p;for(let p=0;p<6;p++)d=cl(d);return d^=l,Jh.encode(Xh([d%2**30],30,5,!1))}function uy(a){const s=a==="bech32"?1:734539939,l=ms(5),u=l.decode,d=l.encode,p=o0(u);function _(T,A,N=90){if(typeof T!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof T}`);if(!Array.isArray(A)||A.length&&typeof A[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof A}`);const R=T.length+7+A.length;if(N!==!1&&R>N)throw new TypeError(`Length ${R} exceeds limit ${N}`);return T=T.toLowerCase(),`${T}1${Jh.encode(A)}${c0(T,A,s)}`}function b(T,A=90){if(typeof T!="string")throw new Error(`bech32.decode input should be string, not ${typeof T}`);if(T.length<8||A!==!1&&T.length>A)throw new TypeError(`Wrong string length: ${T.length} (${T}). Expected (8..${A})`);const N=T.toLowerCase();if(T!==N&&T!==T.toUpperCase())throw new Error("String must be lowercase or uppercase");T=N;const R=T.lastIndexOf("1");if(R===0||R===-1)throw new Error('Letter "1" must be present between prefix and data only');const Z=T.slice(0,R),M=T.slice(R+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");const D=Jh.decode(M).slice(0,-6),U=c0(Z,D,s);if(!M.endsWith(U))throw new Error(`Invalid checksum in ${T}: expected "${U}"`);return{prefix:Z,words:D}}const v=o0(b);function x(T){const{prefix:A,words:N}=b(T,!1);return{prefix:A,words:N,bytes:u(N)}}return{encode:_,decode:b,decodeToBytes:x,decodeUnsafe:v,fromWords:u,fromWordsUnsafe:p,toWords:d}}const Wr=uy("bech32");uy("bech32m");const Mx={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},Nx=ba(ms(4),xa("0123456789abcdef"),wa(""),oy(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),Ox={utf8:Mx,hex:Nx,base16:Ax,base32:zx,base64:va,base64url:Cx,base58:Fh,base58xmr:Lx};`${Object.keys(Ox).join(", ")}`;function Bh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function f0(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function kx(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function ji(a,...s){if(!kx(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${a.length}`)}const ln=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),Rx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Rx)throw new Error("Non little-endian hardware is not supported");const Bx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Kr(a){ji(a);let s="";for(let l=0;l<a.length;l++)s+=Bx[a[l]];return s}const ha={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h0(a){if(a>=ha._0&&a<=ha._9)return a-ha._0;if(a>=ha._A&&a<=ha._F)return a-(ha._A-10);if(a>=ha._a&&a<=ha._f)return a-(ha._a-10)}function cy(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,l=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const u=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const _=h0(a.charCodeAt(p)),b=h0(a.charCodeAt(p+1));if(_===void 0||b===void 0){const v=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+v+'" at index '+p)}u[d]=_*16+b}return u}function Dx(a,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(a,s)}function jx(a,s){if(a.length!==s.length)return!1;let l=0;for(let u=0;u<a.length;u++)l|=a[u]^s[u];return l===0}const Ux=(a,s)=>(Object.assign(s,a),s),fs=16,Hx=283;function gd(a){return a<<1^Hx&-(a>>7)}function Qr(a,s){let l=0;for(;s>0;s>>=1)l^=a&-(s&1),a=gd(a);return l}const Wh=(()=>{let a=new Uint8Array(256);for(let l=0,u=1;l<256;l++,u^=gd(u))a[l]=u;const s=new Uint8Array(256);s[0]=99;for(let l=0;l<255;l++){let u=a[255-l];u|=u<<8,s[a[l]]=(u^u>>4^u>>5^u>>6^u>>7^99)&255}return s})(),Px=Wh.map((a,s)=>Wh.indexOf(s)),Zx=a=>a<<24|a>>>8,Dh=a=>a<<8|a>>>24;function fy(a,s){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((x,T)=>s(a[T])),u=l.map(Dh),d=u.map(Dh),p=d.map(Dh),_=new Uint32Array(256*256),b=new Uint32Array(256*256),v=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let T=0;T<256;T++){const A=x*256+T;_[A]=l[x]^u[T],b[A]=d[x]^p[T],v[A]=a[x]<<8|a[T]}return{sbox:a,sbox2:v,T0:l,T1:u,T2:d,T3:p,T01:_,T23:b}}const yd=fy(Wh,a=>Qr(a,3)<<24|a<<16|a<<8|Qr(a,2)),hy=fy(Px,a=>Qr(a,11)<<24|Qr(a,13)<<16|Qr(a,9)<<8|Qr(a,14)),qx=(()=>{const a=new Uint8Array(16);for(let s=0,l=1;s<16;s++,l=gd(l))a[s]=l;return a})();function dy(a){ji(a);const s=a.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:l}=yd,u=ln(a),d=u.length,p=b=>Ui(l,b,b,b,b),_=new Uint32Array(s+28);_.set(u);for(let b=d;b<_.length;b++){let v=_[b-1];b%d===0?v=p(Zx(v))^qx[b/d-1]:d>6&&b%d===4&&(v=p(v)),_[b]=_[b-d]^v}return _}function Gx(a){const s=dy(a),l=s.slice(),u=s.length,{sbox2:d}=yd,{T0:p,T1:_,T2:b,T3:v}=hy;for(let x=0;x<u;x+=4)for(let T=0;T<4;T++)l[x+T]=s[u-x-4+T];s.fill(0);for(let x=4;x<u-4;x++){const T=l[x],A=Ui(d,T,T,T,T);l[x]=p[A&255]^_[A>>>8&255]^b[A>>>16&255]^v[A>>>24]}return l}function cs(a,s,l,u,d,p){return a[l<<8&65280|u>>>8&255]^s[d>>>8&65280|p>>>24&255]}function Ui(a,s,l,u,d){return a[s&255|l&65280]|a[u>>>16&255|d>>>16&65280]<<16}function d0(a,s,l,u,d){const{sbox2:p,T01:_,T23:b}=yd;let v=0;s^=a[v++],l^=a[v++],u^=a[v++],d^=a[v++];const x=a.length/4-2;for(let Z=0;Z<x;Z++){const M=a[v++]^cs(_,b,s,l,u,d),D=a[v++]^cs(_,b,l,u,d,s),U=a[v++]^cs(_,b,u,d,s,l),$=a[v++]^cs(_,b,d,s,l,u);s=M,l=D,u=U,d=$}const T=a[v++]^Ui(p,s,l,u,d),A=a[v++]^Ui(p,l,u,d,s),N=a[v++]^Ui(p,u,d,s,l),R=a[v++]^Ui(p,d,s,l,u);return{s0:T,s1:A,s2:N,s3:R}}function Vx(a,s,l,u,d){const{sbox2:p,T01:_,T23:b}=hy;let v=0;s^=a[v++],l^=a[v++],u^=a[v++],d^=a[v++];const x=a.length/4-2;for(let Z=0;Z<x;Z++){const M=a[v++]^cs(_,b,s,d,u,l),D=a[v++]^cs(_,b,l,s,d,u),U=a[v++]^cs(_,b,u,l,s,d),$=a[v++]^cs(_,b,d,u,l,s);s=M,l=D,u=U,d=$}const T=a[v++]^Ui(p,s,d,u,l),A=a[v++]^Ui(p,l,s,d,u),N=a[v++]^Ui(p,u,l,s,d),R=a[v++]^Ui(p,d,u,l,s);return{s0:T,s1:A,s2:N,s3:R}}function my(a,s){if(!s)return new Uint8Array(a);if(ji(s),s.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${s.length}`);return s}function Yx(a){if(ji(a),a.length%fs!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${fs}`)}function Ix(a,s,l){let u=a.length;const d=u%fs;if(!s&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=ln(a);if(s){let v=fs-d;v||(v=fs),u=u+v}const _=my(u,l),b=ln(_);return{b:p,o:b,out:_}}function Kx(a,s){if(!s)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const u=a[l-1];if(u<=0||u>16)throw new Error(`aes/pcks5: wrong padding byte: ${u}`);const d=a.subarray(0,-u);for(let p=0;p<u;p++)if(a[l-p-1]!==u)throw new Error("aes/pcks5: wrong padding");return d}function Qx(a){const s=new Uint8Array(16),l=ln(s);s.set(a);const u=fs-a.length;for(let d=fs-u;d<fs;d++)s[d]=u;return l}const py=Ux({blockSize:16,nonceLength:16},function(s,l,u={}){ji(s),ji(l,16);const d=!u.disablePadding;return{encrypt:(p,_)=>{const b=dy(s),{b:v,o:x,out:T}=Ix(p,d,_),A=ln(l);let N=A[0],R=A[1],Z=A[2],M=A[3],D=0;for(;D+4<=v.length;)N^=v[D+0],R^=v[D+1],Z^=v[D+2],M^=v[D+3],{s0:N,s1:R,s2:Z,s3:M}=d0(b,N,R,Z,M),x[D++]=N,x[D++]=R,x[D++]=Z,x[D++]=M;if(d){const U=Qx(p.subarray(D*4));N^=U[0],R^=U[1],Z^=U[2],M^=U[3],{s0:N,s1:R,s2:Z,s3:M}=d0(b,N,R,Z,M),x[D++]=N,x[D++]=R,x[D++]=Z,x[D++]=M}return b.fill(0),T},decrypt:(p,_)=>{Yx(p);const b=Gx(s),v=ln(l),x=my(p.length,_),T=ln(p),A=ln(x);let N=v[0],R=v[1],Z=v[2],M=v[3];for(let D=0;D+4<=T.length;){const U=N,$=R,W=Z,gt=M;N=T[D+0],R=T[D+1],Z=T[D+2],M=T[D+3];const{s0:dt,s1:rt,s2:F,s3:lt}=Vx(b,N,R,Z,M);A[D++]=dt^U,A[D++]=rt^$,A[D++]=F^W,A[D++]=lt^gt}return b.fill(0),Kx(x,d)}}}),gy=a=>Uint8Array.from(a.split("").map(s=>s.charCodeAt(0))),Xx=gy("expand 16-byte k"),Fx=gy("expand 32-byte k"),Jx=ln(Xx),yy=ln(Fx);yy.slice();function te(a,s){return a<<s|a>>>32-s}function $h(a){return a.byteOffset%4===0}const Xu=64,Wx=16,vy=2**32-1,m0=new Uint32Array;function $x(a,s,l,u,d,p,_,b){const v=d.length,x=new Uint8Array(Xu),T=ln(x),A=$h(d)&&$h(p),N=A?ln(d):m0,R=A?ln(p):m0;for(let Z=0;Z<v;_++){if(a(s,l,u,T,_,b),_>=vy)throw new Error("arx: counter overflow");const M=Math.min(Xu,v-Z);if(A&&M===Xu){const D=Z/4;if(Z%4!==0)throw new Error("arx: invalid block position");for(let U=0,$;U<Wx;U++)$=D+U,R[$]=N[$]^T[U];Z+=Xu;continue}for(let D=0,U;D<M;D++)U=Z+D,p[U]=d[U]^x[D];Z+=M}}function t1(a,s){const{allowShortKeys:l,extendNonceFn:u,counterLength:d,counterRight:p,rounds:_}=Dx({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof a!="function")throw new Error("core must be a function");return Bh(d),Bh(_),f0(p),f0(l),(b,v,x,T,A=0)=>{ji(b),ji(v),ji(x);const N=x.length;if(T||(T=new Uint8Array(N)),ji(T),Bh(A),A<0||A>=vy)throw new Error("arx: counter overflow");if(T.length<N)throw new Error(`arx: output (${T.length}) is shorter than data (${N})`);const R=[];let Z=b.length,M,D;if(Z===32)M=b.slice(),R.push(M),D=yy;else if(Z===16&&l)M=new Uint8Array(32),M.set(b),M.set(b,16),D=Jx,R.push(M);else throw new Error(`arx: invalid 32-byte key, got length=${Z}`);$h(v)||(v=v.slice(),R.push(v));const U=ln(M);if(u){if(v.length!==24)throw new Error("arx: extended nonce must be 24 bytes");u(D,U,ln(v.subarray(0,16)),U),v=v.subarray(16)}const $=16-d;if($!==v.length)throw new Error(`arx: nonce must be ${$} or 16 bytes`);if($!==12){const gt=new Uint8Array(12);gt.set(v,p?0:12-v.length),v=gt,R.push(v)}const W=ln(v);for($x(a,D,U,W,x,T,A,_);R.length>0;)R.pop().fill(0);return T}}function e1(a,s,l,u,d,p=20){let _=a[0],b=a[1],v=a[2],x=a[3],T=s[0],A=s[1],N=s[2],R=s[3],Z=s[4],M=s[5],D=s[6],U=s[7],$=d,W=l[0],gt=l[1],dt=l[2],rt=_,F=b,lt=v,wt=x,xt=T,mt=A,vt=N,Ct=R,Nt=Z,at=M,k=D,K=U,I=$,ft=W,it=gt,z=dt;for(let st=0;st<p;st+=2)rt=rt+xt|0,I=te(I^rt,16),Nt=Nt+I|0,xt=te(xt^Nt,12),rt=rt+xt|0,I=te(I^rt,8),Nt=Nt+I|0,xt=te(xt^Nt,7),F=F+mt|0,ft=te(ft^F,16),at=at+ft|0,mt=te(mt^at,12),F=F+mt|0,ft=te(ft^F,8),at=at+ft|0,mt=te(mt^at,7),lt=lt+vt|0,it=te(it^lt,16),k=k+it|0,vt=te(vt^k,12),lt=lt+vt|0,it=te(it^lt,8),k=k+it|0,vt=te(vt^k,7),wt=wt+Ct|0,z=te(z^wt,16),K=K+z|0,Ct=te(Ct^K,12),wt=wt+Ct|0,z=te(z^wt,8),K=K+z|0,Ct=te(Ct^K,7),rt=rt+mt|0,z=te(z^rt,16),k=k+z|0,mt=te(mt^k,12),rt=rt+mt|0,z=te(z^rt,8),k=k+z|0,mt=te(mt^k,7),F=F+vt|0,I=te(I^F,16),K=K+I|0,vt=te(vt^K,12),F=F+vt|0,I=te(I^F,8),K=K+I|0,vt=te(vt^K,7),lt=lt+Ct|0,ft=te(ft^lt,16),Nt=Nt+ft|0,Ct=te(Ct^Nt,12),lt=lt+Ct|0,ft=te(ft^lt,8),Nt=Nt+ft|0,Ct=te(Ct^Nt,7),wt=wt+xt|0,it=te(it^wt,16),at=at+it|0,xt=te(xt^at,12),wt=wt+xt|0,it=te(it^wt,8),at=at+it|0,xt=te(xt^at,7);let P=0;u[P++]=_+rt|0,u[P++]=b+F|0,u[P++]=v+lt|0,u[P++]=x+wt|0,u[P++]=T+xt|0,u[P++]=A+mt|0,u[P++]=N+vt|0,u[P++]=R+Ct|0,u[P++]=Z+Nt|0,u[P++]=M+at|0,u[P++]=D+k|0,u[P++]=U+K|0,u[P++]=$+I|0,u[P++]=W+ft|0,u[P++]=gt+it|0,u[P++]=dt+z|0}const _y=t1(e1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class by extends ny{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,Di.hash(s);const u=ml(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(u.length>d?s.create().update(u).digest():u);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return Di.exists(this),this.iHash.update(s),this}digestInto(s){Di.exists(this),Di.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:u,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=u._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yc=(a,s,l)=>new by(a,s).update(l).digest();yc.create=(a,s)=>new by(a,s);function n1(a,s,l){return Di.hash(a),yc(a,ml(l),ml(s))}const jh=new Uint8Array([0]),p0=new Uint8Array;function i1(a,s,l,u=32){if(Di.hash(a),Di.number(u),u>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(u/a.outputLen);l===void 0&&(l=p0);const p=new Uint8Array(d*a.outputLen),_=yc.create(a,s),b=_._cloneInto(),v=new Uint8Array(_.outputLen);for(let x=0;x<d;x++)jh[0]=x+1,b.update(x===0?p0:v).update(l).update(jh).digestInto(v),p.set(v,a.outputLen*x),_._cloneInto(b);return _.destroy(),b.destroy(),v.fill(0),jh.fill(0),p.slice(0,u)}var a1=Object.defineProperty,pe=(a,s)=>{for(var l in s)a1(a,l,{get:s[l],enumerable:!0})},Ws=Symbol("verified"),s1=a=>a instanceof Object;function vd(a){if(!s1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let u=0;u<l.length;u++)if(typeof l[u]!="string")return!1}return!0}var r1={};pe(r1,{Queue:()=>wy,QueueNode:()=>xy,binarySearch:()=>_d,bytesToHex:()=>je,hexToBytes:()=>sr,insertEventIntoAscendingList:()=>l1,insertEventIntoDescendingList:()=>o1,normalizeURL:()=>er,utf8Decoder:()=>ga,utf8Encoder:()=>pi});var ga=new TextDecoder("utf-8"),pi=new TextEncoder;function er(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let s=new URL(a);return s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function o1(a,s){const[l,u]=_d(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:d.created_at-s.created_at);return u||a.splice(l,0,s),a}function l1(a,s){const[l,u]=_d(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:s.created_at-d.created_at);return u||a.splice(l,0,s),a}function _d(a,s){let l=0,u=a.length-1;for(;l<=u;){const d=Math.floor((l+u)/2),p=s(a[d]);if(p===0)return[d,!0];p<0?u=d-1:l=d+1}return[l,!1]}var xy=class{value;next=null;prev=null;constructor(a){this.value=a}},wy=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const s=new xy(a);return this.last?this.last===this.first?(this.last=s,this.last.prev=this.first,this.first.next=s):(s.prev=this.last,this.last.next=s,this.last=s):(this.first=s,this.last=s),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const s=this.first;return this.first=null,this.last=null,s.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},u1=class{generateSecretKey(){return Bi.utils.randomPrivateKey()}getPublicKey(s){return je(Bi.getPublicKey(s))}finalizeEvent(s,l){const u=s;return u.pubkey=je(Bi.getPublicKey(l)),u.id=Wu(u),u.sig=je(Bi.sign(Wu(u),l)),u[Ws]=!0,u}verifyEvent(s){if(typeof s[Ws]=="boolean")return s[Ws];const l=Wu(s);if(l!==s.id)return s[Ws]=!1,!1;try{const u=Bi.verify(s.sig,l,s.pubkey);return s[Ws]=u,u}catch{return s[Ws]=!1,!1}}};function c1(a){if(!vd(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Wu(a){let s=ds(pi.encode(c1(a)));return je(s)}var vc=new u1,Sy=vc.generateSecretKey,pl=vc.getPublicKey,Wn=vc.finalizeEvent,_c=vc.verifyEvent,f1={};pe(f1,{Application:()=>Sw,BadgeAward:()=>_1,BadgeDefinition:()=>gw,BlockedRelaysList:()=>W1,BlossomServerList:()=>sw,BookmarkList:()=>X1,Bookmarksets:()=>dw,Calendar:()=>Mw,CalendarEventRSVP:()=>Nw,ChannelCreation:()=>Ly,ChannelHideMessage:()=>Oy,ChannelMessage:()=>Ny,ChannelMetadata:()=>My,ChannelMuteUser:()=>ky,ChatMessage:()=>b1,ClassifiedListing:()=>Aw,ClientAuth:()=>By,Comment:()=>L1,CommunitiesList:()=>F1,CommunityDefinition:()=>Bw,CommunityPostApproval:()=>j1,Contacts:()=>g1,CreateOrUpdateProduct:()=>_w,CreateOrUpdateStall:()=>vw,Curationsets:()=>mw,Date:()=>Cw,DirectMessageRelaysList:()=>iw,DraftClassifiedListing:()=>zw,DraftLong:()=>xw,Emojisets:()=>ww,EncryptedDirectMessage:()=>y1,EventDeletion:()=>v1,FavoriteRelays:()=>tw,FileMessage:()=>w1,FileMetadata:()=>C1,FileServerPreference:()=>aw,Followsets:()=>cw,ForumThread:()=>x1,GenericRepost:()=>Ed,Genericlists:()=>fw,GiftWrap:()=>Ry,GroupMetadata:()=>Dw,HTTPAuth:()=>Td,Handlerinformation:()=>Rw,Handlerrecommendation:()=>kw,Highlights:()=>V1,InterestsList:()=>ew,Interestsets:()=>yw,JobFeedback:()=>P1,JobRequest:()=>U1,JobResult:()=>H1,Label:()=>D1,LightningPubRPC:()=>ow,LiveChatMessage:()=>M1,LiveEvent:()=>Ew,LongFormArticle:()=>bw,Metadata:()=>m1,Mutelist:()=>I1,NWCWalletInfo:()=>rw,NWCWalletRequest:()=>Dy,NWCWalletResponse:()=>lw,NormalVideo:()=>E1,NostrConnect:()=>uw,OpenTimestamps:()=>A1,Photo:()=>S1,Pinlist:()=>K1,Poll:()=>z1,PollResponse:()=>Y1,PrivateDirectMessage:()=>Cy,ProblemTracker:()=>k1,ProfileBadges:()=>pw,PublicChatsList:()=>J1,Reaction:()=>Sd,RecommendRelay:()=>p1,RelayList:()=>Q1,RelayReview:()=>Ow,Relaysets:()=>hw,Report:()=>R1,Reporting:()=>B1,Repost:()=>wd,Seal:()=>zy,SearchRelaysList:()=>$1,ShortTextNote:()=>Ay,ShortVideo:()=>T1,Time:()=>Lw,UserEmojiList:()=>nw,UserStatuses:()=>Tw,Voice:()=>N1,VoiceComment:()=>O1,Zap:()=>G1,ZapGoal:()=>Z1,ZapRequest:()=>q1,classifyKind:()=>h1,isAddressableKind:()=>xd,isEphemeralKind:()=>Ty,isKind:()=>d1,isRegularKind:()=>Ey,isReplaceableKind:()=>bd});function Ey(a){return a<1e4&&a!==0&&a!==3}function bd(a){return a===0||a===3||1e4<=a&&a<2e4}function Ty(a){return 2e4<=a&&a<3e4}function xd(a){return 3e4<=a&&a<4e4}function h1(a){return Ey(a)?"regular":bd(a)?"replaceable":Ty(a)?"ephemeral":xd(a)?"parameterized":"unknown"}function d1(a,s){const l=s instanceof Array?s:[s];return vd(a)&&l.includes(a.kind)||!1}var m1=0,Ay=1,p1=2,g1=3,y1=4,v1=5,wd=6,Sd=7,_1=8,b1=9,x1=11,zy=13,Cy=14,w1=15,Ed=16,S1=20,E1=21,T1=22,Ly=40,My=41,Ny=42,Oy=43,ky=44,A1=1040,Ry=1059,z1=1068,C1=1063,L1=1111,M1=1311,N1=1222,O1=1244,k1=1971,R1=1984,B1=1984,D1=1985,j1=4550,U1=5999,H1=6999,P1=7e3,Z1=9041,q1=9734,G1=9735,V1=9802,Y1=1018,I1=1e4,K1=10001,Q1=10002,X1=10003,F1=10004,J1=10005,W1=10006,$1=10007,tw=10012,ew=10015,nw=10030,iw=10050,aw=10096,sw=10063,rw=13194,ow=21e3,By=22242,Dy=23194,lw=23195,uw=24133,Td=27235,cw=3e4,fw=30001,hw=30002,dw=30003,mw=30004,pw=30008,gw=30009,yw=30015,vw=30017,_w=30018,bw=30023,xw=30024,ww=30030,Sw=30078,Ew=30311,Tw=30315,Aw=30402,zw=30403,Cw=31922,Lw=31923,Mw=31924,Nw=31925,Ow=31987,kw=31989,Rw=31990,Bw=34550,Dw=39e3;function jw(a,s){if(a.ids&&a.ids.indexOf(s.id)===-1||a.kinds&&a.kinds.indexOf(s.kind)===-1||a.authors&&a.authors.indexOf(s.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let u=l.slice(1),d=a[`#${u}`];if(d&&!s.tags.find(([p,_])=>p===l.slice(1)&&d.indexOf(_)!==-1))return!1}return!(a.since&&s.created_at<a.since||a.until&&s.created_at>a.until)}function Uw(a,s){for(let l=0;l<a.length;l++)if(jw(a[l],s))return!0;return!1}var Hw={};pe(Hw,{getHex64:()=>bc,getInt:()=>jy,getSubscriptionId:()=>Uy,matchEventId:()=>Pw,matchEventKind:()=>qw,matchEventPubkey:()=>Zw});function bc(a,s){let l=s.length+3,u=a.indexOf(`"${s}":`)+l,d=a.slice(u).indexOf('"')+u+1;return a.slice(d,d+64)}function jy(a,s){let l=s.length,u=a.indexOf(`"${s}":`)+l+3,d=a.slice(u),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function Uy(a){let s=a.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let l=a.slice(s+7+1).indexOf('"');if(l===-1)return null;let u=s+7+1+l,d=a.slice(u+1,80).indexOf('"');if(d===-1)return null;let p=u+1+d;return a.slice(u+1,p)}function Pw(a,s){return s===bc(a,"id")}function Zw(a,s){return s===bc(a,"pubkey")}function qw(a,s){return s===jy(a,"kind")}var Gw={};pe(Gw,{makeAuthEvent:()=>Hy});function Hy(a,s){return{kind:By,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",s]],content:""}}async function Vw(){return new Promise((a,s)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,u=()=>{l.port1.removeEventListener("message",u),a()};l.port1.addEventListener("message",u),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),s(l)}})}var Yw=a=>(a[Ws]=!0,!0),Py=class extends Error{constructor(a,s){super(`Tried to send message '${a} on a closed connection to ${s}.`),this.name="SendingOnClosedConnection"}},Zy=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new wy;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,s){this.url=er(a),this.verifyEvent=s.verifyEvent,this._WebSocket=s.websocketImplementation||WebSocket,this.enablePing=s.enablePing,this.enableReconnect=s.enableReconnect||!1}static async connect(a,s){const l=new Zy(a,s);return await l.connect(),l}closeAllSubscriptions(a){for(let[s,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[s,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[s,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const s=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!s?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,s)=>{this.connectionTimeoutHandle=setTimeout(()=>{s("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),s(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const u of this.openSubs.values()){if(u.eosed=!1,l)for(let d=0;d<u.filters.length;d++)u.lastEmitted&&(u.filters[d].since=u.lastEmitted+1);u.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,s)=>{if(!this.connectionPromise)return s(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){s(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(s=>setTimeout(()=>s(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Vw();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const s=Uy(a);if(s){const l=this.openSubs.get(s);if(!l)return;const u=bc(a,"id"),d=l.alreadyHaveEvent?.(u);if(l.receivedEvent?.(this,u),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const u=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&Uw(u.filters,d)&&u.onevent(d),(!u.lastEmitted||u.lastEmitted<d.created_at)&&(u.lastEmitted=d.created_at);return}case"COUNT":{const u=l[1],d=l[2],p=this.openCountRequests.get(u);p&&(p.resolve(d.count),this.openCountRequests.delete(u));return}case"EOSE":{const u=this.openSubs.get(l[1]);if(!u)return;u.receivedEose();return}case"OK":{const u=l[1],d=l[2],p=l[3],_=this.openEventPublishes.get(u);_&&(clearTimeout(_.timeout),d?_.resolve(p):_.reject(new Error(p)),this.openEventPublishes.delete(u));return}case"CLOSED":{const u=l[1],d=this.openSubs.get(u);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new Py(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const s=this.challenge;if(!s)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,u)=>{try{let d=await a(Hy(this.url,s)),p=setTimeout(()=>{let _=this.openEventPublishes.get(d.id);_&&(_.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:u,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const s=new Promise((l,u)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:u,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),s}async count(a,s){this.serial++;const l=s?.id||"count:"+this.serial,u=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),u}subscribe(a,s){const l=this.prepareSubscription(a,s);return l.fire(),l}prepareSubscription(a,s){this.serial++;const l=s.id||(s.label?s.label+":":"sub:")+this.serial,u=new Iw(this,l,a,s);return this.openSubs.set(l,u),u}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},Iw=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,s,l,u){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=s,this.alreadyHaveEvent=u.alreadyHaveEvent,this.receivedEvent=u.receivedEvent,this.eoseTimeout=u.eoseTimeout||a.baseEoseTimeout,this.oneose=u.oneose,this.onclose=u.onclose,this.onevent=u.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(s){if(!(s instanceof Py))throw s}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},Kw;try{Kw=WebSocket}catch{}var Qw=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,s){a=er(a);let l=this.relays.get(a);if(l||(l=new Zy(a,{verifyEvent:this.trustedRelayURLs.has(a)?Yw:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},s?.connectionTimeout&&(l.connectionTimeout=s.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const u=this.automaticallyAuth(a);u&&(l.onauth=u)}return await l.connect(),l}close(a){a.map(er).forEach(s=>{this.relays.get(s)?.close(),this.relays.delete(s)})}subscribe(a,s,l){const u=[];for(let d=0;d<a.length;d++){const p=er(a[d]);u.find(_=>_.url===p)||u.push({url:p,filter:s})}return this.subscribeMap(u,l)}subscribeMany(a,s,l){const u=[],d=[];for(let p=0;p<a.length;p++){const _=er(a[p]);d.indexOf(_)===-1&&(d.push(_),u.push({url:_,filter:s}))}return this.subscribeMap(u,l)}subscribeMap(a,s){const l=new Map;for(const N of a){const{url:R,filter:Z}=N;l.has(R)||l.set(R,[]),l.get(R).push(Z)}const u=Array.from(l.entries()).map(([N,R])=>({url:N,filters:R}));this.trackRelays&&(s.receivedEvent=(N,R)=>{let Z=this.seenOn.get(R);Z||(Z=new Set,this.seenOn.set(R,Z)),Z.add(N)});const d=new Set,p=[],_=[];let b=N=>{_[N]||(_[N]=!0,_.filter(R=>R).length===u.length&&(s.oneose?.(),b=()=>{}))};const v=[];let x=(N,R)=>{v[N]||(b(N),v[N]=R,v.filter(Z=>Z).length===u.length&&(s.onclose?.(v),x=()=>{}))};const T=N=>{if(s.alreadyHaveEvent?.(N))return!0;const R=d.has(N);return d.add(N),R},A=Promise.all(u.map(async({url:N,filters:R},Z)=>{let M;try{M=await this.ensureRelay(N,{connectionTimeout:s.maxWait?Math.max(s.maxWait*.8,s.maxWait-1e3):void 0})}catch(U){x(Z,U?.message||String(U));return}let D=M.subscribe(R,{...s,oneose:()=>b(Z),onclose:U=>{U.startsWith("auth-required: ")&&s.onauth?M.auth(s.onauth).then(()=>{M.subscribe(R,{...s,oneose:()=>b(Z),onclose:$=>{x(Z,$)},alreadyHaveEvent:T,eoseTimeout:s.maxWait})}).catch($=>{x(Z,`auth was required and attempted, but failed with: ${$}`)}):x(Z,U)},alreadyHaveEvent:T,eoseTimeout:s.maxWait});p.push(D)}));return{async close(N){await A,p.forEach(R=>{R.close(N)})}}}subscribeEose(a,s,l){const u=this.subscribe(a,s,{...l,oneose(){u.close("closed automatically on eose")}});return u}subscribeManyEose(a,s,l){const u=this.subscribeMany(a,s,{...l,oneose(){u.close("closed automatically on eose")}});return u}async querySync(a,s,l){return new Promise(async u=>{const d=[];this.subscribeEose(a,s,{...l,onevent(p){d.push(p)},onclose(p){u(d)}})})}async get(a,s,l){s.limit=1;const u=await this.querySync(a,s,l);return u.sort((d,p)=>p.created_at-d.created_at),u[0]||null}publish(a,s,l){return a.map(er).map(async(u,d,p)=>{if(p.indexOf(u)!==d)return Promise.reject("duplicate url");let _=await this.ensureRelay(u);return _.publish(s).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await _.auth(l.onauth),_.publish(s);throw b}).then(b=>{if(this.trackRelays){let v=this.seenOn.get(s.id);v||(v=new Set,this.seenOn.set(s.id,v)),v.add(_)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((s,l)=>a.set(l,s.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},qy;try{qy=WebSocket}catch{}var Xw=class extends Qw{constructor(a){super({verifyEvent:_c,websocketImplementation:qy,...a})}},ir={};pe(ir,{BECH32_REGEX:()=>Gy,Bech32MaxSize:()=>Ad,NostrTypeGuard:()=>Fw,decode:()=>xc,decodeNostrURI:()=>Ww,encodeBytes:()=>Sc,naddrEncode:()=>a2,neventEncode:()=>i2,noteEncode:()=>e2,nprofileEncode:()=>n2,npubEncode:()=>t2,nsecEncode:()=>$w});var Fw={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},Ad=5e3,Gy=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Jw(a){const s=new Uint8Array(4);return s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=a&255,s}function Ww(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),xc(a)}catch{return{type:"invalid",data:null}}}function xc(a){let{prefix:s,words:l}=Wr.decode(a,Ad),u=new Uint8Array(Wr.fromWords(l));switch(s){case"nprofile":{let d=Uh(u);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:je(d[0][0]),relays:d[1]?d[1].map(p=>ga.decode(p)):[]}}}case"nevent":{let d=Uh(u);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:je(d[0][0]),relays:d[1]?d[1].map(p=>ga.decode(p)):[],author:d[2]?.[0]?je(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(je(d[3][0]),16):void 0}}}case"naddr":{let d=Uh(u);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:ga.decode(d[0][0]),pubkey:je(d[2][0]),kind:parseInt(je(d[3][0]),16),relays:d[1]?d[1].map(p=>ga.decode(p)):[]}}}case"nsec":return{type:s,data:u};case"npub":case"note":return{type:s,data:je(u)};default:throw new Error(`unknown prefix ${s}`)}}function Uh(a){let s={},l=a;for(;l.length>0;){let u=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${u}`);s[u]=s[u]||[],s[u].push(p)}return s}function $w(a){return Sc("nsec",a)}function t2(a){return Sc("npub",sr(a))}function e2(a){return Sc("note",sr(a))}function wc(a,s){let l=Wr.toWords(s);return Wr.encode(a,l,Ad)}function Sc(a,s){return wc(a,s)}function n2(a){let s=zd({0:[sr(a.pubkey)],1:(a.relays||[]).map(l=>pi.encode(l))});return wc("nprofile",s)}function i2(a){let s;a.kind!==void 0&&(s=Jw(a.kind));let l=zd({0:[sr(a.id)],1:(a.relays||[]).map(u=>pi.encode(u)),2:a.author?[sr(a.author)]:[],3:s?[new Uint8Array(s)]:[]});return wc("nevent",l)}function a2(a){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,a.kind,!1);let l=zd({0:[pi.encode(a.identifier)],1:(a.relays||[]).map(u=>pi.encode(u)),2:[sr(a.pubkey)],3:[new Uint8Array(s)]});return wc("naddr",l)}function zd(a){let s=[];return Object.entries(a).reverse().forEach(([l,u])=>{u.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),s.push(p)})}),pc(...s)}var s2={};pe(s2,{decrypt:()=>r2,encrypt:()=>Vy});function Vy(a,s,l){const u=a instanceof Uint8Array?je(a):a,d=to.getSharedSecret(u,"02"+s),p=Yy(d);let _=Uint8Array.from(ay(16)),b=pi.encode(l),v=py(p,_).encrypt(b),x=va.encode(new Uint8Array(v)),T=va.encode(new Uint8Array(_.buffer));return`${x}?iv=${T}`}function r2(a,s,l){const u=a instanceof Uint8Array?je(a):a;let[d,p]=l.split("?iv="),_=to.getSharedSecret(u,"02"+s),b=Yy(_),v=va.decode(p),x=va.decode(d),T=py(b,v).decrypt(x);return ga.decode(T)}function Yy(a){return a.slice(1,33)}var o2={};pe(o2,{NIP05_REGEX:()=>Cd,isNip05:()=>l2,isValid:()=>f2,queryProfile:()=>Iy,searchDomain:()=>c2,useFetchImplementation:()=>u2});var Cd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,l2=a=>Cd.test(a||""),Ec;try{Ec=fetch}catch{}function u2(a){Ec=a}async function c2(a,s=""){try{const l=`https://${a}/.well-known/nostr.json?name=${s}`,u=await Ec(l,{redirect:"manual"});if(u.status!==200)throw Error("Wrong response code");return(await u.json()).names}catch{return{}}}async function Iy(a){const s=a.match(Cd);if(!s)return null;const[,l="_",u]=s;try{const d=`https://${u}/.well-known/nostr.json?name=${l}`,p=await Ec(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const _=await p.json(),b=_.names[l];return b?{pubkey:b,relays:_.relays?.[b]}:null}catch{return null}}async function f2(a,s){const l=await Iy(s);return l?l.pubkey===a:!1}var h2={};pe(h2,{parse:()=>d2});function d2(a){const s={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,u;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[_,b,v,x,T]=p,A={id:b,relays:v?[v]:[],author:T};if(x==="root"){s.root=A;continue}if(x==="reply"){s.reply=A;continue}if(x==="mention"){s.mentions.push(A);continue}l?u=A:l=A,s.mentions.push(A);continue}if(p[0]==="q"&&p[1]){const[_,b,v]=p;s.quotes.push({id:b,relays:v?[v]:[]})}if(p[0]==="p"&&p[1]){s.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return s.root||(s.root=u||l||s.reply),s.reply||(s.reply=l||s.root),[s.reply,s.root].forEach(d=>{if(!d)return;let p=s.mentions.indexOf(d);if(p!==-1&&s.mentions.splice(p,1),d.author){let _=s.profiles.find(b=>b.pubkey===d.author);_&&_.relays&&(d.relays||(d.relays=[]),_.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),_.relays=d.relays)}}),s.mentions.forEach(d=>{if(d.author){let p=s.profiles.find(_=>_.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(_=>{d.relays.indexOf(_)===-1&&d.relays.push(_)}),p.relays=d.relays)}}),s}var m2={};pe(m2,{fetchRelayInformation:()=>g2,useFetchImplementation:()=>p2});var Ky;try{Ky=fetch}catch{}function p2(a){Ky=a}async function g2(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var y2={};pe(y2,{fastEventHash:()=>Xy,getPow:()=>Qy,minePow:()=>v2});function Qy(a){let s=0;for(let l=0;l<64;l+=8){const u=parseInt(a.substring(l,l+8),16);if(u===0)s+=32;else{s+=Math.clz32(u);break}}return s}function v2(a,s){let l=0;const u=a,d=["nonce",l.toString(),s.toString()];for(u.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==u.created_at&&(l=0,u.created_at=p),d[1]=(++l).toString(),u.id=Xy(u),Qy(u.id)>=s)break}return u}function Xy(a){return je(ds(pi.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var _2={};pe(_2,{unwrapEvent:()=>M2,unwrapManyEvents:()=>N2,wrapEvent:()=>lv,wrapManyEvents:()=>L2});var b2={};pe(b2,{createRumor:()=>av,createSeal:()=>sv,createWrap:()=>rv,unwrapEvent:()=>kd,unwrapManyEvents:()=>ov,wrapEvent:()=>rc,wrapManyEvents:()=>z2});var gl={};pe(gl,{decrypt:()=>Od,encrypt:()=>Nd,getConversationKey:()=>Ld,v2:()=>T2});var Fy=1,Jy=65535;function Ld(a,s){const l=to.getSharedSecret(a,"02"+s).subarray(1,33);return n1(ds,l,"nip44-v2")}function Wy(a,s){const l=i1(ds,a,s,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function Md(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const s=1<<Math.floor(Math.log2(a-1))+1,l=s<=256?32:s/8;return l*(Math.floor((a-1)/l)+1)}function x2(a){if(!Number.isSafeInteger(a)||a<Fy||a>Jy)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,a,!1),s}function w2(a){const s=pi.encode(a),l=s.length,u=x2(l),d=new Uint8Array(Md(l)-l);return pc(u,s,d)}function S2(a){const s=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+s);if(s<Fy||s>Jy||l.length!==s||a.length!==2+Md(s))throw new Error("invalid padding");return ga.decode(l)}function $y(a,s,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const u=pc(l,s);return yc(ds,a,u)}function E2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const s=a.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=va.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const u=l.length;if(u<99||u>65603)throw new Error("invalid data length: "+u);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Nd(a,s,l=ay(32)){const{chacha_key:u,chacha_nonce:d,hmac_key:p}=Wy(s,l),_=w2(a),b=_y(u,d,_),v=$y(p,b,l);return va.encode(pc(new Uint8Array([2]),l,b,v))}function Od(a,s){const{nonce:l,ciphertext:u,mac:d}=E2(a),{chacha_key:p,chacha_nonce:_,hmac_key:b}=Wy(s,l),v=$y(b,u,l);if(!jx(v,d))throw new Error("invalid MAC");const x=_y(p,_,u);return S2(x)}var T2={utils:{getConversationKey:Ld,calcPaddedLen:Md},encrypt:Nd,decrypt:Od},A2=2880*60,tv=()=>Math.round(Date.now()/1e3),ev=()=>Math.round(tv()-Math.random()*A2),nv=(a,s)=>Ld(a,s),iv=(a,s,l)=>Nd(JSON.stringify(a),nv(s,l)),g0=(a,s)=>JSON.parse(Od(a.content,nv(s,a.pubkey)));function av(a,s){const l={created_at:tv(),content:"",tags:[],...a,pubkey:pl(s)};return l.id=Wu(l),l}function sv(a,s,l){return Wn({kind:zy,content:iv(a,s,l),created_at:ev(),tags:[]},s)}function rv(a,s){const l=Sy();return Wn({kind:Ry,content:iv(a,l,s),created_at:ev(),tags:[["p",s]]},l)}function rc(a,s,l){const u=av(a,s),d=sv(u,s,l);return rv(d,l)}function z2(a,s,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const u=pl(s),d=[rc(a,s,u)];return l.forEach(p=>{d.push(rc(a,s,p))}),d}function kd(a,s){const l=g0(a,s);return g0(l,s)}function ov(a,s){let l=[];return a.forEach(u=>{l.push(kd(u,s))}),l.sort((u,d)=>u.created_at-d.created_at),l}function C2(a,s,l,u){const d={created_at:Math.ceil(Date.now()/1e3),kind:Cy,tags:[],content:s};return(Array.isArray(a)?a:[a]).forEach(({publicKey:_,relayUrl:b})=>{d.tags.push(b?["p",_,b]:["p",_])}),u&&d.tags.push(["e",u.eventId,u.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function lv(a,s,l,u,d){const p=C2(s,l,u,d);return rc(p,a,s.publicKey)}function L2(a,s,l,u,d){if(!s||s.length===0)throw new Error("At least one recipient is required.");return[{publicKey:pl(a)},...s].map(_=>lv(a,_,l,u,d))}var M2=kd,N2=ov,O2={};pe(O2,{finishRepostEvent:()=>k2,getRepostedEvent:()=>R2,getRepostedEventPointer:()=>uv});function k2(a,s,l,u){let d;const p=[...a.tags??[],["e",s.id,l],["p",s.pubkey]];return s.kind===Ay?d=wd:(d=Ed,p.push(["k",String(s.kind)])),Wn({kind:d,tags:p,content:a.content===""||s.tags?.find(_=>_[0]==="-")?"":JSON.stringify(s),created_at:a.created_at},u)}function uv(a){if(![wd,Ed].includes(a.kind))return;let s,l;for(let u=a.tags.length-1;u>=0&&(s===void 0||l===void 0);u--){const d=a.tags[u];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(s!==void 0)return{id:s[1],relays:[s[2],l?.[2]].filter(u=>typeof u=="string"),author:l?.[1]}}function R2(a,{skipVerification:s}={}){const l=uv(a);if(l===void 0||a.content==="")return;let u;try{u=JSON.parse(a.content)}catch{return}if(u.id===l.id&&!(!s&&!_c(u)))return u}var B2={};pe(B2,{NOSTR_URI_REGEX:()=>Rd,parse:()=>j2,test:()=>D2});var Rd=new RegExp(`nostr:(${Gy.source})`);function D2(a){return typeof a=="string"&&new RegExp(`^${Rd.source}$`).test(a)}function j2(a){const s=a.match(new RegExp(`^${Rd.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:s[0],value:s[1],decoded:xc(s[1])}}var U2={};pe(U2,{finishReactionEvent:()=>H2,getReactedEventPointer:()=>P2});function H2(a,s,l){const u=s.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return Wn({...a,kind:Sd,tags:[...a.tags??[],...u,["e",s.id],["p",s.pubkey]],content:a.content??"+"},l)}function P2(a){if(a.kind!==Sd)return;let s,l;for(let u=a.tags.length-1;u>=0&&(s===void 0||l===void 0);u--){const d=a.tags[u];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(s===void 0||l===void 0))return{id:s[1],relays:[s[2],l[2]].filter(u=>u!==void 0),author:l[1]}}var Z2={};pe(Z2,{parse:()=>G2});var y0=/\W/m,v0=/[^\w\/] |[^\w\/]$|$|,| /m,q2=42;function*G2(a){let s=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const _=a.tags[p];_[0]==="emoji"&&_.length>=3&&s.push({type:"emoji",shortcode:_[1],url:_[2]})}a=a.content}const l=a.length;let u=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),_=a.indexOf("#",d);if(p===-1&&_===-1)break t;if(p===-1||_>=0&&_<p){if(_===0||a[_-1]===" "){const b=a.slice(_+1,_+q2).match(y0),v=b?_+1+b.index:l;yield{type:"text",text:a.slice(u,_)},yield{type:"hashtag",value:a.slice(_+1,v)},d=v,u=d;continue t}d=_+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(y0),v=b?p+60+b.index:l;try{let x,{data:T,type:A}=xc(a.slice(p+1,v));switch(A){case"npub":x={pubkey:T};break;case"note":x={id:T};break;case"nsec":d=v+1;continue;default:x=T}u!==p-5&&(yield{type:"text",text:a.slice(u,p-5)}),yield{type:"reference",pointer:x},d=v,u=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(v0),v=b?p+4+b.index:l,x=a[p-1]==="s"?5:4;try{let T=new URL(a.slice(p-x,v));if(T.hostname.indexOf(".")===-1)throw new Error("invalid url");if(u!==p-x&&(yield{type:"text",text:a.slice(u,p-x)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(T.pathname)){yield{type:"image",url:T.toString()},d=v,u=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(T.pathname)){yield{type:"video",url:T.toString()},d=v,u=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(T.pathname)){yield{type:"audio",url:T.toString()},d=v,u=d;continue t}yield{type:"url",url:T.toString()},d=v,u=d;continue t}catch{d=v+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(v0),v=b?p+4+b.index:l,x=a[p-1]==="s"?3:2;try{let T=new URL(a.slice(p-x,v));if(T.hostname.indexOf(".")===-1)throw new Error("invalid ws url");u!==p-x&&(yield{type:"text",text:a.slice(u,p-x)}),yield{type:"relay",url:T.toString()},d=v,u=d;continue t}catch{d=v+1;continue t}}else{for(let b=0;b<s.length;b++){const v=s[b];if(a[p+v.shortcode.length+1]===":"&&a.slice(p+1,p+v.shortcode.length+1)===v.shortcode){u!==p&&(yield{type:"text",text:a.slice(u,p)}),yield v,d=p+v.shortcode.length+2,u=d;continue t}}d=p+1;continue t}}u!==l&&(yield{type:"text",text:a.slice(u)})}var V2={};pe(V2,{channelCreateEvent:()=>Y2,channelHideMessageEvent:()=>Q2,channelMessageEvent:()=>K2,channelMetadataEvent:()=>I2,channelMuteUserEvent:()=>X2});var Y2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Wn({kind:Ly,tags:[...a.tags??[]],content:l,created_at:a.created_at},s)},I2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Wn({kind:My,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},K2=(a,s)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),Wn({kind:Ny,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},s)},Q2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Wn({kind:Oy,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},X2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Wn({kind:ky,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},s)},F2={};pe(F2,{EMOJI_SHORTCODE_REGEX:()=>cv,matchAll:()=>J2,regex:()=>Bd,replaceAll:()=>W2});var cv=/:(\w+):/,Bd=()=>new RegExp(`\\B${cv.source}\\B`,"g");function*J2(a){const s=a.matchAll(Bd());for(const l of s)try{const[u,d]=l;yield{shortcode:u,name:d,start:l.index,end:l.index+u.length}}catch{}}function W2(a,s){return a.replaceAll(Bd(),(l,u)=>s({shortcode:l,name:u}))}var $2={};pe($2,{useFetchImplementation:()=>tS,validateGithub:()=>eS});var Dd;try{Dd=fetch}catch{}function tS(a){Dd=a}async function eS(a,s,l){try{return await(await Dd(`https://gist.github.com/${s}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var nS={};pe(nS,{makeNwcRequestEvent:()=>aS,parseConnectionString:()=>iS});function iS(a){const{host:s,pathname:l,searchParams:u}=new URL(a),d=l||s,p=u.get("relay"),_=u.get("secret");if(!d||!p||!_)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:_}}async function aS(a,s,l){const d=Vy(s,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:Dy,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return Wn(p,s)}var sS={};pe(sS,{normalizeIdentifier:()=>rS});function rS(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(s=>new RegExp("\\p{Letter}","u").test(s)||new RegExp("\\p{Number}","u").test(s)?s:"-").join("")}var oS={};pe(oS,{getSatoshisAmountFromBolt11:()=>dS,getZapEndpoint:()=>uS,makeZapReceipt:()=>hS,makeZapRequest:()=>cS,useFetchImplementation:()=>lS,validateZapRequest:()=>fS});var jd;try{jd=fetch}catch{}function lS(a){jd=a}async function uS(a){try{let s="",{lud06:l,lud16:u}=JSON.parse(a.content);if(u){let[_,b]=u.split("@");s=new URL(`/.well-known/lnurlp/${_}`,`https://${b}`).toString()}else if(l){let{words:_}=Wr.decode(l,1e3),b=Wr.fromWords(_);s=ga.decode(b)}else return null;let p=await(await jd(s)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function cS(a){let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(s.tags.push(["e",a.event.id]),bd(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];s.tags.push(l)}else if(xd(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const u=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];s.tags.push(u)}s.tags.push(["k",a.event.kind.toString()])}return s}function fS(a){let s;try{s=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!vd(s))return"Zap request is not a valid Nostr event.";if(!_c(s))return"Invalid signature on zap request.";let l=s.tags.find(([p,_])=>p==="p"&&_);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let u=s.tags.find(([p,_])=>p==="e"&&_);return u&&!u[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([p,_])=>p==="relays"&&_)?null:"Zap request doesn't have a 'relays' tag."}function hS({zapRequest:a,preimage:s,bolt11:l,paidAt:u}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),_={kind:9735,created_at:Math.round(u.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return s&&_.tags.push(["preimage",s]),_}function dS(a){if(a.length<50)return 0;a=a.substring(0,50);const s=a.lastIndexOf("1");if(s===-1)return 0;const l=a.substring(0,s);if(!l.startsWith("lnbc"))return 0;const u=l.substring(4);if(u.length<1)return 0;const d=u[u.length-1],p=d.charCodeAt(0)-48,_=p>=0&&p<=9;let b=u.length-1;if(_&&b++,b<1)return 0;const v=parseInt(u.substring(0,b));switch(d){case"m":return v*1e5;case"u":return v*100;case"n":return v/10;case"p":return v/1e4;default:return v*1e8}}var mS={};pe(mS,{Negentropy:()=>hv,NegentropyStorageVector:()=>yS,NegentropySync:()=>vS});var Hh=97,Xr=32,fv=16,Js={Skip:0,Fingerprint:1,IdList:2},pa=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof pa&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const s=a.length+this.length;if(this.capacity<s){const l=this._raw,u=Math.max(this.capacity*2,s);this._raw=new Uint8Array(u),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const s=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,s}};function Fu(a){let s=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(s=s<<7|l&127,(l&128)===0)break}return s}function da(a){if(a===0)return new pa(new Uint8Array([0]));let s=[];for(;a!==0;)s.push(a&127),a>>>=7;s.reverse();for(let l=0;l<s.length-1;l++)s[l]|=128;return new pa(new Uint8Array(s))}function pS(a){return $u(a,1)[0]}function $u(a,s){if(a.length<s)throw Error("parse ends prematurely");return a.shiftN(s)}var gS=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(Xr)}add(a){let s=0,l=0,u=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let _=p*4,b=u.getUint32(_,!0),v=d.getUint32(_,!0),x=b;x+=s,x+=v,x>4294967295&&(l=1),u.setUint32(_,x&4294967295,!0),s=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let u=l*4;a.setUint32(u,~a.getUint32(u,!0))}let s=new Uint8Array(Xr);s[0]=1,this.add(s)}getFingerprint(a){let s=new pa;return s.extend(this.buf),s.extend(da(a)),ds(s.unwrap()).subarray(0,fv)}},yS=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,s){if(this.sealed)throw Error("already sealed");const l=cy(s);if(l.byteLength!==Xr)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Ph);for(let a=1;a<this.items.length;a++)if(Ph(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,s,l){this._checkSealed(),this._checkBounds(a,s);for(let u=a;u<s&&l(this.items[u],u);++u);}findLowerBound(a,s,l){return this._checkSealed(),this._checkBounds(a,s),this._binarySearch(this.items,a,s,u=>Ph(u,l)<0)}fingerprint(a,s){let l=new gS;return l.setToZero(),this.iterate(a,s,u=>(l.add(u.id),!0)),l.getFingerprint(s-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,s){if(a>s||s>this.items.length)throw Error("bad range")}_binarySearch(a,s,l,u){let d=l-s;for(;d>0;){let p=s,_=Math.floor(d/2);p+=_,u(a[p])?(s=++p,d-=_+1):d=_}return s}},hv=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,s=6e4){if(s<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=s,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,s){return{timestamp:a,id:s||new Uint8Array(0)}}initiate(){let a=new pa;return a.extend(new Uint8Array([Hh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),Kr(a.unwrap())}reconcile(a,s,l){const u=new pa(cy(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new pa;d.extend(new Uint8Array([Hh]));let p=pS(u);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==Hh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let _=this.storage.size(),b=this._bound(0),v=0,x=!1;for(;u.length!==0;){let T=new pa,A=()=>{x&&(x=!1,T.extend(this.encodeBound(b)),T.extend(da(Js.Skip)))},N=this.decodeBound(u),R=Fu(u),Z=v,M=this.storage.findLowerBound(v,_,N);if(R===Js.Skip)x=!0;else if(R===Js.Fingerprint){let D=$u(u,fv),U=this.storage.fingerprint(Z,M);dv(D,U)!==0?(A(),this.splitRange(Z,M,N,T)):x=!0}else if(R===Js.IdList){let D=Fu(u),U={};for(let $=0;$<D;$++){let W=$u(u,Xr);U[Kr(W)]=W}if(x=!0,this.storage.iterate(Z,M,$=>{let W=$.id;const gt=Kr(W);return U[gt]?delete U[Kr(W)]:s?.(gt),!0}),l)for(let $ of Object.values(U))l(Kr($))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+T.length)){let D=this.storage.fingerprint(M,_);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(da(Js.Fingerprint)),d.extend(D);break}else d.extend(T);v=M,b=N}return d.length===1?null:Kr(d.unwrap())}splitRange(a,s,l,u){let d=s-a,p=16;if(d<p*2)u.extend(this.encodeBound(l)),u.extend(da(Js.IdList)),u.extend(da(d)),this.storage.iterate(a,s,_=>(u.extend(_.id),!0));else{let _=Math.floor(d/p),b=d%p,v=a;for(let x=0;x<p;x++){let T=_+(x<b?1:0),A=this.storage.fingerprint(v,v+T);v+=T;let N;if(v===s)N=l;else{let R,Z;this.storage.iterate(v-1,v+1,(M,D)=>(D===v-1?R=M:Z=M,!0)),N=this.getMinimalBound(R,Z)}u.extend(this.encodeBound(N)),u.extend(da(Js.Fingerprint)),u.extend(A)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let s=Fu(a);return s=s===0?Number.MAX_VALUE:s-1,this.lastTimestampIn===Number.MAX_VALUE||s===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(s+=this.lastTimestampIn,this.lastTimestampIn=s,s)}decodeBound(a){let s=this.decodeTimestampIn(a),l=Fu(a);if(l>Xr)throw Error("bound key too long");let u=$u(a,l);return{timestamp:s,id:u}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,da(0);let s=a;return a-=this.lastTimestampOut,this.lastTimestampOut=s,da(a+1)}encodeBound(a){let s=new pa;return s.extend(this.encodeTimestampOut(a.timestamp)),s.extend(da(a.id.length)),s.extend(a.id),s}getMinimalBound(a,s){if(s.timestamp!==a.timestamp)return this._bound(s.timestamp);{let l=0,u=s.id,d=a.id;for(let p=0;p<Xr&&u[p]===d[p];p++)l++;return this._bound(s.timestamp,s.id.subarray(0,l+1))}}};function dv(a,s){for(let l=0;l<a.byteLength;l++){if(a[l]<s[l])return-1;if(a[l]>s[l])return 1}return a.byteLength>s.byteLength?1:a.byteLength<s.byteLength?-1:0}function Ph(a,s){return a.timestamp===s.timestamp?dv(a.id,s.id):a.timestamp-s.timestamp}var vS=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,s,l,u={}){this.relay=a,this.storage=s,this.neg=new hv(s),this.onhave=u.onhave,this.onneed=u.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:u.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),u.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),u?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),u.onclose?.(p);break}case"NEG-ERR":u.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},_S={};pe(_S,{getToken:()=>bS,hashPayload:()=>Ud,unpackEventFromToken:()=>pv,validateEvent:()=>xv,validateEventKind:()=>yv,validateEventMethodTag:()=>_v,validateEventPayloadTag:()=>bv,validateEventTimestamp:()=>gv,validateEventUrlTag:()=>vv,validateToken:()=>xS});var mv="Nostr ";async function bS(a,s,l,u=!1,d){const p={kind:Td,tags:[["u",a],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",Ud(d)]);const _=await l(p);return(u?mv:"")+va.encode(pi.encode(JSON.stringify(_)))}async function xS(a,s,l){const u=await pv(a).catch(p=>{throw p});return await xv(u,s,l).catch(p=>{throw p})}async function pv(a){if(!a)throw new Error("Missing token");a=a.replace(mv,"");const s=ga.decode(va.decode(a));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function gv(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function yv(a){return a.kind===Td}function vv(a,s){const l=a.tags.find(u=>u[0]==="u");return l?l.length>0&&l[1]===s:!1}function _v(a,s){const l=a.tags.find(u=>u[0]==="method");return l?l.length>0&&l[1].toLowerCase()===s.toLowerCase():!1}function Ud(a){const s=ds(pi.encode(JSON.stringify(a)));return je(s)}function bv(a,s){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const u=Ud(s);return l.length>0&&l[1]===u}async function xv(a,s,l,u){if(!_c(a))throw new Error("Invalid nostr event, signature invalid");if(!yv(a))throw new Error("Invalid nostr event, kind invalid");if(!gv(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!vv(a,s))throw new Error("Invalid nostr event, url tag invalid");if(!_v(a,l))throw new Error("Invalid nostr event, method tag invalid");if(u&&typeof u=="object"&&Object.keys(u).length>0&&!bv(a,u))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const _0=a=>Array.from(a).map(s=>s.toString(16).padStart(2,"0")).join(""),wv=X.createContext(null),wS=({children:a})=>{const[s,l]=X.useState(localStorage.getItem("parlens_pubkey")),[u]=X.useState(new Xw),d=async(b,v,x)=>{let T="",A=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");T=await window.nostr.getPublicKey()}else if(b==="nsec"&&v)try{const N=ir.decode(v);if(N.type!=="nsec")throw new Error("Not an nsec");A=N.data,T=pl(A),localStorage.setItem("parlens_privkey",_0(A))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(A=Sy(),T=pl(A),localStorage.setItem("parlens_privkey",_0(A)));if(l(T),localStorage.setItem("parlens_pubkey",T),b==="create"&&x&&A)try{const N=Wn({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:x,display_name:x,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${T}`})},A);await Promise.any([u.publish(["wss://relay.damus.io","wss://nos.lol"],N)])}catch(N){console.warn("Failed to publish metadata:",N)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},_=async b=>{const v=localStorage.getItem("parlens_privkey");if(v){const x=new Uint8Array(v.match(/.{1,2}/g).map(T=>parseInt(T,16)));return Wn(b,x)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return w.jsx(wv.Provider,{value:{pubkey:s,login:d,logout:p,pool:u,signEvent:_},children:a})},no=()=>{const a=X.useContext(wv);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const SS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ES=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,l,u)=>u?u.toUpperCase():l.toLowerCase()),b0=a=>{const s=ES(a);return s.charAt(0).toUpperCase()+s.slice(1)},Sv=(...a)=>a.filter((s,l,u)=>!!s&&s.trim()!==""&&u.indexOf(s)===l).join(" ").trim(),TS=a=>{for(const s in a)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var AS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zS=X.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:p,iconNode:_,...b},v)=>X.createElement("svg",{ref:v,...AS,width:s,height:s,stroke:a,strokeWidth:u?Number(l)*24/Number(s):l,className:Sv("lucide",d),...!p&&!TS(b)&&{"aria-hidden":"true"},...b},[..._.map(([x,T])=>X.createElement(x,T)),...Array.isArray(p)?p:[p]]));const _e=(a,s)=>{const l=X.forwardRef(({className:u,...d},p)=>X.createElement(zS,{ref:p,iconNode:s,className:Sv(`lucide-${SS(b0(a))}`,`lucide-${a}`,u),...d}));return l.displayName=b0(a),l};const CS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LS=_e("arrow-right",CS);const MS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NS=_e("check",MS);const OS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yl=_e("chevron-down",OS);const kS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oc=_e("chevron-right",kS);const RS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BS=_e("chevron-up",RS);const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],x0=_e("circle-question-mark",DS);const jS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],US=_e("clipboard-list",jS);const HS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ev=_e("clock",HS);const PS=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZS=_e("compass",PS);const qS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GS=_e("eye-off",qS);const VS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YS=_e("eye",VS);const IS=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],KS=_e("folder-open",IS);const QS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],td=_e("key",QS);const XS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vl=_e("map-pin",XS);const FS=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],JS=_e("map-pinned",FS);const WS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],$S=_e("navigation",WS);const tE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],eE=_e("pencil",tE);const nE=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],iE=_e("route",nE);const aE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sE=_e("save",aE);const rE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oE=_e("search",rE);const lE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tv=_e("shield",lE);const uE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],w0=_e("trash-2",uE);const cE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fE=_e("user-plus",cE);const hE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hd=_e("x",hE);function dE(a,s){const l=X.useRef(s);X.useEffect(function(){s!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),s!=null&&a.attributionControl.addAttribution(s)),l.current=s},[a,s])}D0();const mE=1;function pE(a){return Object.freeze({__version:mE,map:a})}function Av(a,s){return Object.freeze({...a,...s})}const Pd=X.createContext(null);function Zd(){const a=X.use(Pd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function zv(a){function s(l,u){const{instance:d,context:p}=a(l).current;X.useImperativeHandle(u,()=>d);const{children:_}=l;return _==null?null:hl.createElement(Pd,{value:p},_)}return X.forwardRef(s)}function gE(a){function s(l,u){const{instance:d}=a(l).current;return X.useImperativeHandle(u,()=>d),null}return X.forwardRef(s)}function Cv(a,s){const l=X.useRef(void 0);X.useEffect(function(){return s!=null&&a.instance.on(s),l.current=s,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,s])}function qd(a,s){const l=a.pane??s.pane;return l?{...a,pane:l}:a}var fl={exports:{}};var yE=fl.exports,S0;function vE(){return S0||(S0=1,(function(a,s){(function(l,u){u(s)})(yE,(function(l){var u="1.9.4";function d(n){var r,c,m,g;for(c=1,m=arguments.length;c<m;c++){g=arguments[c];for(r in g)n[r]=g[r]}return n}var p=Object.create||(function(){function n(){}return function(r){return n.prototype=r,new n}})();function _(n,r){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(r,m.length?m.concat(c.call(arguments)):arguments)}}var b=0;function v(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function x(n,r,c){var m,g,S,C;return C=function(){m=!1,g&&(S.apply(c,g),g=!1)},S=function(){m?g=arguments:(n.apply(c,arguments),setTimeout(C,r),m=!0)},S}function T(n,r,c){var m=r[1],g=r[0],S=m-g;return n===m&&c?n:((n-g)%S+S)%S+g}function A(){return!1}function N(n,r){if(r===!1)return n;var c=Math.pow(10,r===void 0?6:r);return Math.round(n*c)/c}function R(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Z(n){return R(n).split(/\s+/)}function M(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var c in r)n.options[c]=r[c];return n.options}function D(n,r,c){var m=[];for(var g in n)m.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!r||r.indexOf("?")===-1?"?":"&")+m.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function $(n,r){return n.replace(U,function(c,m){var g=r[m];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(r)),g})}var W=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function gt(n,r){for(var c=0;c<n.length;c++)if(n[c]===r)return c;return-1}var dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function rt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var F=0;function lt(n){var r=+new Date,c=Math.max(0,16-(r-F));return F=r+c,window.setTimeout(n,c)}var wt=window.requestAnimationFrame||rt("RequestAnimationFrame")||lt,xt=window.cancelAnimationFrame||rt("CancelAnimationFrame")||rt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function mt(n,r,c){if(c&&wt===lt)n.call(r);else return wt.call(window,_(n,r))}function vt(n){n&&xt.call(window,n)}var Ct={__proto__:null,extend:d,create:p,bind:_,get lastId(){return b},stamp:v,throttle:x,wrapNum:T,falseFn:A,formatNum:N,trim:R,splitWords:Z,setOptions:M,getParamString:D,template:$,isArray:W,indexOf:gt,emptyImageUrl:dt,requestFn:wt,cancelFn:xt,requestAnimFrame:mt,cancelAnimFrame:vt};function Nt(){}Nt.extend=function(n){var r=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=r.__super__=this.prototype,m=p(c);m.constructor=r,r.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(r[g]=this[g]);return n.statics&&d(r,n.statics),n.includes&&(at(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?p(c.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,C=m._initHooks.length;S<C;S++)m._initHooks[S].call(this)}},r},Nt.include=function(n){var r=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},Nt.mergeOptions=function(n){return d(this.prototype.options,n),this},Nt.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function at(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=W(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var k={on:function(n,r,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],r);else{n=Z(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],r,c)}return this},off:function(n,r,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],r);else{n=Z(n);for(var g=arguments.length===1,S=0,C=n.length;S<C;S++)g?this._off(n[S]):this._off(n[S],r,c)}return this},_on:function(n,r,c,m){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,c)===!1){c===this&&(c=void 0);var g={fn:r,ctx:c};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,r,c){var m,g,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=A;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var C=this._listens(n,r,c);if(C!==!1){var H=m[C];this._firingCount&&(H.fn=A,this._events[n]=m=m.slice()),m.splice(C,1)}}},fire:function(n,r,c){if(!this.listens(n,c))return this;var m=d({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,C=g.length;S<C;S++){var H=g[S],V=H.fn;H.once&&this.off(n,V,H.ctx),V.call(H.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,r,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=r;typeof r!="function"&&(m=!!r,g=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,g,c)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(n,r,c,m))return!0}return!1},_listens:function(n,r,c){if(!this._events)return!1;var m=this._events[n]||[];if(!r)return!!m.length;c===this&&(c=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===r&&m[g].ctx===c)return g;return!1},once:function(n,r,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],r,!0);else{n=Z(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],r,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[v(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[v(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var K=Nt.extend(k);function I(n,r,c){this.x=c?Math.round(n):n,this.y=c?Math.round(r):r}var ft=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(n){return this.clone()._add(it(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(it(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new I(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new I(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ft(this.x),this.y=ft(this.y),this},distanceTo:function(n){n=it(n);var r=n.x-this.x,c=n.y-this.y;return Math.sqrt(r*r+c*c)},equals:function(n){return n=it(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=it(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function it(n,r,c){return n instanceof I?n:W(n)?new I(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new I(n.x,n.y):new I(n,r,c)}function z(n,r){if(n)for(var c=r?[n,r]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}z.prototype={extend:function(n){var r,c;if(!n)return this;if(n instanceof I||typeof n[0]=="number"||"x"in n)r=c=it(n);else if(n=P(n),r=n.min,c=n.max,!r||!c)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=c.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return it((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return it(this.min.x,this.max.y)},getTopRight:function(){return it(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,c;return typeof n[0]=="number"||n instanceof I?n=it(n):n=P(n),n instanceof z?(r=n.min,c=n.max):r=c=n,r.x>=this.min.x&&c.x<=this.max.x&&r.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=P(n);var r=this.min,c=this.max,m=n.min,g=n.max,S=g.x>=r.x&&m.x<=c.x,C=g.y>=r.y&&m.y<=c.y;return S&&C},overlaps:function(n){n=P(n);var r=this.min,c=this.max,m=n.min,g=n.max,S=g.x>r.x&&m.x<c.x,C=g.y>r.y&&m.y<c.y;return S&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,c=this.max,m=Math.abs(r.x-c.x)*n,g=Math.abs(r.y-c.y)*n;return P(it(r.x-m,r.y-g),it(c.x+m,c.y+g))},equals:function(n){return n?(n=P(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function P(n,r){return!n||n instanceof z?n:new z(n,r)}function st(n,r){if(n)for(var c=r?[n,r]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}st.prototype={extend:function(n){var r=this._southWest,c=this._northEast,m,g;if(n instanceof ht)m=n,g=n;else if(n instanceof st){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(ct(n)||ot(n)):this;return!r&&!c?(this._southWest=new ht(m.lat,m.lng),this._northEast=new ht(g.lat,g.lng)):(r.lat=Math.min(m.lat,r.lat),r.lng=Math.min(m.lng,r.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var r=this._southWest,c=this._northEast,m=Math.abs(r.lat-c.lat)*n,g=Math.abs(r.lng-c.lng)*n;return new st(new ht(r.lat-m,r.lng-g),new ht(c.lat+m,c.lng+g))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ht||"lat"in n?n=ct(n):n=ot(n);var r=this._southWest,c=this._northEast,m,g;return n instanceof st?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=r.lat&&g.lat<=c.lat&&m.lng>=r.lng&&g.lng<=c.lng},intersects:function(n){n=ot(n);var r=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>=r.lat&&m.lat<=c.lat,C=g.lng>=r.lng&&m.lng<=c.lng;return S&&C},overlaps:function(n){n=ot(n);var r=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>r.lat&&m.lat<c.lat,C=g.lng>r.lng&&m.lng<c.lng;return S&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=ot(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(n,r){return n instanceof st?n:new st(n,r)}function ht(n,r,c){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,c!==void 0&&(this.alt=+c)}ht.prototype={equals:function(n,r){if(!n)return!1;n=ct(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+N(this.lat,n)+", "+N(this.lng,n)+")"},distanceTo:function(n){return Xt.distance(this,ct(n))},wrap:function(){return Xt.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,c=r/Math.cos(Math.PI/180*this.lat);return ot([this.lat-r,this.lng-c],[this.lat+r,this.lng+c])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function ct(n,r,c){return n instanceof ht?n:W(n)&&typeof n[0]!="object"?n.length===3?new ht(n[0],n[1],n[2]):n.length===2?new ht(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ht(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new ht(n,r,c)}var Mt={latLngToPoint:function(n,r){var c=this.projection.project(n),m=this.scale(r);return this.transformation._transform(c,m)},pointToLatLng:function(n,r){var c=this.scale(r),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(r.min,c),g=this.transformation.transform(r.max,c);return new z(m,g)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?T(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?T(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ht(c,r,m)},wrapLatLngBounds:function(n){var r=n.getCenter(),c=this.wrapLatLng(r),m=r.lat-c.lat,g=r.lng-c.lng;if(m===0&&g===0)return n;var S=n.getSouthWest(),C=n.getNorthEast(),H=new ht(S.lat-m,S.lng-g),V=new ht(C.lat-m,C.lng-g);return new st(H,V)}},Xt=d({},Mt,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var c=Math.PI/180,m=n.lat*c,g=r.lat*c,S=Math.sin((r.lat-n.lat)*c/2),C=Math.sin((r.lng-n.lng)*c/2),H=S*S+Math.cos(m)*Math.cos(g)*C*C,V=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*V}}),Pt=6378137,xe={R:Pt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),g=Math.sin(m*r);return new I(this.R*n.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var r=180/Math.PI;return new ht((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:(function(){var n=Pt*Math.PI;return new z([-n,-n],[n,n])})()};function en(n,r,c,m){if(W(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=c,this._d=m}en.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new I((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function ue(n,r,c,m){return new en(n,r,c,m)}var Qe=d({},Xt,{code:"EPSG:3857",projection:xe,transformation:(function(){var n=.5/(Math.PI*xe.R);return ue(n,.5,-n,.5)})()}),Ue=d({},Qe,{code:"EPSG:900913"});function Le(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function mn(n,r){var c="",m,g,S,C,H,V;for(m=0,S=n.length;m<S;m++){for(H=n[m],g=0,C=H.length;g<C;g++)V=H[g],c+=(g?"L":"M")+V.x+" "+V.y;c+=r?At.svg?"z":"x":""}return c||"M0 0"}var $n=document.documentElement.style,ti="ActiveXObject"in window,yt=ti&&!document.addEventListener,ut="msLaunchUri"in navigator&&!("documentMode"in document),Et=gn("webkit"),_t=gn("android"),Ot=gn("android 2")||gn("android 3"),Tt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qt=_t&&gn("Google")&&Tt<537&&!("AudioNode"in window),ce=!!window.opera,qe=!ut&&gn("chrome"),ge=gn("gecko")&&!Et&&!ce&&!ti,ei=!qe&&gn("safari"),nn=gn("phantom"),un="OTransition"in $n,gi=navigator.platform.indexOf("Win")===0,Ln=ti&&"transition"in $n,Me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ot,pn="MozPerspective"in $n,Xe=!window.L_DISABLE_3D&&(Ln||Me||pn)&&!un&&!nn,Hi=typeof orientation<"u"||gn("mobile"),Sl=Hi&&Et,ao=Hi&&Me,Pi=!window.PointerEvent&&window.MSPointerEvent,ni=!!(window.PointerEvent||Pi),Zi="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Zi||ni),rr=Hi&&ce,ps=Hi&&ge,Cc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,El=(function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",A,r),window.removeEventListener("testPassiveEventSupport",A,r)}catch{}return n})(),so=(function(){return!!document.createElement("canvas").getContext})(),Gi=!!(document.createElementNS&&Le("svg").createSVGRect),Lc=!!Gi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Tl=!Gi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),Al=navigator.platform.indexOf("Mac")===0,zl=navigator.platform.indexOf("Linux")===0;function gn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var At={ie:ti,ielt9:yt,edge:ut,webkit:Et,android:_t,android23:Ot,androidStock:Qt,opera:ce,chrome:qe,gecko:ge,safari:ei,phantom:nn,opera12:un,win:gi,ie3d:Ln,webkit3d:Me,gecko3d:pn,any3d:Xe,mobile:Hi,mobileWebkit:Sl,mobileWebkit3d:ao,msPointer:Pi,pointer:ni,touch:qi,touchNative:Zi,mobileOpera:rr,mobileGecko:ps,retina:Cc,passiveEvents:El,canvas:so,svg:Gi,vml:Tl,inlineSvg:Lc,mac:Al,linux:zl},ro=At.msPointer?"MSPointerDown":"pointerdown",oo=At.msPointer?"MSPointerMove":"pointermove",ii=At.msPointer?"MSPointerUp":"pointerup",Ne=At.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:ro,touchmove:oo,touchend:ii,touchcancel:Ne},Vi={touchstart:Ea,touchmove:vi,touchend:vi,touchcancel:vi},yi={},Cl=!1;function Mc(n,r,c){return r==="touchstart"&&Sa(),Vi[r]?(c=Vi[r].bind(this,c),n.addEventListener(Ge[r],c,!1),c):(console.warn("wrong event specified:",r),A)}function Ll(n,r,c){if(!Ge[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Ge[r],c,!1)}function gs(n){yi[n.pointerId]=n}function lo(n){yi[n.pointerId]&&(yi[n.pointerId]=n)}function Yi(n){delete yi[n.pointerId]}function Sa(){Cl||(document.addEventListener(ro,gs,!0),document.addEventListener(oo,lo,!0),document.addEventListener(ii,Yi,!0),document.addEventListener(Ne,Yi,!0),Cl=!0)}function vi(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var c in yi)r.touches.push(yi[c]);r.changedTouches=[r],n(r)}}function Ea(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&we(r),vi(n,r)}function Oe(n){var r={},c,m;for(m in n)c=n[m],r[m]=c&&c.bind?c.bind(n):c;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Ml=200;function Nl(n,r){n.addEventListener("dblclick",r);var c=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var C=Ss(S);if(!(C.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!C.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var H=Date.now();H-c<=Ml?(m++,m===2&&r(Oe(S))):m=1,c=H}}}return n.addEventListener("click",g),{dblclick:r,simDblclick:g}}function Ii(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var _i=_s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ys=_s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),uo=ys==="webkitTransition"||ys==="OTransition"?ys+"End":"transitionend";function co(n){return typeof n=="string"?document.getElementById(n):n}function vs(n,r){var c=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[r]:null}return c==="auto"?null:c}function Zt(n,r,c){var m=document.createElement(n);return m.className=r||"",c&&c.appendChild(m),m}function se(n){var r=n.parentNode;r&&r.removeChild(n)}function yn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function He(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Ki(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function fo(n,r){if(n.classList!==void 0)return n.classList.contains(r);var c=or(n);return c.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(c)}function Bt(n,r){if(n.classList!==void 0)for(var c=Z(r),m=0,g=c.length;m<g;m++)n.classList.add(c[m]);else if(!fo(n,r)){var S=or(n);Ta(n,(S?S+" ":"")+r)}}function ye(n,r){n.classList!==void 0?n.classList.remove(r):Ta(n,R((" "+or(n)+" ").replace(" "+r+" "," ")))}function Ta(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function or(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function de(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&ho(n,r)}function ho(n,r){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(r===1)return}r=Math.round(r*100),c?(c.Enabled=r!==100,c.Opacity=r):n.style.filter+=" progid:"+m+"(opacity="+r+")"}function _s(n){for(var r=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in r)return n[c];return!1}function ai(n,r,c){var m=r||new I(0,0);n.style[_i]=(At.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function fe(n,r){n._leaflet_pos=r,At.any3d?ai(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function bi(n){return n._leaflet_pos||new I(0,0)}var Aa,Hn,mo;if("onselectstart"in document)Aa=function(){Rt(window,"selectstart",we)},Hn=function(){ne(window,"selectstart",we)};else{var za=_s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Aa=function(){if(za){var n=document.documentElement.style;mo=n[za],n[za]="none"}},Hn=function(){za&&(document.documentElement.style[za]=mo,mo=void 0)}}function lr(){Rt(window,"dragstart",we)}function bs(){ne(window,"dragstart",we)}var ur,po;function Ca(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(vn(),ur=n,po=n.style.outlineStyle,n.style.outlineStyle="none",Rt(window,"keydown",vn))}function vn(){ur&&(ur.style.outlineStyle=po,ur=void 0,po=void 0,ne(window,"keydown",vn))}function cr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function xs(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var La={__proto__:null,TRANSFORM:_i,TRANSITION:ys,TRANSITION_END:uo,get:co,getStyle:vs,create:Zt,remove:se,empty:yn,toFront:He,toBack:Ki,hasClass:fo,addClass:Bt,removeClass:ye,setClass:Ta,getClass:or,setOpacity:de,testProp:_s,setTransform:ai,setPosition:fe,getPosition:bi,get disableTextSelection(){return Aa},get enableTextSelection(){return Hn},disableImageDrag:lr,enableImageDrag:bs,preventOutline:Ca,restoreOutline:vn,getSizedParentNode:cr,getScale:xs};function Rt(n,r,c,m){if(r&&typeof r=="object")for(var g in r)Nn(n,g,r[g],c);else{r=Z(r);for(var S=0,C=r.length;S<C;S++)Nn(n,r[S],c,m)}return this}var Mn="_leaflet_events";function ne(n,r,c,m){if(arguments.length===1)go(n),delete n[Mn];else if(r&&typeof r=="object")for(var g in r)ws(n,g,r[g],c);else if(r=Z(r),arguments.length===2)go(n,function(H){return gt(r,H)!==-1});else for(var S=0,C=r.length;S<C;S++)ws(n,r[S],c,m);return this}function go(n,r){for(var c in n[Mn]){var m=c.split(/\d/)[0];(!r||r(m))&&ws(n,m,null,null,c)}}var Qi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Nn(n,r,c,m){var g=r+v(c)+(m?"_"+v(m):"");if(n[Mn]&&n[Mn][g])return this;var S=function(H){return c.call(m||n,H||window.event)},C=S;!At.touchNative&&At.pointer&&r.indexOf("touch")===0?S=Mc(n,r,S):At.touch&&r==="dblclick"?S=Nl(n,S):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Qi[r]||r,S,At.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(S=function(H){H=H||window.event,si(n,H)&&C(H)},n.addEventListener(Qi[r],S,!1)):n.addEventListener(r,C,!1):n.attachEvent("on"+r,S),n[Mn]=n[Mn]||{},n[Mn][g]=S}function ws(n,r,c,m,g){g=g||r+v(c)+(m?"_"+v(m):"");var S=n[Mn]&&n[Mn][g];if(!S)return this;!At.touchNative&&At.pointer&&r.indexOf("touch")===0?Ll(n,r,S):At.touch&&r==="dblclick"?Ii(n,S):"removeEventListener"in n?n.removeEventListener(Qi[r]||r,S,!1):n.detachEvent("on"+r,S),n[Mn][g]=null}function On(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Pn(n){return Nn(n,"wheel",On),this}function Xi(n){return Rt(n,"mousedown touchstart dblclick contextmenu",On),n._leaflet_disable_click=!0,this}function we(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function xi(n){return we(n),On(n),this}function Ss(n){if(n.composedPath)return n.composedPath();for(var r=[],c=n.target;c;)r.push(c),c=c.parentNode;return r}function Es(n,r){if(!r)return new I(n.clientX,n.clientY);var c=xs(r),m=c.boundingClientRect;return new I((n.clientX-m.left)/c.x-r.clientLeft,(n.clientY-m.top)/c.y-r.clientTop)}var Ol=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fe(n){return At.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Ol:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function si(n,r){var c=r.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var fr={__proto__:null,on:Rt,off:ne,stopPropagation:On,disableScrollPropagation:Pn,disableClickPropagation:Xi,preventDefault:we,stop:xi,getPropagationPath:Ss,getMousePosition:Es,getWheelDelta:Fe,isExternalTarget:si,addListener:Rt,removeListener:ne},Ma=K.extend({run:function(n,r,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=bi(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=mt(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,c=this._duration*1e3;r<c?this._runFrame(this._easeOut(r/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var c=this._startPos.add(this._offset.multiplyBy(n));r&&c._round(),fe(this._el,c),this.fire("step")},_complete:function(){vt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Yt=K.extend({options:{crs:Qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=M(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ct(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ys&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,uo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,c){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(ct(n),r,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=d({animate:c.animate},c.zoom),c.pan=d({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,c){var m=this.getZoomScale(r),g=this.getSize().divideBy(2),S=n instanceof I?n:this.latLngToContainerPoint(n),C=S.subtract(g).multiplyBy(1-1/m),H=this.containerPointToLatLng(g.add(C));return this.setView(H,r,{zoom:c})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():ot(n);var c=it(r.paddingTopLeft||r.padding||[0,0]),m=it(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(m));if(g=typeof r.maxZoom=="number"?Math.min(r.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var S=m.subtract(c).divideBy(2),C=this.project(n.getSouthWest(),g),H=this.project(n.getNorthEast(),g),V=this.unproject(C.add(H).divideBy(2).add(S),g);return{center:V,zoom:g}},fitBounds:function(n,r){if(n=ot(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,r);return this.setView(c.center,c.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=it(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Bt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,c){if(c=c||{},c.animate===!1||!At.any3d)return this.setView(n,r,c);this._stop();var m=this.project(this.getCenter()),g=this.project(n),S=this.getSize(),C=this._zoom;n=ct(n),r=r===void 0?C:r;var H=Math.max(S.x,S.y),V=H*this.getZoomScale(C,r),et=g.distanceTo(m)||1,pt=1.42,zt=pt*pt;function Ut(be){var ui=be?-1:1,$i=be?V:H,No=V*V-H*H+ui*zt*zt*et*et,Ps=2*$i*zt*et,Zs=No/Ps,Mi=Math.sqrt(Zs*Zs+1)-Zs,ci=Mi<1e-9?-18:Math.log(Mi);return ci}function Pe(be){return(Math.exp(be)-Math.exp(-be))/2}function Se(be){return(Math.exp(be)+Math.exp(-be))/2}function fn(be){return Pe(be)/Se(be)}var Ft=Ut(0);function Jt(be){return H*(Se(Ft)/Se(Ft+pt*be))}function qt(be){return H*(Se(Ft)*fn(Ft+pt*be)-Pe(Ft))/zt}function Ci(be){return 1-Math.pow(1-be,1.5)}var wn=Date.now(),Tr=(Ut(1)-Ft)/pt,Li=c.duration?1e3*c.duration:1e3*Tr*.8;function Mo(){var be=(Date.now()-wn)/Li,ui=Ci(be)*Tr;be<=1?(this._flyToFrame=mt(Mo,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(qt(ui)/et)),C),this.getScaleZoom(H/Jt(ui),C),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Mo.call(this),this},flyToBounds:function(n,r){var c=this._getBoundsCenterZoom(n,r);return this.flyTo(c.center,c.zoom,r)},setMaxBounds:function(n){return n=ot(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,ot(n));return c.equals(m)||this.panTo(m,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var c=it(r.paddingTopLeft||r.padding||[0,0]),m=it(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(n),C=this.getPixelBounds(),H=P([C.min.add(c),C.max.subtract(m)]),V=H.getSize();if(!H.contains(S)){this._enforcingBounds=!0;var et=S.subtract(H.getCenter()),pt=H.extend(S).getSize().subtract(V);g.x+=et.x<0?-pt.x:pt.x,g.y+=et.y<0?-pt.y:pt.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=r.divideBy(2).round(),g=c.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=_(this._handleGeolocationResponse,this),c=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,c,n):navigator.geolocation.getCurrentPosition(r,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,c=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,c=n.coords.longitude,m=new ht(r,c),g=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var C=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(C,S.maxZoom):C)}var H={latlng:m,bounds:g,timestamp:n.timestamp};for(var V in n.coords)typeof n.coords[V]=="number"&&(H[V]=n.coords[V]);this.fire("locationfound",H)}},addHandler:function(n,r){if(!r)return this;var c=this[n]=new r(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(vt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)se(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Zt("div",c,r||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new st(r,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,c){n=ot(n),c=it(c||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),C=n.getNorthWest(),H=n.getSouthEast(),V=this.getSize().subtract(c),et=P(this.project(H,m),this.project(C,m)).getSize(),pt=At.any3d?this.options.zoomSnap:1,zt=V.x/et.x,Ut=V.y/et.y,Pe=r?Math.max(zt,Ut):Math.min(zt,Ut);return m=this.getScaleZoom(Pe,m),pt&&(m=Math.round(m/(pt/100))*(pt/100),m=r?Math.ceil(m/pt)*pt:Math.floor(m/pt)*pt),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var c=this._getTopLeftPoint(n,r);return new z(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var c=this.options.crs;return r=r===void 0?this._zoom:r,c.scale(n)/c.scale(r)},getScaleZoom:function(n,r){var c=this.options.crs;r=r===void 0?this._zoom:r;var m=c.zoom(n*c.scale(r));return isNaN(m)?1/0:m},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ct(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(it(n),r)},layerPointToLatLng:function(n){var r=it(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(ct(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ct(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ot(n))},distance:function(n,r){return this.options.crs.distance(ct(n),ct(r))},containerPointToLayerPoint:function(n){return it(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return it(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(it(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(n)))},mouseEventToContainerPoint:function(n){return Es(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=co(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Rt(r,"scroll",this._onScroll,this),this._containerId=v(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,Bt(n,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=vs(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),fe(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Bt(n.markerPane,"leaflet-zoom-hide"),Bt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,c){fe(this._mapPane,new I(0,0));var m=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,c)._move(n,r)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,c,m){r===void 0&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return vt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){fe(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[v(this._container)]=this;var r=n?ne:Rt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){vt(this._resizeRequest),this._resizeRequest=mt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var c=[],m,g=r==="mouseout"||r==="mouseover",S=n.target||n.srcElement,C=!1;S;){if(m=this._targets[v(S)],m&&(r==="click"||r==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(r,!0)&&(g&&!si(S,n)||(c.push(m),g))||S===this._container)break;S=S.parentNode}return!c.length&&!C&&!g&&this.listens(r,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var c=n.type;c==="mousedown"&&Ca(r),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,c){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var g=this._findEventTargets(n,r);if(c){for(var S=[],C=0;C<c.length;C++)c[C].listens(r,!0)&&S.push(c[C]);g=S.concat(g)}if(g.length){r==="contextmenu"&&we(n);var H=g[0],V={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var et=H.getLatLng&&(!H._radius||H._radius<=10);V.containerPoint=et?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(n),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=et?H.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(r,V,!0),V.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return bi(this._mapPane)||new I(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var c=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var c=this.getSize()._divideBy(2);return this.project(n,r)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,c){var m=this._getNewPixelOrigin(c,r);return this.project(n,r)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,r,c){var m=this._getNewPixelOrigin(c,r);return P([this.project(n.getSouthWest(),r)._subtract(m),this.project(n.getNorthWest(),r)._subtract(m),this.project(n.getSouthEast(),r)._subtract(m),this.project(n.getNorthEast(),r)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,c){if(!c)return n;var m=this.project(n,r),g=this.getSize().divideBy(2),S=new z(m.subtract(g),m.add(g)),C=this._getBoundsOffset(S,c,r);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?n:this.unproject(m.add(C),r)},_limitOffset:function(n,r){if(!r)return n;var c=this.getPixelBounds(),m=new z(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,r))},_getBoundsOffset:function(n,r,c){var m=P(this.project(r.getNorthEast(),c),this.project(r.getSouthWest(),c)),g=m.min.subtract(n.min),S=m.max.subtract(n.max),C=this._rebound(g.x,-S.x),H=this._rebound(g.y,-S.y);return new I(C,H)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),c=this.getMaxZoom(),m=At.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(r,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var c=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,r),!0)},_createAnimProxy:function(){var n=this._proxy=Zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var c=_i,m=this._proxy.style[c];ai(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();ai(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(r),g=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(g)?!1:(mt(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,Bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yo(n,r){return new Yt(n,r)}var cn=Nt.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return Bt(r,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(r,m.firstChild):m.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ri=function(n){return new cn(n)};Yt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",c=this._controlContainer=Zt("div",r+"control-container",this._container);function m(g,S){var C=r+g+" "+r+S;n[g+S]=Zt("div",C,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)se(this._controlCorners[n]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ts=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,r,c){M(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in r)this._addLayer(r[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return cn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(v(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=Zt("div",n),c=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Xi(r),Pn(r);var m=this._section=Zt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),Rt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Zt("a",n+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),Rt(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){we(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Zt("div",n+"-base",m),this._separator=Zt("div",n+"-separator",m),this._overlaysList=Zt("div",n+"-overlays",m),r.appendChild(m)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&v(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:c}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yn(this._baseLayersList),yn(this._overlaysList),this._layerControlInputs=[];var n,r,c,m,g=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),r=r||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(v(n.target)),c=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,r)},_createRadioElement:function(n,r){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var r=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+v(this),c),this._layerControlInputs.push(m),m.layerId=v(n.layer),Rt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var S=document.createElement("span");r.appendChild(S),S.appendChild(m),S.appendChild(g);var C=n.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,c,m=[],g=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)r=n[S],c=this._getLayer(r.layerId).layer,r.checked?m.push(c):r.checked||g.push(c);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,c,m=this._map.getZoom(),g=n.length-1;g>=0;g--)r=n[g],c=this._getLayer(r.layerId).layer,r.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Rt(n,"click",we),this.expand();var r=this;setTimeout(function(){ne(n,"click",we),r._preventClick=!1})}}),kl=function(n,r,c){return new Ts(n,r,c)},vo=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",c=Zt("div",r+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,r+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,r+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,c,m,g){var S=Zt("a",c,m);return S.innerHTML=n,S.href="#",S.title=r,S.setAttribute("role","button"),S.setAttribute("aria-label",r),Xi(S),Rt(S,"click",xi),Rt(S,"click",g,this),Rt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";ye(this._zoomInButton,r),ye(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Bt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Bt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yt.mergeOptions({zoomControl:!0}),Yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vo,this.addControl(this.zoomControl))});var Nc=function(n){return new vo(n)},Rl=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",c=Zt("div",r),m=this.options;return this._addScales(m,r+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,c){n.metric&&(this._mScale=Zt("div",r,c)),n.imperial&&(this._iScale=Zt("div",r,c))},_update:function(){var n=this._map,r=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),c=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,c,r/n)},_updateImperial:function(n){var r=n*3.2808399,c,m,g;r>5280?(c=r/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(n,r,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),c=n/r;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,r*c}}),_o=function(n){return new Rl(n)},Oc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bo=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?Oc+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Zt("div","leaflet-control-attribution"),Xi(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Yt.mergeOptions({attributionControl:!0}),Yt.addInitHook(function(){this.options.attributionControl&&new bo().addTo(this)});var kc=function(n){return new bo(n)};cn.Layers=Ts,cn.Zoom=vo,cn.Scale=Rl,cn.Attribution=bo,ri.layers=kl,ri.zoom=Nc,ri.scale=_o,ri.attribution=kc;var Zn=Nt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zn.addTo=function(n,r){return n.addHandler(r,this),this};var Rc={Events:k},xo=At.touch?"touchstart mousedown":"mousedown",wi=K.extend({options:{clickTolerance:3},initialize:function(n,r,c,m){M(this,m),this._element=n,this._dragStartTarget=r||n,this._preventOutline=c},enable:function(){this._enabled||(Rt(this._dragStartTarget,xo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wi._dragging===this&&this.finishDrag(!0),ne(this._dragStartTarget,xo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!fo(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){wi._dragging===this&&this.finishDrag();return}if(!(wi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(wi._dragging=this,this._preventOutline&&Ca(this._element),lr(),Aa(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,c=cr(this._element);this._startPoint=new I(r.clientX,r.clientY),this._startPos=bi(this._element),this._parentScale=xs(c);var m=n.type==="mousedown";Rt(document,m?"mousemove":"touchmove",this._onMove,this),Rt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,c=new I(r.clientX,r.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,we(n),this._moved||(this.fire("dragstart"),this._moved=!0,Bt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),fe(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ne(document,"mousemove touchmove",this._onMove,this),ne(document,"mouseup touchend touchcancel",this._onUp,this),bs(),Hn();var r=this._moved&&this._moving;this._moving=!1,wi._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Bl(n,r,c){var m,g=[1,4,2,8],S,C,H,V,et,pt,zt,Ut;for(S=0,pt=n.length;S<pt;S++)n[S]._code=Fi(n[S],r);for(H=0;H<4;H++){for(zt=g[H],m=[],S=0,pt=n.length,C=pt-1;S<pt;C=S++)V=n[S],et=n[C],V._code&zt?et._code&zt||(Ut=hr(et,V,zt,r,c),Ut._code=Fi(Ut,r),m.push(Ut)):(et._code&zt&&(Ut=hr(et,V,zt,r,c),Ut._code=Fi(Ut,r),m.push(Ut)),m.push(V));n=m}return n}function Dl(n,r){var c,m,g,S,C,H,V,et,pt;if(!n||n.length===0)throw new Error("latlngs not passed");_n(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var zt=ct([0,0]),Ut=ot(n),Pe=Ut.getNorthWest().distanceTo(Ut.getSouthWest())*Ut.getNorthEast().distanceTo(Ut.getNorthWest());Pe<1700&&(zt=wo(n));var Se=n.length,fn=[];for(c=0;c<Se;c++){var Ft=ct(n[c]);fn.push(r.project(ct([Ft.lat-zt.lat,Ft.lng-zt.lng])))}for(H=V=et=0,c=0,m=Se-1;c<Se;m=c++)g=fn[c],S=fn[m],C=g.y*S.x-S.y*g.x,V+=(g.x+S.x)*C,et+=(g.y+S.y)*C,H+=C*3;H===0?pt=fn[0]:pt=[V/H,et/H];var Jt=r.unproject(it(pt));return ct([Jt.lat+zt.lat,Jt.lng+zt.lng])}function wo(n){for(var r=0,c=0,m=0,g=0;g<n.length;g++){var S=ct(n[g]);r+=S.lat,c+=S.lng,m++}return ct([r/m,c/m])}var So={__proto__:null,clipPolygon:Bl,polygonCenter:Dl,centroid:wo};function jl(n,r){if(!r||!n.length)return n.slice();var c=r*r;return n=Dc(n,c),n=Hl(n,c),n}function Ul(n,r,c){return Math.sqrt(As(n,r,c,!0))}function Bc(n,r,c){return As(n,r,c)}function Hl(n,r){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(c);g[0]=g[c-1]=1,Eo(n,g,r,0,c-1);var S,C=[];for(S=0;S<c;S++)g[S]&&C.push(n[S]);return C}function Eo(n,r,c,m,g){var S=0,C,H,V;for(H=m+1;H<=g-1;H++)V=As(n[H],n[m],n[g],!0),V>S&&(C=H,S=V);S>c&&(r[C]=1,Eo(n,r,c,m,C),Eo(n,r,c,C,g))}function Dc(n,r){for(var c=[n[0]],m=1,g=0,S=n.length;m<S;m++)jc(n[m],n[g])>r&&(c.push(n[m]),g=m);return g<S-1&&c.push(n[S-1]),c}var Pl;function Zl(n,r,c,m,g){var S=m?Pl:Fi(n,c),C=Fi(r,c),H,V,et;for(Pl=C;;){if(!(S|C))return[n,r];if(S&C)return!1;H=S||C,V=hr(n,r,H,c,g),et=Fi(V,c),H===S?(n=V,S=et):(r=V,C=et)}}function hr(n,r,c,m,g){var S=r.x-n.x,C=r.y-n.y,H=m.min,V=m.max,et,pt;return c&8?(et=n.x+S*(V.y-n.y)/C,pt=V.y):c&4?(et=n.x+S*(H.y-n.y)/C,pt=H.y):c&2?(et=V.x,pt=n.y+C*(V.x-n.x)/S):c&1&&(et=H.x,pt=n.y+C*(H.x-n.x)/S),new I(et,pt,g)}function Fi(n,r){var c=0;return n.x<r.min.x?c|=1:n.x>r.max.x&&(c|=2),n.y<r.min.y?c|=4:n.y>r.max.y&&(c|=8),c}function jc(n,r){var c=r.x-n.x,m=r.y-n.y;return c*c+m*m}function As(n,r,c,m){var g=r.x,S=r.y,C=c.x-g,H=c.y-S,V=C*C+H*H,et;return V>0&&(et=((n.x-g)*C+(n.y-S)*H)/V,et>1?(g=c.x,S=c.y):et>0&&(g+=C*et,S+=H*et)),C=n.x-g,H=n.y-S,m?C*C+H*H:new I(g,S)}function _n(n){return!W(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function dr(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(n)}function Na(n,r){var c,m,g,S,C,H,V,et;if(!n||n.length===0)throw new Error("latlngs not passed");_n(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var pt=ct([0,0]),zt=ot(n),Ut=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());Ut<1700&&(pt=wo(n));var Pe=n.length,Se=[];for(c=0;c<Pe;c++){var fn=ct(n[c]);Se.push(r.project(ct([fn.lat-pt.lat,fn.lng-pt.lng])))}for(c=0,m=0;c<Pe-1;c++)m+=Se[c].distanceTo(Se[c+1])/2;if(m===0)et=Se[0];else for(c=0,S=0;c<Pe-1;c++)if(C=Se[c],H=Se[c+1],g=C.distanceTo(H),S+=g,S>m){V=(S-m)/g,et=[H.x-V*(H.x-C.x),H.y-V*(H.y-C.y)];break}var Ft=r.unproject(it(et));return ct([Ft.lat+pt.lat,Ft.lng+pt.lng])}var Uc={__proto__:null,simplify:jl,pointToSegmentDistance:Ul,closestPointOnSegment:Bc,clipSegment:Zl,_getEdgeIntersection:hr,_getBitCode:Fi,_sqClosestPointOnSegment:As,isFlat:_n,_flat:dr,polylineCenter:Na},mr={project:function(n){return new I(n.lng,n.lat)},unproject:function(n){return new ht(n.y,n.x)},bounds:new z([-180,-90],[180,90])},pr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,c=this.R,m=n.lat*r,g=this.R_MINOR/c,S=Math.sqrt(1-g*g),C=S*Math.sin(m),H=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),S/2);return m=-c*Math.log(Math.max(H,1e-10)),new I(n.lng*r*c,m)},unproject:function(n){for(var r=180/Math.PI,c=this.R,m=this.R_MINOR/c,g=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),C=Math.PI/2-2*Math.atan(S),H=0,V=.1,et;H<15&&Math.abs(V)>1e-7;H++)et=g*Math.sin(C),et=Math.pow((1-et)/(1+et),g/2),V=Math.PI/2-2*Math.atan(S*et)-C,C+=V;return new ht(C*r,n.x*r/c)}},ql={__proto__:null,LonLat:mr,Mercator:pr,SphericalMercator:xe},Gl=d({},Xt,{code:"EPSG:3395",projection:pr,transformation:(function(){var n=.5/(Math.PI*pr.R);return ue(n,.5,-n,.5)})()}),To=d({},Xt,{code:"EPSG:4326",projection:mr,transformation:ue(1/180,1,-1/180,.5)}),Oa=d({},Mt,{projection:mr,transformation:ue(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var c=r.lng-n.lng,m=r.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});Mt.Earth=Xt,Mt.EPSG3395=Gl,Mt.EPSG3857=Qe,Mt.EPSG900913=Ue,Mt.EPSG4326=To,Mt.Simple=Oa;var kn=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[v(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[v(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var c=this.getEvents();r.on(c,this),this.once("remove",function(){r.off(c,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Yt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=v(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=v(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return v(n)in this._layers},eachLayer:function(n,r){for(var c in this._layers)n.call(r,this._layers[c]);return this},_addLayers:function(n){n=n?W(n)?n:[n]:[];for(var r=0,c=n.length;r<c;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[v(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=v(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),r=g.maxZoom===void 0?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ka=kn.extend({initialize:function(n,r){M(this,r),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var c in this._layers)n.call(r,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return v(n)}}),Hc=function(n,r){return new ka(n,r)},qn=ka.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ka.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ka.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new st;for(var r in this._layers){var c=this._layers[r];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),Vl=function(n,r){return new qn(n,r)},Gn=Nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,r){var c=this.options,m=c[r+"Size"];typeof m=="number"&&(m=[m,m]);var g=it(m),S=it(r==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return At.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function zs(n){return new Gn(n)}var Cs=Gn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Cs.imagePath!="string"&&(Cs.imagePath=this._detectIconPath()),(this.options.imagePath||Cs.imagePath)+Gn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(c,m,g){var S=m.exec(c);return S&&S[g]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Zt("div","leaflet-default-icon-path",document.body),r=vs(n,"background-image")||vs(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ls=Zn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new wi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Bt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,c=r._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=bi(r._icon),C=c.getPixelBounds(),H=c.getPixelOrigin(),V=P(C.min._subtract(H).add(g),C.max._subtract(H).subtract(g));if(!V.contains(S)){var et=it((Math.max(V.max.x,S.x)-V.max.x)/(C.max.x-V.max.x)-(Math.min(V.min.x,S.x)-V.min.x)/(C.min.x-V.min.x),(Math.max(V.max.y,S.y)-V.max.y)/(C.max.y-V.max.y)-(Math.min(V.min.y,S.y)-V.min.y)/(C.min.y-V.min.y)).multiplyBy(m);c.panBy(et,{animate:!1}),this._draggable._newPos._add(et),this._draggable._startPos._add(et),fe(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=mt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(vt(this._panRequest),this._panRequest=mt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,c=r._shadow,m=bi(r._icon),g=r._map.layerPointToLatLng(m);c&&fe(c,m),r._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){vt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ms=kn.extend({options:{icon:new Cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){M(this,r),this._latlng=ct(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=ct(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),Bt(c,r),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(Bt(g,r),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ne(this._icon,"focus",this._panOnFocus,this),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&fe(this._icon,n),this._shadow&&fe(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ls)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ls(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&de(this._icon,n),this._shadow&&de(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,c=r.iconSize?it(r.iconSize):it(0,0),m=r.iconAnchor?it(r.iconAnchor):it(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yl(n,r){return new Ms(n,r)}var Vn=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ra=Vn.extend({options:{fill:!0,radius:10},initialize:function(n,r){M(this,r),this._latlng=ct(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=ct(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Vn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,c=this._clickTolerance(),m=[n+c,r+c];this._pxBounds=new z(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Il(n,r){return new Ra(n,r)}var gr=Ra.extend({initialize:function(n,r,c){if(typeof r=="number"&&(r=d({},c,{radius:r})),M(this,r),this._latlng=ct(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new st(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Vn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===Xt.distance){var g=Math.PI/180,S=this._mRadius/Xt.R/g,C=c.project([r+S,n]),H=c.project([r-S,n]),V=C.add(H).divideBy(2),et=c.unproject(V).lat,pt=Math.acos((Math.cos(S*g)-Math.sin(r*g)*Math.sin(et*g))/(Math.cos(r*g)*Math.cos(et*g)))/g;(isNaN(pt)||pt===0)&&(pt=S/Math.cos(Math.PI/180*r)),this._point=V.subtract(c.getPixelOrigin()),this._radius=isNaN(pt)?0:V.x-c.project([et,n-pt]).x,this._radiusY=V.y-C.y}else{var zt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(zt).x}this._updateBounds()}});function Kl(n,r,c){return new gr(n,r,c)}var oi=Vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){M(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,c=null,m=As,g,S,C=0,H=this._parts.length;C<H;C++)for(var V=this._parts[C],et=1,pt=V.length;et<pt;et++){g=V[et-1],S=V[et];var zt=m(n,g,S,!0);zt<r&&(r=zt,c=m(n,g,S))}return c&&(c.distance=Math.sqrt(r)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Na(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=ct(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new st,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],c=_n(n),m=0,g=n.length;m<g;m++)c?(r[m]=ct(n[m]),this._bounds.extend(r[m])):r[m]=this._convertLatLngs(n[m]);return r},_project:function(){var n=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new I(n,n);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,c){var m=n[0]instanceof ht,g=n.length,S,C;if(m){for(C=[],S=0;S<g;S++)C[S]=this._map.latLngToLayerPoint(n[S]),c.extend(C[S]);r.push(C)}else for(S=0;S<g;S++)this._projectLatlngs(n[S],r,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,c,m,g,S,C,H,V;for(c=0,g=0,S=this._rings.length;c<S;c++)for(V=this._rings[c],m=0,C=V.length;m<C-1;m++)H=Zl(V[m],V[m+1],n,m,!0),H&&(r[g]=r[g]||[],r[g].push(H[0]),(H[1]!==V[m+1]||m===C-2)&&(r[g].push(H[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=jl(n[c],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var c,m,g,S,C,H,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(H=this._parts[c],m=0,C=H.length,g=C-1;m<C;g=m++)if(!(!r&&m===0)&&Ul(n,H[g],H[m])<=V)return!0;return!1}});function Pc(n,r){return new oi(n,r)}oi._flat=dr;var Ba=oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=oi.prototype._convertLatLngs.call(this,n),c=r.length;return c>=2&&r[0]instanceof ht&&r[0].equals(r[c-1])&&r.pop(),r},_setLatLngs:function(n){oi.prototype._setLatLngs.call(this,n),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,c=new I(r,r);if(n=new z(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=Bl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,c,m,g,S,C,H,V,et;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,V=this._parts.length;S<V;S++)for(c=this._parts[S],C=0,et=c.length,H=et-1;C<et;H=C++)m=c[C],g=c[H],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(r=!r);return r||oi.prototype._containsPoint.call(this,n,!0)}});function Zc(n,r){return new Ba(n,r)}var li=qn.extend({initialize:function(n,r){M(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=W(n)?n:n.features,c,m,g;if(r){for(c=0,m=r.length;c<m;c++)g=r[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var C=Ve(n,S);return C?(C.feature=_r(n),C.defaultOptions=C.options,this.resetStyle(C),S.onEachFeature&&S.onEachFeature(n,C),this.addLayer(C)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Ve(n,r){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,g=[],S=r&&r.pointToLayer,C=r&&r.coordsToLatLng||yr,H,V,et,pt;if(!m&&!c)return null;switch(c.type){case"Point":return H=C(m),Da(S,n,H,r);case"MultiPoint":for(et=0,pt=m.length;et<pt;et++)H=C(m[et]),g.push(Da(S,n,H,r));return new qn(g);case"LineString":case"MultiLineString":return V=Ns(m,c.type==="LineString"?0:1,C),new oi(V,r);case"Polygon":case"MultiPolygon":return V=Ns(m,c.type==="Polygon"?1:2,C),new Ba(V,r);case"GeometryCollection":for(et=0,pt=c.geometries.length;et<pt;et++){var zt=Ve({geometry:c.geometries[et],type:"Feature",properties:n.properties},r);zt&&g.push(zt)}return new qn(g);case"FeatureCollection":for(et=0,pt=c.features.length;et<pt;et++){var Ut=Ve(c.features[et],r);Ut&&g.push(Ut)}return new qn(g);default:throw new Error("Invalid GeoJSON object.")}}function Da(n,r,c,m){return n?n(r,c):new Ms(c,m&&m.markersInheritOptions&&m)}function yr(n){return new ht(n[1],n[0],n[2])}function Ns(n,r,c){for(var m=[],g=0,S=n.length,C;g<S;g++)C=r?Ns(n[g],r-1,c):(c||yr)(n[g]),m.push(C);return m}function vr(n,r){return n=ct(n),n.alt!==void 0?[N(n.lng,r),N(n.lat,r),N(n.alt,r)]:[N(n.lng,r),N(n.lat,r)]}function Os(n,r,c,m){for(var g=[],S=0,C=n.length;S<C;S++)g.push(r?Os(n[S],_n(n[S])?0:r-1,c,m):vr(n[S],m));return!r&&c&&g.length>0&&g.push(g[0].slice()),g}function Si(n,r){return n.feature?d({},n.feature,{geometry:r}):_r(r)}function _r(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ei={toGeoJSON:function(n){return Si(this,{type:"Point",coordinates:vr(this.getLatLng(),n)})}};Ms.include(Ei),gr.include(Ei),Ra.include(Ei),oi.include({toGeoJSON:function(n){var r=!_n(this._latlngs),c=Os(this._latlngs,r?1:0,!1,n);return Si(this,{type:(r?"Multi":"")+"LineString",coordinates:c})}}),Ba.include({toGeoJSON:function(n){var r=!_n(this._latlngs),c=r&&!_n(this._latlngs[0]),m=Os(this._latlngs,c?2:r?1:0,!0,n);return r||(m=[m]),Si(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),ka.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(c){r.push(c.toGeoJSON(n).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var c=r==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(n);if(c)m.push(S.geometry);else{var C=_r(S);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),c?Si(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function br(n,r){return new li(n,r)}var ks=br,ja=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,c){this._url=n,this._bounds=ot(r),M(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&He(this._image),this},bringToBack:function(){return this._map&&Ki(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ot(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:Zt("img");if(Bt(r,"leaflet-image-layer"),this._zoomAnimated&&Bt(r,"leaflet-zoom-animated"),this.options.className&&Bt(r,this.options.className),r.onselectstart=A,r.onmousemove=A,r.onload=_(this.fire,this,"load"),r.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;ai(this._image,c,r)},_reset:function(){var n=this._image,r=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=r.getSize();fe(n,r.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Ql=function(n,r,c){return new ja(n,r,c)},Ti=ja.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:Zt("video");if(Bt(r,"leaflet-image-layer"),this._zoomAnimated&&Bt(r,"leaflet-zoom-animated"),this.options.className&&Bt(r,this.options.className),r.onselectstart=A,r.onmousemove=A,r.onloadeddata=_(this.fire,this,"load"),n){for(var c=r.getElementsByTagName("source"),m=[],g=0;g<c.length;g++)m.push(c[g].src);this._url=c.length>0?m:[r.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var C=Zt("source");C.src=this._url[S],r.appendChild(C)}}});function Ua(n,r,c){return new Ti(n,r,c)}var xr=ja.extend({_initImage:function(){var n=this._image=this._url;Bt(n,"leaflet-image-layer"),this._zoomAnimated&&Bt(n,"leaflet-zoom-animated"),this.options.className&&Bt(n,this.options.className),n.onselectstart=A,n.onmousemove=A}});function Xl(n,r,c){return new xr(n,r,c)}var Ye=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof ht||W(n))?(this._latlng=ct(n),M(this,r)):(M(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(_(se,void 0,this._container),200)):se(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ct(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&He(this._container),this},bringToBack:function(){return this._map&&Ki(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof qn){r=null;var c=this._source._layers;for(var m in c)if(c[m]._map){r=c[m];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=it(this.options.offset),c=this._getAnchor();this._zoomAnimated?fe(this._container,n.add(c)):r=r.add(n).add(c);var m=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Yt.include({_initOverlay:function(n,r,c,m){var g=r;return g instanceof n||(g=new n(m).setContent(r)),c&&g.setLatLng(c),g}}),kn.include({_initOverlay:function(n,r,c,m){var g=c;return g instanceof n?(M(g,m),g._source=this):(g=r&&!m?r:new n(m,this),g.setContent(c)),g}});var Rs=Ye.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ye.prototype.openOn.call(this,n)},onAdd:function(n){Ye.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vn||this._source.on("preclick",On))},onRemove:function(n){Ye.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vn||this._source.off("preclick",On))},getEvents:function(){var n=Ye.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=Zt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Zt("div",n+"-content-wrapper",r);if(this._contentNode=Zt("div",n+"-content",c),Xi(r),Pn(this._contentNode),Rt(r,"contextmenu",On),this._tipContainer=Zt("div",n+"-tip-container",r),this._tip=Zt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Zt("a",n+"-close-button",r);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(m,"click",function(g){we(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),r.width=c+1+"px",r.whiteSpace="",r.height="";var m=n.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(r.height=g+"px",Bt(n,S)):ye(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();fe(this._container,r.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(vs(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+r,m=this._containerWidth,g=new I(this._containerLeft,-c-this._containerBottom);g._add(bi(this._container));var S=n.layerPointToContainerPoint(g),C=it(this.options.autoPanPadding),H=it(this.options.autoPanPaddingTopLeft||C),V=it(this.options.autoPanPaddingBottomRight||C),et=n.getSize(),pt=0,zt=0;S.x+m+V.x>et.x&&(pt=S.x+m-et.x+V.x),S.x-pt-H.x<0&&(pt=S.x-H.x),S.y+c+V.y>et.y&&(zt=S.y+c-et.y+V.y),S.y-zt-H.y<0&&(zt=S.y-H.y),(pt||zt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([pt,zt]))}},_getAnchor:function(){return it(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Fl=function(n,r){return new Rs(n,r)};Yt.mergeOptions({closePopupOnClick:!0}),Yt.include({openPopup:function(n,r,c){return this._initOverlay(Rs,n,r,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),kn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(Rs,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){xi(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Vn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Bs=Ye.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ye.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ye.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ye.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Zt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,c,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(n),H=this.options.direction,V=g.offsetWidth,et=g.offsetHeight,pt=it(this.options.offset),zt=this._getAnchor();H==="top"?(r=V/2,c=et):H==="bottom"?(r=V/2,c=0):H==="center"?(r=V/2,c=et/2):H==="right"?(r=0,c=et/2):H==="left"?(r=V,c=et/2):C.x<S.x?(H="right",r=0,c=et/2):(H="left",r=V+(pt.x+zt.x)*2,c=et/2),n=n.subtract(it(r,c,!0)).add(pt).add(zt),ye(g,"leaflet-tooltip-right"),ye(g,"leaflet-tooltip-left"),ye(g,"leaflet-tooltip-top"),ye(g,"leaflet-tooltip-bottom"),Bt(g,"leaflet-tooltip-"+H),fe(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&de(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return it(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qc=function(n,r){return new Bs(n,r)};Yt.include({openTooltip:function(n,r,c){return this._initOverlay(Bs,n,r,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),kn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bs,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[r](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(Rt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Rt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),r=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(r)}});var Jl=Gn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(yn(r),r.appendChild(c.html)):r.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=it(c.bgPos);r.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Gc(n){return new Jl(n)}Gn.Default=Cs;var Ha=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),se(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(He(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof I?n:new I(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,c=-n(-1/0,1/0),m=0,g=r.length,S;m<g;m++)S=r[m].style.zIndex,r[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){de(this._container,this.options.opacity);var n=+new Date,r=!1,c=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(n-g.loaded)/200);de(g.el,S),S<1?r=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),r&&(vt(this._fadeFrame),this._fadeFrame=mt(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=r-Math.abs(n-c),this._onUpdateLevel(c)):(se(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=r,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),A(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var n,r,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var m=r.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)se(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,c,m){var g=Math.floor(n/2),S=Math.floor(r/2),C=c-1,H=new I(+g,+S);H.z=+C;var V=this._tileCoordsToKey(H),et=this._tiles[V];return et&&et.active?(et.retain=!0,!0):(et&&et.loaded&&(et.retain=!0),C>m?this._retainParent(g,S,C,m):!1)},_retainChildren:function(n,r,c,m){for(var g=2*n;g<2*n+2;g++)for(var S=2*r;S<2*r+2;S++){var C=new I(g,S);C.z=c+1;var H=this._tileCoordsToKey(C),V=this._tiles[H];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);c+1<m&&this._retainChildren(g,S,c+1,m)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,c,m){var g=Math.round(r);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,r)},_setZoomTransform:function(n,r,c){var m=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(r,c)).round();At.any3d?ai(n.el,g,m):fe(n.el,g)},_resetGrid:function(){var n=this._map,r=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,r.wrapLng[1]],m).x/c.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([r.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,c=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),m=r.getZoomScale(c,this._tileZoom),g=r.project(n,this._tileZoom).floor(),S=r.getSize().divideBy(m*2);return new z(g.subtract(S),g.add(S))},_update:function(n){var r=this._map;if(r){var c=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),S=g.getCenter(),C=[],H=this.options.keepBuffer,V=new z(g.getBottomLeft().subtract([H,-H]),g.getTopRight().add([H,-H]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var et in this._tiles){var pt=this._tiles[et].coords;(pt.z!==this._tileZoom||!V.contains(new I(pt.x,pt.y)))&&(this._tiles[et].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var zt=g.min.y;zt<=g.max.y;zt++)for(var Ut=g.min.x;Ut<=g.max.x;Ut++){var Pe=new I(Ut,zt);if(Pe.z=this._tileZoom,!!this._isValidTile(Pe)){var Se=this._tiles[this._tileCoordsToKey(Pe)];Se?Se.current=!0:C.push(Pe)}}if(C.sort(function(Ft,Jt){return Ft.distanceTo(S)-Jt.distanceTo(S)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fn=document.createDocumentFragment();for(Ut=0;Ut<C.length;Ut++)this._addTile(C[Ut],fn);this._level.el.appendChild(fn)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var c=this._globalTileRange;if(!r.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!r.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return ot(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,c=this.getTileSize(),m=n.scaleBy(c),g=m.add(c),S=r.unproject(m,n.z),C=r.unproject(g,n.z);return[S,C]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),c=new st(r[0],r[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),c=new I(+r[0],+r[1]);return c.z=+r[2],c},_removeTile:function(n){var r=this._tiles[n];r&&(se(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Bt(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=A,n.onmousemove=A,At.ielt9&&this.options.opacity<1&&de(n,this.options.opacity)},_addTile:function(n,r){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&mt(_(this._tileReady,this,n,null,g)),fe(g,c),this._tiles[m]={el:g,coords:n,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,r,c){r&&this.fire("tileerror",{error:r,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(de(c.el,0),vt(this._fadeFrame),this._fadeFrame=mt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),r||(Bt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?mt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new I(this._wrapX?T(n.x,this._wrapX):n.x,this._wrapY?T(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new z(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Wl(n){return new Ha(n)}var Ai=Ha.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=M(this,r),r.detectRetina&&At.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var c=document.createElement("img");return Rt(c,"load",_(this._tileOnLoad,this,r,c)),Rt(c,"error",_(this._tileOnError,this,r,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var r={r:At.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=c),r["-y"]=c}return $(this._url,d(r,this.options))},_tileOnLoad:function(n,r){At.ielt9?setTimeout(_(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,c){var m=this.options.errorTileUrl;m&&r.getAttribute("src")!==m&&(r.src=m),n(c,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=r-n),n+m},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=A,r.onerror=A,!r.complete)){r.src=dt;var c=this._tiles[n].coords;se(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:c})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",dt),Ha.prototype._removeTile.call(this,n)},_tileReady:function(n,r,c){if(!(!this._map||c&&c.getAttribute("src")===dt))return Ha.prototype._tileReady.call(this,n,r,c)}});function bn(n,r){return new Ai(n,r)}var Ds=Ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var c=d({},this.defaultWmsParams);for(var m in r)m in this.options||(c[m]=r[m]);r=M(this,r);var g=r.detectRetina&&At.retina?2:1,S=this.getTileSize();c.width=S.x*g,c.height=S.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Ai.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),c=this._crs,m=P(c.project(r[0]),c.project(r[1])),g=m.min,S=m.max,C=(this._wmsVersion>=1.3&&this._crs===To?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),H=Ai.prototype.getTileUrl.call(this,n);return H+D(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(n,r){return d(this.wmsParams,n),r||this.redraw(),this}});function xn(n,r){return new Ds(n,r)}Ai.WMS=Ds,bn.wms=xn;var an=kn.extend({options:{padding:.1},initialize:function(n){M(this,n),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var c=this._map.getZoomScale(r,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),S=m.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,r));At.any3d?ai(this._container,S,c):fe(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),c=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new z(c,c.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wr=an.extend({options:{tolerance:0},getEvents:function(){var n=an.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Rt(n,"mousemove",this._onMouseMove,this),Rt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){vt(this._redrawRequest),delete this._ctx,se(this._container),ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,r=this._container,c=n.getSize(),m=At.retina?2:1;fe(r,n.min),r.width=m*c.x,r.height=m*c.y,r.style.width=c.x+"px",r.style.height=c.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[v(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,c=r.next,m=r.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[v(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),c=[],m,g;for(g=0;g<r.length;g++){if(m=Number(r[g]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||mt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var c=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var c,m,g,S,C=n._parts,H=C.length,V=this._ctx;if(H){for(V.beginPath(),c=0;c<H;c++){for(m=0,g=C[c].length;m<g;m++)S=C[c][m],V[m?"lineTo":"moveTo"](S.x,S.y);r&&V.closePath()}this._fillStroke(V,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(r.x,r.y/g,m,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,r){var c=r.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(ye(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(r)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,c){this._map._fireDOMEvent(r,c||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var c=r.next,m=r.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var c=r.next,m=r.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function js(n){return At.canvas?new wr(n):null}var zi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ao={_initContainer:function(){this._container=Zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=zi("shape");Bt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=zi("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;se(r),n.removeInteractiveTarget(r),delete this._layers[v(n)]},_updateStyle:function(n){var r=n._stroke,c=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(r||(r=n._stroke=zi("stroke")),g.appendChild(r),r.weight=m.weight+"px",r.color=m.color,r.opacity=m.opacity,m.dashArray?r.dashStyle=W(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=m.lineCap.replace("butt","flat"),r.joinstyle=m.lineJoin):r&&(g.removeChild(r),n._stroke=null),m.fill?(c||(c=n._fill=zi("fill")),g.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){He(n._container)},_bringToBack:function(n){Ki(n._container)}},Yn=At.vml?zi:Le,Pa=an.extend({_initContainer:function(){this._container=Yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,r=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,c.setAttribute("width",r.x),c.setAttribute("height",r.y)),fe(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Yn("path");n.options.className&&Bt(r,n.options.className),n.options.interactive&&Bt(r,"leaflet-interactive"),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){se(n._path),n.removeInteractiveTarget(n._path),delete this._layers[v(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,c=n.options;r&&(c.stroke?(r.setAttribute("stroke",c.color),r.setAttribute("stroke-opacity",c.opacity),r.setAttribute("stroke-width",c.weight),r.setAttribute("stroke-linecap",c.lineCap),r.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?r.setAttribute("stroke-dasharray",c.dashArray):r.removeAttribute("stroke-dasharray"),c.dashOffset?r.setAttribute("stroke-dashoffset",c.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),c.fill?(r.setAttribute("fill",c.fillColor||c.color),r.setAttribute("fill-opacity",c.fillOpacity),r.setAttribute("fill-rule",c.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,mn(n._parts,r))},_updateCircle:function(n){var r=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(r.x-c)+","+r.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){He(n._path)},_bringToBack:function(n){Ki(n._path)}});At.vml&&Pa.include(Ao);function Us(n){return At.svg||At.vml?new Pa(n):null}Yt.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&js(n)||Us(n)}});var Ji=Ba.extend({initialize:function(n,r){Ba.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ot(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Vc(n,r){return new Ji(n,r)}Pa.create=Yn,Pa.pointsToPath=mn,li.geometryToLayer=Ve,li.coordsToLatLng=yr,li.coordsToLatLngs=Ns,li.latLngToCoords=vr,li.latLngsToCoords=Os,li.getFeature=Si,li.asFeature=_r,Yt.mergeOptions({boxZoom:!0});var sn=Zn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Aa(),lr(),this._startPoint=this._map.mouseEventToContainerPoint(n),Rt(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Zt("div","leaflet-zoom-box",this._container),Bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new z(this._point,this._startPoint),c=r.getSize();fe(this._box,r.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(se(this._box),ye(this._container,"leaflet-crosshair")),Hn(),bs(),ne(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var r=new st(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yt.addInitHook("addHandler","boxZoom",sn),Yt.mergeOptions({doubleClickZoom:!0});var Sr=Zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,c=r.getZoom(),m=r.options.zoomDelta,g=n.originalEvent.shiftKey?c-m:c+m;r.options.doubleClickZoom==="center"?r.setZoom(g):r.setZoomAround(n.containerPoint,g)}});Yt.addInitHook("addHandler","doubleClickZoom",Sr),Yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var In=Zn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new wi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ot(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-r+c)%n+r-c,S=(m+r+c)%n-r-c,C=Math.abs(g+c)<Math.abs(S+c)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(n){var r=this._map,c=r.options,m=!c.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),m)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,C=c.easeLinearity,H=g.multiplyBy(C/S),V=H.distanceTo([0,0]),et=Math.min(c.inertiaMaxSpeed,V),pt=H.multiplyBy(et/V),zt=et/(c.inertiaDeceleration*C),Ut=pt.multiplyBy(-zt/2).round();!Ut.x&&!Ut.y?r.fire("moveend"):(Ut=r._limitOffset(Ut,r.options.maxBounds),mt(function(){r.panBy(Ut,{duration:zt,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Yt.addInitHook("addHandler","dragging",In),Yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zo=Zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Rt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,c=n.scrollTop||r.scrollTop,m=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},c=this.keyCodes,m,g;for(m=0,g=c.left.length;m<g;m++)r[c.left[m]]=[-1*n,0];for(m=0,g=c.right.length;m<g;m++)r[c.right[m]]=[n,0];for(m=0,g=c.down.length;m<g;m++)r[c.down[m]]=[0,n];for(m=0,g=c.up.length;m<g;m++)r[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},c=this.keyCodes,m,g;for(m=0,g=c.zoomIn.length;m<g;m++)r[c.zoomIn[m]]=n;for(m=0,g=c.zoomOut.length;m<g;m++)r[c.zoomOut[m]]=-n},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,c=this._map,m;if(r in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[r],n.shiftKey&&(m=it(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(it(m),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(g)}else c.panBy(m)}else if(r in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;xi(n)}}});Yt.addInitHook("addHandler","keyboard",zo),Yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hs=Zn.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Fe(n),c=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),xi(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(g/c)*c:g,C=n._limitZoom(r+(this._delta>0?S:-S))-r;this._delta=0,this._startTime=null,C&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+C):n.setZoomAround(this._lastMousePos,r+C))}});Yt.addInitHook("addHandler","scrollWheelZoom",Hs);var Wi=600;Yt.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var Er=Zn.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new I(r.clientX,r.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",we),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Wi),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){ne(document,"touchend",we),ne(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),ne(document,"touchend touchcancel contextmenu",this._cancel,this),ne(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new I(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});c._simulated=!0,r.target.dispatchEvent(c)}});Yt.addInitHook("addHandler","tapHold",Er),Yt.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var Co=Zn.extend({addHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var c=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),we(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,c=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(m)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),vt(this._animRequest);var C=_(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=mt(C,this,!0),we(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,vt(this._animRequest),ne(document,"touchmove",this._onTouchMove,this),ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yt.addInitHook("addHandler","touchZoom",Co),Yt.BoxZoom=sn,Yt.DoubleClickZoom=Sr,Yt.Drag=In,Yt.Keyboard=zo,Yt.ScrollWheelZoom=Hs,Yt.TapHold=Er,Yt.TouchZoom=Co,l.Bounds=z,l.Browser=At,l.CRS=Mt,l.Canvas=wr,l.Circle=gr,l.CircleMarker=Ra,l.Class=Nt,l.Control=cn,l.DivIcon=Jl,l.DivOverlay=Ye,l.DomEvent=fr,l.DomUtil=La,l.Draggable=wi,l.Evented=K,l.FeatureGroup=qn,l.GeoJSON=li,l.GridLayer=Ha,l.Handler=Zn,l.Icon=Gn,l.ImageOverlay=ja,l.LatLng=ht,l.LatLngBounds=st,l.Layer=kn,l.LayerGroup=ka,l.LineUtil=Uc,l.Map=Yt,l.Marker=Ms,l.Mixin=Rc,l.Path=Vn,l.Point=I,l.PolyUtil=So,l.Polygon=Ba,l.Polyline=oi,l.Popup=Rs,l.PosAnimation=Ma,l.Projection=ql,l.Rectangle=Ji,l.Renderer=an,l.SVG=Pa,l.SVGOverlay=xr,l.TileLayer=Ai,l.Tooltip=Bs,l.Transformation=en,l.Util=Ct,l.VideoOverlay=Ti,l.bind=_,l.bounds=P,l.canvas=js,l.circle=Kl,l.circleMarker=Il,l.control=ri,l.divIcon=Gc,l.extend=d,l.featureGroup=Vl,l.geoJSON=br,l.geoJson=ks,l.gridLayer=Wl,l.icon=zs,l.imageOverlay=Ql,l.latLng=ct,l.latLngBounds=ot,l.layerGroup=Hc,l.map=yo,l.marker=Yl,l.point=it,l.polygon=Zc,l.polyline=Pc,l.popup=Fl,l.rectangle=Vc,l.setOptions=M,l.stamp=v,l.svg=Us,l.svgOverlay=Xl,l.tileLayer=bn,l.tooltip=qc,l.transformation=ue,l.version=u,l.videoOverlay=Ua;var Lo=window.L;l.noConflict=function(){return window.L=Lo,this},window.L=l}))})(fl,fl.exports)),fl.exports}var wl=vE();const _a=sd(wl);function Gd(a,s,l){return Object.freeze({instance:a,context:s,container:l})}function Vd(a,s){return s==null?function(u,d){const p=X.useRef(void 0);return p.current||(p.current=a(u,d)),p}:function(u,d){const p=X.useRef(void 0);p.current||(p.current=a(u,d));const _=X.useRef(u),{instance:b}=p.current;return X.useEffect(function(){_.current!==u&&(s(b,u,_.current),_.current=u)},[b,u,s]),p}}function Lv(a,s){X.useEffect(function(){return(s.layerContainer??s.map).addLayer(a.instance),function(){s.layerContainer?.removeLayer(a.instance),s.map.removeLayer(a.instance)}},[s,a])}function Mv(a){return function(l){const u=Zd(),d=a(qd(l,u),u);return dE(u.map,l.attribution),Cv(d.current,l.eventHandlers),Lv(d.current,u),d}}function _E(a,s){const l=X.useRef(void 0);X.useEffect(function(){if(s.pathOptions!==l.current){const d=s.pathOptions??{};a.instance.setStyle(d),l.current=d}},[a,s])}function bE(a){return function(l){const u=Zd(),d=a(qd(l,u),u);return Cv(d.current,l.eventHandlers),Lv(d.current,u),_E(d.current,l),d}}function xE(a,s){const l=Vd(a,s),u=Mv(l);return zv(u)}function wE(a,s){const l=Vd(a,s),u=bE(l);return zv(u)}function SE(a,s){const l=Vd(a,s),u=Mv(l);return gE(u)}function EE(a,s,l){const{opacity:u,zIndex:d}=s;u!=null&&u!==l.opacity&&a.setOpacity(u),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function Nv(){return Zd().map}function Yd(a){const s=Nv();return X.useEffect(function(){return s.on(a),function(){s.off(a)}},[s,a]),s}function TE({bounds:a,boundsOptions:s,center:l,children:u,className:d,id:p,placeholder:_,style:b,whenReady:v,zoom:x,...T},A){const[N]=X.useState({className:d,id:p,style:b}),[R,Z]=X.useState(null),M=X.useRef(void 0);X.useImperativeHandle(A,()=>R?.map??null,[R]);const D=X.useCallback($=>{if($!==null&&!M.current){const W=new wl.Map($,T);M.current=W,l!=null&&x!=null?W.setView(l,x):a!=null&&W.fitBounds(a,s),v!=null&&W.whenReady(v),Z(pE(W))}},[]);X.useEffect(()=>()=>{R?.map.remove()},[R]);const U=R?hl.createElement(Pd,{value:R},u):_??null;return hl.createElement("div",{...N,ref:D},U)}const AE=X.forwardRef(TE),io=xE(function({position:s,...l},u){const d=new wl.Marker(s,l);return Gd(d,Av(u,{overlayContainer:d}))},function(s,l,u){l.position!==u.position&&s.setLatLng(l.position),l.icon!=null&&l.icon!==u.icon&&s.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==u.zIndexOffset&&s.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==u.opacity&&s.setOpacity(l.opacity),s.dragging!=null&&l.draggable!==u.draggable&&(l.draggable===!0?s.dragging.enable():s.dragging.disable())}),E0=wE(function({positions:s,...l},u){const d=new wl.Polyline(s,l);return Gd(d,Av(u,{overlayContainer:d}))},function(s,l,u){l.positions!==u.positions&&s.setLatLngs(l.positions)}),zE=SE(function({url:s,...l},u){const d=new wl.TileLayer(s,qd(l,u));return Gd(d,u)},function(s,l,u){EE(s,l,u);const{url:d}=l;d!=null&&d!==u.url&&s.setUrl(d)}),ya={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:31714,ROUTE_LOG:34171},mi=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function lc(a,s,l=10){const u=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,_=-90,b=90,v=-180,x=180,T="",A=0,N=0;for(;T.length<l;){if(p){const R=(v+x)/2;s>R?(N|=u[A],v=R):x=R}else{const R=(_+b)/2;a>R?(N|=u[A],_=R):b=R}p=!p,A<4?A++:(T+=d[N],A=0,N=0)}return T}function CE(a,s,l=5){const u=lc(a,s,l),d=l===5?.02:l===6?.005:.001,p=l===5?.04:l===6?.01:.002,_=new Set;_.add(u);const b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[v,x]of b){const T=a+v*d,A=s+x*p;_.add(lc(T,A,l))}return Array.from(_)}async function Ov(a,s,l){const u=JSON.stringify(a);if(l){const d=gl.getConversationKey(l,s);return gl.encrypt(u,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(s,u);throw new Error("No encryption method available")}async function kv(a,s,l){let u;if(l){const d=gl.getConversationKey(l,s);u=gl.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)u=await window.nostr.nip44.decrypt(s,a);else throw new Error("No decryption method available");return JSON.parse(u)}const uc={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function LE(a,s){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${s}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&uc[d]?uc[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),Rv()}}function Rv(){try{const s=window.navigator.language.split("-")[1]?.toUpperCase();return s&&uc[s]?uc[s]:"USD"}catch{return"USD"}}function $r(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const ME={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function NE(a){return(ME[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}var $s=Symbol("verified"),OE=a=>a instanceof Object;function Bv(a){if(!OE(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let u=0;u<l.length;u++)if(typeof l[u]!="string")return!1}return!0}new TextDecoder("utf-8");var kE=new TextEncoder,RE=class{generateSecretKey(){return Bi.utils.randomPrivateKey()}getPublicKey(a){return je(Bi.getPublicKey(a))}finalizeEvent(a,s){const l=a;return l.pubkey=je(Bi.getPublicKey(s)),l.id=tc(l),l.sig=je(Bi.sign(tc(l),s)),l[$s]=!0,l}verifyEvent(a){if(typeof a[$s]=="boolean")return a[$s];const s=tc(a);if(s!==a.id)return a[$s]=!1,!1;try{const l=Bi.verify(a.sig,s,a.pubkey);return a[$s]=l,l}catch{return a[$s]=!1,!1}}};function Dv(a){if(!Bv(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function tc(a){let s=ds(kE.encode(Dv(a)));return je(s)}var Tc=new RE,jv=Tc.generateSecretKey,BE=Tc.getPublicKey,Uv=Tc.finalizeEvent;Tc.verifyEvent;const DE=Object.freeze(Object.defineProperty({__proto__:null,finalizeEvent:Uv,generateSecretKey:jv,getEventHash:tc,getPublicKey:BE,serializeEvent:Dv,validateEvent:Bv,verifiedSymbol:$s},Symbol.toStringTag,{value:"Module"})),jE=({status:a,setStatus:s,location:l,vehicleType:u,setOpenSpots:d,parkLocation:p,setParkLocation:_})=>{const{pubkey:b,pool:v,signEvent:x}=no(),[T,A]=X.useState(!1),[N,R]=X.useState("0"),[Z,M]=X.useState("USD"),[D,U]=X.useState("$"),[$,W]=X.useState(null);X.useEffect(()=>{if(a==="search"&&l){const rt=CE(l[0],l[1],5);console.log("[Parlens] Starting real-time subscription for spots in geohashes:",rt);const F=Math.floor(Date.now()/1e3),lt=xt=>{const mt=Math.floor(Date.now()/1e3);console.log("[Parlens] Received event - ID:",xt.id.substring(0,16),"Kind:",xt.kind);const vt=xt.tags.find(Ct=>Ct[0]==="expiration");if(vt&&parseInt(vt[1])<mt){console.log("[Parlens] Skipping expired spot");return}try{const Ct=xt.tags,Nt=Ct.find(I=>I[0]==="location"),at=Ct.find(I=>I[0]==="hourly_rate"),k=Ct.find(I=>I[0]==="currency"),K=Ct.find(I=>I[0]==="type");if(Nt){const[I,ft]=Nt[1].split(",").map(Number),it=K?K[1]:"car",z={id:xt.id,lat:I,lon:ft,price:at?parseFloat(at[1]):0,currency:k?k[1]:"USD",type:it};console.log("[Parlens] *** ADDING SPOT TO MAP ***",z),d(P=>P.find(st=>st.id===z.id)?P:[...P,z])}}catch(Ct){console.warn("[Parlens] Error parsing spot:",Ct)}},wt=v.subscribeMany(mi,{kinds:[ya.OPEN_SPOT_BROADCAST],"#g":rt,since:F-300},{onevent:lt,oneose:()=>{console.log("[Parlens] End of stored events (EOSE), now listening for new events...")}});return console.log("[Parlens] Real-time subscription active"),()=>{console.log("[Parlens] Closing subscription"),wt.close(),d([])}}},[a,l,u,v]),X.useEffect(()=>{const rt=localStorage.getItem("parlens_session");if(rt)try{const F=JSON.parse(rt);F.status==="parked"&&F.parkLocation&&F.sessionStart?(console.log("[Parlens] Restoring parked session:",F),W(F.sessionStart),_(F.parkLocation),s("parked")):F.status==="search"&&(console.log("[Parlens] Restoring search session"),s("search"))}catch(F){console.warn("[Parlens] Failed to restore session:",F),localStorage.removeItem("parlens_session")}},[]),X.useEffect(()=>{a==="parked"&&$&&p?localStorage.setItem("parlens_session",JSON.stringify({status:"parked",sessionStart:$,parkLocation:p})):a==="search"?localStorage.setItem("parlens_session",JSON.stringify({status:"search"})):a==="idle"&&localStorage.removeItem("parlens_session")},[a,$,p]),X.useEffect(()=>{(async()=>{const F=Rv();if(M(F),U($r(F)),l)try{const lt=await LE(l[0],l[1]);M(lt),U($r(lt))}catch{console.warn("GPS currency detection failed")}})()},[l]);const gt=async()=>{a==="idle"?s("search"):a==="search"?(W(Math.floor(Date.now()/1e3)),_([l[0],l[1]]),s("parked")):a==="parked"&&A(!0)},dt=async()=>{s("idle"),A(!1);const rt=p?p[0]:l[0],F=p?p[1]:l[1],lt=lc(rt,F,5),wt=Math.floor(Date.now()/1e3),xt=$||wt;try{const mt={status:"vacated",lat:rt,lon:F,geohash:lt,fee:N,currency:Z,started_at:xt,finished_at:wt},vt=localStorage.getItem("parlens_privkey"),Ct=vt?new Uint8Array(vt.match(/.{1,2}/g).map(st=>parseInt(st,16))):void 0,Nt=await Ov(mt,b,Ct),at={kind:ya.PARKING_LOG,content:Nt,tags:[["g",lt],["client","parlens"],["type",u],["d",`session_${xt}`]],created_at:wt,pubkey:b},k=await x(at);console.log("Publishing log:",k.id,"to",mi),await Promise.any(v.publish(mi,k)),console.log("Log published to at least one relay"),window.dispatchEvent(new Event("parking-log-updated"));const K=jv(),I=Math.max((wt-xt)/3600,.1),ft=(parseFloat(N)/I).toFixed(2),it=wt+60,z={kind:ya.OPEN_SPOT_BROADCAST,content:"",tags:[["d",`spot_${lt}_${wt}`],["g",lt],["location",`${rt},${F}`],["hourly_rate",ft],["currency",Z],["type",u],["expiration",String(it)],["client","parlens"]],created_at:wt},P=Uv(z,K);console.log("[Parlens] *** BROADCASTING OPEN SPOT ***"),console.log("[Parlens] Geohash:",lt),console.log("[Parlens] Location:",`${rt},${F}`),console.log("[Parlens] Event ID:",P.id),console.log("[Parlens] Pubkey:",P.pubkey.substring(0,20)+"..."),v.publish(mi,P),W(null),_(null)}catch(mt){console.error("Persistence error:",mt),alert("Could not save to Nostr. Check relay connections.")}};return w.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&w.jsx("button",{onClick:()=>s("idle"),className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),w.jsxs("button",{onClick:gt,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&w.jsx(oE,{size:32,strokeWidth:2.5}),a==="search"&&w.jsx(vl,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(u==="bicycle"?w.jsx("span",{className:"text-3xl",children:""}):u==="motorcycle"?w.jsx("span",{className:"text-3xl",children:""}):w.jsx("span",{className:"text-3xl",children:""}))]})]}),T&&w.jsx("div",{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:w.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in slide-in-from-bottom-10 sm:zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[w.jsxs("div",{className:"text-center space-y-1",children:[w.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),w.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[w.jsx("span",{className:"text-2xl font-bold text-blue-500",children:D}),w.jsx("input",{type:"number",value:N,onChange:rt=>R(rt.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),w.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:Z})]}),w.jsxs("div",{className:"flex flex-col gap-1.5",children:[w.jsx("button",{onClick:()=>R(String(Math.max(0,parseFloat(N||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(BS,{size:22,className:"text-zinc-600 dark:text-white/70"})}),w.jsx("button",{onClick:()=>R(String(Math.max(0,parseFloat(N||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(yl,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),w.jsxs("div",{className:"w-full space-y-3",children:[w.jsxs("button",{onClick:dt,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",w.jsx(LS,{size:20})]}),w.jsx("button",{onClick:()=>A(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function UE(){const{pool:a,pubkey:s}=no(),[l,u]=X.useState([]),[d,p]=X.useState(!0),_=X.useCallback(async()=>{if(s){p(!0),console.log("[useParkingLogs] Manual fetch for",s);try{const b=await a.querySync(mi,{kinds:[ya.PARKING_LOG],authors:[s],limit:50});console.log("[useParkingLogs] Fetched",b.length,"events");const v=b.sort((x,T)=>T.created_at-x.created_at);u(v)}catch(b){console.error("[useParkingLogs] Fetch error:",b)}finally{p(!1)}}},[a,s]);return X.useEffect(()=>{if(!s)return;console.log("[useParkingLogs] Starting real-time subscription for",s);const b=a.subscribeMany(mi,{kinds:[ya.PARKING_LOG],authors:[s],limit:50},{onevent:v=>{console.log("[useParkingLogs] *** ONEVENT CALLED *** Event ID:",v.id.substring(0,16)),console.log("[useParkingLogs] Event created_at:",new Date(v.created_at*1e3).toISOString()),u(x=>{if(console.log("[useParkingLogs] Current logs count:",x.length),x.find(A=>A.id===v.id))return console.log("[useParkingLogs] Event already exists, skipping"),x;const T=[...x,v].sort((A,N)=>N.created_at-A.created_at);return console.log("[useParkingLogs] *** UPDATED LOGS COUNT:",T.length,"***"),T})},oneose:()=>{console.log("[useParkingLogs] EOSE - now listening for new logs. Total received so far via subscription."),p(!1)}});return()=>{console.log("[useParkingLogs] Closing subscription"),b.close()}},[a,s]),X.useEffect(()=>{const b=()=>{console.log("[useParkingLogs] Received parking-log-updated event, refetching immediately..."),_()};return window.addEventListener("parking-log-updated",b),()=>window.removeEventListener("parking-log-updated",b)},[_]),{logs:l,loading:d,refetch:_}}const HE=({setHistorySpots:a})=>{const{pubkey:s,logout:l,pool:u}=no(),{logs:d,refetch:p}=UE(),[_,b]=X.useState(!1),[v,x]=X.useState(null),[T,A]=X.useState([]),[N,R]=X.useState(!1);X.useEffect(()=>{s&&(async()=>{const D=await u.get(mi,{kinds:[0],authors:[s]});if(D)try{const U=JSON.parse(D.content);x({name:U.name||U.display_name||"Nostr User",npub:ir.npubEncode(s),picture:U.picture})}catch(U){console.error("Error parsing profile:",U)}else x({name:"Nostr User",npub:ir.npubEncode(s),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${s}`})})()},[s,u]),X.useEffect(()=>{(async()=>{if(!s||!d.length)return;const D=localStorage.getItem("parlens_privkey"),U=D?new Uint8Array(D.match(/.{1,2}/g).map(W=>parseInt(W,16))):void 0,$=await Promise.all(d.map(async W=>{try{const gt=await kv(W.content,s,U);return{...W,decryptedContent:gt}}catch{return{...W,decryptedContent:null}}}));A($.filter(W=>W.decryptedContent))})()},[d,s]),X.useEffect(()=>{a&&a(N?T:[])},[N,T,a]);const Z=()=>{const M=localStorage.getItem("parlens_privkey");if(M){const D=ir.nsecEncode(new Uint8Array(M.match(/.{1,2}/g).map(U=>parseInt(U,16))));navigator.clipboard.writeText(D),alert("Secret key copied to clipboard")}};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{p(),b(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Activity Log",children:w.jsx(US,{size:20})}),_&&w.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[w.jsx("button",{onClick:()=>b(!1),className:"absolute inset-0 z-0 cursor-default"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:v?.name||"Nostr User"}),w.jsx("button",{onClick:()=>b(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:w.jsx(Hd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),w.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[w.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{navigator.clipboard.writeText(v?.npub),alert("Public key copied")},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:w.jsx(td,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),w.jsx(oc,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),w.jsxs("div",{onClick:Z,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:w.jsx(Tv,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),w.jsx(oc,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]}),w.jsx("p",{className:"text-xs text-zinc-400 dark:text-white/30 mt-2 ml-2 leading-relaxed",children:" Store your npub and nsec securely. These are your account access keys and cannot be recovered if lost."})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&w.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:w.jsx(vl,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),w.jsx("button",{onClick:()=>R(!N),className:`w-12 h-7 rounded-full transition-colors relative ${N?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:w.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${N?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),w.jsx("div",{className:"space-y-2",children:T.length>0?T.map(M=>{const D=M.decryptedContent,U=$r(D.currency||"USD"),$=D.started_at?new Date(D.started_at*1e3):null,W=D.finished_at?new Date(D.finished_at*1e3):new Date(M.created_at*1e3),gt=D.lat&&D.lon?`${D.lat.toFixed(5)}, ${D.lon.toFixed(5)}`:null,dt=M.tags?.find(F=>F[0]==="type")?.[1]||"car",rt=dt==="bicycle"?"":dt==="motorcycle"?"":"";return w.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-2xl",children:rt}),w.jsx("p",{className:"font-bold text-xl",children:D.fee?`${U}${D.fee}`:"Free"})]}),w.jsx("span",{className:"text-2xl",children:NE(D.currency||"USD")})]}),gt&&w.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[w.jsx(vl,{size:12,className:"text-blue-500 dark:text-blue-400"}),w.jsx("span",{className:"font-mono",children:gt})]}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[w.jsx(Ev,{size:12,className:"text-green-500 dark:text-green-400"}),w.jsxs("div",{className:"space-x-1",children:[$&&w.jsxs("span",{children:["Start: ",$.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",$.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),w.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),w.jsxs("span",{children:["End: ",W.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},M.id)}):w.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:w.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),w.jsx("button",{onClick:()=>{l(),b(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout Session"})]})]})]})},PE=({vehicleType:a,onRouteChange:s,currentLocation:l,onDropPinModeChange:u,pendingDropPin:d,onDropPinConsumed:p,onOpenChange:_})=>{const{pool:b,pubkey:v,signEvent:x}=no(),[T,A]=X.useState(!1);X.useEffect(()=>{_?.(T)},[T,_]);const[N,R]=X.useState([]),[Z,M]=X.useState(""),[D,U]=X.useState(!1),[$,W]=X.useState(null),[gt,dt]=X.useState(null),[rt,F]=X.useState(!1),lt=X.useRef(null),[wt,xt]=X.useState([]),[mt,vt]=X.useState(""),[Ct,Nt]=X.useState(!1),[at,k]=X.useState(!1),[K,I]=X.useState(!1),[ft,it]=X.useState(!1),[z,P]=X.useState(null),[st,ot]=X.useState(""),[ht,ct]=X.useState(!1),Mt=hl.useMemo(()=>{if(!Z||Z.length<2)return[];const yt=Z.toLowerCase(),ut=[];for(const Et of wt)for(const _t of Et.decryptedContent.waypoints)_t.name.toLowerCase().includes(yt)&&(ut.find(Ot=>Ot.name.toLowerCase()===_t.name.toLowerCase())||ut.push({name:_t.name,lat:_t.lat,lon:_t.lon}));return ut.slice(0,5)},[Z,wt]),Xt=yt=>{R(ut=>ut.filter(Et=>Et.id!==yt)),W(null),dt(null),U(!1),s(null,null,null,!1)},Pt=()=>{R([]),W(null),dt(null),U(!1),s(null,null,null,!1)},xe=async()=>{if(N.length<2){alert("Add at least 2 waypoints to create a route");return}F(!0);try{const ut={bicycle:"cycling",motorcycle:"driving",car:"driving"}[a],Et=[],_t=[];for(let Qt=0;Qt<N.length-1;Qt++){const ce=N[Qt],qe=N[Qt+1],ge=`${ce.lon},${ce.lat};${qe.lon},${qe.lat}`;console.log(`[Parlens] Fetching segment ${Qt+1}: ${ce.name}  ${qe.name}`);const ei=await fetch(`https://router.project-osrm.org/route/v1/${ut}/${ge}?overview=full&geometries=geojson&alternatives=true`);if(!ei.ok)throw new Error(`OSRM error: ${ei.status}`);const nn=await ei.json();if(nn.routes&&nn.routes[0]){const un=nn.routes[0].geometry.coordinates.map(gi=>[gi[1],gi[0]]);if(Et.push(un),nn.routes.length>1){const gi=nn.routes[1].geometry.coordinates.map(Ln=>[Ln[1],Ln[0]]);_t.push(gi),console.log(`[Parlens] Segment ${Qt+1} has alternate route`)}else _t.push(un),console.log(`[Parlens] Segment ${Qt+1} has no alternate, using primary`)}else throw new Error(`No route found for segment ${Qt+1}`)}const Ot=[],Tt=[];for(let Qt=0;Qt<Et.length;Qt++){const ce=Qt===0?0:1;Ot.push(...Et[Qt].slice(ce)),Tt.push(..._t[Qt].slice(ce))}console.log("[Parlens] Combined primary route:",Ot.length,"points"),console.log("[Parlens] Combined alternate route:",Tt.length,"points"),W(Ot),dt(Tt),U(!0),s(Ot,Tt,N.map(Qt=>({lat:Qt.lat,lon:Qt.lon})),!0),A(!1)}catch(yt){console.error("Route creation error:",yt);const ut=N.map(Et=>[Et.lat,Et.lon]);W(ut),dt(null),U(!0),s(ut,null,N.map(Et=>({lat:Et.lat,lon:Et.lon})),!0),A(!1)}finally{F(!1)}},en=()=>{const yt=!D;U(yt),s($,gt,N.map(ut=>({lat:ut.lat,lon:ut.lon})),yt)},ue=X.useCallback(async()=>{if(!(!b||!v)){k(!0);try{const yt=await b.querySync(mi,{kinds:[ya.ROUTE_LOG],authors:[v]});console.log("[Parlens] Fetched route events:",yt.length);const ut=localStorage.getItem("parlens_privkey"),Et=ut?new Uint8Array(ut.match(/.{1,2}/g).map(Ot=>parseInt(Ot,16))):void 0,_t=[];for(const Ot of yt)if(!Ot.tags.find(Tt=>Tt[0]==="deleted")&&Ot.content)try{const Tt=await kv(Ot.content,v,Et);if(Tt){const Qt=Ot.tags.find(ce=>ce[0]==="d")?.[1]||"";_t.push({id:Ot.id,dTag:Qt,decryptedContent:Tt,created_at:Ot.created_at})}}catch(Tt){console.warn("[Parlens] Failed to decrypt route:",Tt)}_t.sort((Ot,Tt)=>Tt.created_at-Ot.created_at),xt(_t)}catch(yt){console.error("Error fetching saved routes:",yt)}finally{k(!1)}}},[b,v]);X.useEffect(()=>{T&&v&&ue()},[T,v,ue]);const Qe=()=>{const yt=!ft;it(yt),u?.(yt),yt&&A(!1)};X.useEffect(()=>{if(d){const yt={id:crypto.randomUUID(),name:`Pin ${N.length+1}`,lat:d.lat,lon:d.lon};R(ut=>[...ut,yt]),W(null),dt(null),U(!1),s(null,null,null,!1),p?.(),A(!0),it(!1),u?.(!1)}},[d]);const Ue=async()=>{if(!b||!v||!x||!$||N.length<2){alert("Please create a route first");return}const yt=mt.trim()||`Route ${new Date().toLocaleDateString()}`;Nt(!0);try{const ut={name:yt,waypoints:N.map(ge=>({name:ge.name,lat:ge.lat,lon:ge.lon})),routeCoords:$,alternateRouteCoords:gt||void 0,vehicleType:a,created_at:Math.floor(Date.now()/1e3)},Et=localStorage.getItem("parlens_privkey"),_t=Et?new Uint8Array(Et.match(/.{1,2}/g).map(ge=>parseInt(ge,16))):void 0,Ot=await Ov(ut,v,_t),Tt=`route_${Date.now()}`,Qt={kind:ya.ROUTE_LOG,created_at:Math.floor(Date.now()/1e3),tags:[["d",Tt],["client","parlens"]],content:Ot},ce=await x(Qt);console.log("[Parlens] Signed route event:",ce);const qe=await Promise.any(b.publish(mi,ce));console.log("[Parlens] Route published:",qe),vt(""),await ue(),alert("Route saved!")}catch(ut){console.error("[Parlens] Error saving route:",ut),alert("Failed to save route, try again later")}finally{Nt(!1)}},Le=(yt,ut)=>{R(Et=>Et.map(_t=>_t.id===yt?{..._t,name:ut}:_t)),P(null),ot("")},mn=yt=>{P(yt.id),ot(yt.name)},$n=async yt=>{const ut=yt.decryptedContent,Et=ut.waypoints.map(_t=>({id:crypto.randomUUID(),name:_t.name,lat:_t.lat,lon:_t.lon}));R(Et),W(ut.routeCoords),dt(ut.alternateRouteCoords||null),U(!0),I(!1),s(ut.routeCoords,ut.alternateRouteCoords||null,ut.waypoints.map(_t=>({lat:_t.lat,lon:_t.lon})),!0),A(!1)},ti=async yt=>{if(!(!b||!v||!x)&&confirm("Are you sure you want to delete this route? This action cannot be undone.")){ct(!0);try{const ut={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["e",yt.id],["a",`${ya.ROUTE_LOG}:${v}:${yt.dTag}`]],content:"Deleted by user"},Et=await x(ut);await Promise.allSettled(b.publish(mi,Et));const _t={kind:ya.ROUTE_LOG,created_at:Math.floor(Date.now()/1e3),tags:[["d",yt.dTag],["deleted","true"]],content:""},Ot=await x(_t);await Promise.allSettled(b.publish(mi,Ot)),xt(Tt=>Tt.filter(Qt=>Qt.id!==yt.id)),alert("Route deleted")}catch(ut){console.error("Error deleting route:",ut),alert("Failed to delete route")}finally{ct(!1)}}};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>A(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Create Route",children:w.jsx(iE,{size:20})}),T&&w.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[w.jsx("button",{onClick:()=>A(!1),className:"absolute inset-0 z-0 cursor-default"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[ht&&w.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),w.jsx("p",{className:"text-sm font-medium text-white",children:"Deleting..."})]})}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-cyan-500 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:"Create Route"}),w.jsx("button",{onClick:()=>A(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:w.jsx(Hd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:"Add Waypoint"}),w.jsx("div",{className:"relative",children:w.jsx("input",{ref:lt,type:"text",placeholder:"Search waypoints from saved routes",value:Z,onChange:yt=>M(yt.target.value),className:"w-full h-14 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10 px-4 text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),Mt.length>0&&w.jsxs("div",{className:"rounded-2xl overflow-hidden bg-green-50 dark:bg-green-500/10 border border-green-500/20",children:[w.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-green-700 dark:text-green-400 bg-green-100/50 dark:bg-green-500/5",children:" From your saved routes"}),Mt.map((yt,ut)=>w.jsxs("button",{onClick:()=>{const Et={id:crypto.randomUUID(),name:yt.name,lat:yt.lat,lon:yt.lon};R(_t=>[..._t,Et]),M(""),W(null),dt(null),U(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 hover:bg-green-100 dark:hover:bg-green-500/10 transition-colors text-left border-b border-green-500/10 last:border-0",children:[w.jsx(vl,{size:16,className:"text-green-600 dark:text-green-400 shrink-0"}),w.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white/80 truncate",children:yt.name})]},`saved-${ut}`))]}),l&&w.jsxs("button",{onClick:()=>{const yt={id:crypto.randomUUID(),name:"Current Location",lat:l[0],lon:l[1]};R(ut=>[...ut,yt]),W(null),dt(null),U(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-blue-500/10 dark:bg-blue-500/20 border border-blue-500/20 hover:bg-blue-500/20 transition-colors",children:[w.jsx($S,{size:16,className:"text-blue-500"}),w.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Add Current Location"})]}),w.jsxs("button",{onClick:Qe,className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-orange-500/10 dark:bg-orange-500/20 border border-orange-500/20 hover:bg-orange-500/20 transition-colors",children:[w.jsx(JS,{size:16,className:"text-orange-500"}),w.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Drop Pin on Map"})]})]}),w.jsxs("div",{className:"space-y-2 flex-1",children:[w.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:["Waypoints (",N.length,")"]}),N.length===0?w.jsx("div",{className:"p-8 text-center text-zinc-400 dark:text-white/30 text-sm",children:"No waypoints added yet."}):w.jsx("div",{className:"space-y-2",children:N.map((yt,ut)=>w.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs font-bold flex items-center justify-center shrink-0",children:ut+1}),z===yt.id?w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"text",value:st,onChange:Et=>ot(Et.target.value),className:"flex-1 text-sm bg-white dark:bg-white/10 rounded-lg px-2 py-1 text-zinc-700 dark:text-white border border-blue-500",autoFocus:!0,onKeyDown:Et=>{Et.key==="Enter"&&Le(yt.id,st),Et.key==="Escape"&&P(null)}}),w.jsx("button",{onClick:()=>Le(yt.id,st),className:"p-2 rounded-xl text-green-500 hover:bg-green-500/10 transition-colors",children:w.jsx(NS,{size:16})})]}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white font-medium truncate",children:yt.name}),w.jsx("button",{onClick:()=>mn(yt),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:w.jsx(eE,{size:14})})]}),w.jsx("button",{onClick:()=>Xt(yt.id),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:w.jsx(w0,{size:16})})]},yt.id))})]}),$&&w.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[D?w.jsx(YS,{size:20,className:"text-blue-500"}):w.jsx(GS,{size:20,className:"text-zinc-400"}),w.jsx("span",{className:"font-medium text-zinc-700 dark:text-white",children:"Show on Map"})]}),w.jsx("button",{onClick:en,className:`w-14 h-8 rounded-full transition-colors ${D?"bg-blue-500":"bg-zinc-300 dark:bg-white/20"}`,children:w.jsx("div",{className:`w-6 h-6 rounded-full bg-white shadow-md transition-transform ${D?"translate-x-7":"translate-x-1"}`})})]}),$&&v&&w.jsxs("div",{className:"space-y-3 p-4 rounded-2xl bg-green-500/5 dark:bg-green-500/10 border border-green-500/20",children:[w.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-green-600 dark:text-green-400 flex items-center gap-2",children:[w.jsx(sE,{size:14}),"Save Route"]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[w.jsx("input",{type:"text",value:mt,onChange:yt=>vt(yt.target.value),placeholder:"Route name (optional)",className:"w-full sm:flex-1 p-3 rounded-xl bg-white dark:bg-white/5 border border-black/5 dark:border-white/10 text-zinc-700 dark:text-white placeholder-zinc-400 dark:placeholder-white/40 text-sm"}),w.jsx("button",{onClick:Ue,disabled:Ct,className:"w-full sm:w-auto px-6 rounded-xl bg-green-500 text-white font-bold disabled:opacity-50 transition-all active:scale-95 py-3 sm:py-0",children:Ct?"...":"Save"})]})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:Pt,disabled:N.length===0,className:"flex-1 h-14 rounded-2xl bg-zinc-200 dark:bg-white/10 text-zinc-600 dark:text-white/70 font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:"Clear Route"}),w.jsx("button",{onClick:xe,disabled:N.length<2||rt,className:"flex-1 h-14 rounded-2xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:rt?"Creating...":"Create Route"})]}),!$&&N.length>=2&&v&&w.jsx("p",{className:"text-xs text-center text-zinc-400 dark:text-white/40",children:" Save option will appear after you create the route"}),v&&w.jsxs("div",{className:"space-y-3 border-t border-black/5 dark:border-white/10 pt-4",children:[w.jsxs("button",{onClick:()=>I(!K),className:"w-full flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(KS,{size:18,className:"text-zinc-500 dark:text-white/50"}),w.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30",children:["Saved Routes (",wt.length,")"]})]}),w.jsx("span",{className:"text-xs text-zinc-400 dark:text-white/40",children:K?"Hide":"Show"})]}),K&&w.jsx("div",{className:"space-y-2",children:at?w.jsx("div",{className:"text-center text-zinc-400 dark:text-white/40 text-sm py-4",children:"Loading..."}):wt.length===0?w.jsx("div",{className:"text-center text-zinc-400 dark:text-white/40 text-sm py-4",children:"No saved routes yet"}):wt.map(yt=>w.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[w.jsxs("button",{onClick:()=>$n(yt),className:"flex-1 text-left",children:[w.jsx("div",{className:"font-medium text-sm text-zinc-700 dark:text-white truncate",children:yt.decryptedContent.name}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[w.jsxs("span",{children:[yt.decryptedContent.waypoints.length," stops"]}),w.jsx("span",{children:""}),w.jsx(Ev,{size:12}),w.jsx("span",{children:new Date(yt.created_at*1e3).toLocaleDateString()})]})]}),w.jsx("button",{onClick:()=>ti(yt),className:"p-2 rounded-lg text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:w.jsx(w0,{size:16})})]},yt.id))})]}),w.jsx("div",{className:"p-3 rounded-xl bg-amber-500/10 dark:bg-amber-500/5 border border-amber-500/20",children:w.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400/80 leading-relaxed",children:[w.jsx("strong",{children:"Tip:"})," Use ",w.jsx("strong",{children:"Drop Pin on Map"})," and",w.jsx("strong",{children:" edit waypoint names"})," to label locations. When you ",w.jsx("strong",{children:"save routes"}),", waypoint names become searchable  building your personal offline map over time! "]})})]})]})]})};function ZE(a){return a>=17?8:a>=15?7:a>=13?6:a>=11?5:a>=9?4:3}function T0(a,s,l=!0){if(!l||a.length<2)return a;const u=ZE(s),d=new Map;for(const _ of a){const b=s>=15?`${_.lat.toFixed(4)},${_.lon.toFixed(4)}`:lc(_.lat,_.lon,u);if(d.has(b)){const v=d.get(b);v.spots.push(_),v.count++,v.minPrice=Math.min(v.minPrice,_.price),v.maxPrice=Math.max(v.maxPrice,_.price),v.lat=v.spots.reduce((x,T)=>x+T.lat,0)/v.count,v.lon=v.spots.reduce((x,T)=>x+T.lon,0)/v.count}else d.set(b,{id:`cluster-${b}`,lat:_.lat,lon:_.lon,spots:[_],minPrice:_.price,maxPrice:_.price,currency:_.currency,count:1})}const p=[];for(const _ of d.values())_.count===1?p.push(_.spots[0]):p.push(_);return p}function A0(a){return"count"in a&&a.count>1}class Zh{q;r;x;p;k;initialized=!1;constructor(s=1e-5,l=.001){this.q=s,this.r=l,this.x=0,this.p=1,this.k=0}filter(s){return this.initialized?(this.p=this.p+this.q,this.k=this.p/(this.p+this.r),this.x=this.x+this.k*(s-this.x),this.p=(1-this.k)*this.p,this.x):(this.x=s,this.initialized=!0,s)}reset(){this.initialized=!1,this.x=0,this.p=1}}class qE{latFilter;lonFilter;bearingFilter;lastBearing=0;constructor(){this.latFilter=new Zh(1e-5,1e-4),this.lonFilter=new Zh(1e-5,1e-4),this.bearingFilter=new Zh(.1,.5)}smoothLocation(s,l){return[this.latFilter.filter(s),this.lonFilter.filter(l)]}smoothBearing(s,l){if(l<2)return null;let u=(s%360+360)%360;if(this.lastBearing!==0){const _=u-this.lastBearing;_>180&&(u-=360),_<-180&&(u+=360)}const p=(this.bearingFilter.filter(u)%360+360)%360;return this.lastBearing=p,p}reset(){this.latFilter.reset(),this.lonFilter.reset(),this.bearingFilter.reset(),this.lastBearing=0}}class GE{currentRotation=0;lastRawBearing=0;initialized=!1;setBearing(s){const l=(s%360+360)%360;if(!this.initialized)return this.currentRotation=l,this.lastRawBearing=l,this.initialized=!0,this.currentRotation;let u=l-this.lastRawBearing;return u>180?u-=360:u<-180&&(u+=360),this.currentRotation+=u,this.lastRawBearing=l,this.currentRotation}getCurrentRotation(){return this.currentRotation}reset(){this.currentRotation=0,this.lastRawBearing=0,this.initialized=!1}}const VE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",IE=_a.icon({iconUrl:VE,shadowUrl:YE,iconSize:[25,41],iconAnchor:[12,41]});_a.Marker.prototype.options.icon=IE;const KE=({location:a,bearing:s})=>{const l=`
           <div style="transform: rotate(${s}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,u=_a.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return w.jsx(io,{position:a,icon:u,zIndexOffset:1e3})},QE=({location:a,vehicleType:s,bearing:l,orientationMode:u})=>{const _=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)); transform: rotate(${u==="auto"?l:0}deg);">${s==="bicycle"?"":s==="motorcycle"?"":""}</div>`,b=_a.divIcon({className:"active-session-marker",html:_,iconSize:[40,40],iconAnchor:[20,20]});return w.jsx(io,{position:a,icon:b})},XE=X.memo(({spot:a,bearing:s,orientationMode:l})=>{const d=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                
             </div>
             <div style="background: #34C759; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${a.price>0?`${a.currency==="USD"?"$":a.currency}${a.price.toFixed(2)}/hr`:"Free"}
             </div>
        </div>
    `,p=_a.divIcon({className:"spot-marker",html:d,iconSize:[60,60],iconAnchor:[30,45]});return w.jsx(io,{position:[a.lat,a.lon],icon:p})}),FE=({spot:a,bearing:s,orientationMode:l})=>{const u=a.decryptedContent;if(!u||!u.lat||!u.lon)return null;const p=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); opacity: 0.7;">
                
             </div>
             <div style="background: #8E8E93; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${u.fee?`${$r(u.currency||"USD")}${u.fee}`:"Free"}
             </div>
        </div>
    `,_=_a.divIcon({className:"history-marker",html:p,iconSize:[60,60],iconAnchor:[30,45]});return w.jsx(io,{position:[u.lat,u.lon],icon:_})},z0=({cluster:a,type:s,bearing:l,orientationMode:u})=>{const d=s==="open"?"":"",p=s==="open"?"#34C759":"#8E8E93",_=u==="auto"?l:0,b=a.minPrice===a.maxPrice?a.minPrice>0?`${$r(a.currency)}${a.minPrice}`:"Free":`${$r(a.currency)}${a.minPrice}-${a.maxPrice}`,v=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 70px; transform: rotate(${_}deg);">
             <div style="font-size: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); position: relative;">
                ${d}
                <div style="position: absolute; top: -5px; right: -5px; background: ${p}; color: white; font-size: 10px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                    ${a.count}
                </div>
             </div>
             <div style="background: ${p}; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${b}
             </div>
        </div>
    `,x=_a.divIcon({className:"cluster-marker",html:v,iconSize:[70,60],iconAnchor:[35,45]});return w.jsx(io,{position:[a.lat,a.lon],icon:x})},JE=({onZoomChange:a})=>{const s=Yd({zoomend:()=>{a(s.getZoom())}});return X.useEffect(()=>{a(s.getZoom())},[]),null},WE=({enabled:a,onDropPin:s})=>(Yd({click:l=>{a&&s(l.latlng.lat,l.latlng.lng)}}),null),$E=({location:a,bearing:s,cumulativeRotation:l,orientationMode:u,setOrientationMode:d,shouldRecenter:p,setShouldRecenter:_,setNeedsRecenter:b,routeBounds:v,setRouteBounds:x})=>{const T=Nv(),A=X.useRef(!1),N=X.useRef(!1);return Yd({dragstart:()=>{A.current=!0,u!=="fixed"&&d("fixed"),b(!0)},zoomstart:()=>{N.current||(A.current=!0,u!=="fixed"&&d("fixed"),b(!0))},dragend:()=>{A.current=!1},zoomend:()=>{A.current=!1,N.current=!1},moveend:()=>{N.current=!1}}),X.useEffect(()=>{T.invalidateSize();const R=[setTimeout(()=>T.invalidateSize(),100),setTimeout(()=>T.invalidateSize(),300),setTimeout(()=>T.invalidateSize(),500),setTimeout(()=>T.invalidateSize(),1e3)];return()=>R.forEach(Z=>clearTimeout(Z))},[T]),X.useEffect(()=>{v&&(T.fitBounds(v,{padding:[50,50],animate:!0}),x(null))},[v,T,x]),X.useEffect(()=>{p&&a&&(T.setView(a,17,{animate:!0}),_(!1))},[p,a,T,_]),X.useEffect(()=>{const R=()=>{window.dispatchEvent(new CustomEvent("map-user-interaction"))};return T.on("dragend",R),()=>{T.off("dragend",R)}},[T]),X.useEffect(()=>{const R=T.getContainer();u==="auto"?(R.style.width="300%",R.style.height="300%",R.style.top="-100%",R.style.left="-100%"):(R.style.transform="rotate(0deg)",document.documentElement.style.setProperty("--map-rotation","0deg"),R.style.width="100%",R.style.height="100%",R.style.top="0",R.style.left="0"),R.style.position="absolute",setTimeout(()=>T.invalidateSize(),50)},[u,T]),X.useEffect(()=>{if(u==="auto"){const R=T.getContainer();requestAnimationFrame(()=>{R.style.transition="transform 0.3s linear",R.style.transformOrigin="center center",R.style.transform=`rotate(${-l}deg)`,document.documentElement.style.setProperty("--map-rotation",`${s}deg`)})}},[l,s,u,T]),X.useEffect(()=>{if(a&&(u==="auto"||u==="recentre")){const R=T.getZoom();Math.abs(R-17)>.5&&(N.current=!0,T.flyTo(a,17,{animate:!0,duration:1.5}))}},[u,T]),X.useEffect(()=>{!A.current&&a&&(u==="auto"||u==="recentre")&&(N.current=!0,T.panTo(a,{animate:!0,duration:.3}))},[a,u,T]),X.useEffect(()=>{if(u==="fixed"&&p&&a){const R=T.getZoom();Math.abs(R-17)>.5?(N.current=!0,T.flyTo(a,17,{animate:!0,duration:1.5})):(N.current=!0,T.panTo(a,{animate:!0,duration:.5}))}},[u,p,a,T]),X.useEffect(()=>{const R=()=>{setTimeout(()=>{T.invalidateSize()},100)};return window.addEventListener("resize",R),window.addEventListener("orientationchange",R),window.visualViewport&&window.visualViewport.addEventListener("resize",R),()=>{window.removeEventListener("resize",R),window.removeEventListener("orientationchange",R),window.visualViewport&&window.visualViewport.removeEventListener("resize",R)}},[T]),null},tT=()=>{const[a,s]=X.useState(null),[l,u]=X.useState(null),[d,p]=X.useState(0),[_,b]=X.useState("idle"),[v,x]=X.useState("fixed"),[T,A]=X.useState(!1),[N,R]=X.useState(()=>{const ut=localStorage.getItem("parlens_vehicle_type");return ut==="bicycle"||ut==="motorcycle"||ut==="car"?ut:"car"}),[Z,M]=X.useState([]),[D,U]=X.useState([]),[$,W]=X.useState(null),[gt,dt]=X.useState(!1),[rt,F]=X.useState(!1),[lt,wt]=X.useState(17),[xt]=X.useState(!1),[mt,vt]=X.useState(!1),[Ct,Nt]=X.useState(null),[at,k]=X.useState(null),[K,I]=X.useState(null),[ft,it]=X.useState(!1),[z,P]=X.useState(null),[st,ot]=X.useState(!1),[ht,ct]=X.useState(null),Mt=(ut,Et,_t,Ot)=>{if(Nt(ut),k(Et),I(_t),it(Ot),ut&&ut.length>1&&Ot){const Tt=_a.latLngBounds(ut);P(Tt)}};X.useEffect(()=>{const ut=setInterval(()=>{const Et=Math.floor(Date.now()/1e3);M(_t=>{const Ot=_t.filter(Tt=>!Tt.expiresAt||Tt.expiresAt>Et);return Ot.length!==_t.length&&console.log("[Parlens] Expired",_t.length-Ot.length,"spots"),Ot.length!==_t.length?Ot:_t})},1e4);return()=>clearInterval(ut)},[]),X.useEffect(()=>{const ut=()=>F(!0);return window.addEventListener("map-user-interaction",ut),()=>window.removeEventListener("map-user-interaction",ut)},[]);const[Xt,Pt]=X.useState(!1);X.useEffect(()=>{const ut=window.matchMedia("(prefers-color-scheme: dark)");Pt(ut.matches);const Et=_t=>Pt(_t.matches);return ut.addEventListener("change",Et),()=>ut.removeEventListener("change",Et)},[]);const xe=X.useRef(null),en=X.useRef(new qE),ue=X.useRef(new GE),[Qe,Ue]=X.useState(0);X.useEffect(()=>{if("geolocation"in navigator){const ut=setTimeout(()=>{a||u("Unable to get location. Please enable location permissions in your browser/device settings.")},1e4);let Et=0,_t=0,Ot=0;return xe.current=navigator.geolocation.watchPosition(Tt=>{const{latitude:Qt,longitude:ce,heading:qe,speed:ge,accuracy:ei}=Tt.coords,nn=Date.now(),un=ge||0,[gi,Ln]=en.current.smoothLocation(Qt,ce),Me=Math.abs(Qt-_t)*111e3,pn=Math.abs(ce-Ot)*111e3*Math.cos(Qt*(Math.PI/180)),Xe=Math.sqrt(Me*Me+pn*pn),Hi=Math.min(ei||10,30)/10,ao=(un>10?6:un>5?4:2)*Hi,Pi=un>10?1500:2500;if((Xe>ao||nn-Et>Pi)&&(s([gi,Ln]),_t=Qt,Ot=ce,Et=nn),u(null),qe!==null&&!isNaN(qe)&&un>2){const ni=en.current.smoothBearing(qe,un);if(ni!==null){const Zi=ue.current.setBearing(ni);Ue(Zi),p(ni)}}},Tt=>{console.error("Location error:",Tt),Tt.code===Tt.PERMISSION_DENIED?u("Location permission denied. Please enable location access in your browser settings."):Tt.code===Tt.POSITION_UNAVAILABLE?u("Location unavailable. Please check your device's GPS settings."):Tt.code===Tt.TIMEOUT&&u("Location request timed out. Please try again.")},{enableHighAccuracy:!0,maximumAge:500,timeout:15e3}),()=>{clearTimeout(ut),xe.current!==null&&navigator.geolocation.clearWatch(xe.current)}}else u("Geolocation is not supported by this browser.")},[a]);const Le=X.useRef(null),[mn,$n]=X.useState(!1),ti=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()==="granted")return $n(!1),Le.current&&window.addEventListener("deviceorientation",Le.current,!0),!0}catch(ut){console.error("Error requesting device orientation permission:",ut)}return!1};X.useEffect(()=>{let ut=0,Et=0;const _t=ce=>{const qe=Date.now();let ge=0;ce.webkitCompassHeading!==void 0?ge=ce.webkitCompassHeading:ce.alpha!==null&&(ge=360-ce.alpha);const ei=Math.abs(ge-Et),nn=qe-ut;if(ei>3||nn>100){Et=ge,ut=qe,p(ge);const un=ue.current.setBearing(ge);Ue(un)}};Le.current=_t;const Ot=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function"){$n(!0);return}window.addEventListener("deviceorientation",_t,!0)},Tt=async()=>{document.visibilityState==="visible"&&(typeof DeviceOrientationEvent.requestPermission=="function"?$n(!0):Le.current&&window.addEventListener("deviceorientation",Le.current,!0))};document.addEventListener("visibilitychange",Tt);const Qt=setTimeout(Ot,500);return()=>{clearTimeout(Qt),document.removeEventListener("visibilitychange",Tt),Le.current&&window.removeEventListener("deviceorientation",Le.current,!0)}},[]);const yt=ut=>{if(_!=="idle"){alert("Please end your current session before changing vehicle type.");return}R(ut),localStorage.setItem("parlens_vehicle_type",ut)};return a?w.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[st&&w.jsx("div",{className:"absolute top-0 left-0 right-0 z-[1000] bg-orange-500 text-white py-3 px-4 text-center font-medium shadow-lg animate-pulse",children:" Tap anywhere on the map to drop a pin"}),w.jsx("div",{className:"absolute inset-0",children:w.jsxs(AE,{center:a,zoom:17,zoomControl:!1,className:"absolute inset-0",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[w.jsx(zE,{url:Xt?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO",keepBuffer:12,updateWhenIdle:!1}),w.jsx(JE,{onZoomChange:wt}),w.jsx(WE,{enabled:st,onDropPin:(ut,Et)=>ct({lat:ut,lon:Et})}),D.length>0&&(()=>{const Et=D.filter(Ot=>(Ot.decryptedContent?.type||"car")===N).map(Ot=>{const Tt=Ot.decryptedContent;return Tt&&Tt.lat&&Tt.lon?{id:Ot.id,lat:Tt.lat,lon:Tt.lon,price:parseFloat(Tt.fee)||0,currency:Tt.currency||"USD",original:Ot}:null}).filter(Boolean);return T0(Et,lt).map(Ot=>A0(Ot)?w.jsx(z0,{cluster:Ot,type:"history",bearing:d,orientationMode:v},Ot.id):w.jsx(FE,{spot:Ot.original||Ot,bearing:d,orientationMode:v},Ot.id))})(),_==="search"&&Z.length>0&&(()=>{const ut=Z.map(_t=>({id:_t.id,lat:_t.lat,lon:_t.lon,price:_t.price,currency:_t.currency,original:_t}));return T0(ut,lt).map(_t=>A0(_t)?w.jsx(z0,{cluster:_t,type:"open",bearing:d,orientationMode:v},_t.id):w.jsx(XE,{spot:_t.original||_t,bearing:d,orientationMode:v},_t.id))})(),_==="parked"&&$&&w.jsx(QE,{location:$,vehicleType:N,bearing:d,orientationMode:v}),ft&&at&&at.length>1&&w.jsx(E0,{positions:at,color:"#007AFF",weight:3,opacity:.4,dashArray:"8, 8"}),ft&&Ct&&Ct.length>1&&w.jsx(E0,{positions:Ct,color:"#007AFF",weight:4,opacity:.9}),ft&&K&&K.map((ut,Et)=>w.jsx(io,{position:[ut.lat,ut.lon],icon:_a.divIcon({className:"waypoint-marker",html:`<div style="width: 20px; height: 20px; background: #007AFF; border: 2px solid white; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: bold;">${Et+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})},`waypoint-${Et}`)),w.jsx(KE,{location:a,bearing:d}),w.jsx($E,{location:a,bearing:d,cumulativeRotation:Qe,orientationMode:v,setOrientationMode:x,shouldRecenter:gt,setShouldRecenter:dt,setNeedsRecenter:F,routeBounds:z,setRouteBounds:P})]})}),w.jsxs("div",{className:"absolute z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",left:"max(1rem, env(safe-area-inset-left))"},children:[w.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[w.jsx("button",{onClick:()=>yt("bicycle"),className:`p-2.5 rounded-full transition-all ${N==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:w.jsx("span",{className:"text-xl",children:""})}),w.jsx("button",{onClick:()=>yt("motorcycle"),className:`p-2.5 rounded-full transition-all ${N==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:w.jsx("span",{className:"text-xl",children:""})}),w.jsx("button",{onClick:()=>yt("car"),className:`p-2.5 rounded-full transition-all ${N==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:w.jsx("span",{className:"text-xl",children:""})})]}),w.jsx("button",{onClick:()=>A(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:w.jsx(x0,{size:20})})]}),w.jsxs("div",{className:"absolute z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",right:"max(1rem, env(safe-area-inset-right))"},children:[w.jsx("button",{onClick:async()=>{if(mn){await ti();return}rt?(dt(!0),F(!1)):(x(ut=>ut==="fixed"?"recentre":"fixed"),dt(!0))},className:`h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg ${mn?"bg-orange-500/20 border-orange-500/50 text-orange-500 dark:text-orange-400 animate-pulse":v==="recentre"?"bg-green-500/20 border-green-500/50 text-green-500 dark:text-green-400":rt?"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-400 dark:text-white/40":"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70"}`,children:v==="recentre"?w.jsx(vl,{size:20}):w.jsx(ZS,{size:20})}),w.jsx(PE,{vehicleType:N,onRouteChange:Mt,currentLocation:a,onDropPinModeChange:ot,pendingDropPin:ht,onDropPinConsumed:()=>ct(null),onOpenChange:vt}),w.jsx(HE,{setHistorySpots:U}),w.jsx(jE,{status:_,setStatus:b,location:a,vehicleType:N,setOpenSpots:M,parkLocation:$,setParkLocation:W})]}),T&&w.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl pt-2 px-4 pb-4 animate-in fade-in",children:[w.jsx("button",{onClick:()=>A(!1),className:"absolute inset-0 z-0 cursor-default"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] border border-black/5 dark:border-white/5 shadow-2xl p-6 space-y-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar transition-colors",children:[w.jsx("button",{onClick:()=>A(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:w.jsx(Hd,{size:20,className:"text-black/60 dark:text-white/60"})}),w.jsxs("div",{className:"text-center space-y-2 pt-4",children:[w.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:w.jsx(x0,{size:32})}),w.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),w.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5",children:[w.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors rounded-2xl",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Browser Menu (Android)"}),w.jsx(yl,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),w.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[w.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add to Home screen"})]}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add"})," to confirm"]})]}),w.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Install"})]})]})]})]}),w.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5",children:[w.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors rounded-2xl",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Share Button (iOS)"}),w.jsx(yl,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),w.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsxs("li",{children:["Tap the ",w.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),w.jsxs("li",{children:["Scroll down and tap ",w.jsx("strong",{children:"Add to Home Screen"}),"."]}),w.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),w.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Plan your route (optional)"}),"Tap the route button to add waypoints and create a route. Your path will display on the map as you travel."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Search for spots"}),"Click the main button once to see open spots reported by others."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. Park & end session"}),"Click again to mark your location. When leaving, click once more to end the session and report the fee. Note that there is a 5-minute cool-off period after parking before you can search again."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"5. View history"}),"Use the profile button to see your parking history."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"6. Secure your keys"}),"Copy and store your npub (public key) and nsec (secret key) from the profile section. These are your account access keys and cannot be recovered if lost."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"7. User privacy"}),"Parlens does not collect or share any user data. Your log and route data is encrypted by your keys and only accessible by you. Open spot broadcasts are ephemeral and not linked to any personal identifiers."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"8. Create your own mirror"}),w.jsx("a",{href:"https://github.com/prasannawarrier/parlens-pwa/blob/main/MIRROR_CREATION.md",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Follow these steps"})," to create your own mirror of the Parlens app to distribute the load and share with your friends."]})]})]})]}),_==="search"&&!xt&&!mt&&w.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:w.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5 whitespace-nowrap min-w-max",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),w.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),_==="parked"&&!xt&&!mt&&w.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:w.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[w.jsx("span",{className:"text-lg",children:N==="bicycle"?"":N==="motorcycle"?"":""}),w.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50 dark:bg-black",children:w.jsx("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700 px-8 max-w-sm text-center",children:l?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:w.jsx("span",{className:"text-2xl",children:""})}),w.jsx("p",{className:"text-sm font-medium text-red-500 dark:text-red-400",children:l}),w.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-6 py-2 rounded-full bg-blue-500 text-white text-sm font-medium active:scale-95 transition-transform",children:"Try Again"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),w.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})})},eT=()=>{const{login:a}=no(),[s,l]=X.useState(""),[u,d]=X.useState(""),[p,_]=X.useState(!1),[b,v]=X.useState("landing"),[x,T]=X.useState(""),[A,N]=X.useState(null),R=async U=>{_(!0),d("");try{await a(U,U==="nsec"?s:void 0)}catch($){d($.message)}finally{_(!1)}},Z=()=>{v("setup")},M=async()=>{if(!x.trim()){d("Please enter a username");return}_(!0);try{const{generateSecretKey:U,getPublicKey:$}=await _b(async()=>{const{generateSecretKey:lt,getPublicKey:wt}=await Promise.resolve().then(()=>DE);return{generateSecretKey:lt,getPublicKey:wt}},void 0),W=lt=>Array.from(lt).map(wt=>wt.toString(16).padStart(2,"0")).join(""),gt=U(),dt=$(gt);localStorage.setItem("parlens_privkey",W(gt)),localStorage.setItem("parlens_pubkey",dt),localStorage.setItem("parlens_pending_username",x);const rt=ir.npubEncode(dt),F=ir.nsecEncode(gt);N({npub:rt,nsec:F}),v("backup")}catch(U){d(U.message)}finally{_(!1)}},D=async()=>{_(!0);try{const U=localStorage.getItem("parlens_pending_username");await a("create",void 0,U||x),localStorage.removeItem("parlens_pending_username")}catch(U){d(U.message)}finally{_(!1)}};return w.jsx("div",{className:"min-h-screen bg-black p-6 text-white text-center overflow-y-auto no-scrollbar flex flex-col items-center justify-center",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:w.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("img",{src:"/parlens-pwa/pwa-512x512.png",alt:"Parlens",className:"mx-auto h-24 w-24 rounded-[22%] shadow-2xl shadow-[#007AFF]/20"}),w.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),w.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Peer-to-Peer Parking Management"})]}),w.jsxs("div",{className:"space-y-4",children:[b==="landing"?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:Z,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":w.jsxs(w.Fragment,{children:[w.jsx(fE,{size:20,strokeWidth:3}),"Create a New Account"]})}),w.jsxs("button",{onClick:()=>v("nsec"),disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold text-lg shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[w.jsx(td,{size:18}),"Login with Secret Key"]})]}):b==="setup"?w.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[w.jsxs("div",{className:"text-center pb-2",children:[w.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),w.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),w.jsx("input",{type:"text",placeholder:"Username",value:x,onChange:U=>T(U.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>v("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),w.jsx("button",{onClick:M,disabled:p||!x,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):b==="backup"?w.jsxs("div",{className:"space-y-6 pt-4 animate-in slide-in-from-right-4 text-left",children:[w.jsxs("div",{className:"text-center pb-2",children:[w.jsx("h3",{className:"text-xl font-bold",children:" Account Created!"}),w.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Back up your keys before continuing"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-white/30 ml-2",children:"Your Keys"}),w.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-white/[0.03] border border-white/10",children:[w.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{A&&(navigator.clipboard.writeText(A.npub),alert("Public Key copied to clipboard"))},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/20 text-blue-400",children:w.jsx(td,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Public Key (Npub)"})]}),w.jsx(oc,{size:18,className:"text-white/20"})]}),w.jsx("div",{className:"h-[1px] bg-white/5 mx-4"}),w.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{A&&(navigator.clipboard.writeText(A.nsec),alert("Secret Key copied to clipboard - keep this safe!"))},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/20 text-red-500",children:w.jsx(Tv,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Secret Key (Nsec)"})]}),w.jsx(oc,{size:18,className:"text-white/20"})]})]}),w.jsx("p",{className:"text-xs text-white/30 mt-2 ml-2 leading-relaxed text-center",children:" Store these keys securely. They cannot be recovered if lost."})]}),w.jsx("button",{onClick:D,disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:p?"Starting...":"Start Using Parlens"})]}):w.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[w.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:s,onChange:U=>l(U.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>v("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),w.jsx("button",{onClick:()=>R("nsec"),disabled:p||!s,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),u&&w.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:u}),w.jsxs("div",{className:"space-y-3 pt-6 border-t border-white/10",children:[w.jsx("h3",{className:"text-center font-bold text-white/70 text-sm",children:"Add to your homescreen for fullscreen experience"}),w.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[w.jsxs("button",{onClick:()=>{document.getElementById("login-android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Browser Menu (Android)"}),w.jsx(yl,{size:16,className:"text-white/50"})]}),w.jsxs("div",{id:"login-android-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:[w.jsx("p",{className:"font-semibold text-white/80",children:"Chrome & Brave:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add to Home screen"})]}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add"})," to confirm"]})]}),w.jsx("p",{className:"font-semibold text-white/80 mt-3",children:"Firefox:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Install"})]})]})]})]}),w.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[w.jsxs("button",{onClick:()=>{document.getElementById("login-ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Share Button (iOS)"}),w.jsx(yl,{size:16,className:"text-white/50"})]}),w.jsx("div",{id:"login-ios-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsxs("li",{children:["Tap the ",w.jsx("strong",{className:"text-white/80",children:"Share"})," button in Safari menu bar."]}),w.jsxs("li",{children:["Scroll down and tap ",w.jsx("strong",{className:"text-white/80",children:"Add to Home Screen"}),"."]}),w.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]})]})]})})},nT=()=>{const{pubkey:a}=no();return a?w.jsx(tT,{}):w.jsx(eT,{})};var Ac=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iT={setTimeout:(a,s)=>setTimeout(a,s),clearTimeout:a=>clearTimeout(a),setInterval:(a,s)=>setInterval(a,s),clearInterval:a=>clearInterval(a)},aT=class{#t=iT;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,s){return this.#t.setTimeout(a,s)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,s){return this.#t.setInterval(a,s)}clearInterval(a){this.#t.clearInterval(a)}},ed=new aT;function sT(a){setTimeout(a,0)}var zc=typeof window>"u"||"Deno"in globalThis;function di(){}function rT(a,s){return typeof a=="function"?a(s):a}function oT(a){return typeof a=="number"&&a>=0&&a!==1/0}function lT(a,s){return Math.max(a+(s||0)-Date.now(),0)}function nd(a,s){return typeof a=="function"?a(s):a}function uT(a,s){return typeof a=="function"?a(s):a}function C0(a,s){const{type:l="all",exact:u,fetchStatus:d,predicate:p,queryKey:_,stale:b}=a;if(_){if(u){if(s.queryHash!==Id(_,s.options))return!1}else if(!bl(s.queryKey,_))return!1}if(l!=="all"){const v=s.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof b=="boolean"&&s.isStale()!==b||d&&d!==s.state.fetchStatus||p&&!p(s))}function L0(a,s){const{exact:l,status:u,predicate:d,mutationKey:p}=a;if(p){if(!s.options.mutationKey)return!1;if(l){if(_l(s.options.mutationKey)!==_l(p))return!1}else if(!bl(s.options.mutationKey,p))return!1}return!(u&&s.state.status!==u||d&&!d(s))}function Id(a,s){return(s?.queryKeyHashFn||_l)(a)}function _l(a){return JSON.stringify(a,(s,l)=>id(l)?Object.keys(l).sort().reduce((u,d)=>(u[d]=l[d],u),{}):l)}function bl(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?Object.keys(s).every(l=>bl(a[l],s[l])):!1}var cT=Object.prototype.hasOwnProperty;function Hv(a,s){if(a===s)return a;const l=M0(a)&&M0(s);if(!l&&!(id(a)&&id(s)))return s;const d=(l?a:Object.keys(a)).length,p=l?s:Object.keys(s),_=p.length,b=l?new Array(_):{};let v=0;for(let x=0;x<_;x++){const T=l?x:p[x],A=a[T],N=s[T];if(A===N){b[T]=A,(l?x<d:cT.call(a,T))&&v++;continue}if(A===null||N===null||typeof A!="object"||typeof N!="object"){b[T]=N;continue}const R=Hv(A,N);b[T]=R,R===A&&v++}return d===_&&v===d?a:b}function M0(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function id(a){if(!N0(a))return!1;const s=a.constructor;if(s===void 0)return!0;const l=s.prototype;return!(!N0(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function N0(a){return Object.prototype.toString.call(a)==="[object Object]"}function fT(a){return new Promise(s=>{ed.setTimeout(s,a)})}function hT(a,s,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,s):l.structuralSharing!==!1?Hv(a,s):s}function dT(a,s,l=0){const u=[...a,s];return l&&u.length>l?u.slice(1):u}function mT(a,s,l=0){const u=[s,...a];return l&&u.length>l?u.slice(0,-1):u}var Kd=Symbol();function Pv(a,s){return!a.queryFn&&s?.initialPromise?()=>s.initialPromise:!a.queryFn||a.queryFn===Kd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var pT=class extends Ac{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!zc&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(s=>{s(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Zv=new pT;function gT(){let a,s;const l=new Promise((d,p)=>{a=d,s=p});l.status="pending",l.catch(()=>{});function u(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{u({status:"fulfilled",value:d}),a(d)},l.reject=d=>{u({status:"rejected",reason:d}),s(d)},l}var yT=sT;function vT(){let a=[],s=0,l=b=>{b()},u=b=>{b()},d=yT;const p=b=>{s?a.push(b):d(()=>{l(b)})},_=()=>{const b=a;a=[],b.length&&d(()=>{u(()=>{b.forEach(v=>{l(v)})})})};return{batch:b=>{let v;s++;try{v=b()}finally{s--,s||_()}return v},batchCalls:b=>(...v)=>{p(()=>{b(...v)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{u=b},setScheduler:b=>{d=b}}}var dn=vT(),_T=class extends Ac{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!zc&&window.addEventListener){const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},cc=new _T;function bT(a){return Math.min(1e3*2**a,3e4)}function qv(a){return(a??"online")==="online"?cc.isOnline():!0}var ad=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function Gv(a){let s=!1,l=0,u;const d=gT(),p=()=>d.status!=="pending",_=M=>{if(!p()){const D=new ad(M);N(D),a.onCancel?.(D)}},b=()=>{s=!0},v=()=>{s=!1},x=()=>Zv.isFocused()&&(a.networkMode==="always"||cc.isOnline())&&a.canRun(),T=()=>qv(a.networkMode)&&a.canRun(),A=M=>{p()||(u?.(),d.resolve(M))},N=M=>{p()||(u?.(),d.reject(M))},R=()=>new Promise(M=>{u=D=>{(p()||x())&&M(D)},a.onPause?.()}).then(()=>{u=void 0,p()||a.onContinue?.()}),Z=()=>{if(p())return;let M;const D=l===0?a.initialPromise:void 0;try{M=D??a.fn()}catch(U){M=Promise.reject(U)}Promise.resolve(M).then(A).catch(U=>{if(p())return;const $=a.retry??(zc?0:3),W=a.retryDelay??bT,gt=typeof W=="function"?W(l,U):W,dt=$===!0||typeof $=="number"&&l<$||typeof $=="function"&&$(l,U);if(s||!dt){N(U);return}l++,a.onFail?.(l,U),fT(gt).then(()=>x()?void 0:R()).then(()=>{s?N(U):Z()})})};return{promise:d,status:()=>d.status,cancel:_,continue:()=>(u?.(),d),cancelRetry:b,continueRetry:v,canStart:T,start:()=>(T()?Z():R().then(Z),d)}}var Vv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oT(this.gcTime)&&(this.#t=ed.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(zc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(ed.clearTimeout(this.#t),this.#t=void 0)}},xT=class extends Vv{#t;#e;#n;#a;#i;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=k0(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=k0(this.options);s.data!==void 0&&(this.setState(O0(s.data,s.dataUpdatedAt)),this.#t=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,s){const l=hT(this.state.data,a,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(a,s){this.#s({type:"setState",state:a,setStateOptions:s})}cancel(a){const s=this.#i?.promise;return this.#i?.cancel(a),s?s.then(di).catch(di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>uT(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>nd(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!lT(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(s=>s!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(a,s){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(v=>v.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=Pv(this.options,s),x=(()=>{const T={client:this.#a,queryKey:this.queryKey,meta:this.meta};return u(T),T})();return this.#o=!1,this.options.persister?this.options.persister(b,x,this):b(x)},_=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return u(b),b})();this.options.behavior?.onFetch(_,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==_.fetchOptions?.meta)&&this.#s({type:"fetch",meta:_.fetchOptions?.meta}),this.#i=Gv({initialPromise:s?.initialPromise,fn:_.fetchFn,onCancel:b=>{b instanceof ad&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,v)=>{this.#s({type:"failed",failureCount:b,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof ad){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#s({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#s(a){const s=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...wT(l.data,this.options),fetchMeta:a.meta??null};case"success":const u={...l,...O0(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?u:void 0,u;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=s(this.state),dn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function wT(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qv(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function O0(a,s){return{data:a,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function k0(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,l=s!==void 0,u=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:l?u??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function R0(a){return{onFetch:(s,l)=>{const u=s.options,d=s.fetchOptions?.meta?.fetchMore?.direction,p=s.state.data?.pages||[],_=s.state.data?.pageParams||[];let b={pages:[],pageParams:[]},v=0;const x=async()=>{let T=!1;const A=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(s.signal.aborted?T=!0:s.signal.addEventListener("abort",()=>{T=!0}),s.signal)})},N=Pv(s.options,s.fetchOptions),R=async(Z,M,D)=>{if(T)return Promise.reject();if(M==null&&Z.pages.length)return Promise.resolve(Z);const $=(()=>{const rt={client:s.client,queryKey:s.queryKey,pageParam:M,direction:D?"backward":"forward",meta:s.options.meta};return A(rt),rt})(),W=await N($),{maxPages:gt}=s.options,dt=D?mT:dT;return{pages:dt(Z.pages,W,gt),pageParams:dt(Z.pageParams,M,gt)}};if(d&&p.length){const Z=d==="backward",M=Z?ST:B0,D={pages:p,pageParams:_},U=M(u,D);b=await R(D,U,Z)}else{const Z=a??p.length;do{const M=v===0?_[0]??u.initialPageParam:B0(u,b);if(v>0&&M==null)break;b=await R(b,M),v++}while(v<Z)}return b};s.options.persister?s.fetchFn=()=>s.options.persister?.(x,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},l):s.fetchFn=x}}}function B0(a,{pages:s,pageParams:l}){const u=s.length-1;return s.length>0?a.getNextPageParam(s[u],s,l[u],l):void 0}function ST(a,{pages:s,pageParams:l}){return s.length>0?a.getPreviousPageParam?.(s[0],s,l[0],l):void 0}var ET=class extends Vv{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||TT(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(s=>s!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const s=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Gv({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,_)=>{this.#i({type:"failed",failureCount:p,error:_})},onPause:()=>{this.#i({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const u=this.state.status==="pending",d=!this.#a.canStart();try{if(u)s();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const _=await this.options.onMutate?.(a,l);_!==this.state.context&&this.#i({type:"pending",context:_,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const s=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=s(this.state),dn.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function TT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var AT=class extends Ac{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,s,l){const u=new ET({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(s),state:l});return this.add(u),u}add(a){this.#t.add(a);const s=Ju(a);if(typeof s=="string"){const l=this.#e.get(s);l?l.push(a):this.#e.set(s,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const s=Ju(a);if(typeof s=="string"){const l=this.#e.get(s);if(l)if(l.length>1){const u=l.indexOf(a);u!==-1&&l.splice(u,1)}else l[0]===a&&this.#e.delete(s)}}this.notify({type:"removed",mutation:a})}canRun(a){const s=Ju(a);if(typeof s=="string"){const u=this.#e.get(s)?.find(d=>d.state.status==="pending");return!u||u===a}else return!0}runNext(a){const s=Ju(a);return typeof s=="string"?this.#e.get(s)?.find(u=>u!==a&&u.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dn.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const s={exact:!0,...a};return this.getAll().find(l=>L0(s,l))}findAll(a={}){return this.getAll().filter(s=>L0(a,s))}notify(a){dn.batch(()=>{this.listeners.forEach(s=>{s(a)})})}resumePausedMutations(){const a=this.getAll().filter(s=>s.state.isPaused);return dn.batch(()=>Promise.all(a.map(s=>s.continue().catch(di))))}};function Ju(a){return a.options.scope?.id}var zT=class extends Ac{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,s,l){const u=s.queryKey,d=s.queryHash??Id(u,s);let p=this.get(d);return p||(p=new xT({client:a,queryKey:u,queryHash:d,options:a.defaultQueryOptions(s),state:l,defaultOptions:a.getQueryDefaults(u)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const s=this.#t.get(a.queryHash);s&&(a.destroy(),s===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){dn.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const s={exact:!0,...a};return this.getAll().find(l=>C0(s,l))}findAll(a={}){const s=this.getAll();return Object.keys(a).length>0?s.filter(l=>C0(a,l)):s}notify(a){dn.batch(()=>{this.listeners.forEach(s=>{s(a)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},CT=class{#t;#e;#n;#a;#i;#r;#o;#s;constructor(a={}){this.#t=a.queryCache||new zT,this.#e=a.mutationCache||new AT,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Zv.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=cc.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),l=this.#t.build(this,s),u=l.state.data;return u===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(nd(s.staleTime,l))&&this.prefetchQuery(s),Promise.resolve(u))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:s,state:l})=>{const u=l.data;return[s,u]})}setQueryData(a,s,l){const u=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(u.queryHash)?.state.data,_=rT(s,p);if(_!==void 0)return this.#t.build(this,u).setData(_,{...l,manual:!0})}setQueriesData(a,s,l){return dn.batch(()=>this.#t.findAll(a).map(({queryKey:u})=>[u,this.setQueryData(u,s,l)]))}getQueryState(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state}removeQueries(a){const s=this.#t;dn.batch(()=>{s.findAll(a).forEach(l=>{s.remove(l)})})}resetQueries(a,s){const l=this.#t;return dn.batch(()=>(l.findAll(a).forEach(u=>{u.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const l={revert:!0,...s},u=dn.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(u).then(di).catch(di)}invalidateQueries(a,s={}){return dn.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},s)))}refetchQueries(a,s={}){const l={...s,cancelRefetch:s.cancelRefetch??!0},u=dn.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(di)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(u).then(di)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const l=this.#t.build(this,s);return l.isStaleByTime(nd(s.staleTime,l))?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(di).catch(di)}fetchInfiniteQuery(a){return a.behavior=R0(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(di).catch(di)}ensureInfiniteQueryData(a){return a.behavior=R0(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return cc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,s){this.#a.set(_l(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...this.#a.values()],l={};return s.forEach(u=>{bl(a,u.queryKey)&&Object.assign(l,u.defaultOptions)}),l}setMutationDefaults(a,s){this.#i.set(_l(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...this.#i.values()],l={};return s.forEach(u=>{bl(a,u.mutationKey)&&Object.assign(l,u.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const s={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=Id(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Kd&&(s.enabled=!1),s}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},LT=X.createContext(void 0),MT=({client:a,children:s})=>(X.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),w.jsx(LT.Provider,{value:a,children:s}));const NT=new CT;gb.createRoot(document.getElementById("root")).render(w.jsx(hl.StrictMode,{children:w.jsx(MT,{client:NT,children:w.jsx(wS,{children:w.jsx(nT,{})})})}));
