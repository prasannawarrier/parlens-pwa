(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function ad(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wh={exports:{}},tl={};var Zg;function ab(){if(Zg)return tl;Zg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(c,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:c,key:_,ref:d!==void 0?d:null,props:p}}return tl.Fragment=s,tl.jsx=l,tl.jsxs=l,tl}var qg;function sb(){return qg||(qg=1,wh.exports=ab()),wh.exports}var E=sb(),Sh={exports:{}},Nt={};var Gg;function rb(){if(Gg)return Nt;Gg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),B=Symbol.iterator;function j(z){return z===null||typeof z!="object"?null:(z=B&&z[B]||z["@@iterator"],typeof z=="function"?z:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,Z={};function q(z,H,rt){this.props=z,this.context=H,this.refs=Z,this.updater=rt||U}q.prototype.isReactComponent={},q.prototype.setState=function(z,H){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,H,"setState")},q.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function tt(){}tt.prototype=q.prototype;function ot(z,H,rt){this.props=z,this.context=H,this.refs=Z,this.updater=rt||U}var dt=ot.prototype=new tt;dt.constructor=ot,N(dt,q.prototype),dt.isPureReactComponent=!0;var ut=Array.isArray;function st(){}var F={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function yt(z,H,rt){var lt=rt.ref;return{$$typeof:a,type:z,key:H,ref:lt!==void 0?lt:null,props:rt}}function _t(z,H){return yt(z.type,H,z.props)}function pt(z){return typeof z=="object"&&z!==null&&z.$$typeof===a}function ct(z){var H={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(rt){return H[rt]})}var vt=/\/+/g;function bt(z,H){return typeof z=="object"&&z!==null&&z.key!=null?ct(""+z.key):H.toString(36)}function X(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(st,st):(z.status="pending",z.then(function(H){z.status==="pending"&&(z.status="fulfilled",z.value=H)},function(H){z.status==="pending"&&(z.status="rejected",z.reason=H)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function M(z,H,rt,lt,ft){var ht=typeof z;(ht==="undefined"||ht==="boolean")&&(z=null);var At=!1;if(z===null)At=!0;else switch(ht){case"bigint":case"string":case"number":At=!0;break;case"object":switch(z.$$typeof){case a:case s:At=!0;break;case A:return At=z._init,M(At(z._payload),H,rt,lt,ft)}}if(At)return ft=ft(z),At=lt===""?"."+bt(z,0):lt,ut(ft)?(rt="",At!=null&&(rt=At.replace(vt,"$&/")+"/"),M(ft,H,rt,"",function(we){return we})):ft!=null&&(pt(ft)&&(ft=_t(ft,rt+(ft.key==null||z&&z.key===ft.key?"":(""+ft.key).replace(vt,"$&/")+"/")+At)),H.push(ft)),1;At=0;var Ht=lt===""?".":lt+":";if(ut(z))for(var Ut=0;Ut<z.length;Ut++)lt=z[Ut],ht=Ht+bt(lt,Ut),At+=M(lt,H,rt,ht,ft);else if(Ut=j(z),typeof Ut=="function")for(z=Ut.call(z),Ut=0;!(lt=z.next()).done;)lt=lt.value,ht=Ht+bt(lt,Ut++),At+=M(lt,H,rt,ht,ft);else if(ht==="object"){if(typeof z.then=="function")return M(X(z),H,rt,lt,ft);throw H=String(z),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return At}function I(z,H,rt){if(z==null)return z;var lt=[],ft=0;return M(z,lt,"","",function(ht){return H.call(rt,ht,ft++)}),lt}function P(z){if(z._status===-1){var H=z._result;H=H(),H.then(function(rt){(z._status===0||z._status===-1)&&(z._status=1,z._result=rt)},function(rt){(z._status===0||z._status===-1)&&(z._status=2,z._result=rt)}),z._status===-1&&(z._status=0,z._result=H)}if(z._status===1)return z._result.default;throw z._result}var mt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},W={map:I,forEach:function(z,H,rt){I(z,function(){H.apply(this,arguments)},rt)},count:function(z){var H=0;return I(z,function(){H++}),H},toArray:function(z){return I(z,function(H){return H})||[]},only:function(z){if(!pt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Nt.Activity=T,Nt.Children=W,Nt.Component=q,Nt.Fragment=l,Nt.Profiler=d,Nt.PureComponent=ot,Nt.StrictMode=c,Nt.Suspense=y,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return F.H.useMemoCache(z)}},Nt.cache=function(z){return function(){return z.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(z,H,rt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var lt=N({},z.props),ft=z.key;if(H!=null)for(ht in H.key!==void 0&&(ft=""+H.key),H)!at.call(H,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&H.ref===void 0||(lt[ht]=H[ht]);var ht=arguments.length-2;if(ht===1)lt.children=rt;else if(1<ht){for(var At=Array(ht),Ht=0;Ht<ht;Ht++)At[Ht]=arguments[Ht+2];lt.children=At}return yt(z.type,ft,lt)},Nt.createContext=function(z){return z={$$typeof:_,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:p,_context:z},z},Nt.createElement=function(z,H,rt){var lt,ft={},ht=null;if(H!=null)for(lt in H.key!==void 0&&(ht=""+H.key),H)at.call(H,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ft[lt]=H[lt]);var At=arguments.length-2;if(At===1)ft.children=rt;else if(1<At){for(var Ht=Array(At),Ut=0;Ut<At;Ut++)Ht[Ut]=arguments[Ut+2];ft.children=Ht}if(z&&z.defaultProps)for(lt in At=z.defaultProps,At)ft[lt]===void 0&&(ft[lt]=At[lt]);return yt(z,ht,ft)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(z){return{$$typeof:b,render:z}},Nt.isValidElement=pt,Nt.lazy=function(z){return{$$typeof:A,_payload:{_status:-1,_result:z},_init:P}},Nt.memo=function(z,H){return{$$typeof:x,type:z,compare:H===void 0?null:H}},Nt.startTransition=function(z){var H=F.T,rt={};F.T=rt;try{var lt=z(),ft=F.S;ft!==null&&ft(rt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(st,mt)}catch(ht){mt(ht)}finally{H!==null&&rt.types!==null&&(H.types=rt.types),F.T=H}},Nt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Nt.use=function(z){return F.H.use(z)},Nt.useActionState=function(z,H,rt){return F.H.useActionState(z,H,rt)},Nt.useCallback=function(z,H){return F.H.useCallback(z,H)},Nt.useContext=function(z){return F.H.useContext(z)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(z,H){return F.H.useDeferredValue(z,H)},Nt.useEffect=function(z,H){return F.H.useEffect(z,H)},Nt.useEffectEvent=function(z){return F.H.useEffectEvent(z)},Nt.useId=function(){return F.H.useId()},Nt.useImperativeHandle=function(z,H,rt){return F.H.useImperativeHandle(z,H,rt)},Nt.useInsertionEffect=function(z,H){return F.H.useInsertionEffect(z,H)},Nt.useLayoutEffect=function(z,H){return F.H.useLayoutEffect(z,H)},Nt.useMemo=function(z,H){return F.H.useMemo(z,H)},Nt.useOptimistic=function(z,H){return F.H.useOptimistic(z,H)},Nt.useReducer=function(z,H,rt){return F.H.useReducer(z,H,rt)},Nt.useRef=function(z){return F.H.useRef(z)},Nt.useState=function(z){return F.H.useState(z)},Nt.useSyncExternalStore=function(z,H,rt){return F.H.useSyncExternalStore(z,H,rt)},Nt.useTransition=function(){return F.H.useTransition()},Nt.version="19.2.3",Nt}var Vg;function sd(){return Vg||(Vg=1,Sh.exports=rb()),Sh.exports}var it=sd();const al=ad(it);var Eh={exports:{}},el={},Th={exports:{}},Ah={};var Yg;function ob(){return Yg||(Yg=1,(function(a){function s(M,I){var P=M.length;M.push(I);t:for(;0<P;){var mt=P-1>>>1,W=M[mt];if(0<d(W,I))M[mt]=I,M[P]=W,P=mt;else break t}}function l(M){return M.length===0?null:M[0]}function c(M){if(M.length===0)return null;var I=M[0],P=M.pop();if(P!==I){M[0]=P;t:for(var mt=0,W=M.length,z=W>>>1;mt<z;){var H=2*(mt+1)-1,rt=M[H],lt=H+1,ft=M[lt];if(0>d(rt,P))lt<W&&0>d(ft,rt)?(M[mt]=ft,M[lt]=P,mt=lt):(M[mt]=rt,M[H]=P,mt=H);else if(lt<W&&0>d(ft,P))M[mt]=ft,M[lt]=P,mt=lt;else break t}}return I}function d(M,I){var P=M.sortIndex-I.sortIndex;return P!==0?P:M.id-I.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var _=Date,b=_.now();a.unstable_now=function(){return _.now()-b}}var y=[],x=[],A=1,T=null,B=3,j=!1,U=!1,N=!1,Z=!1,q=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function dt(M){for(var I=l(x);I!==null;){if(I.callback===null)c(x);else if(I.startTime<=M)c(x),I.sortIndex=I.expirationTime,s(y,I);else break;I=l(x)}}function ut(M){if(N=!1,dt(M),!U)if(l(y)!==null)U=!0,st||(st=!0,ct());else{var I=l(x);I!==null&&X(ut,I.startTime-M)}}var st=!1,F=-1,at=5,yt=-1;function _t(){return Z?!0:!(a.unstable_now()-yt<at)}function pt(){if(Z=!1,st){var M=a.unstable_now();yt=M;var I=!0;try{t:{U=!1,N&&(N=!1,tt(F),F=-1),j=!0;var P=B;try{e:{for(dt(M),T=l(y);T!==null&&!(T.expirationTime>M&&_t());){var mt=T.callback;if(typeof mt=="function"){T.callback=null,B=T.priorityLevel;var W=mt(T.expirationTime<=M);if(M=a.unstable_now(),typeof W=="function"){T.callback=W,dt(M),I=!0;break e}T===l(y)&&c(y),dt(M)}else c(y);T=l(y)}if(T!==null)I=!0;else{var z=l(x);z!==null&&X(ut,z.startTime-M),I=!1}}break t}finally{T=null,B=P,j=!1}I=void 0}}finally{I?ct():st=!1}}}var ct;if(typeof ot=="function")ct=function(){ot(pt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,bt=vt.port2;vt.port1.onmessage=pt,ct=function(){bt.postMessage(null)}}else ct=function(){q(pt,0)};function X(M,I){F=q(function(){M(a.unstable_now())},I)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):at=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return B},a.unstable_next=function(M){switch(B){case 1:case 2:case 3:var I=3;break;default:I=B}var P=B;B=I;try{return M()}finally{B=P}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=B;B=M;try{return I()}finally{B=P}},a.unstable_scheduleCallback=function(M,I,P){var mt=a.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?mt+P:mt):P=mt,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=P+W,M={id:A++,callback:I,priorityLevel:M,startTime:P,expirationTime:W,sortIndex:-1},P>mt?(M.sortIndex=P,s(x,M),l(y)===null&&M===l(x)&&(N?(tt(F),F=-1):N=!0,X(ut,P-mt))):(M.sortIndex=W,s(y,M),U||j||(U=!0,st||(st=!0,ct()))),M},a.unstable_shouldYield=_t,a.unstable_wrapCallback=function(M){var I=B;return function(){var P=B;B=I;try{return M.apply(this,arguments)}finally{B=P}}}})(Ah)),Ah}var Kg;function lb(){return Kg||(Kg=1,Th.exports=ob()),Th.exports}var zh={exports:{}},Ie={};var Ig;function ub(){if(Ig)return Ie;Ig=1;var a=sd();function s(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var c={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(y,x,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:T==null?null:""+T,children:y,containerInfo:x,implementation:A}}var _=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Ie.createPortal=function(y,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(s(299));return p(y,x,null,A)},Ie.flushSync=function(y){var x=_.T,A=c.p;try{if(_.T=null,c.p=2,y)return y()}finally{_.T=x,c.p=A,c.d.f()}},Ie.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(y,x))},Ie.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},Ie.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var A=x.as,T=b(A,x.crossOrigin),B=typeof x.integrity=="string"?x.integrity:void 0,j=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;A==="style"?c.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:T,integrity:B,fetchPriority:j}):A==="script"&&c.d.X(y,{crossOrigin:T,integrity:B,fetchPriority:j,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ie.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var A=b(x.as,x.crossOrigin);c.d.M(y,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(y)},Ie.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var A=x.as,T=b(A,x.crossOrigin);c.d.L(y,A,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ie.preloadModule=function(y,x){if(typeof y=="string")if(x){var A=b(x.as,x.crossOrigin);c.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(y)},Ie.requestFormReset=function(y){c.d.r(y)},Ie.unstable_batchedUpdates=function(y,x){return y(x)},Ie.useFormState=function(y,x,A){return _.H.useFormState(y,x,A)},Ie.useFormStatus=function(){return _.H.useHostTransitionStatus()},Ie.version="19.2.3",Ie}var Qg;function By(){if(Qg)return zh.exports;Qg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),zh.exports=ub(),zh.exports}var Xg;function cb(){if(Xg)return el;Xg=1;var a=lb(),s=sd(),l=By();function c(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(p(t)!==t)throw Error(c(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(c(188));return e!==t?null:t}for(var i=t,o=e;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return y(f),t;if(h===o)return y(f),e;h=h.sibling}throw Error(c(188))}if(i.return!==o.return)i=f,o=h;else{for(var v=!1,S=f.child;S;){if(S===i){v=!0,i=f,o=h;break}if(S===o){v=!0,o=f,i=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===i){v=!0,i=h,o=f;break}if(S===o){v=!0,o=h,i=f;break}S=S.sibling}if(!v)throw Error(c(189))}}if(i.alternate!==o)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var T=Object.assign,B=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),_t=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function ct(t){return t===null||typeof t!="object"?null:(t=pt&&t[pt]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case q:return"Profiler";case Z:return"StrictMode";case ut:return"Suspense";case st:return"SuspenseList";case yt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ot:return t.displayName||"Context";case tt:return(t._context.displayName||"Context")+".Consumer";case dt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return e=t.displayName||null,e!==null?e:bt(t.type)||"Memo";case at:e=t._payload,t=t._init;try{return bt(t(e))}catch{}}return null}var X=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},mt=[],W=-1;function z(t){return{current:t}}function H(t){0>W||(t.current=mt[W],mt[W]=null,W--)}function rt(t,e){W++,mt[W]=t.current,t.current=e}var lt=z(null),ft=z(null),ht=z(null),At=z(null);function Ht(t,e){switch(rt(ht,e),rt(ft,t),rt(lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?cg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=cg(e),t=fg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(lt),rt(lt,t)}function Ut(){H(lt),H(ft),H(ht)}function we(t){t.memoizedState!==null&&rt(At,t);var e=lt.current,i=fg(e,t.type);e!==i&&(rt(ft,t),rt(lt,i))}function zt(t){ft.current===t&&(H(lt),H(ft)),At.current===t&&(H(At),Fo._currentValue=P)}var Mt,kt;function jt(t){if(Mt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Mt=e&&e[1]||"",kt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+t+kt}var te=!1;function gn(t,e){if(!t||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var K=Q}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(Q){K=Q}t.call(nt.prototype)}}else{try{throw Error()}catch(Q){K=Q}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var O=v.split(`
`),V=S.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===V.length)for(o=O.length-1,f=V.length-1;1<=o&&0<=f&&O[o]!==V[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==V[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==V[f]){var J=`
`+O[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{te=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?jt(i):""}function ti(t,e){switch(t.tag){case 26:case 27:case 5:return jt(t.type);case 16:return jt("Lazy");case 13:return t.child!==e&&e!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return gn(t.type,!1);case 11:return gn(t.type.render,!1);case 1:return gn(t.type,!0);case 31:return jt("Activity");default:return""}}function ei(t){try{var e="",i=null;do e+=ti(t,i),i=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pn=Object.prototype.hasOwnProperty,sa=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,pl=a.unstable_shouldYield,gl=a.unstable_requestPaint,Fe=a.unstable_now,Sc=a.unstable_getCurrentPriorityLevel,Fs=a.unstable_ImmediatePriority,Xr=a.unstable_UserBlockingPriority,$a=a.unstable_NormalPriority,Ec=a.unstable_LowPriority,Fr=a.unstable_IdlePriority,yl=a.log,Tc=a.unstable_setDisableYieldValue,ra=null,He=null;function Zn(t){if(typeof yl=="function"&&Tc(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ra,t)}catch{}}var Je=Math.clz32?Math.clz32:zc,ts=Math.log,Ac=Math.LN2;function zc(t){return t>>>=0,t===0?32:31-(ts(t)/Ac|0)|0}var es=256,ns=262144,is=4194304;function Ti(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Js(t,e,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?f=Ti(o):(v&=S,v!==0?f=Ti(v):i||(i=S&~t,i!==0&&(f=Ti(i))))):(S=o&~h,S!==0?f=Ti(S):v!==0?f=Ti(v):i||(i=o&~t,i!==0&&(f=Ti(i)))),f===0?0:e!==0&&e!==f&&(e&h)===0&&(h=f&-f,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:f}function as(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Cc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function Jr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Ai(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lc(t,e,i,o,f,h){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,V=t.hiddenUpdates;for(i=v&~i;0<i;){var J=31-Je(i),nt=1<<J;S[J]=0,O[J]=-1;var K=V[J];if(K!==null)for(V[J]=null,J=0;J<K.length;J++){var Q=K[J];Q!==null&&(Q.lane&=-536870913)}i&=~nt}o!==0&&_l(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~e))}function _l(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Je(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function bl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-Je(i),f=1<<o;f&e|t[o]&e&&(t[o]|=e),i&=~f}}function xl(t,e){var i=e&-e;return i=(i&42)!==0?1:nn(i),(i&(t.suspendedLanes|e))!==0?0:i}function nn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function St(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wr(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Bg(t.type))}function $r(t,e){var i=I.p;try{return I.p=t,e()}finally{I.p=i}}var qn=Math.random().toString(36).slice(2),Se="__reactFiber$"+qn,Be="__reactProps$"+qn,zi="__reactContainer$"+qn,ni="__reactEvents$"+qn,wl="__reactListeners$"+qn,Mc="__reactHandles$"+qn,Sl="__reactResources$"+qn,ss="__reactMarker$"+qn;function to(t){delete t[Se],delete t[Be],delete t[ni],delete t[wl],delete t[Mc]}function Ci(t){var e=t[Se];if(e)return e;for(var i=t.parentNode;i;){if(e=i[zi]||i[Se]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=vg(t);t!==null;){if(i=t[Se])return i;t=vg(t)}return e}t=i,i=t.parentNode}return null}function oa(t){if(t=t[Se]||t[zi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ii(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(c(33))}function la(t){var e=t[Sl];return e||(e=t[Sl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ee(t){t[ss]=!0}var El=new Set,Tl={};function Li(t,e){ai(t,e),ai(t+"Capture",e)}function ai(t,e){for(Tl[t]=e,t=0;t<e.length;t++)El.add(e[t])}var rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eo={},no={};function os(t){return Pn.call(no,t)?!0:Pn.call(eo,t)?!1:rs.test(t)?no[t]=!0:(eo[t]=!0,!1)}function Pt(t,e,i){if(os(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function ie(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function an(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function io(t,e,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ot(t){if(!t._valueTracker){var e=Mi(t)?"checked":"value";t._valueTracker=io(t,e,""+t[e])}}function he(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=Mi(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ws=/[\n"\\]/g;function ue(t){return t.replace(Ws,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ao(t,e,i,o,f,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Me(e)):t.value!==""+Me(e)&&(t.value=""+Me(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?Gn(t,v,Me(e)):i!=null?Gn(t,v,Me(i)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Me(S):t.removeAttribute("name")}function ls(t,e,i,o,f,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Ot(t);return}i=i!=null?""+Me(i):"",e=e!=null?""+Me(e):i,S||e===t.value||(t.value=e),t.defaultValue=e}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ot(t)}function Gn(t,e,i){e==="number"&&ua(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function oe(t,e,i,o){if(t=t.options,e){e={};for(var f=0;f<i.length;f++)e["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=e.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Me(i),e=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function si(t,e,i){if(e!=null&&(e=""+Me(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Me(i):""}function ca(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(c(92));if(X(o)){if(1<o.length)throw Error(c(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=Me(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Ot(t)}function An(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var so=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fa(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||so.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function $s(t,e,i){if(e!=null&&typeof e!="object")throw Error(c(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in e)o=e[f],e.hasOwnProperty(f)&&i[f]!==o&&fa(t,f,o)}else for(var h in e)e.hasOwnProperty(h)&&fa(t,h,e[h])}function us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return ro.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sn(){}var er=null;function cs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var da=null,Lt=null;function yn(t){var e=oa(t);if(e&&(t=e.stateNode)){var i=t[Be]||null;t:switch(t=e.stateNode,e.type){case"input":if(ao(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ue(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var f=o[Be]||null;if(!f)throw Error(c(90));ao(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&he(o)}break t;case"textarea":si(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&oe(t,!!i.multiple,e,!1)}}}var $t=!1;function oo(t,e,i){if($t)return t(e,i);$t=!0;try{var o=t(e);return o}finally{if($t=!1,(da!==null||Lt!==null)&&(xu(),da&&(e=da,t=Lt,Lt=da=null,yn(e),t)))for(e=0;e<t.length;e++)yn(t[e])}}function Oi(t,e){var i=t.stateNode;if(i===null)return null;var o=i[Be]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(c(231,e,typeof i));return i}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(vn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){fs=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{fs=!1}var zn=null,Ni=null,pe=null;function ri(){if(pe)return pe;var t,e=Ni,i=e.length,o,f="value"in zn?zn.value:zn.textContent,h=f.length;for(t=0;t<i&&e[t]===f[t];t++);var v=i-t;for(o=1;o<=v&&e[i-o]===f[h-o];o++);return pe=f.slice(t,1<o?1-o:void 0)}function hs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function Al(){return!1}function Pe(t){function e(i,o,f,h,v){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(i=t[S],this[S]=i?i(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ds:Al,this.isPropagationStopped=Al,this}return T(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),e}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=Pe(Vn),ma=T({},Vn,{view:0,detail:0}),Vt=Pe(ma),lo,We,Yn,ms=T({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(lo=t.screenX-Yn.screenX,We=t.screenY-Yn.screenY):We=lo=0,Yn=t),lo)},movementY:function(t){return"movementY"in t?t.movementY:We}}),zl=Pe(ms),uo=T({},ms,{dataTransfer:0}),Oc=Pe(uo),Cl=T({},ma,{relatedTarget:0}),co=Pe(Cl),Nc=T({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Pe(Nc),kc=T({},Vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cn=Pe(kc),Bc=T({},Vn,{data:0}),ho=Pe(Bc),oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ml[t])?!!e[t]:!1}function po(){return mo}var Ol=T({},ma,{key:function(t){if(t.key){var e=oi[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ll[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(t){return t.type==="keypress"?hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nl=Pe(Ol),Rc=T({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Pe(Rc),go=T({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Dc=Pe(go),Bl=T({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rl=Pe(Bl),ir=T({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ki=Pe(ir),Uc=T({},Vn,{newState:0,oldState:0}),ps=Pe(Uc),rn=[9,13,27,32],ar=vn&&"CompositionEvent"in window,pa=null;vn&&"documentMode"in document&&(pa=document.documentMode);var jc=vn&&"TextEvent"in window&&!pa,sr=vn&&(!ar||pa&&8<pa&&11>=pa),rr=" ",Dl=!1;function Ul(t,e){switch(t){case"keyup":return rn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function bn(t,e){switch(t){case"compositionend":return yo(e);case"keypress":return e.which!==32?null:(Dl=!0,rr);case"textInput":return t=e.data,t===rr&&Dl?null:t;default:return null}}function ya(t,e){if(ga)return t==="compositionend"||!ar&&Ul(t,e)?(t=ri(),pe=Ni=zn=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sr&&e.locale!=="ko"?null:e.data;default:return null}}var Hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hc[t.type]:e==="textarea"}function jl(t,e,i,o){da?Lt?Lt.push(o):Lt=[o]:da=o,e=Cu(e,"onChange"),0<e.length&&(i=new nr("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var Mn=null,gs=null;function ys(t){ag(t,0)}function vs(t){var e=ii(t);if(he(e))return t}function _s(t,e){if(t==="change")return e}var Hl=!1;if(vn){var On;if(vn){var va="oninput"in document;if(!va){var Pl=document.createElement("div");Pl.setAttribute("oninput","return;"),va=typeof Pl.oninput=="function"}On=va}else On=!1;Hl=On&&(!document.documentMode||9<document.documentMode)}function or(){Mn&&(Mn.detachEvent("onpropertychange",Zl),gs=Mn=null)}function Zl(t){if(t.propertyName==="value"&&vs(gs)){var e=[];jl(e,gs,t,cs(t)),oo(ys,e)}}function Kn(t,e,i){t==="focusin"?(or(),Mn=e,gs=i,Mn.attachEvent("onpropertychange",Zl)):t==="focusout"&&or()}function Pc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vs(gs)}function _a(t,e){if(t==="click")return vs(e)}function Zc(t,e){if(t==="input"||t==="change")return vs(e)}function In(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Re=typeof Object.is=="function"?Object.is:In;function ba(t,e){if(Re(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!Pn.call(e,f)||!Re(t[f],e[f]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bs(t,e){var i=lr(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=lr(i)}}function ur(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ur(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xs(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ua(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=ua(t.document)}return e}function li(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cr=vn&&"documentMode"in document&&11>=document.documentMode,ui=null,fr=null,ws=null,xa=!1;function ql(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xa||ui==null||ui!==ua(o)||(o=ui,"selectionStart"in o&&li(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ws&&ba(ws,o)||(ws=o,o=Cu(fr,"onSelect"),0<o.length&&(e=new nr("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=ui)))}function ci(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var wa={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},hr={},Gl={};vn&&(Gl=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function De(t){if(hr[t])return hr[t];if(!wa[t])return t;var e=wa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Gl)return hr[t]=e[i];return t}var Ss=De("animationend"),Vl=De("animationiteration"),Es=De("animationstart"),qc=De("transitionrun"),Yl=De("transitionstart"),Gc=De("transitioncancel"),Sa=De("transitionend"),Kl=new Map,fi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fi.push("scrollEnd");function on(t,e){Kl.set(t,e),Li(e,[t])}var Ts=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ln=[],Ye=0,dr=0;function As(){for(var t=Ye,e=dr=Ye=0;e<t;){var i=ln[e];ln[e++]=null;var o=ln[e];ln[e++]=null;var f=ln[e];ln[e++]=null;var h=ln[e];if(ln[e++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&Ea(i,f,h)}}function hi(t,e,i,o){ln[Ye++]=t,ln[Ye++]=e,ln[Ye++]=i,ln[Ye++]=o,dr|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function vo(t,e,i,o){return hi(t,e,i,o),zs(t)}function Nn(t,e){return hi(t,null,null,e),zs(t)}function Ea(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&e!==null&&(f=31-Je(i),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[e]:o.push(e),e.lane=i|536870912),h):null}function zs(t){if(50<Go)throw Go=0,Kf=null,Error(c(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Bi={};function Vc(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,i,o){return new Vc(t,e,i,o)}function mr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kn(t,e){var i=t.alternate;return i===null?(i=Ke(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function _o(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Cs(t,e,i,o,f,h){var v=0;if(o=t,typeof t=="function")mr(t)&&(v=1);else if(typeof t=="string")v=K_(t,i,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case yt:return t=Ke(31,i,e,f),t.elementType=yt,t.lanes=h,t;case N:return Ri(i.children,f,h,e);case Z:v=8,f|=24;break;case q:return t=Ke(12,i,e,f|2),t.elementType=q,t.lanes=h,t;case ut:return t=Ke(13,i,e,f),t.elementType=ut,t.lanes=h,t;case st:return t=Ke(19,i,e,f),t.elementType=st,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:v=10;break t;case tt:v=9;break t;case dt:v=11;break t;case F:v=14;break t;case at:v=16,o=null;break t}v=29,i=Error(c(130,t===null?"null":typeof t,"")),o=null}return e=Ke(v,i,e,f),e.elementType=t,e.type=o,e.lanes=h,e}function Ri(t,e,i,o){return t=Ke(7,t,o,e),t.lanes=i,t}function pr(t,e,i){return t=Ke(6,t,null,e),t.lanes=i,t}function bo(t){var e=Ke(18,null,null,0);return e.stateNode=t,e}function xo(t,e,i){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function r(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ei(e)},n.set(t,e),e)}return{value:t,source:e,stack:ei(e)}}var u=[],m=0,g=null,w=0,C=[],D=0,Y=null,et=1,gt="";function Et(t,e){u[m++]=w,u[m++]=g,g=t,w=e}function Rt(t,e,i){C[D++]=et,C[D++]=gt,C[D++]=Y,Y=t;var o=et;t=gt;var f=32-Je(o)-1;o&=~(1<<f),i+=1;var h=32-Je(e)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,et=1<<32-Je(e)+f|i<<f|o,gt=h+t}else et=1<<h|i<<f|o,gt=t}function Oe(t){t.return!==null&&(Et(t,1),Rt(t,1,0))}function ge(t){for(;t===g;)g=u[--m],u[m]=null,w=u[--m],u[m]=null;for(;t===Y;)Y=C[--D],C[D]=null,gt=C[--D],C[D]=null,et=C[--D],C[D]=null}function $e(t,e){C[D++]=et,C[D++]=gt,C[D++]=Y,et=e.id,gt=e.overflow,Y=t}var It=null,Qt=null,Zt=!1,di=null,un=!1,gr=Error(c(519));function mi(t){var e=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(r(e,t)),gr}function wo(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[Se]=t,e[Be]=o,i){case"dialog":Gt("cancel",e),Gt("close",e);break;case"iframe":case"object":case"embed":Gt("load",e);break;case"video":case"audio":for(i=0;i<Yo.length;i++)Gt(Yo[i],e);break;case"source":Gt("error",e);break;case"img":case"image":case"link":Gt("error",e),Gt("load",e);break;case"details":Gt("toggle",e);break;case"input":Gt("invalid",e),ls(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Gt("invalid",e);break;case"textarea":Gt("invalid",e),ca(e,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||lg(e.textContent,i)?(o.popover!=null&&(Gt("beforetoggle",e),Gt("toggle",e)),o.onScroll!=null&&Gt("scroll",e),o.onScrollEnd!=null&&Gt("scrollend",e),o.onClick!=null&&(e.onclick=sn),e=!0):e=!1,e||mi(t,!0)}function me(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:It=It.return}}function Qn(t){if(t!==It)return!1;if(!Zt)return me(t),Zt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||oh(t.type,t.memoizedProps)),i=!i),i&&Qt&&mi(t),me(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Qt=yg(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Qt=yg(t)}else e===27?(e=Qt,ja(t.type)?(t=hh,hh=null,Qt=t):Qt=e):Qt=It?Rn(t.stateNode.nextSibling):null;return!0}function Di(){Qt=It=null,Zt=!1}function So(){var t=di;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),di=null),t}function Ls(t){di===null?di=[t]:di.push(t)}var Ms=z(null),pi=null,Xn=null;function Ta(t,e,i){rt(Ms,e._currentValue),e._currentValue=i}function Ui(t){t._currentValue=Ms.current,H(Ms)}function Yc(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Kc(t,e,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;t:for(;h!==null;){var S=h;h=f;for(var O=0;O<e.length;O++)if(S.context===e[O]){h.lanes|=i,S=h.alternate,S!==null&&(S.lanes|=i),Yc(h.return,i,t),o||(v=null);break t}h=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(c(341));v.lanes|=i,h=v.alternate,h!==null&&(h.lanes|=i),Yc(v,i,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function yr(t,e,i,o){t=null;for(var f=e,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(c(387));if(v=v.memoizedProps,v!==null){var S=f.type;Re(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===At.current){if(v=f.alternate,v===null)throw Error(c(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Fo):t=[Fo])}f=f.return}t!==null&&Kc(e,t,i,o),e.flags|=262144}function Il(t){for(t=t.firstContext;t!==null;){if(!Re(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){pi=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return Id(pi,t)}function Ql(t,e){return pi===null&&Os(t),Id(t,e)}function Id(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Xn===null){if(t===null)throw Error(c(308));Xn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xn=Xn.next=e;return i}var qv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Gv=a.unstable_scheduleCallback,Vv=a.unstable_NormalPriority,Te={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ic(){return{controller:new qv,data:new Map,refCount:0}}function Eo(t){t.refCount--,t.refCount===0&&Gv(Vv,function(){t.controller.abort()})}var To=null,Qc=0,vr=0,_r=null;function Yv(t,e){if(To===null){var i=To=[];Qc=0,vr=Wf(),_r={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Qc++,e.then(Qd,Qd),e}function Qd(){if(--Qc===0&&To!==null){_r!==null&&(_r.status="fulfilled");var t=To;To=null,vr=0,_r=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Kv(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var f=0;f<i.length;f++)(0,i[f])(e)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Xd=M.S;M.S=function(t,e){Np=Fe(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Yv(t,e),Xd!==null&&Xd(t,e)};var Ns=z(null);function Xc(){var t=Ns.current;return t!==null?t:le.pooledCache}function Xl(t,e){e===null?rt(Ns,Ns.current):rt(Ns,e.pool)}function Fd(){var t=Xc();return t===null?null:{parent:Te._currentValue,pool:t}}var br=Error(c(460)),Fc=Error(c(474)),Fl=Error(c(542)),Jl={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(sn,sn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,tm(t),t;default:if(typeof e.status=="string")e.then(sn,sn);else{if(t=le,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=o}},function(o){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,tm(t),t}throw Bs=e,br}}function ks(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Bs=i,br):i}}var Bs=null;function $d(){if(Bs===null)throw Error(c(459));var t=Bs;return Bs=null,t}function tm(t){if(t===br||t===Fl)throw Error(c(483))}var xr=null,Ao=0;function Wl(t){var e=Ao;return Ao+=1,xr===null&&(xr=[]),Wd(xr,t,e)}function zo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function $l(t,e){throw e.$$typeof===B?Error(c(525)):(t=Object.prototype.toString.call(e),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function em(t){function e(R,k){if(t){var G=R.deletions;G===null?(R.deletions=[k],R.flags|=16):G.push(k)}}function i(R,k){if(!t)return null;for(;k!==null;)e(R,k),k=k.sibling;return null}function o(R){for(var k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function f(R,k){return R=kn(R,k),R.index=0,R.sibling=null,R}function h(R,k,G){return R.index=G,t?(G=R.alternate,G!==null?(G=G.index,G<k?(R.flags|=67108866,k):G):(R.flags|=67108866,k)):(R.flags|=1048576,k)}function v(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function S(R,k,G,$){return k===null||k.tag!==6?(k=pr(G,R.mode,$),k.return=R,k):(k=f(k,G),k.return=R,k)}function O(R,k,G,$){var Tt=G.type;return Tt===N?J(R,k,G.props.children,$,G.key):k!==null&&(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===at&&ks(Tt)===k.type)?(k=f(k,G.props),zo(k,G),k.return=R,k):(k=Cs(G.type,G.key,G.props,null,R.mode,$),zo(k,G),k.return=R,k)}function V(R,k,G,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=xo(G,R.mode,$),k.return=R,k):(k=f(k,G.children||[]),k.return=R,k)}function J(R,k,G,$,Tt){return k===null||k.tag!==7?(k=Ri(G,R.mode,$,Tt),k.return=R,k):(k=f(k,G),k.return=R,k)}function nt(R,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=pr(""+k,R.mode,G),k.return=R,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return G=Cs(k.type,k.key,k.props,null,R.mode,G),zo(G,k),G.return=R,G;case U:return k=xo(k,R.mode,G),k.return=R,k;case at:return k=ks(k),nt(R,k,G)}if(X(k)||ct(k))return k=Ri(k,R.mode,G,null),k.return=R,k;if(typeof k.then=="function")return nt(R,Wl(k),G);if(k.$$typeof===ot)return nt(R,Ql(R,k),G);$l(R,k)}return null}function K(R,k,G,$){var Tt=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Tt!==null?null:S(R,k,""+G,$);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===Tt?O(R,k,G,$):null;case U:return G.key===Tt?V(R,k,G,$):null;case at:return G=ks(G),K(R,k,G,$)}if(X(G)||ct(G))return Tt!==null?null:J(R,k,G,$,null);if(typeof G.then=="function")return K(R,k,Wl(G),$);if(G.$$typeof===ot)return K(R,k,Ql(R,G),$);$l(R,G)}return null}function Q(R,k,G,$,Tt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return R=R.get(G)||null,S(k,R,""+$,Tt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return R=R.get($.key===null?G:$.key)||null,O(k,R,$,Tt);case U:return R=R.get($.key===null?G:$.key)||null,V(k,R,$,Tt);case at:return $=ks($),Q(R,k,G,$,Tt)}if(X($)||ct($))return R=R.get(G)||null,J(k,R,$,Tt,null);if(typeof $.then=="function")return Q(R,k,G,Wl($),Tt);if($.$$typeof===ot)return Q(R,k,G,Ql(k,$),Tt);$l(k,$)}return null}function xt(R,k,G,$){for(var Tt=null,Xt=null,wt=k,Dt=k=0,Kt=null;wt!==null&&Dt<G.length;Dt++){wt.index>Dt?(Kt=wt,wt=null):Kt=wt.sibling;var Ft=K(R,wt,G[Dt],$);if(Ft===null){wt===null&&(wt=Kt);break}t&&wt&&Ft.alternate===null&&e(R,wt),k=h(Ft,k,Dt),Xt===null?Tt=Ft:Xt.sibling=Ft,Xt=Ft,wt=Kt}if(Dt===G.length)return i(R,wt),Zt&&Et(R,Dt),Tt;if(wt===null){for(;Dt<G.length;Dt++)wt=nt(R,G[Dt],$),wt!==null&&(k=h(wt,k,Dt),Xt===null?Tt=wt:Xt.sibling=wt,Xt=wt);return Zt&&Et(R,Dt),Tt}for(wt=o(wt);Dt<G.length;Dt++)Kt=Q(wt,R,Dt,G[Dt],$),Kt!==null&&(t&&Kt.alternate!==null&&wt.delete(Kt.key===null?Dt:Kt.key),k=h(Kt,k,Dt),Xt===null?Tt=Kt:Xt.sibling=Kt,Xt=Kt);return t&&wt.forEach(function(Ga){return e(R,Ga)}),Zt&&Et(R,Dt),Tt}function Ct(R,k,G,$){if(G==null)throw Error(c(151));for(var Tt=null,Xt=null,wt=k,Dt=k=0,Kt=null,Ft=G.next();wt!==null&&!Ft.done;Dt++,Ft=G.next()){wt.index>Dt?(Kt=wt,wt=null):Kt=wt.sibling;var Ga=K(R,wt,Ft.value,$);if(Ga===null){wt===null&&(wt=Kt);break}t&&wt&&Ga.alternate===null&&e(R,wt),k=h(Ga,k,Dt),Xt===null?Tt=Ga:Xt.sibling=Ga,Xt=Ga,wt=Kt}if(Ft.done)return i(R,wt),Zt&&Et(R,Dt),Tt;if(wt===null){for(;!Ft.done;Dt++,Ft=G.next())Ft=nt(R,Ft.value,$),Ft!==null&&(k=h(Ft,k,Dt),Xt===null?Tt=Ft:Xt.sibling=Ft,Xt=Ft);return Zt&&Et(R,Dt),Tt}for(wt=o(wt);!Ft.done;Dt++,Ft=G.next())Ft=Q(wt,R,Dt,Ft.value,$),Ft!==null&&(t&&Ft.alternate!==null&&wt.delete(Ft.key===null?Dt:Ft.key),k=h(Ft,k,Dt),Xt===null?Tt=Ft:Xt.sibling=Ft,Xt=Ft);return t&&wt.forEach(function(ib){return e(R,ib)}),Zt&&Et(R,Dt),Tt}function re(R,k,G,$){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:t:{for(var Tt=G.key;k!==null;){if(k.key===Tt){if(Tt=G.type,Tt===N){if(k.tag===7){i(R,k.sibling),$=f(k,G.props.children),$.return=R,R=$;break t}}else if(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===at&&ks(Tt)===k.type){i(R,k.sibling),$=f(k,G.props),zo($,G),$.return=R,R=$;break t}i(R,k);break}else e(R,k);k=k.sibling}G.type===N?($=Ri(G.props.children,R.mode,$,G.key),$.return=R,R=$):($=Cs(G.type,G.key,G.props,null,R.mode,$),zo($,G),$.return=R,R=$)}return v(R);case U:t:{for(Tt=G.key;k!==null;){if(k.key===Tt)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){i(R,k.sibling),$=f(k,G.children||[]),$.return=R,R=$;break t}else{i(R,k);break}else e(R,k);k=k.sibling}$=xo(G,R.mode,$),$.return=R,R=$}return v(R);case at:return G=ks(G),re(R,k,G,$)}if(X(G))return xt(R,k,G,$);if(ct(G)){if(Tt=ct(G),typeof Tt!="function")throw Error(c(150));return G=Tt.call(G),Ct(R,k,G,$)}if(typeof G.then=="function")return re(R,k,Wl(G),$);if(G.$$typeof===ot)return re(R,k,Ql(R,G),$);$l(R,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(i(R,k.sibling),$=f(k,G),$.return=R,R=$):(i(R,k),$=pr(G,R.mode,$),$.return=R,R=$),v(R)):i(R,k)}return function(R,k,G,$){try{Ao=0;var Tt=re(R,k,G,$);return xr=null,Tt}catch(wt){if(wt===br||wt===Fl)throw wt;var Xt=Ke(29,wt,null,R.mode);return Xt.lanes=$,Xt.return=R,Xt}}}var Rs=em(!0),nm=em(!1),Aa=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function za(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var f=o.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),o.pending=e,e=zs(t),Ea(t,null,i),e}return hi(t,o,e,i),zs(t)}function Co(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,bl(t,i)}}function $c(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?f=h=e:h=h.next=e}else f=h=e;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var tf=!1;function Lo(){if(tf){var t=_r;if(t!==null)throw t}}function Mo(t,e,i,o){tf=!1;var f=t.updateQueue;Aa=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,V=O.next;O.next=null,v===null?h=V:v.next=V,v=O;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==v&&(S===null?J.firstBaseUpdate=V:S.next=V,J.lastBaseUpdate=O))}if(h!==null){var nt=f.baseState;v=0,J=V=O=null,S=h;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(Yt&K)===K:(o&K)===K){K!==0&&K===vr&&(tf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var xt=t,Ct=S;K=e;var re=i;switch(Ct.tag){case 1:if(xt=Ct.payload,typeof xt=="function"){nt=xt.call(re,nt,K);break t}nt=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ct.payload,K=typeof xt=="function"?xt.call(re,nt,K):xt,K==null)break t;nt=T({},nt,K);break t;case 2:Aa=!0}}K=S.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(V=J=Q,O=nt):J=J.next=Q,v|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(O=nt),f.baseState=O,f.firstBaseUpdate=V,f.lastBaseUpdate=J,h===null&&(f.shared.lanes=0),ka|=v,t.lanes=v,t.memoizedState=nt}}function im(t,e){if(typeof t!="function")throw Error(c(191,t));t.call(e)}function am(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)im(i[t],e)}var wr=z(null),tu=z(0);function sm(t,e){t=Ki,rt(tu,t),rt(wr,e),Ki=t|e.baseLanes}function ef(){rt(tu,Ki),rt(wr,wr.current)}function nf(){Ki=tu.current,H(wr),H(tu)}var xn=z(null),Bn=null;function La(t){var e=t.alternate;rt(_e,_e.current&1),rt(xn,t),Bn===null&&(e===null||wr.current!==null||e.memoizedState!==null)&&(Bn=t)}function af(t){rt(_e,_e.current),rt(xn,t),Bn===null&&(Bn=t)}function rm(t){t.tag===22?(rt(_e,_e.current),rt(xn,t),Bn===null&&(Bn=t)):Ma()}function Ma(){rt(_e,_e.current),rt(xn,xn.current)}function wn(t){H(xn),Bn===t&&(Bn=null),H(_e)}var _e=z(0);function eu(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ch(i)||fh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ji=0,Bt=null,ae=null,Ae=null,nu=!1,Sr=!1,Ds=!1,iu=0,Oo=0,Er=null,Iv=0;function ye(){throw Error(c(321))}function sf(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Re(t[i],e[i]))return!1;return!0}function rf(t,e,i,o,f,h){return ji=h,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=t===null||t.memoizedState===null?Gm:xf,Ds=!1,h=i(o,f),Ds=!1,Sr&&(h=lm(e,i,o,f)),om(t),h}function om(t){M.H=Bo;var e=ae!==null&&ae.next!==null;if(ji=0,Ae=ae=Bt=null,nu=!1,Oo=0,Er=null,e)throw Error(c(300));t===null||ze||(t=t.dependencies,t!==null&&Il(t)&&(ze=!0))}function lm(t,e,i,o){Bt=t;var f=0;do{if(Sr&&(Er=null),Oo=0,Sr=!1,25<=f)throw Error(c(301));if(f+=1,Ae=ae=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=Vm,h=e(i,o)}while(Sr);return h}function Qv(){var t=M.H,e=t.useState()[0];return e=typeof e.then=="function"?No(e):e,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(Bt.flags|=1024),e}function of(){var t=iu!==0;return iu=0,t}function lf(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function uf(t){if(nu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}nu=!1}ji=0,Ae=ae=Bt=null,Sr=!1,Oo=iu=0,Er=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Bt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function be(){if(ae===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=Ae===null?Bt.memoizedState:Ae.next;if(e!==null)Ae=e,ae=t;else{if(t===null)throw Bt.alternate===null?Error(c(467)):Error(c(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ae===null?Bt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(t){var e=Oo;return Oo+=1,Er===null&&(Er=[]),t=Wd(Er,t,e),e=Bt,(Ae===null?e.memoizedState:Ae.next)===null&&(e=e.alternate,M.H=e===null||e.memoizedState===null?Gm:xf),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return No(t);if(t.$$typeof===ot)return Ze(t)}throw Error(c(438,String(t)))}function cf(t){var e=null,i=Bt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=Bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=au(),Bt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=_t;return e.index++,i}function Hi(t,e){return typeof e=="function"?e(t):e}function ru(t){var e=be();return ff(e,ae,t)}function ff(t,e,i){var o=t.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=i;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}e.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{e=f.next;var S=v=null,O=null,V=e,J=!1;do{var nt=V.lane&-536870913;if(nt!==V.lane?(Yt&nt)===nt:(ji&nt)===nt){var K=V.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),nt===vr&&(J=!0);else if((ji&K)===K){V=V.next,K===vr&&(J=!0);continue}else nt={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},O===null?(S=O=nt,v=h):O=O.next=nt,Bt.lanes|=K,ka|=K;nt=V.action,Ds&&i(h,nt),h=V.hasEagerState?V.eagerState:i(h,nt)}else K={lane:nt,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},O===null?(S=O=K,v=h):O=O.next=K,Bt.lanes|=nt,ka|=nt;V=V.next}while(V!==null&&V!==e);if(O===null?v=h:O.next=S,!Re(h,t.memoizedState)&&(ze=!0,J&&(i=_r,i!==null)))throw i;t.memoizedState=h,t.baseState=v,t.baseQueue=O,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function hf(t){var e=be(),i=e.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,h=e.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);Re(h,e.memoizedState)||(ze=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,o]}function um(t,e,i){var o=Bt,f=be(),h=Zt;if(h){if(i===void 0)throw Error(c(407));i=i()}else i=e();var v=!Re((ae||f).memoizedState,i);if(v&&(f.memoizedState=i,ze=!0),f=f.queue,pf(hm.bind(null,o,f,t),[t]),f.getSnapshot!==e||v||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Tr(9,{destroy:void 0},fm.bind(null,o,f,i,e),null),le===null)throw Error(c(349));h||(ji&127)!==0||cm(o,e,i)}return i}function cm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Bt.updateQueue,e===null?(e=au(),Bt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function fm(t,e,i,o){e.value=i,e.getSnapshot=o,dm(e)&&mm(t)}function hm(t,e,i){return i(function(){dm(e)&&mm(t)})}function dm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Re(t,i)}catch{return!0}}function mm(t){var e=Nn(t,2);e!==null&&mn(e,t,2)}function df(t){var e=tn();if(typeof t=="function"){var i=t;if(t=i(),Ds){Zn(!0);try{i()}finally{Zn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},e}function pm(t,e,i,o){return t.baseState=i,ff(t,ae,typeof o=="function"?o:Hi)}function Xv(t,e,i,o,f){if(uu(t))throw Error(c(485));if(t=e.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};M.T!==null?i(!0):h.isTransition=!1,o(h),i=e.pending,i===null?(h.next=e.pending=h,gm(e,h)):(h.next=i.next,e.pending=i.next=h)}}function gm(t,e){var i=e.action,o=e.payload,f=t.state;if(e.isTransition){var h=M.T,v={};M.T=v;try{var S=i(f,o),O=M.S;O!==null&&O(v,S),ym(t,e,S)}catch(V){mf(t,e,V)}finally{h!==null&&v.types!==null&&(h.types=v.types),M.T=h}}else try{h=i(f,o),ym(t,e,h)}catch(V){mf(t,e,V)}}function ym(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){vm(t,e,o)},function(o){return mf(t,e,o)}):vm(t,e,i)}function vm(t,e,i){e.status="fulfilled",e.value=i,_m(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,gm(t,i)))}function mf(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,_m(e),e=e.next;while(e!==o)}t.action=null}function _m(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bm(t,e){return e}function xm(t,e){if(Zt){var i=le.formState;if(i!==null){t:{var o=Bt;if(Zt){if(Qt){e:{for(var f=Qt,h=un;f.nodeType!==8;){if(!h){f=null;break e}if(f=Rn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Qt=Rn(f.nextSibling),o=f.data==="F!";break t}}mi(o)}o=!1}o&&(e=i[0])}}return i=tn(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:e},i.queue=o,i=Pm.bind(null,Bt,o),o.dispatch=i,o=df(!1),h=bf.bind(null,Bt,!1,o.queue),o=tn(),f={state:e,dispatch:null,action:t,pending:null},o.queue=f,i=Xv.bind(null,Bt,f,h,i),f.dispatch=i,o.memoizedState=t,[e,i,!1]}function wm(t){var e=be();return Sm(e,ae,t)}function Sm(t,e,i){if(e=ff(t,e,bm)[0],t=ru(Hi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=No(e)}catch(v){throw v===br?Fl:v}else o=e;e=be();var f=e.queue,h=f.dispatch;return i!==e.memoizedState&&(Bt.flags|=2048,Tr(9,{destroy:void 0},Fv.bind(null,f,i),null)),[o,h,t]}function Fv(t,e){t.action=e}function Em(t){var e=be(),i=ae;if(i!==null)return Sm(e,i,t);be(),e=e.memoizedState,i=be();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function Tr(t,e,i,o){return t={tag:t,create:i,deps:o,inst:e,next:null},e=Bt.updateQueue,e===null&&(e=au(),Bt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function Tm(){return be().memoizedState}function ou(t,e,i,o){var f=tn();Bt.flags|=t,f.memoizedState=Tr(1|e,{destroy:void 0},i,o===void 0?null:o)}function lu(t,e,i,o){var f=be();o=o===void 0?null:o;var h=f.memoizedState.inst;ae!==null&&o!==null&&sf(o,ae.memoizedState.deps)?f.memoizedState=Tr(e,h,i,o):(Bt.flags|=t,f.memoizedState=Tr(1|e,h,i,o))}function Am(t,e){ou(8390656,8,t,e)}function pf(t,e){lu(2048,8,t,e)}function Jv(t){Bt.flags|=4;var e=Bt.updateQueue;if(e===null)e=au(),Bt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function zm(t){var e=be().memoizedState;return Jv({ref:e,nextImpl:t}),function(){if((Wt&2)!==0)throw Error(c(440));return e.impl.apply(void 0,arguments)}}function Cm(t,e){return lu(4,2,t,e)}function Lm(t,e){return lu(4,4,t,e)}function Mm(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Om(t,e,i){i=i!=null?i.concat([t]):null,lu(4,4,Mm.bind(null,e,t),i)}function gf(){}function Nm(t,e){var i=be();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&sf(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function km(t,e){var i=be();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&sf(e,o[1]))return o[0];if(o=t(),Ds){Zn(!0);try{t()}finally{Zn(!1)}}return i.memoizedState=[o,e],o}function yf(t,e,i){return i===void 0||(ji&1073741824)!==0&&(Yt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Bp(),Bt.lanes|=t,ka|=t,i)}function Bm(t,e,i,o){return Re(i,e)?i:wr.current!==null?(t=yf(t,i,o),Re(t,e)||(ze=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(Yt&261930)===0?(ze=!0,t.memoizedState=i):(t=Bp(),Bt.lanes|=t,ka|=t,e)}function Rm(t,e,i,o,f){var h=I.p;I.p=h!==0&&8>h?h:8;var v=M.T,S={};M.T=S,bf(t,!1,e,i);try{var O=f(),V=M.S;if(V!==null&&V(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=Kv(O,o);ko(t,e,J,Tn(t))}else ko(t,e,o,Tn(t))}catch(nt){ko(t,e,{then:function(){},status:"rejected",reason:nt},Tn())}finally{I.p=h,v!==null&&S.types!==null&&(v.types=S.types),M.T=v}}function Wv(){}function vf(t,e,i,o){if(t.tag!==5)throw Error(c(476));var f=Dm(t).queue;Rm(t,f,e,P,i===null?Wv:function(){return Um(t),i(o)})}function Dm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:P},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Um(t){var e=Dm(t);e.next===null&&(e=t.alternate.memoizedState),ko(t,e.next.queue,{},Tn())}function _f(){return Ze(Fo)}function jm(){return be().memoizedState}function Hm(){return be().memoizedState}function $v(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Tn();t=za(i);var o=Ca(e,t,i);o!==null&&(mn(o,e,i),Co(o,e,i)),e={cache:Ic()},t.payload=e;return}e=e.return}}function t_(t,e,i){var o=Tn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},uu(t)?Zm(e,i):(i=vo(t,e,i,o),i!==null&&(mn(i,t,o),qm(i,e,o)))}function Pm(t,e,i){var o=Tn();ko(t,e,i,o)}function ko(t,e,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(uu(t))Zm(e,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var v=e.lastRenderedState,S=h(v,i);if(f.hasEagerState=!0,f.eagerState=S,Re(S,v))return hi(t,e,f,0),le===null&&As(),!1}catch{}if(i=vo(t,e,f,o),i!==null)return mn(i,t,o),qm(i,e,o),!0}return!1}function bf(t,e,i,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(e)throw Error(c(479))}else e=vo(t,i,o,2),e!==null&&mn(e,t,2)}function uu(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function Zm(t,e){Sr=nu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function qm(t,e,i){if((i&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,bl(t,i)}}var Bo={readContext:Ze,use:su,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Bo.useEffectEvent=ye;var Gm={readContext:Ze,use:su,useCallback:function(t,e){return tn().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:Am,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,ou(4194308,4,Mm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){ou(4,2,t,e)},useMemo:function(t,e){var i=tn();e=e===void 0?null:e;var o=t();if(Ds){Zn(!0);try{t()}finally{Zn(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=tn();if(i!==void 0){var f=i(e);if(Ds){Zn(!0);try{i(e)}finally{Zn(!1)}}}else f=e;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=t_.bind(null,Bt,t),[o.memoizedState,t]},useRef:function(t){var e=tn();return t={current:t},e.memoizedState=t},useState:function(t){t=df(t);var e=t.queue,i=Pm.bind(null,Bt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:gf,useDeferredValue:function(t,e){var i=tn();return yf(i,t,e)},useTransition:function(){var t=df(!1);return t=Rm.bind(null,Bt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=Bt,f=tn();if(Zt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=e(),le===null)throw Error(c(349));(Yt&127)!==0||cm(o,e,i)}f.memoizedState=i;var h={value:i,getSnapshot:e};return f.queue=h,Am(hm.bind(null,o,h,t),[t]),o.flags|=2048,Tr(9,{destroy:void 0},fm.bind(null,o,h,i,e),null),i},useId:function(){var t=tn(),e=le.identifierPrefix;if(Zt){var i=gt,o=et;i=(o&~(1<<32-Je(o)-1)).toString(32)+i,e="_"+e+"R_"+i,i=iu++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=Iv++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:_f,useFormState:xm,useActionState:xm,useOptimistic:function(t){var e=tn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=bf.bind(null,Bt,!0,i),i.dispatch=e,[t,e]},useMemoCache:cf,useCacheRefresh:function(){return tn().memoizedState=$v.bind(null,Bt)},useEffectEvent:function(t){var e=tn(),i={impl:t};return e.memoizedState=i,function(){if((Wt&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},xf={readContext:Ze,use:su,useCallback:Nm,useContext:Ze,useEffect:pf,useImperativeHandle:Om,useInsertionEffect:Cm,useLayoutEffect:Lm,useMemo:km,useReducer:ru,useRef:Tm,useState:function(){return ru(Hi)},useDebugValue:gf,useDeferredValue:function(t,e){var i=be();return Bm(i,ae.memoizedState,t,e)},useTransition:function(){var t=ru(Hi)[0],e=be().memoizedState;return[typeof t=="boolean"?t:No(t),e]},useSyncExternalStore:um,useId:jm,useHostTransitionStatus:_f,useFormState:wm,useActionState:wm,useOptimistic:function(t,e){var i=be();return pm(i,ae,t,e)},useMemoCache:cf,useCacheRefresh:Hm};xf.useEffectEvent=zm;var Vm={readContext:Ze,use:su,useCallback:Nm,useContext:Ze,useEffect:pf,useImperativeHandle:Om,useInsertionEffect:Cm,useLayoutEffect:Lm,useMemo:km,useReducer:hf,useRef:Tm,useState:function(){return hf(Hi)},useDebugValue:gf,useDeferredValue:function(t,e){var i=be();return ae===null?yf(i,t,e):Bm(i,ae.memoizedState,t,e)},useTransition:function(){var t=hf(Hi)[0],e=be().memoizedState;return[typeof t=="boolean"?t:No(t),e]},useSyncExternalStore:um,useId:jm,useHostTransitionStatus:_f,useFormState:Em,useActionState:Em,useOptimistic:function(t,e){var i=be();return ae!==null?pm(i,ae,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Hm};Vm.useEffectEvent=zm;function wf(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:T({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Sf={enqueueSetState:function(t,e,i){t=t._reactInternals;var o=Tn(),f=za(o);f.payload=e,i!=null&&(f.callback=i),e=Ca(t,f,o),e!==null&&(mn(e,t,o),Co(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=Tn(),f=za(o);f.tag=1,f.payload=e,i!=null&&(f.callback=i),e=Ca(t,f,o),e!==null&&(mn(e,t,o),Co(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Tn(),o=za(i);o.tag=2,e!=null&&(o.callback=e),e=Ca(t,o,i),e!==null&&(mn(e,t,i),Co(e,t,i))}};function Ym(t,e,i,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):e.prototype&&e.prototype.isPureReactComponent?!ba(i,o)||!ba(f,h):!0}function Km(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Us(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=T({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function Im(t){Ts(t)}function Qm(t){console.error(t)}function Xm(t){Ts(t)}function cu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function Fm(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ef(t,e,i){return i=za(i),i.tag=3,i.payload={element:null},i.callback=function(){cu(t,e)},i}function Jm(t){return t=za(t),t.tag=3,t}function Wm(t,e,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Fm(e,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Fm(e,i,o),typeof f!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function e_(t,e,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&yr(e,i,f,!0),i=xn.current,i!==null){switch(i.tag){case 31:case 13:return Bn===null?wu():i.alternate===null&&ve===0&&(ve=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===Jl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),Xf(t,o,f)),!1;case 22:return i.flags|=65536,o===Jl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),Xf(t,o,f)),!1}throw Error(c(435,i.tag))}return Xf(t,o,f),wu(),!1}if(Zt)return e=xn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,o!==gr&&(t=Error(c(422),{cause:o}),Ls(r(t,i)))):(o!==gr&&(e=Error(c(423),{cause:o}),Ls(r(e,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=r(o,i),f=Ef(t.stateNode,o,f),$c(t,f),ve!==4&&(ve=2)),!1;var h=Error(c(520),{cause:o});if(h=r(h,i),qo===null?qo=[h]:qo.push(h),ve!==4&&(ve=2),e===null)return!0;o=r(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Ef(i.stateNode,o,t),$c(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ba===null||!Ba.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Jm(f),Wm(f,t,i,o),$c(i,f),!1}i=i.return}while(i!==null);return!1}var Tf=Error(c(461)),ze=!1;function qe(t,e,i,o){e.child=t===null?nm(e,null,i,o):Rs(e,t.child,i,o)}function $m(t,e,i,o,f){i=i.render;var h=e.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return Os(e),o=rf(t,e,i,v,h,f),S=of(),t!==null&&!ze?(lf(t,e,f),Pi(t,e,f)):(Zt&&S&&Oe(e),e.flags|=1,qe(t,e,o,f),e.child)}function tp(t,e,i,o,f){if(t===null){var h=i.type;return typeof h=="function"&&!mr(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,ep(t,e,h,o,f)):(t=Cs(i.type,null,o,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!kf(t,f)){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:ba,i(v,o)&&t.ref===e.ref)return Pi(t,e,f)}return e.flags|=1,t=kn(h,o),t.ref=e.ref,t.return=e,e.child=t}function ep(t,e,i,o,f){if(t!==null){var h=t.memoizedProps;if(ba(h,o)&&t.ref===e.ref)if(ze=!1,e.pendingProps=o=h,kf(t,f))(t.flags&131072)!==0&&(ze=!0);else return e.lanes=t.lanes,Pi(t,e,f)}return Af(t,e,i,o,f)}function np(t,e,i,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,e.child=null;return ip(t,e,h,i,o)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xl(e,h!==null?h.cachePool:null),h!==null?sm(e,h):ef(),rm(e);else return o=e.lanes=536870912,ip(t,e,h!==null?h.baseLanes|i:i,i,o)}else h!==null?(Xl(e,h.cachePool),sm(e,h),Ma(),e.memoizedState=null):(t!==null&&Xl(e,null),ef(),Ma());return qe(t,e,f,i),e.child}function Ro(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ip(t,e,i,o,f){var h=Xc();return h=h===null?null:{parent:Te._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&Xl(e,null),ef(),rm(e),t!==null&&yr(t,e,o,!0),e.childLanes=f,null}function fu(t,e){return e=du({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function ap(t,e,i){return Rs(e,t.child,null,i),t=fu(e,e.pendingProps),t.flags|=2,wn(e),e.memoizedState=null,t}function n_(t,e,i){var o=e.pendingProps,f=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Zt){if(o.mode==="hidden")return t=fu(e,o),e.lanes=536870912,Ro(null,t);if(af(e),(t=Qt)?(t=gg(t,un),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Y!==null?{id:et,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},i=bo(t),i.return=e,e.child=i,It=e,Qt=null)):t=null,t===null)throw mi(e);return e.lanes=536870912,null}return fu(e,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(af(e),f)if(e.flags&256)e.flags&=-257,e=ap(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(c(558));else if(ze||yr(t,e,i,!1),f=(i&t.childLanes)!==0,ze||f){if(o=le,o!==null&&(v=xl(o,i),v!==0&&v!==h.retryLane))throw h.retryLane=v,Nn(t,v),mn(o,t,v),Tf;wu(),e=ap(t,e,i)}else t=h.treeContext,Qt=Rn(v.nextSibling),It=e,Zt=!0,di=null,un=!1,t!==null&&$e(e,t),e=fu(e,o),e.flags|=4096;return e}return t=kn(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function hu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Af(t,e,i,o,f){return Os(e),i=rf(t,e,i,o,void 0,f),o=of(),t!==null&&!ze?(lf(t,e,f),Pi(t,e,f)):(Zt&&o&&Oe(e),e.flags|=1,qe(t,e,i,f),e.child)}function sp(t,e,i,o,f,h){return Os(e),e.updateQueue=null,i=lm(e,o,i,f),om(t),o=of(),t!==null&&!ze?(lf(t,e,h),Pi(t,e,h)):(Zt&&o&&Oe(e),e.flags|=1,qe(t,e,i,h),e.child)}function rp(t,e,i,o,f){if(Os(e),e.stateNode===null){var h=Bi,v=i.contextType;typeof v=="object"&&v!==null&&(h=Ze(v)),h=new i(o,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=o,h.state=e.memoizedState,h.refs={},Jc(e),v=i.contextType,h.context=typeof v=="object"&&v!==null?Ze(v):Bi,h.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(wf(e,i,v,o),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Sf.enqueueReplaceState(h,h.state,null),Mo(e,o,h,f),Lo(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){h=e.stateNode;var S=e.memoizedProps,O=Us(i,S);h.props=O;var V=h.context,J=i.contextType;v=Bi,typeof J=="object"&&J!==null&&(v=Ze(J));var nt=i.getDerivedStateFromProps;J=typeof nt=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=e.pendingProps!==S,J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||V!==v)&&Km(e,h,o,v),Aa=!1;var K=e.memoizedState;h.state=K,Mo(e,o,h,f),Lo(),V=e.memoizedState,S||K!==V||Aa?(typeof nt=="function"&&(wf(e,i,nt,o),V=e.memoizedState),(O=Aa||Ym(e,i,O,o,K,V,v))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=V),h.props=o,h.state=V,h.context=v,o=O):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,Wc(t,e),v=e.memoizedProps,J=Us(i,v),h.props=J,nt=e.pendingProps,K=h.context,V=i.contextType,O=Bi,typeof V=="object"&&V!==null&&(O=Ze(V)),S=i.getDerivedStateFromProps,(V=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==nt||K!==O)&&Km(e,h,o,O),Aa=!1,K=e.memoizedState,h.state=K,Mo(e,o,h,f),Lo();var Q=e.memoizedState;v!==nt||K!==Q||Aa||t!==null&&t.dependencies!==null&&Il(t.dependencies)?(typeof S=="function"&&(wf(e,i,S,o),Q=e.memoizedState),(J=Aa||Ym(e,i,J,o,K,Q,O)||t!==null&&t.dependencies!==null&&Il(t.dependencies))?(V||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Q,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Q,O)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=Q),h.props=o,h.state=Q,h.context=O,o=J):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(e.flags|=1024),o=!1)}return h=o,hu(t,e),o=(e.flags&128)!==0,h||o?(h=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&o?(e.child=Rs(e,t.child,null,f),e.child=Rs(e,null,i,f)):qe(t,e,i,f),e.memoizedState=h.state,t=e.child):t=Pi(t,e,f),t}function op(t,e,i,o){return Di(),e.flags|=256,qe(t,e,i,o),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Fd()}}function Lf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=En),t}function lp(t,e,i){var o=e.pendingProps,f=!1,h=(e.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),v&&(f=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Zt){if(f?La(e):Ma(),(t=Qt)?(t=gg(t,un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Y!==null?{id:et,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},i=bo(t),i.return=e,e.child=i,It=e,Qt=null)):t=null,t===null)throw mi(e);return fh(t)?e.lanes=32:e.lanes=536870912,null}var S=o.children;return o=o.fallback,f?(Ma(),f=e.mode,S=du({mode:"hidden",children:S},f),o=Ri(o,f,i,null),S.return=e,o.return=e,S.sibling=o,e.child=S,o=e.child,o.memoizedState=Cf(i),o.childLanes=Lf(t,v,i),e.memoizedState=zf,Ro(null,o)):(La(e),Mf(e,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(h)e.flags&256?(La(e),e.flags&=-257,e=Of(t,e,i)):e.memoizedState!==null?(Ma(),e.child=t.child,e.flags|=128,e=null):(Ma(),S=o.fallback,f=e.mode,o=du({mode:"visible",children:o.children},f),S=Ri(S,f,i,null),S.flags|=2,o.return=e,S.return=e,o.sibling=S,e.child=o,Rs(e,t.child,null,i),o=e.child,o.memoizedState=Cf(i),o.childLanes=Lf(t,v,i),e.memoizedState=zf,e=Ro(null,o));else if(La(e),fh(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var V=v.dgst;v=V,o=Error(c(419)),o.stack="",o.digest=v,Ls({value:o,source:null,stack:null}),e=Of(t,e,i)}else if(ze||yr(t,e,i,!1),v=(i&t.childLanes)!==0,ze||v){if(v=le,v!==null&&(o=xl(v,i),o!==0&&o!==O.retryLane))throw O.retryLane=o,Nn(t,o),mn(v,t,o),Tf;ch(S)||wu(),e=Of(t,e,i)}else ch(S)?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,Qt=Rn(S.nextSibling),It=e,Zt=!0,di=null,un=!1,t!==null&&$e(e,t),e=Mf(e,o.children),e.flags|=4096);return e}return f?(Ma(),S=o.fallback,f=e.mode,O=t.child,V=O.sibling,o=kn(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,V!==null?S=kn(V,S):(S=Ri(S,f,i,null),S.flags|=2),S.return=e,o.return=e,o.sibling=S,e.child=o,Ro(null,o),o=e.child,S=t.child.memoizedState,S===null?S=Cf(i):(f=S.cachePool,f!==null?(O=Te._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Fd(),S={baseLanes:S.baseLanes|i,cachePool:f}),o.memoizedState=S,o.childLanes=Lf(t,v,i),e.memoizedState=zf,Ro(t.child,o)):(La(e),i=t.child,t=i.sibling,i=kn(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Mf(t,e){return e=du({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function du(t,e){return t=Ke(22,t,null,e),t.lanes=0,t}function Of(t,e,i){return Rs(e,t.child,null,i),t=Mf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function up(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Yc(t.return,e,i)}function Nf(t,e,i,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:h}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=f,v.treeForkCount=h)}function cp(t,e,i){var o=e.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=_e.current,S=(v&2)!==0;if(S?(v=v&1|2,e.flags|=128):v&=1,rt(_e,v),qe(t,e,o,i),o=Zt?w:0,!S&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&up(t,i,e);else if(t.tag===19)up(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=e.child,f=null;i!==null;)t=i.alternate,t!==null&&eu(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=e.child,e.child=null):(f=i.sibling,i.sibling=null),Nf(e,!1,f,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&eu(t)===null){e.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Nf(e,!0,i,null,h,o);break;case"together":Nf(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function Pi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),ka|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(yr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(c(153));if(e.child!==null){for(t=e.child,i=kn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=kn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function kf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Il(t)))}function i_(t,e,i){switch(e.tag){case 3:Ht(e,e.stateNode.containerInfo),Ta(e,Te,t.memoizedState.cache),Di();break;case 27:case 5:we(e);break;case 4:Ht(e,e.stateNode.containerInfo);break;case 10:Ta(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,af(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(La(e),e.flags|=128,null):(i&e.child.childLanes)!==0?lp(t,e,i):(La(e),t=Pi(t,e,i),t!==null?t.sibling:null);La(e);break;case 19:var f=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(yr(t,e,i,!1),o=(i&e.childLanes)!==0),f){if(o)return cp(t,e,i);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(_e,_e.current),o)break;return null;case 22:return e.lanes=0,np(t,e,i,e.pendingProps);case 24:Ta(e,Te,t.memoizedState.cache)}return Pi(t,e,i)}function fp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)ze=!0;else{if(!kf(t,i)&&(e.flags&128)===0)return ze=!1,i_(t,e,i);ze=(t.flags&131072)!==0}else ze=!1,Zt&&(e.flags&1048576)!==0&&Rt(e,w,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=ks(e.elementType),e.type=t,typeof t=="function")mr(t)?(o=Us(t,o),e.tag=1,e=rp(null,e,t,o,i)):(e.tag=0,e=Af(null,e,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===dt){e.tag=11,e=$m(null,e,t,o,i);break t}else if(f===F){e.tag=14,e=tp(null,e,t,o,i);break t}}throw e=bt(t)||t,Error(c(306,e,""))}}return e;case 0:return Af(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,f=Us(o,e.pendingProps),rp(t,e,o,f,i);case 3:t:{if(Ht(e,e.stateNode.containerInfo),t===null)throw Error(c(387));o=e.pendingProps;var h=e.memoizedState;f=h.element,Wc(t,e),Mo(e,o,null,i);var v=e.memoizedState;if(o=v.cache,Ta(e,Te,o),o!==h.cache&&Kc(e,[Te],i,!0),Lo(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=op(t,e,o,i);break t}else if(o!==f){f=r(Error(c(424)),e),Ls(f),e=op(t,e,o,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Qt=Rn(t.firstChild),It=e,Zt=!0,di=null,un=!0,i=nm(e,null,o,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Di(),o===f){e=Pi(t,e,i);break t}qe(t,e,o,i)}e=e.child}return e;case 26:return hu(t,e),t===null?(i=wg(e.type,null,e.pendingProps,null))?e.memoizedState=i:Zt||(i=e.type,t=e.pendingProps,o=Lu(ht.current).createElement(i),o[Se]=e,o[Be]=t,Ge(o,i,t),Ee(o),e.stateNode=o):e.memoizedState=wg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return we(e),t===null&&Zt&&(o=e.stateNode=_g(e.type,e.pendingProps,ht.current),It=e,un=!0,f=Qt,ja(e.type)?(hh=f,Qt=Rn(o.firstChild)):Qt=f),qe(t,e,e.pendingProps.children,i),hu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Zt&&((f=o=Qt)&&(o=k_(o,e.type,e.pendingProps,un),o!==null?(e.stateNode=o,It=e,Qt=Rn(o.firstChild),un=!1,f=!0):f=!1),f||mi(e)),we(e),f=e.type,h=e.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,oh(f,h)?o=null:v!==null&&oh(f,v)&&(e.flags|=32),e.memoizedState!==null&&(f=rf(t,e,Qv,null,null,i),Fo._currentValue=f),hu(t,e),qe(t,e,o,i),e.child;case 6:return t===null&&Zt&&((t=i=Qt)&&(i=B_(i,e.pendingProps,un),i!==null?(e.stateNode=i,It=e,Qt=null,t=!0):t=!1),t||mi(e)),null;case 13:return lp(t,e,i);case 4:return Ht(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Rs(e,null,o,i):qe(t,e,o,i),e.child;case 11:return $m(t,e,e.type,e.pendingProps,i);case 7:return qe(t,e,e.pendingProps,i),e.child;case 8:return qe(t,e,e.pendingProps.children,i),e.child;case 12:return qe(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,Ta(e,e.type,o.value),qe(t,e,o.children,i),e.child;case 9:return f=e.type._context,o=e.pendingProps.children,Os(e),f=Ze(f),o=o(f),e.flags|=1,qe(t,e,o,i),e.child;case 14:return tp(t,e,e.type,e.pendingProps,i);case 15:return ep(t,e,e.type,e.pendingProps,i);case 19:return cp(t,e,i);case 31:return n_(t,e,i);case 22:return np(t,e,i,e.pendingProps);case 24:return Os(e),o=Ze(Te),t===null?(f=Xc(),f===null&&(f=le,h=Ic(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),e.memoizedState={parent:o,cache:f},Jc(e),Ta(e,Te,f)):((t.lanes&i)!==0&&(Wc(t,e),Mo(e,null,null,i),Lo()),f=t.memoizedState,h=e.memoizedState,f.parent!==o?(f={parent:o,cache:o},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),Ta(e,Te,o)):(o=h.cache,Ta(e,Te,o),o!==f.cache&&Kc(e,[Te],i,!0))),qe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(c(156,e.tag))}function Zi(t){t.flags|=4}function Bf(t,e,i,o,f){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(jp())t.flags|=8192;else throw Bs=Jl,Fc}else t.flags&=-16777217}function hp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zg(e))if(jp())t.flags|=8192;else throw Bs=Jl,Fc}function mu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?vl():536870912,t.lanes|=e,Lr|=e)}function Do(t,e){if(!Zt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function a_(t,e,i){var o=e.pendingProps;switch(ge(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return ce(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Ui(Te),Ut(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Qn(e)?Zi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,So())),ce(e),null;case 26:var f=e.type,h=e.memoizedState;return t===null?(Zi(e),h!==null?(ce(e),hp(e,h)):(ce(e),Bf(e,f,null,o,i))):h?h!==t.memoizedState?(Zi(e),ce(e),hp(e,h)):(ce(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&Zi(e),ce(e),Bf(e,f,t,o,i)),null;case 27:if(zt(e),i=ht.current,f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Zi(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return ce(e),null}t=lt.current,Qn(e)?wo(e):(t=_g(f,o,i),e.stateNode=t,Zi(e))}return ce(e),null;case 5:if(zt(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Zi(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return ce(e),null}if(h=lt.current,Qn(e))wo(e);else{var v=Lu(ht.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[Se]=e,h[Be]=o;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=h;t:switch(Ge(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Zi(e)}}return ce(e),Bf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&Zi(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(c(166));if(t=ht.current,Qn(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,f=It,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Se]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||lg(t.nodeValue,i)),t||mi(e,!0)}else t=Lu(t).createTextNode(o),t[Se]=e,e.stateNode=t}return ce(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(o=Qn(e),i!==null){if(t===null){if(!o)throw Error(c(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[Se]=e}else Di(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ce(e),t=!1}else i=So(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(wn(e),e):(wn(e),null);if((e.flags&128)!==0)throw Error(c(558))}return ce(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Qn(e),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(c(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(c(317));f[Se]=e}else Di(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ce(e),f=!1}else f=So(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(wn(e),e):(wn(e),null)}return wn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=e.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),mu(e,e.updateQueue),ce(e),null);case 4:return Ut(),t===null&&nh(e.stateNode.containerInfo),ce(e),null;case 10:return Ui(e.type),ce(e),null;case 19:if(H(_e),o=e.memoizedState,o===null)return ce(e),null;if(f=(e.flags&128)!==0,h=o.rendering,h===null)if(f)Do(o,!1);else{if(ve!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=eu(t),h!==null){for(e.flags|=128,Do(o,!1),t=h.updateQueue,e.updateQueue=t,mu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)_o(i,t),i=i.sibling;return rt(_e,_e.current&1|2),Zt&&Et(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Fe()>_u&&(e.flags|=128,f=!0,Do(o,!1),e.lanes=4194304)}else{if(!f)if(t=eu(h),t!==null){if(e.flags|=128,f=!0,t=t.updateQueue,e.updateQueue=t,mu(e,t),Do(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Zt)return ce(e),null}else 2*Fe()-o.renderingStartTime>_u&&i!==536870912&&(e.flags|=128,f=!0,Do(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,i=_e.current,rt(_e,f?i&1|2:i&1),Zt&&Et(e,o.treeForkCount),t):(ce(e),null);case 22:case 23:return wn(e),nf(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(i&536870912)!==0&&(e.flags&128)===0&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),i=e.updateQueue,i!==null&&mu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&H(Ns),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ui(Te),ce(e),null;case 25:return null;case 30:return null}throw Error(c(156,e.tag))}function s_(t,e){switch(ge(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(Te),Ut(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return zt(e),null;case 31:if(e.memoizedState!==null){if(wn(e),e.alternate===null)throw Error(c(340));Di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(wn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(c(340));Di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(_e),null;case 4:return Ut(),null;case 10:return Ui(e.type),null;case 22:case 23:return wn(e),nf(),t!==null&&H(Ns),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function dp(t,e){switch(ge(e),e.tag){case 3:Ui(Te),Ut();break;case 26:case 27:case 5:zt(e);break;case 4:Ut();break;case 31:e.memoizedState!==null&&wn(e);break;case 13:wn(e);break;case 19:H(_e);break;case 10:Ui(e.type);break;case 22:case 23:wn(e),nf(),t!==null&&H(Ns);break;case 24:Ui(Te)}}function Uo(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var h=i.create,v=i.inst;o=h(),v.destroy=o}i=i.next}while(i!==f)}}catch(S){ne(e,e.return,S)}}function Oa(t,e,i){try{var o=e.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=e;var O=i,V=S;try{V()}catch(J){ne(f,O,J)}}}o=o.next}while(o!==h)}}catch(J){ne(e,e.return,J)}}function mp(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{am(e,i)}catch(o){ne(t,t.return,o)}}}function pp(t,e,i){i.props=Us(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){ne(t,e,o)}}function jo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){ne(t,e,f)}}function gi(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){ne(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ne(t,e,f)}else i.current=null}function gp(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){ne(t,t.return,f)}}function Rf(t,e,i){try{var o=t.stateNode;z_(o,t.type,i,e),o[Be]=e}catch(f){ne(t,t.return,f)}}function yp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ja(t.type)||t.tag===4}function Df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ja(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=sn));else if(o!==4&&(o===27&&ja(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Uf(t,e,i),t=t.sibling;t!==null;)Uf(t,e,i),t=t.sibling}function pu(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&(o===27&&ja(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(pu(t,e,i),t=t.sibling;t!==null;)pu(t,e,i),t=t.sibling}function vp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);Ge(e,o,i),e[Se]=t,e[Be]=i}catch(h){ne(t,t.return,h)}}var qi=!1,Ce=!1,jf=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function r_(t,e){if(t=t.containerInfo,sh=Du,t=xs(t),li(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var v=0,S=-1,O=-1,V=0,J=0,nt=t,K=null;e:for(;;){for(var Q;nt!==i||f!==0&&nt.nodeType!==3||(S=v+f),nt!==h||o!==0&&nt.nodeType!==3||(O=v+o),nt.nodeType===3&&(v+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)K=nt,nt=Q;for(;;){if(nt===t)break e;if(K===i&&++V===f&&(S=v),K===h&&++J===o&&(O=v),(Q=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=Q}i=S===-1||O===-1?null:{start:S,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(rh={focusedElem:t,selectionRange:i},Du=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){switch(e=Ue,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,f=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var xt=Us(i.type,f);t=o.getSnapshotBeforeUpdate(xt,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ct){ne(i,i.return,Ct)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)uh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function bp(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Vi(t,i),o&4&&Uo(5,i);break;case 1:if(Vi(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){ne(i,i.return,v)}else{var f=Us(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(i,i.return,v)}}o&64&&mp(i),o&512&&jo(i,i.return);break;case 3:if(Vi(t,i),o&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{am(t,e)}catch(v){ne(i,i.return,v)}}break;case 27:e===null&&o&4&&vp(i);case 26:case 5:Vi(t,i),e===null&&o&4&&gp(i),o&512&&jo(i,i.return);break;case 12:Vi(t,i);break;case 31:Vi(t,i),o&4&&Sp(t,i);break;case 13:Vi(t,i),o&4&&Ep(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=p_.bind(null,i),R_(t,i))));break;case 22:if(o=i.memoizedState!==null||qi,!o){e=e!==null&&e.memoizedState!==null||Ce,f=qi;var h=Ce;qi=o,(Ce=e)&&!h?Yi(t,i,(i.subtreeFlags&8772)!==0):Vi(t,i),qi=f,Ce=h}break;case 30:break;default:Vi(t,i)}}function xp(t){var e=t.alternate;e!==null&&(t.alternate=null,xp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&to(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,cn=!1;function Gi(t,e,i){for(i=i.child;i!==null;)wp(t,e,i),i=i.sibling}function wp(t,e,i){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ra,i)}catch{}switch(i.tag){case 26:Ce||gi(i,e),Gi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ce||gi(i,e);var o=de,f=cn;ja(i.type)&&(de=i.stateNode,cn=!1),Gi(t,e,i),Io(i.stateNode),de=o,cn=f;break;case 5:Ce||gi(i,e);case 6:if(o=de,f=cn,de=null,Gi(t,e,i),de=o,cn=f,de!==null)if(cn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(i.stateNode)}catch(h){ne(i,e,h)}else try{de.removeChild(i.stateNode)}catch(h){ne(i,e,h)}break;case 18:de!==null&&(cn?(t=de,mg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ur(t)):mg(de,i.stateNode));break;case 4:o=de,f=cn,de=i.stateNode.containerInfo,cn=!0,Gi(t,e,i),de=o,cn=f;break;case 0:case 11:case 14:case 15:Oa(2,i,e),Ce||Oa(4,i,e),Gi(t,e,i);break;case 1:Ce||(gi(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&pp(i,e,o)),Gi(t,e,i);break;case 21:Gi(t,e,i);break;case 22:Ce=(o=Ce)||i.memoizedState!==null,Gi(t,e,i),Ce=o;break;default:Gi(t,e,i)}}function Sp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ur(t)}catch(i){ne(e,e.return,i)}}}function Ep(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ur(t)}catch(i){ne(e,e.return,i)}}function o_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new _p),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new _p),e;default:throw Error(c(435,t.tag))}}function gu(t,e){var i=o_(t);e.forEach(function(o){if(!i.has(o)){i.add(o);var f=g_.bind(null,t,o);o.then(f,f)}})}function fn(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],h=t,v=e,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(ja(S.type)){de=S.stateNode,cn=!1;break t}break;case 5:de=S.stateNode,cn=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,cn=!0;break t}S=S.return}if(de===null)throw Error(c(160));wp(h,v,f),de=null,cn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Tp(e,t),e=e.sibling}var Fn=null;function Tp(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(e,t),hn(t),o&4&&(Oa(3,t,t.return),Uo(3,t),Oa(5,t,t.return));break;case 1:fn(e,t),hn(t),o&512&&(Ce||i===null||gi(i,i.return)),o&64&&qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Fn;if(fn(e,t),hn(t),o&512&&(Ce||i===null||gi(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ss]||h[Se]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),Ge(h,o,i),h[Se]=t,Ee(h),o=h;break t;case"link":var v=Tg("link","href",f).get(o+(i.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(S,1);break e}}h=f.createElement(o),Ge(h,o,i),f.head.appendChild(h);break;case"meta":if(v=Tg("meta","content",f).get(o+(i.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(S,1);break e}}h=f.createElement(o),Ge(h,o,i),f.head.appendChild(h);break;default:throw Error(c(468,o))}h[Se]=t,Ee(h),o=h}t.stateNode=o}else Ag(f,t.type,t.stateNode);else t.stateNode=Eg(f,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?Ag(f,t.type,t.stateNode):Eg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Rf(t,t.memoizedProps,i.memoizedProps)}break;case 27:fn(e,t),hn(t),o&512&&(Ce||i===null||gi(i,i.return)),i!==null&&o&4&&Rf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(fn(e,t),hn(t),o&512&&(Ce||i===null||gi(i,i.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(xt){ne(t,t.return,xt)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Rf(t,f,i!==null?i.memoizedProps:f)),o&1024&&(jf=!0);break;case 6:if(fn(e,t),hn(t),o&4){if(t.stateNode===null)throw Error(c(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(xt){ne(t,t.return,xt)}}break;case 3:if(Nu=null,f=Fn,Fn=Mu(e.containerInfo),fn(e,t),Fn=f,hn(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ur(e.containerInfo)}catch(xt){ne(t,t.return,xt)}jf&&(jf=!1,Ap(t));break;case 4:o=Fn,Fn=Mu(t.stateNode.containerInfo),fn(e,t),hn(t),Fn=o;break;case 12:fn(e,t),hn(t);break;case 31:fn(e,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gu(t,o)));break;case 13:fn(e,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(vu=Fe()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gu(t,o)));break;case 22:f=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,V=qi,J=Ce;if(qi=V||f,Ce=J||O,fn(e,t),Ce=J,qi=V,hn(t),o&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(i===null||O||qi||Ce||js(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){O=i=e;try{if(h=O.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var nt=O.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(xt){ne(O,O.return,xt)}}}else if(e.tag===6){if(i===null){O=e;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(xt){ne(O,O.return,xt)}}}else if(e.tag===18){if(i===null){O=e;try{var Q=O.stateNode;f?pg(Q,!0):pg(O.stateNode,!1)}catch(xt){ne(O,O.return,xt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,gu(t,i))));break;case 19:fn(e,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gu(t,o)));break;case 30:break;case 21:break;default:fn(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{for(var i,o=t.return;o!==null;){if(yp(o)){i=o;break}o=o.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var f=i.stateNode,h=Df(t);pu(t,h,f);break;case 5:var v=i.stateNode;i.flags&32&&(An(v,""),i.flags&=-33);var S=Df(t);pu(t,S,v);break;case 3:case 4:var O=i.stateNode.containerInfo,V=Df(t);Uf(t,V,O);break;default:throw Error(c(161))}}catch(J){ne(t,t.return,J)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Ap(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)bp(t,e.alternate,e),e=e.sibling}function js(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Oa(4,e,e.return),js(e);break;case 1:gi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&pp(e,e.return,i),js(e);break;case 27:Io(e.stateNode);case 26:case 5:gi(e,e.return),js(e);break;case 22:e.memoizedState===null&&js(e);break;case 30:js(e);break;default:js(e)}t=t.sibling}}function Yi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,f=t,h=e,v=h.flags;switch(h.tag){case 0:case 11:case 15:Yi(f,h,i),Uo(4,h);break;case 1:if(Yi(f,h,i),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(V){ne(o,o.return,V)}if(o=h,f=o.updateQueue,f!==null){var S=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)im(O[f],S)}catch(V){ne(o,o.return,V)}}i&&v&64&&mp(h),jo(h,h.return);break;case 27:vp(h);case 26:case 5:Yi(f,h,i),i&&o===null&&v&4&&gp(h),jo(h,h.return);break;case 12:Yi(f,h,i);break;case 31:Yi(f,h,i),i&&v&4&&Sp(f,h);break;case 13:Yi(f,h,i),i&&v&4&&Ep(f,h);break;case 22:h.memoizedState===null&&Yi(f,h,i),jo(h,h.return);break;case 30:break;default:Yi(f,h,i)}e=e.sibling}}function Hf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Eo(i))}function Pf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Eo(t))}function Jn(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zp(t,e,i,o),e=e.sibling}function zp(t,e,i,o){var f=e.flags;switch(e.tag){case 0:case 11:case 15:Jn(t,e,i,o),f&2048&&Uo(9,e);break;case 1:Jn(t,e,i,o);break;case 3:Jn(t,e,i,o),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Eo(t)));break;case 12:if(f&2048){Jn(t,e,i,o),t=e.stateNode;try{var h=e.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ne(e,e.return,O)}}else Jn(t,e,i,o);break;case 31:Jn(t,e,i,o);break;case 13:Jn(t,e,i,o);break;case 23:break;case 22:h=e.stateNode,v=e.alternate,e.memoizedState!==null?h._visibility&2?Jn(t,e,i,o):Ho(t,e):h._visibility&2?Jn(t,e,i,o):(h._visibility|=2,Ar(t,e,i,o,(e.subtreeFlags&10256)!==0||!1)),f&2048&&Hf(v,e);break;case 24:Jn(t,e,i,o),f&2048&&Pf(e.alternate,e);break;default:Jn(t,e,i,o)}}function Ar(t,e,i,o,f){for(f=f&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,v=e,S=i,O=o,V=v.flags;switch(v.tag){case 0:case 11:case 15:Ar(h,v,S,O,f),Uo(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?Ar(h,v,S,O,f):Ho(h,v):(J._visibility|=2,Ar(h,v,S,O,f)),f&&V&2048&&Hf(v.alternate,v);break;case 24:Ar(h,v,S,O,f),f&&V&2048&&Pf(v.alternate,v);break;default:Ar(h,v,S,O,f)}e=e.sibling}}function Ho(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,f=o.flags;switch(o.tag){case 22:Ho(i,o),f&2048&&Hf(o.alternate,o);break;case 24:Ho(i,o),f&2048&&Pf(o.alternate,o);break;default:Ho(i,o)}e=e.sibling}}var Po=8192;function zr(t,e,i){if(t.subtreeFlags&Po)for(t=t.child;t!==null;)Cp(t,e,i),t=t.sibling}function Cp(t,e,i){switch(t.tag){case 26:zr(t,e,i),t.flags&Po&&t.memoizedState!==null&&I_(i,Fn,t.memoizedState,t.memoizedProps);break;case 5:zr(t,e,i);break;case 3:case 4:var o=Fn;Fn=Mu(t.stateNode.containerInfo),zr(t,e,i),Fn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Po,Po=16777216,zr(t,e,i),Po=o):zr(t,e,i));break;default:zr(t,e,i)}}function Lp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Zo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Ue=o,Op(o,t)}Lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mp(t),t=t.sibling}function Mp(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&Oa(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,yu(t)):Zo(t);break;default:Zo(t)}}function yu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Ue=o,Op(o,t)}Lp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Oa(8,e,e.return),yu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,yu(e));break;default:yu(e)}t=t.sibling}}function Op(t,e){for(;Ue!==null;){var i=Ue;switch(i.tag){case 0:case 11:case 15:Oa(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ue=o;else t:for(i=t;Ue!==null;){o=Ue;var f=o.sibling,h=o.return;if(xp(o),o===i){Ue=null;break t}if(f!==null){f.return=h,Ue=f;break t}Ue=h}}}var l_={getCacheForType:function(t){var e=Ze(Te),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Ze(Te).controller.signal}},u_=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,qt=null,Yt=0,ee=0,Sn=null,Na=!1,Cr=!1,Zf=!1,Ki=0,ve=0,ka=0,Hs=0,qf=0,En=0,Lr=0,qo=null,dn=null,Gf=!1,vu=0,Np=0,_u=1/0,bu=null,Ba=null,Ne=0,Ra=null,Mr=null,Ii=0,Vf=0,Yf=null,kp=null,Go=0,Kf=null;function Tn(){return(Wt&2)!==0&&Yt!==0?Yt&-Yt:M.T!==null?Wf():Wr()}function Bp(){if(En===0)if((Yt&536870912)===0||Zt){var t=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),En=t}else En=536870912;return t=xn.current,t!==null&&(t.flags|=32),En}function mn(t,e,i){(t===le&&(ee===2||ee===9)||t.cancelPendingCommit!==null)&&(Or(t,0),Da(t,Yt,En,!1)),Ai(t,i),((Wt&2)===0||t!==le)&&(t===le&&((Wt&2)===0&&(Hs|=i),ve===4&&Da(t,Yt,En,!1)),yi(t))}function Rp(t,e,i){if((Wt&6)!==0)throw Error(c(327));var o=!i&&(e&127)===0&&(e&t.expiredLanes)===0||as(t,e),f=o?h_(t,e):Qf(t,e,!0),h=o;do{if(f===0){Cr&&!o&&Da(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!c_(i)){f=Qf(t,e,!1),h=!1;continue}if(f===2){if(h=e,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var S=t;f=qo;var O=S.current.memoizedState.isDehydrated;if(O&&(Or(S,v).flags|=256),v=Qf(S,v,!1),v!==2){if(Zf&&!O){S.errorRecoveryDisabledLanes|=h,Hs|=h,f=4;break t}h=dn,dn=f,h!==null&&(dn===null?dn=h:dn.push.apply(dn,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){Or(t,0),Da(t,e,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(c(345));case 4:if((e&4194048)!==e)break;case 6:Da(o,e,En,!Na);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((e&62914560)===e&&(f=vu+300-Fe(),10<f)){if(Da(o,e,En,!Na),Js(o,0,!0)!==0)break t;Ii=e,o.timeoutHandle=hg(Dp.bind(null,o,i,dn,bu,Gf,e,En,Hs,Lr,Na,h,"Throttled",-0,0),f);break t}Dp(o,i,dn,bu,Gf,e,En,Hs,Lr,Na,h,null,-0,0)}}break}while(!0);yi(t)}function Dp(t,e,i,o,f,h,v,S,O,V,J,nt,K,Q){if(t.timeoutHandle=-1,nt=e.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Cp(e,h,nt);var xt=(h&62914560)===h?vu-Fe():(h&4194048)===h?Np-Fe():0;if(xt=Q_(nt,xt),xt!==null){Ii=h,t.cancelPendingCommit=xt(Vp.bind(null,t,e,h,i,o,f,v,S,O,J,nt,null,K,Q)),Da(t,h,v,!V);return}}Vp(t,e,h,i,o,f,v,S,O)}function c_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],h=f.getSnapshot;f=f.value;try{if(!Re(h(),f))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e,i,o){e&=~qf,e&=~Hs,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var f=e;0<f;){var h=31-Je(f),v=1<<h;o[h]=-1,f&=~v}i!==0&&_l(t,i,e)}function xu(){return(Wt&6)===0?(Vo(0),!1):!0}function If(){if(qt!==null){if(ee===0)var t=qt.return;else t=qt,Xn=pi=null,uf(t),xr=null,Ao=0,t=qt;for(;t!==null;)dp(t.alternate,t),t=t.return;qt=null}}function Or(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,M_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ii=0,If(),le=t,qt=i=kn(t.current,null),Yt=e,ee=0,Sn=null,Na=!1,Cr=as(t,e),Zf=!1,Lr=En=qf=Hs=ka=ve=0,dn=qo=null,Gf=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var f=31-Je(o),h=1<<f;e|=t[f],o&=~h}return Ki=e,As(),i}function Up(t,e){Bt=null,M.H=Bo,e===br||e===Fl?(e=$d(),ee=3):e===Fc?(e=$d(),ee=4):ee=e===Tf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sn=e,qt===null&&(ve=1,cu(t,r(e,t.current)))}function jp(){var t=xn.current;return t===null?!0:(Yt&4194048)===Yt?Bn===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?t===Bn:!1}function Hp(){var t=M.H;return M.H=Bo,t===null?Bo:t}function Pp(){var t=M.A;return M.A=l_,t}function wu(){ve=4,Na||(Yt&4194048)!==Yt&&xn.current!==null||(Cr=!0),(ka&134217727)===0&&(Hs&134217727)===0||le===null||Da(le,Yt,En,!1)}function Qf(t,e,i){var o=Wt;Wt|=2;var f=Hp(),h=Pp();(le!==t||Yt!==e)&&(bu=null,Or(t,e)),e=!1;var v=ve;t:do try{if(ee!==0&&qt!==null){var S=qt,O=Sn;switch(ee){case 8:If(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var V=ee;if(ee=0,Sn=null,Nr(t,S,O,V),i&&Cr){v=0;break t}break;default:V=ee,ee=0,Sn=null,Nr(t,S,O,V)}}f_(),v=ve;break}catch(J){Up(t,J)}while(!0);return e&&t.shellSuspendCounter++,Xn=pi=null,Wt=o,M.H=f,M.A=h,qt===null&&(le=null,Yt=0,As()),v}function f_(){for(;qt!==null;)Zp(qt)}function h_(t,e){var i=Wt;Wt|=2;var o=Hp(),f=Pp();le!==t||Yt!==e?(bu=null,_u=Fe()+500,Or(t,e)):Cr=as(t,e);t:do try{if(ee!==0&&qt!==null){e=qt;var h=Sn;e:switch(ee){case 1:ee=0,Sn=null,Nr(t,e,h,1);break;case 2:case 9:if(Jd(h)){ee=0,Sn=null,qp(e);break}e=function(){ee!==2&&ee!==9||le!==t||(ee=7),yi(t)},h.then(e,e);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Jd(h)?(ee=0,Sn=null,qp(e)):(ee=0,Sn=null,Nr(t,e,h,7));break;case 5:var v=null;switch(qt.tag){case 26:v=qt.memoizedState;case 5:case 27:var S=qt;if(v?zg(v):S.stateNode.complete){ee=0,Sn=null;var O=S.sibling;if(O!==null)qt=O;else{var V=S.return;V!==null?(qt=V,Su(V)):qt=null}break e}}ee=0,Sn=null,Nr(t,e,h,5);break;case 6:ee=0,Sn=null,Nr(t,e,h,6);break;case 8:If(),ve=6;break t;default:throw Error(c(462))}}d_();break}catch(J){Up(t,J)}while(!0);return Xn=pi=null,M.H=o,M.A=f,Wt=i,qt!==null?0:(le=null,Yt=0,As(),ve)}function d_(){for(;qt!==null&&!pl();)Zp(qt)}function Zp(t){var e=fp(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,e===null?Su(t):qt=e}function qp(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=sp(i,e,e.pendingProps,e.type,void 0,Yt);break;case 11:e=sp(i,e,e.pendingProps,e.type.render,e.ref,Yt);break;case 5:uf(e);default:dp(i,e),e=qt=_o(e,Ki),e=fp(i,e,Ki)}t.memoizedProps=t.pendingProps,e===null?Su(t):qt=e}function Nr(t,e,i,o){Xn=pi=null,uf(e),xr=null,Ao=0;var f=e.return;try{if(e_(t,f,e,i,Yt)){ve=1,cu(t,r(i,t.current)),qt=null;return}}catch(h){if(f!==null)throw qt=f,h;ve=1,cu(t,r(i,t.current)),qt=null;return}e.flags&32768?(Zt||o===1?t=!0:Cr||(Yt&536870912)!==0?t=!1:(Na=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gp(e,t)):Su(e)}function Su(t){var e=t;do{if((e.flags&32768)!==0){Gp(e,Na);return}t=e.return;var i=a_(e.alternate,e,Ki);if(i!==null){qt=i;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);ve===0&&(ve=5)}function Gp(t,e){do{var i=s_(t.alternate,t);if(i!==null){i.flags&=32767,qt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){qt=t;return}qt=t=i}while(t!==null);ve=6,qt=null}function Vp(t,e,i,o,f,h,v,S,O){t.cancelPendingCommit=null;do Eu();while(Ne!==0);if((Wt&6)!==0)throw Error(c(327));if(e!==null){if(e===t.current)throw Error(c(177));if(h=e.lanes|e.childLanes,h|=dr,Lc(t,i,h,v,S,O),t===le&&(qt=le=null,Yt=0),Mr=e,Ra=t,Ii=i,Vf=h,Yf=f,kp=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,y_($a,function(){return Xp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,f=I.p,I.p=2,v=Wt,Wt|=4;try{r_(t,e,i)}finally{Wt=v,I.p=f,M.T=o}}Ne=1,Yp(),Kp(),Ip()}}function Yp(){if(Ne===1){Ne=0;var t=Ra,e=Mr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var o=I.p;I.p=2;var f=Wt;Wt|=4;try{Tp(e,t);var h=rh,v=xs(t.containerInfo),S=h.focusedElem,O=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&ur(S.ownerDocument.documentElement,S)){if(O!==null&&li(S)){var V=O.start,J=O.end;if(J===void 0&&(J=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var Q=K.getSelection(),xt=S.textContent.length,Ct=Math.min(O.start,xt),re=O.end===void 0?Ct:Math.min(O.end,xt);!Q.extend&&Ct>re&&(v=re,re=Ct,Ct=v);var R=bs(S,Ct),k=bs(S,re);if(R&&k&&(Q.rangeCount!==1||Q.anchorNode!==R.node||Q.anchorOffset!==R.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var G=nt.createRange();G.setStart(R.node,R.offset),Q.removeAllRanges(),Ct>re?(Q.addRange(G),Q.extend(k.node,k.offset)):(G.setEnd(k.node,k.offset),Q.addRange(G))}}}}for(nt=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var $=nt[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Du=!!sh,rh=sh=null}finally{Wt=f,I.p=o,M.T=i}}t.current=e,Ne=2}}function Kp(){if(Ne===2){Ne=0;var t=Ra,e=Mr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var o=I.p;I.p=2;var f=Wt;Wt|=4;try{bp(t,e.alternate,e)}finally{Wt=f,I.p=o,M.T=i}}Ne=3}}function Ip(){if(Ne===4||Ne===3){Ne=0,gl();var t=Ra,e=Mr,i=Ii,o=kp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ne=5:(Ne=0,Mr=Ra=null,Qp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ba=null),St(i),e=e.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ra,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=M.T,f=I.p,I.p=2,M.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{M.T=e,I.p=f}}(Ii&3)!==0&&Eu(),yi(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===Kf?Go++:(Go=0,Kf=t):Go=0,Vo(0)}}function Qp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Eo(e)))}function Eu(){return Yp(),Kp(),Ip(),Xp()}function Xp(){if(Ne!==5)return!1;var t=Ra,e=Vf;Vf=0;var i=St(Ii),o=M.T,f=I.p;try{I.p=32>i?32:i,M.T=null,i=Yf,Yf=null;var h=Ra,v=Ii;if(Ne=0,Mr=Ra=null,Ii=0,(Wt&6)!==0)throw Error(c(331));var S=Wt;if(Wt|=4,Mp(h.current),zp(h,h.current,v,i),Wt=S,Vo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ra,h)}catch{}return!0}finally{I.p=f,M.T=o,Qp(t,e)}}function Fp(t,e,i){e=r(i,e),e=Ef(t.stateNode,e,2),t=Ca(t,e,2),t!==null&&(Ai(t,2),yi(t))}function ne(t,e,i){if(t.tag===3)Fp(t,t,i);else for(;e!==null;){if(e.tag===3){Fp(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ba===null||!Ba.has(o))){t=r(i,t),i=Jm(2),o=Ca(e,i,2),o!==null&&(Wm(i,o,e,t),Ai(o,2),yi(o));break}}e=e.return}}function Xf(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new u_;var f=new Set;o.set(e,f)}else f=o.get(e),f===void 0&&(f=new Set,o.set(e,f));f.has(i)||(Zf=!0,f.add(i),t=m_.bind(null,t,e,i),e.then(t,t))}function m_(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,le===t&&(Yt&i)===i&&(ve===4||ve===3&&(Yt&62914560)===Yt&&300>Fe()-vu?(Wt&2)===0&&Or(t,0):qf|=i,Lr===Yt&&(Lr=0)),yi(t)}function Jp(t,e){e===0&&(e=vl()),t=Nn(t,e),t!==null&&(Ai(t,e),yi(t))}function p_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Jp(t,i)}function g_(t,e){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(c(314))}o!==null&&o.delete(e),Jp(t,i)}function y_(t,e){return sa(t,e)}var Tu=null,kr=null,Ff=!1,Au=!1,Jf=!1,Ua=0;function yi(t){t!==kr&&t.next===null&&(kr===null?Tu=kr=t:kr=kr.next=t),Au=!0,Ff||(Ff=!0,__())}function Vo(t,e){if(!Jf&&Au){Jf=!0;do for(var i=!1,o=Tu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-Je(42|t)+1)-1,h&=f&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,eg(o,h))}else h=Yt,h=Js(o,o===le?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||as(o,h)||(i=!0,eg(o,h));o=o.next}while(i);Jf=!1}}function v_(){Wp()}function Wp(){Au=Ff=!1;var t=0;Ua!==0&&L_()&&(t=Ua);for(var e=Fe(),i=null,o=Tu;o!==null;){var f=o.next,h=$p(o,e);h===0?(o.next=null,i===null?Tu=f:i.next=f,f===null&&(kr=i)):(i=o,(t!==0||(h&3)!==0)&&(Au=!0)),o=f}Ne!==0&&Ne!==5||Vo(t),Ua!==0&&(Ua=0)}function $p(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-Je(h),S=1<<v,O=f[v];O===-1?((S&i)===0||(S&o)!==0)&&(f[v]=Cc(S,e)):O<=e&&(t.expiredLanes|=S),h&=~S}if(e=le,i=Yt,i=Js(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===e&&(ee===2||ee===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||as(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&Ei(o),St(i)){case 2:case 8:i=Xr;break;case 32:i=$a;break;case 268435456:i=Fr;break;default:i=$a}return o=tg.bind(null,t),i=sa(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&Ei(o),t.callbackPriority=2,t.callbackNode=null,2}function tg(t,e){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Eu()&&t.callbackNode!==i)return null;var o=Yt;return o=Js(t,t===le?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Rp(t,o,e),$p(t,Fe()),t.callbackNode!=null&&t.callbackNode===i?tg.bind(null,t):null)}function eg(t,e){if(Eu())return null;Rp(t,e,!0)}function __(){O_(function(){(Wt&6)!==0?sa(Fs,v_):Wp()})}function Wf(){if(Ua===0){var t=vr;t===0&&(t=es,es<<=1,(es&261888)===0&&(es=256)),Ua=t}return Ua}function ng(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function ig(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function b_(t,e,i,o,f){if(e==="submit"&&i&&i.stateNode===f){var h=ng((f[Be]||null).action),v=o.submitter;v&&(e=(e=v[Be]||null)?ng(e.formAction):v.getAttribute("formAction"),e!==null&&(h=e,v=null));var S=new nr("action","action",null,o,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ua!==0){var O=v?ig(f,v):new FormData(f);vf(i,{pending:!0,data:O,method:f.method,action:h},null,O)}}else typeof h=="function"&&(S.preventDefault(),O=v?ig(f,v):new FormData(f),vf(i,{pending:!0,data:O,method:f.method,action:h},h,O))},currentTarget:f}]})}}for(var $f=0;$f<fi.length;$f++){var th=fi[$f],x_=th.toLowerCase(),w_=th[0].toUpperCase()+th.slice(1);on(x_,"on"+w_)}on(Ss,"onAnimationEnd"),on(Vl,"onAnimationIteration"),on(Es,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(qc,"onTransitionRun"),on(Yl,"onTransitionStart"),on(Gc,"onTransitionCancel"),on(Sa,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function ag(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var v=o.length-1;0<=v;v--){var S=o[v],O=S.instance,V=S.currentTarget;if(S=S.listener,O!==h&&f.isPropagationStopped())break t;h=S,f.currentTarget=V;try{h(f)}catch(J){Ts(J)}f.currentTarget=null,h=O}else for(v=0;v<o.length;v++){if(S=o[v],O=S.instance,V=S.currentTarget,S=S.listener,O!==h&&f.isPropagationStopped())break t;h=S,f.currentTarget=V;try{h(f)}catch(J){Ts(J)}f.currentTarget=null,h=O}}}}function Gt(t,e){var i=e[ni];i===void 0&&(i=e[ni]=new Set);var o=t+"__bubble";i.has(o)||(sg(e,t,2,!1),i.add(o))}function eh(t,e,i){var o=0;e&&(o|=4),sg(i,t,o,e)}var zu="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[zu]){t[zu]=!0,El.forEach(function(i){i!=="selectionchange"&&(S_.has(i)||eh(i,!1,t),eh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zu]||(e[zu]=!0,eh("selectionchange",!1,e))}}function sg(t,e,i,o){switch(Bg(e)){case 2:var f=J_;break;case 8:f=W_;break;default:f=yh}i=f.bind(null,e,i,t),f=void 0,!fs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(e,i,{capture:!0,passive:f}):t.addEventListener(e,i,!0):f!==void 0?t.addEventListener(e,i,{passive:f}):t.addEventListener(e,i,!1)}function ih(t,e,i,o,f){var h=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=o.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=Ci(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){o=h=v;continue t}S=S.parentNode}}o=o.return}oo(function(){var V=h,J=cs(i),nt=[];t:{var K=Kl.get(t);if(K!==void 0){var Q=nr,xt=t;switch(t){case"keypress":if(hs(i)===0)break t;case"keydown":case"keyup":Q=Nl;break;case"focusin":xt="focus",Q=co;break;case"focusout":xt="blur",Q=co;break;case"beforeblur":case"afterblur":Q=co;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Dc;break;case Ss:case Vl:case Es:Q=fo;break;case Sa:Q=Rl;break;case"scroll":case"scrollend":Q=Vt;break;case"wheel":Q=ki;break;case"copy":case"cut":case"paste":Q=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=kl;break;case"toggle":case"beforetoggle":Q=ps}var Ct=(e&4)!==0,re=!Ct&&(t==="scroll"||t==="scrollend"),R=Ct?K!==null?K+"Capture":null:K;Ct=[];for(var k=V,G;k!==null;){var $=k;if(G=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||G===null||R===null||($=Oi(k,R),$!=null&&Ct.push(Ko(k,$,G))),re)break;k=k.return}0<Ct.length&&(K=new Q(K,xt,null,i,J),nt.push({event:K,listeners:Ct}))}}if((e&7)===0){t:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&i!==er&&(xt=i.relatedTarget||i.fromElement)&&(Ci(xt)||xt[zi]))break t;if((Q||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(xt=i.relatedTarget||i.toElement,Q=V,xt=xt?Ci(xt):null,xt!==null&&(re=p(xt),Ct=xt.tag,xt!==re||Ct!==5&&Ct!==27&&Ct!==6)&&(xt=null)):(Q=null,xt=V),Q!==xt)){if(Ct=zl,$="onMouseLeave",R="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ct=kl,$="onPointerLeave",R="onPointerEnter",k="pointer"),re=Q==null?K:ii(Q),G=xt==null?K:ii(xt),K=new Ct($,k+"leave",Q,i,J),K.target=re,K.relatedTarget=G,$=null,Ci(J)===V&&(Ct=new Ct(R,k+"enter",xt,i,J),Ct.target=G,Ct.relatedTarget=re,$=Ct),re=$,Q&&xt)e:{for(Ct=E_,R=Q,k=xt,G=0,$=R;$;$=Ct($))G++;$=0;for(var Tt=k;Tt;Tt=Ct(Tt))$++;for(;0<G-$;)R=Ct(R),G--;for(;0<$-G;)k=Ct(k),$--;for(;G--;){if(R===k||k!==null&&R===k.alternate){Ct=R;break e}R=Ct(R),k=Ct(k)}Ct=null}else Ct=null;Q!==null&&rg(nt,K,Q,Ct,!1),xt!==null&&re!==null&&rg(nt,re,xt,Ct,!0)}}t:{if(K=V?ii(V):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Xt=_s;else if(Ln(K))if(Hl)Xt=Zc;else{Xt=Pc;var wt=Kn}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?V&&us(V.elementType)&&(Xt=_s):Xt=_a;if(Xt&&(Xt=Xt(t,V))){jl(nt,Xt,i,J);break t}wt&&wt(t,K,V),t==="focusout"&&V&&K.type==="number"&&V.memoizedProps.value!=null&&Gn(K,"number",K.value)}switch(wt=V?ii(V):window,t){case"focusin":(Ln(wt)||wt.contentEditable==="true")&&(ui=wt,fr=V,ws=null);break;case"focusout":ws=fr=ui=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,ql(nt,i,J);break;case"selectionchange":if(cr)break;case"keydown":case"keyup":ql(nt,i,J)}var Dt;if(ar)t:{switch(t){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else ga?Ul(t,i)&&(Kt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Kt="onCompositionStart");Kt&&(sr&&i.locale!=="ko"&&(ga||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&ga&&(Dt=ri()):(zn=J,Ni="value"in zn?zn.value:zn.textContent,ga=!0)),wt=Cu(V,Kt),0<wt.length&&(Kt=new ho(Kt,t,null,i,J),nt.push({event:Kt,listeners:wt}),Dt?Kt.data=Dt:(Dt=yo(i),Dt!==null&&(Kt.data=Dt)))),(Dt=jc?bn(t,i):ya(t,i))&&(Kt=Cu(V,"onBeforeInput"),0<Kt.length&&(wt=new ho("onBeforeInput","beforeinput",null,i,J),nt.push({event:wt,listeners:Kt}),wt.data=Dt)),b_(nt,t,V,i,J)}ag(nt,e)})}function Ko(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Cu(t,e){for(var i=e+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Oi(t,i),f!=null&&o.unshift(Ko(t,f,h)),f=Oi(t,e),f!=null&&o.push(Ko(t,f,h))),t.tag===3)return o;t=t.return}return[]}function E_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rg(t,e,i,o,f){for(var h=e._reactName,v=[];i!==null&&i!==o;){var S=i,O=S.alternate,V=S.stateNode;if(S=S.tag,O!==null&&O===o)break;S!==5&&S!==26&&S!==27||V===null||(O=V,f?(V=Oi(i,h),V!=null&&v.unshift(Ko(i,V,O))):f||(V=Oi(i,h),V!=null&&v.push(Ko(i,V,O)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var T_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function og(t){return(typeof t=="string"?t:""+t).replace(T_,`
`).replace(A_,"")}function lg(t,e){return e=og(e),og(t)===e}function se(t,e,i,o,f,h){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||An(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&An(t,""+o);break;case"className":ie(t,"class",o);break;case"tabIndex":ie(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ie(t,i,o);break;case"style":$s(t,o,h);break;case"data":if(e!=="object"){ie(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=ha(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&se(t,e,"name",f.name,f,null),se(t,e,"formEncType",f.formEncType,f,null),se(t,e,"formMethod",f.formMethod,f,null),se(t,e,"formTarget",f.formTarget,f,null)):(se(t,e,"encType",f.encType,f,null),se(t,e,"method",f.method,f,null),se(t,e,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=ha(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=sn);break;case"onScroll":o!=null&&Gt("scroll",t);break;case"onScrollEnd":o!=null&&Gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=ha(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Gt("beforetoggle",t),Gt("toggle",t),Pt(t,"popover",o);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Pt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=tr.get(i)||i,Pt(t,i,o))}}function ah(t,e,i,o,f,h){switch(i){case"style":$s(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"children":typeof o=="string"?An(t,o):(typeof o=="number"||typeof o=="bigint")&&An(t,""+o);break;case"onScroll":o!=null&&Gt("scroll",t);break;case"onScrollEnd":o!=null&&Gt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),e=i.slice(2,f?i.length-7:void 0),h=t[Be]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,f);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Pt(t,i,o)}}}function Ge(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",t),Gt("load",t);var o=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var v=i[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:se(t,e,h,v,i,null)}}f&&se(t,e,"srcSet",i.srcSet,i,null),o&&se(t,e,"src",i.src,i,null);return;case"input":Gt("invalid",t);var S=h=v=f=null,O=null,V=null;for(o in i)if(i.hasOwnProperty(o)){var J=i[o];if(J!=null)switch(o){case"name":f=J;break;case"type":v=J;break;case"checked":O=J;break;case"defaultChecked":V=J;break;case"value":h=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,e));break;default:se(t,e,o,J,i,null)}}ls(t,h,S,O,V,v,f,!1);return;case"select":Gt("invalid",t),o=v=h=null;for(f in i)if(i.hasOwnProperty(f)&&(S=i[f],S!=null))switch(f){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:se(t,e,f,S,i,null)}e=h,i=v,t.multiple=!!o,e!=null?oe(t,!!o,e,!1):i!=null&&oe(t,!!o,i,!0);return;case"textarea":Gt("invalid",t),h=f=o=null;for(v in i)if(i.hasOwnProperty(v)&&(S=i[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":f=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(c(91));break;default:se(t,e,v,S,i,null)}ca(t,o,f,h);return;case"option":for(O in i)i.hasOwnProperty(O)&&(o=i[O],o!=null)&&(O==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":se(t,e,O,o,i,null));return;case"dialog":Gt("beforetoggle",t),Gt("toggle",t),Gt("cancel",t),Gt("close",t);break;case"iframe":case"object":Gt("load",t);break;case"video":case"audio":for(o=0;o<Yo.length;o++)Gt(Yo[o],t);break;case"image":Gt("error",t),Gt("load",t);break;case"details":Gt("toggle",t);break;case"embed":case"source":case"link":Gt("error",t),Gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in i)if(i.hasOwnProperty(V)&&(o=i[V],o!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:se(t,e,V,o,i,null)}return;default:if(us(e)){for(J in i)i.hasOwnProperty(J)&&(o=i[J],o!==void 0&&ah(t,e,J,o,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(o=i[S],o!=null&&se(t,e,S,o,i,null))}function z_(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,S=null,O=null,V=null,J=null;for(Q in i){var nt=i[Q];if(i.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=nt;default:o.hasOwnProperty(Q)||se(t,e,Q,null,o,nt)}}for(var K in o){var Q=o[K];if(nt=i[K],o.hasOwnProperty(K)&&(Q!=null||nt!=null))switch(K){case"type":h=Q;break;case"name":f=Q;break;case"checked":V=Q;break;case"defaultChecked":J=Q;break;case"value":v=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,e));break;default:Q!==nt&&se(t,e,K,Q,o,nt)}}ao(t,v,S,O,V,J,h,f);return;case"select":Q=v=S=K=null;for(h in i)if(O=i[h],i.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":Q=O;default:o.hasOwnProperty(h)||se(t,e,h,null,o,O)}for(f in o)if(h=o[f],O=i[f],o.hasOwnProperty(f)&&(h!=null||O!=null))switch(f){case"value":K=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==O&&se(t,e,f,h,o,O)}e=S,i=v,o=Q,K!=null?oe(t,!!i,K,!1):!!o!=!!i&&(e!=null?oe(t,!!i,e,!0):oe(t,!!i,i?[]:"",!1));return;case"textarea":Q=K=null;for(S in i)if(f=i[S],i.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(t,e,S,null,o,f)}for(v in o)if(f=o[v],h=i[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:f!==h&&se(t,e,v,f,o,h)}si(t,K,Q);return;case"option":for(var xt in i)K=i[xt],i.hasOwnProperty(xt)&&K!=null&&!o.hasOwnProperty(xt)&&(xt==="selected"?t.selected=!1:se(t,e,xt,null,o,K));for(O in o)K=o[O],Q=i[O],o.hasOwnProperty(O)&&K!==Q&&(K!=null||Q!=null)&&(O==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":se(t,e,O,K,o,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in i)K=i[Ct],i.hasOwnProperty(Ct)&&K!=null&&!o.hasOwnProperty(Ct)&&se(t,e,Ct,null,o,K);for(V in o)if(K=o[V],Q=i[V],o.hasOwnProperty(V)&&K!==Q&&(K!=null||Q!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(137,e));break;default:se(t,e,V,K,o,Q)}return;default:if(us(e)){for(var re in i)K=i[re],i.hasOwnProperty(re)&&K!==void 0&&!o.hasOwnProperty(re)&&ah(t,e,re,void 0,o,K);for(J in o)K=o[J],Q=i[J],!o.hasOwnProperty(J)||K===Q||K===void 0&&Q===void 0||ah(t,e,J,K,o,Q);return}}for(var R in i)K=i[R],i.hasOwnProperty(R)&&K!=null&&!o.hasOwnProperty(R)&&se(t,e,R,null,o,K);for(nt in o)K=o[nt],Q=i[nt],!o.hasOwnProperty(nt)||K===Q||K==null&&Q==null||se(t,e,nt,K,o,Q)}function ug(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],h=f.transferSize,v=f.initiatorType,S=f.duration;if(h&&S&&ug(v)){for(v=0,S=f.responseEnd,o+=1;o<i.length;o++){var O=i[o],V=O.startTime;if(V>S)break;var J=O.transferSize,nt=O.initiatorType;J&&ug(nt)&&(O=O.responseEnd,v+=J*(O<S?1:(S-V)/(O-V)))}if(--o,e+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sh=null,rh=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function cg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=null;function L_(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var hg=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,O_=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(t){return dg.resolve(null).then(t).catch(N_)}:hg;function N_(t){setTimeout(function(){throw t})}function ja(t){return t==="head"}function mg(t,e){var i=e,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Ur(e);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Io(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Io(i);for(var h=i.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[ss]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=v}}else i==="body"&&Io(t.ownerDocument.body);i=f}while(i);Ur(e)}function pg(t,e){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function uh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":uh(i),to(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function k_(t,e,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ss])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Rn(t.nextSibling),t===null)break}return null}function B_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Rn(t.nextSibling),t===null))return null;return t}function gg(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Rn(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$?"||t.data==="$~"}function fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function R_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var o=function(){e(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var hh=null;function yg(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Rn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function vg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function _g(t,e,i){switch(e=Lu(i),t){case"html":if(t=e.documentElement,!t)throw Error(c(452));return t;case"head":if(t=e.head,!t)throw Error(c(453));return t;case"body":if(t=e.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function Io(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);to(t)}var Dn=new Map,bg=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=I.d;I.d={f:D_,r:U_,D:j_,C:H_,L:P_,m:Z_,X:G_,S:q_,M:V_};function D_(){var t=Qi.f(),e=xu();return t||e}function U_(t){var e=oa(t);e!==null&&e.tag===5&&e.type==="form"?Um(e):Qi.r(t)}var Br=typeof document>"u"?null:document;function xg(t,e,i){var o=Br;if(o&&typeof e=="string"&&e){var f=ue(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),bg.has(f)||(bg.add(f),t={rel:t,crossOrigin:i,href:e},o.querySelector(f)===null&&(e=o.createElement("link"),Ge(e,"link",t),Ee(e),o.head.appendChild(e)))}}function j_(t){Qi.D(t),xg("dns-prefetch",t,null)}function H_(t,e){Qi.C(t,e),xg("preconnect",t,e)}function P_(t,e,i){Qi.L(t,e,i);var o=Br;if(o&&t&&e){var f='link[rel="preload"][as="'+ue(e)+'"]';e==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+ue(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+ue(i.imageSizes)+'"]')):f+='[href="'+ue(t)+'"]';var h=f;switch(e){case"style":h=Rr(t);break;case"script":h=Dr(t)}Dn.has(h)||(t=T({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Dn.set(h,t),o.querySelector(f)!==null||e==="style"&&o.querySelector(Qo(h))||e==="script"&&o.querySelector(Xo(h))||(e=o.createElement("link"),Ge(e,"link",t),Ee(e),o.head.appendChild(e)))}}function Z_(t,e){Qi.m(t,e);var i=Br;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+ue(o)+'"][href="'+ue(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Dr(t)}if(!Dn.has(h)&&(t=T({rel:"modulepreload",href:t},e),Dn.set(h,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Xo(h)))return}o=i.createElement("link"),Ge(o,"link",t),Ee(o),i.head.appendChild(o)}}}function q_(t,e,i){Qi.S(t,e,i);var o=Br;if(o&&t){var f=la(o).hoistableStyles,h=Rr(t);e=e||"default";var v=f.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(Qo(h)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Dn.get(h))&&dh(t,i);var O=v=o.createElement("link");Ee(O),Ge(O,"link",t),O._p=new Promise(function(V,J){O.onload=V,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ou(v,e,o)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(h,v)}}}function G_(t,e){Qi.X(t,e);var i=Br;if(i&&t){var o=la(i).hoistableScripts,f=Dr(t),h=o.get(f);h||(h=i.querySelector(Xo(f)),h||(t=T({src:t,async:!0},e),(e=Dn.get(f))&&mh(t,e),h=i.createElement("script"),Ee(h),Ge(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function V_(t,e){Qi.M(t,e);var i=Br;if(i&&t){var o=la(i).hoistableScripts,f=Dr(t),h=o.get(f);h||(h=i.querySelector(Xo(f)),h||(t=T({src:t,async:!0,type:"module"},e),(e=Dn.get(f))&&mh(t,e),h=i.createElement("script"),Ee(h),Ge(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function wg(t,e,i,o){var f=(f=ht.current)?Mu(f):null;if(!f)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Rr(i.href),i=la(f).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Rr(i.href);var h=la(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(Qo(t)))&&!h._p&&(v.instance=h,v.state.loading=5),Dn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Dn.set(t,i),h||Y_(f,t,i,v.state))),e&&o===null)throw Error(c(528,""));return v}if(e&&o!==null)throw Error(c(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Dr(i),i=la(f).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Rr(t){return'href="'+ue(t)+'"'}function Qo(t){return'link[rel="stylesheet"]['+t+"]"}function Sg(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Y_(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),Ge(e,"link",i),Ee(e),t.head.appendChild(e))}function Dr(t){return'[src="'+ue(t)+'"]'}function Xo(t){return"script[async]"+t}function Eg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+ue(i.href)+'"]');if(o)return e.instance=o,Ee(o),o;var f=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ee(o),Ge(o,"style",f),Ou(o,i.precedence,t),e.instance=o;case"stylesheet":f=Rr(i.href);var h=t.querySelector(Qo(f));if(h)return e.state.loading|=4,e.instance=h,Ee(h),h;o=Sg(i),(f=Dn.get(f))&&dh(o,f),h=(t.ownerDocument||t).createElement("link"),Ee(h);var v=h;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Ge(h,"link",o),e.state.loading|=4,Ou(h,i.precedence,t),e.instance=h;case"script":return h=Dr(i.src),(f=t.querySelector(Xo(h)))?(e.instance=f,Ee(f),f):(o=i,(f=Dn.get(h))&&(o=T({},i),mh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ee(f),Ge(f,"link",o),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(c(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,Ou(o,i.precedence,t));return e.instance}function Ou(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===e)h=S;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function dh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nu=null;function Tg(t,e,i){if(Nu===null){var o=new Map,f=Nu=new Map;f.set(i,o)}else f=Nu,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[ss]||h[Se]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(e)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function Ag(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function K_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function zg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function I_(t,e,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Rr(o.href),h=e.querySelector(Qo(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ku.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,Ee(h);return}h=e.ownerDocument||e,o=Sg(o),(f=Dn.get(f))&&dh(o,f),h=h.createElement("link"),Ee(h);var v=h;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Ge(h,"link",o),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ku.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var ph=0;function Q_(t,e){return t.stylesheets&&t.count===0&&Ru(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Ru(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&ph===0&&(ph=62500*C_());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ru(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>ph?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function Ru(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,e.forEach(X_,t),Bu=null,ku.call(t))}function X_(t,e){if(!(e.state.loading&4)){var i=Bu.get(t);if(i)var o=i.get(null);else{i=new Map,Bu.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}f=e.instance,v=f.getAttribute("data-precedence"),h=i.get(v)||o,h===o&&i.set(null,f),i.set(v,f),this.count++,o=ku.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var Fo={$$typeof:ot,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function F_(t,e,i,o,f,h,v,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Cg(t,e,i,o,f,h,v,S,O,V,J,nt){return t=new F_(t,e,i,v,O,V,J,nt,S),e=1,h===!0&&(e|=24),h=Ke(3,null,null,e),t.current=h,h.stateNode=t,e=Ic(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:e},Jc(h),t}function Lg(t){return t?(t=Bi,t):Bi}function Mg(t,e,i,o,f,h){f=Lg(f),o.context===null?o.context=f:o.pendingContext=f,o=za(e),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Ca(t,o,e),i!==null&&(mn(i,t,e),Co(i,t,e))}function Og(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function gh(t,e){Og(t,e),(t=t.alternate)&&Og(t,e)}function Ng(t){if(t.tag===13||t.tag===31){var e=Nn(t,67108864);e!==null&&mn(e,t,67108864),gh(t,67108864)}}function kg(t){if(t.tag===13||t.tag===31){var e=Tn();e=nn(e);var i=Nn(t,e);i!==null&&mn(i,t,e),gh(t,e)}}var Du=!0;function J_(t,e,i,o){var f=M.T;M.T=null;var h=I.p;try{I.p=2,yh(t,e,i,o)}finally{I.p=h,M.T=f}}function W_(t,e,i,o){var f=M.T;M.T=null;var h=I.p;try{I.p=8,yh(t,e,i,o)}finally{I.p=h,M.T=f}}function yh(t,e,i,o){if(Du){var f=vh(o);if(f===null)ih(t,e,o,Uu,i),Rg(t,o);else if(tb(f,t,e,i,o))o.stopPropagation();else if(Rg(t,o),e&4&&-1<$_.indexOf(t)){for(;f!==null;){var h=oa(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Ti(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-Je(v);S.entanglements[1]|=O,v&=~O}yi(h),(Wt&6)===0&&(_u=Fe()+500,Vo(0))}}break;case 31:case 13:S=Nn(h,2),S!==null&&mn(S,h,2),xu(),gh(h,2)}if(h=vh(o),h===null&&ih(t,e,o,Uu,i),h===f)break;f=h}f!==null&&o.stopPropagation()}else ih(t,e,o,null,i)}}function vh(t){return t=cs(t),_h(t)}var Uu=null;function _h(t){if(Uu=null,t=Ci(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Uu=t,null}function Bg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sc()){case Fs:return 2;case Xr:return 8;case $a:case Ec:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var bh=!1,Ha=null,Pa=null,Za=null,Jo=new Map,Wo=new Map,qa=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(t,e){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(e.pointerId)}}function $o(t,e,i,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},e!==null&&(e=oa(e),e!==null&&Ng(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function tb(t,e,i,o,f){switch(e){case"focusin":return Ha=$o(Ha,t,e,i,o,f),!0;case"dragenter":return Pa=$o(Pa,t,e,i,o,f),!0;case"mouseover":return Za=$o(Za,t,e,i,o,f),!0;case"pointerover":var h=f.pointerId;return Jo.set(h,$o(Jo.get(h)||null,t,e,i,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Wo.set(h,$o(Wo.get(h)||null,t,e,i,o,f)),!0}return!1}function Dg(t){var e=Ci(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,$r(t.priority,function(){kg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,$r(t.priority,function(){kg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=vh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);er=o,i.target.dispatchEvent(o),er=null}else return e=oa(i),e!==null&&Ng(e),t.blockedOn=i,!1;e.shift()}return!0}function Ug(t,e,i){ju(t)&&i.delete(e)}function eb(){bh=!1,Ha!==null&&ju(Ha)&&(Ha=null),Pa!==null&&ju(Pa)&&(Pa=null),Za!==null&&ju(Za)&&(Za=null),Jo.forEach(Ug),Wo.forEach(Ug)}function Hu(t,e){t.blockedOn===e&&(t.blockedOn=null,bh||(bh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,eb)))}var Pu=null;function jg(t){Pu!==t&&(Pu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],f=t[e+2];if(typeof o!="function"){if(_h(o||i)===null)continue;break}var h=oa(i);h!==null&&(t.splice(e,3),e-=3,vf(h,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Ur(t){function e(O){return Hu(O,t)}Ha!==null&&Hu(Ha,t),Pa!==null&&Hu(Pa,t),Za!==null&&Hu(Za,t),Jo.forEach(e),Wo.forEach(e);for(var i=0;i<qa.length;i++){var o=qa[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<qa.length&&(i=qa[0],i.blockedOn===null);)Dg(i),i.blockedOn===null&&qa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],v=f[Be]||null;if(typeof h=="function")v||jg(i);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Be]||null)S=v.formAction;else if(_h(f)!==null)continue}else S=v.action;typeof S=="function"?i[o+1]=S:(i.splice(o,3),o-=3),jg(i)}}}function Hg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function e(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),f!==null&&(f(),f=null)}}}function xh(t){this._internalRoot=t}Zu.prototype.render=xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(c(409));var i=e.current,o=Tn();Mg(i,o,t,e,null,null)},Zu.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mg(t.current,2,null,t,null,null),xu(),e[zi]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<qa.length&&e!==0&&e<qa[i].priority;i++);qa.splice(i,0,t),i===0&&Dg(t)}};var Pg=s.version;if(Pg!=="19.2.3")throw Error(c(527,Pg,"19.2.3"));I.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=x(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ra=qu.inject(nb),He=qu}catch{}}return el.createRoot=function(t,e){if(!d(t))throw Error(c(299));var i=!1,o="",f=Im,h=Qm,v=Xm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=Cg(t,1,!1,null,null,i,o,null,f,h,v,Hg),t[zi]=e.current,nh(t),new xh(e)},el.hydrateRoot=function(t,e,i){if(!d(t))throw Error(c(299));var o=!1,f="",h=Im,v=Qm,S=Xm,O=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),e=Cg(t,1,!0,e,i??null,o,f,O,h,v,S,Hg),e.context=Lg(null),i=e.current,o=Tn(),o=nn(o),f=za(o),f.callback=null,Ca(i,f,o),i=o,e.current.lanes=i,Ai(e,i),yi(e),t[zi]=e.current,nh(t),new Zu(e)},el.version="19.2.3",el}var Fg;function fb(){if(Fg)return Eh.exports;Fg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),Eh.exports=cb(),Eh.exports}var hb=fb();const db=ad(hb),mb="modulepreload",pb=function(a){return"/parlens-pwa/"+a},Jg={},gb=function(s,l,c){let d=Promise.resolve();if(l&&l.length>0){let x=function(A){return Promise.all(A.map(T=>Promise.resolve(T).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};var _=x;document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),y=b?.nonce||b?.getAttribute("nonce");d=x(l.map(A=>{if(A=pb(A),A in Jg)return;Jg[A]=!0;const T=A.endsWith(".css"),B=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${B}`))return;const j=document.createElement("link");if(j.rel=T?"stylesheet":mb,T||(j.as="script"),j.crossOrigin="",j.href=A,y&&j.setAttribute("nonce",y),document.head.appendChild(j),T)return new Promise((U,N)=>{j.addEventListener("load",U),j.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${A}`)))})}))}function p(b){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=b,window.dispatchEvent(y),!y.defaultPrevented)throw b}return d.then(b=>{for(const y of b||[])y.status==="rejected"&&p(y.reason);return s().catch(p)})};function Wg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Ry(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function yb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wg(a.outputLen),Wg(a.blockLen)}function Xu(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function vb(a,s){Ry(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Ch=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const Dy=a=>a instanceof Uint8Array,Lh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),vi=(a,s)=>a<<32-s|a>>>s,_b=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_b)throw new Error("Non little-endian hardware is not supported");function bb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function rd(a){if(typeof a=="string"&&(a=bb(a)),!Dy(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function xb(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!Dy(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}let Uy=class{clone(){return this._cloneInto()}};function wb(a){const s=c=>a().update(rd(c)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function jy(a=32){if(Ch&&typeof Ch.getRandomValues=="function")return Ch.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Sb(a,s,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,c);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),y=c?4:0,x=c?0:4;a.setUint32(s+y,_,c),a.setUint32(s+x,b,c)}let Eb=class extends Uy{constructor(s,l,c,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Lh(this.buffer)}update(s){Xu(this);const{view:l,buffer:c,blockLen:d}=this;s=rd(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const y=Lh(s);for(;d<=p-_;_+=d)this.process(y,_);continue}c.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){Xu(this),vb(s,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(c,0),_=0);for(let T=_;T<d;T++)l[T]=0;Sb(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Lh(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=y/4,A=this.get();if(x>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<x;T++)b.setUint32(4*T,A[T],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const c=s.slice(0,l);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(c),s}};const Tb=(a,s,l)=>a&s^~a&l,Ab=(a,s,l)=>a&s^a&l^s&l,zb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Va=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ya=new Uint32Array(64);let Cb=class extends Eb{constructor(){super(64,32,8,!1),this.A=Va[0]|0,this.B=Va[1]|0,this.C=Va[2]|0,this.D=Va[3]|0,this.E=Va[4]|0,this.F=Va[5]|0,this.G=Va[6]|0,this.H=Va[7]|0}get(){const{A:s,B:l,C:c,D:d,E:p,F:_,G:b,H:y}=this;return[s,l,c,d,p,_,b,y]}set(s,l,c,d,p,_,b,y){this.A=s|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=y|0}process(s,l){for(let T=0;T<16;T++,l+=4)Ya[T]=s.getUint32(l,!1);for(let T=16;T<64;T++){const B=Ya[T-15],j=Ya[T-2],U=vi(B,7)^vi(B,18)^B>>>3,N=vi(j,17)^vi(j,19)^j>>>10;Ya[T]=N+Ya[T-7]+U+Ya[T-16]|0}let{A:c,B:d,C:p,D:_,E:b,F:y,G:x,H:A}=this;for(let T=0;T<64;T++){const B=vi(b,6)^vi(b,11)^vi(b,25),j=A+B+Tb(b,y,x)+zb[T]+Ya[T]|0,N=(vi(c,2)^vi(c,13)^vi(c,22))+Ab(c,d,p)|0;A=x,x=y,y=b,b=_+j|0,_=p,p=d,d=c,c=j+N|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,y=y+this.F|0,x=x+this.G|0,A=A+this.H|0,this.set(c,d,p,_,b,y,x,A)}roundClean(){Ya.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Zh=wb(()=>new Cb);const Hy=BigInt(0),rc=BigInt(1),Lb=BigInt(2),oc=a=>a instanceof Uint8Array,Mb=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function qr(a){if(!oc(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=Mb[a[l]];return s}function Py(a){const s=a.toString(16);return s.length&1?`0${s}`:s}function od(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Gr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[c]=_}return l}function pn(a){return od(qr(a))}function ld(a){if(!oc(a))throw new Error("Uint8Array expected");return od(qr(Uint8Array.from(a).reverse()))}function Fa(a,s){return Gr(a.toString(16).padStart(s*2,"0"))}function ud(a,s){return Fa(a,s).reverse()}function Ob(a){return Gr(Py(a))}function Qe(a,s,l){let c;if(typeof s=="string")try{c=Gr(s)}catch(p){throw new Error(`${a} must be valid hex string, got "${s}". Cause: ${p}`)}else if(oc(s))c=Uint8Array.from(s);else throw new Error(`${a} must be hex string or Uint8Array`);const d=c.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return c}function Qs(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!oc(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}function Nb(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0}function kb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Bb(a){let s;for(s=0;a>Hy;a>>=rc,s+=1);return s}function Rb(a,s){return a>>BigInt(s)&rc}const Db=(a,s,l)=>a|(l?rc:Hy)<<BigInt(s),cd=a=>(Lb<<BigInt(a-1))-rc,Mh=a=>new Uint8Array(a),$g=a=>Uint8Array.from(a);function Zy(a,s,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let c=Mh(a),d=Mh(a),p=0;const _=()=>{c.fill(1),d.fill(0),p=0},b=(...T)=>l(d,c,...T),y=(T=Mh())=>{d=b($g([0]),T),c=b(),T.length!==0&&(d=b($g([1]),T),c=b())},x=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const B=[];for(;T<s;){c=b();const j=c.slice();B.push(j),T+=c.length}return Qs(...B)};return(T,B)=>{_(),y(T);let j;for(;!(j=B(x()));)y();return _(),j}}const Ub={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function hl(a,s,l={}){const c=(d,p,_)=>{const b=Ub[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const y=a[d];if(!(_&&y===void 0)&&!b(y,a))throw new Error(`Invalid param ${String(d)}=${y} (${typeof y}), expected ${p}`)};for(const[d,p]of Object.entries(s))c(d,p,!1);for(const[d,p]of Object.entries(l))c(d,p,!0);return a}const jb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Rb,bitLen:Bb,bitMask:cd,bitSet:Db,bytesToHex:qr,bytesToNumberBE:pn,bytesToNumberLE:ld,concatBytes:Qs,createHmacDrbg:Zy,ensureBytes:Qe,equalBytes:Nb,hexToBytes:Gr,hexToNumber:od,numberToBytesBE:Fa,numberToBytesLE:ud,numberToHexUnpadded:Py,numberToVarBytesBE:Ob,utf8ToBytes:kb,validateObject:hl},Symbol.toStringTag,{value:"Module"}));const je=BigInt(0),xe=BigInt(1),Gs=BigInt(2),Hb=BigInt(3),qh=BigInt(4),ty=BigInt(5),ey=BigInt(8);BigInt(9);BigInt(16);function Ve(a,s){const l=a%s;return l>=je?l:s+l}function Pb(a,s,l){if(l<=je||s<je)throw new Error("Expected power/modulo > 0");if(l===xe)return je;let c=xe;for(;s>je;)s&xe&&(c=c*a%l),a=a*a%l,s>>=xe;return c}function Un(a,s,l){let c=a;for(;s-- >je;)c*=c,c%=l;return c}function Gh(a,s){if(a===je||s<=je)throw new Error(`invert: expected positive integers, got n=${a} mod=${s}`);let l=Ve(a,s),c=s,d=je,p=xe;for(;l!==je;){const b=c/l,y=c%l,x=d-p*b;c=l,l=y,d=p,p=x}if(c!==xe)throw new Error("invert: does not exist");return Ve(d,s)}function Zb(a){const s=(a-xe)/Gs;let l,c,d;for(l=a-xe,c=0;l%Gs===je;l/=Gs,c++);for(d=Gs;d<a&&Pb(d,s,a)!==a-xe;d++);if(c===1){const _=(a+xe)/qh;return function(y,x){const A=y.pow(x,_);if(!y.eql(y.sqr(A),x))throw new Error("Cannot find square root");return A}}const p=(l+xe)/Gs;return function(b,y){if(b.pow(y,s)===b.neg(b.ONE))throw new Error("Cannot find square root");let x=c,A=b.pow(b.mul(b.ONE,d),l),T=b.pow(y,p),B=b.pow(y,l);for(;!b.eql(B,b.ONE);){if(b.eql(B,b.ZERO))return b.ZERO;let j=1;for(let N=b.sqr(B);j<x&&!b.eql(N,b.ONE);j++)N=b.sqr(N);const U=b.pow(A,xe<<BigInt(x-j-1));A=b.sqr(U),T=b.mul(T,U),B=b.mul(B,A),x=j}return T}}function qb(a){if(a%qh===Hb){const s=(a+xe)/qh;return function(c,d){const p=c.pow(d,s);if(!c.eql(c.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%ey===ty){const s=(a-ty)/ey;return function(c,d){const p=c.mul(d,Gs),_=c.pow(p,s),b=c.mul(d,_),y=c.mul(c.mul(b,Gs),_),x=c.mul(b,c.sub(y,c.ONE));if(!c.eql(c.sqr(x),d))throw new Error("Cannot find square root");return x}}return Zb(a)}const Gb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vb(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=Gb.reduce((c,d)=>(c[d]="function",c),s);return hl(a,l)}function Yb(a,s,l){if(l<je)throw new Error("Expected power > 0");if(l===je)return a.ONE;if(l===xe)return s;let c=a.ONE,d=s;for(;l>je;)l&xe&&(c=a.mul(c,d)),d=a.sqr(d),l>>=xe;return c}function Kb(a,s){const l=new Array(s.length),c=s.reduce((p,_,b)=>a.is0(_)?p:(l[b]=p,a.mul(p,_)),a.ONE),d=a.inv(c);return s.reduceRight((p,_,b)=>a.is0(_)?p:(l[b]=a.mul(p,l[b]),a.mul(p,_)),d),l}function qy(a,s){const l=s!==void 0?s:a.toString(2).length,c=Math.ceil(l/8);return{nBitLength:l,nByteLength:c}}function Ib(a,s,l=!1,c={}){if(a<=je)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=qy(a,s);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _=qb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:cd(d),ZERO:je,ONE:xe,create:y=>Ve(y,a),isValid:y=>{if(typeof y!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof y}`);return je<=y&&y<a},is0:y=>y===je,isOdd:y=>(y&xe)===xe,neg:y=>Ve(-y,a),eql:(y,x)=>y===x,sqr:y=>Ve(y*y,a),add:(y,x)=>Ve(y+x,a),sub:(y,x)=>Ve(y-x,a),mul:(y,x)=>Ve(y*x,a),pow:(y,x)=>Yb(b,y,x),div:(y,x)=>Ve(y*Gh(x,a),a),sqrN:y=>y*y,addN:(y,x)=>y+x,subN:(y,x)=>y-x,mulN:(y,x)=>y*x,inv:y=>Gh(y,a),sqrt:c.sqrt||(y=>_(b,y)),invertBatch:y=>Kb(b,y),cmov:(y,x,A)=>A?x:y,toBytes:y=>l?ud(y,p):Fa(y,p),fromBytes:y=>{if(y.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${y.length}`);return l?ld(y):pn(y)}});return Object.freeze(b)}function Gy(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const s=a.toString(2).length;return Math.ceil(s/8)}function Vy(a){const s=Gy(a);return s+Math.ceil(s/2)}function Qb(a,s,l=!1){const c=a.length,d=Gy(s),p=Vy(s);if(c<16||c<p||c>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${c}`);const _=l?pn(a):ld(a),b=Ve(_,s-xe)+xe;return l?ud(b,d):Fa(b,d)}const Xb=BigInt(0),Oh=BigInt(1);function Fb(a,s){const l=(d,p)=>{const _=p.negate();return d?_:p},c=d=>{const p=Math.ceil(s/d)+1,_=2**(d-1);return{windows:p,windowSize:_}};return{constTimeNegate:l,unsafeLadder(d,p){let _=a.ZERO,b=d;for(;p>Xb;)p&Oh&&(_=_.add(b)),b=b.double(),p>>=Oh;return _},precomputeWindow(d,p){const{windows:_,windowSize:b}=c(p),y=[];let x=d,A=x;for(let T=0;T<_;T++){A=x,y.push(A);for(let B=1;B<b;B++)A=A.add(x),y.push(A);x=A.double()}return y},wNAF(d,p,_){const{windows:b,windowSize:y}=c(d);let x=a.ZERO,A=a.BASE;const T=BigInt(2**d-1),B=2**d,j=BigInt(d);for(let U=0;U<b;U++){const N=U*y;let Z=Number(_&T);_>>=j,Z>y&&(Z-=B,_+=Oh);const q=N,tt=N+Math.abs(Z)-1,ot=U%2!==0,dt=Z<0;Z===0?A=A.add(l(ot,p[q])):x=x.add(l(dt,p[tt]))}return{p:x,f:A}},wNAFCached(d,p,_,b){const y=d._WINDOW_SIZE||1;let x=p.get(d);return x||(x=this.precomputeWindow(d,y),y!==1&&p.set(d,b(x))),this.wNAF(y,x,_)}}}function Yy(a){return Vb(a.Fp),hl(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qy(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function Jb(a){const s=Yy(a);hl(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:c,a:d}=s;if(l){if(!c.eql(d,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:Wb,hexToBytes:$b}=jb,Ys={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(a){const{Err:s}=Ys;if(a.length<2||a[0]!==2)throw new s("Invalid signature integer tag");const l=a[1],c=a.subarray(2,l+2);if(!l||c.length!==l)throw new s("Invalid signature integer: wrong length");if(c[0]&128)throw new s("Invalid signature integer: negative");if(c[0]===0&&!(c[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:Wb(c),l:a.subarray(l+2)}},toSig(a){const{Err:s}=Ys,l=typeof a=="string"?$b(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let c=l.length;if(c<2||l[0]!=48)throw new s("Invalid signature tag");if(l[1]!==c-2)throw new s("Invalid signature: incorrect length");const{d,l:p}=Ys._parseInt(l.subarray(2)),{d:_,l:b}=Ys._parseInt(p);if(b.length)throw new s("Invalid signature: left bytes after parsing");return{r:d,s:_}},hexFromSig(a){const s=x=>Number.parseInt(x[0],16)&8?"00"+x:x,l=x=>{const A=x.toString(16);return A.length&1?`0${A}`:A},c=s(l(a.s)),d=s(l(a.r)),p=c.length/2,_=d.length/2,b=l(p),y=l(_);return`30${l(_+p+4)}02${y}${d}02${b}${c}`}},Ji=BigInt(0),jn=BigInt(1);BigInt(2);const ny=BigInt(3);BigInt(4);function tx(a){const s=Jb(a),{Fp:l}=s,c=s.toBytes||((U,N,Z)=>{const q=N.toAffine();return Qs(Uint8Array.from([4]),l.toBytes(q.x),l.toBytes(q.y))}),d=s.fromBytes||(U=>{const N=U.subarray(1),Z=l.fromBytes(N.subarray(0,l.BYTES)),q=l.fromBytes(N.subarray(l.BYTES,2*l.BYTES));return{x:Z,y:q}});function p(U){const{a:N,b:Z}=s,q=l.sqr(U),tt=l.mul(q,U);return l.add(l.add(tt,l.mul(U,N)),Z)}if(!l.eql(l.sqr(s.Gy),p(s.Gx)))throw new Error("bad generator point: equation left != right");function _(U){return typeof U=="bigint"&&Ji<U&&U<s.n}function b(U){if(!_(U))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(U){const{allowedPrivateKeyLengths:N,nByteLength:Z,wrapPrivateKey:q,n:tt}=s;if(N&&typeof U!="bigint"){if(U instanceof Uint8Array&&(U=qr(U)),typeof U!="string"||!N.includes(U.length))throw new Error("Invalid key");U=U.padStart(Z*2,"0")}let ot;try{ot=typeof U=="bigint"?U:pn(Qe("private key",U,Z))}catch{throw new Error(`private key must be ${Z} bytes, hex or bigint, not ${typeof U}`)}return q&&(ot=Ve(ot,tt)),b(ot),ot}const x=new Map;function A(U){if(!(U instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(N,Z,q){if(this.px=N,this.py=Z,this.pz=q,N==null||!l.isValid(N))throw new Error("x required");if(Z==null||!l.isValid(Z))throw new Error("y required");if(q==null||!l.isValid(q))throw new Error("z required")}static fromAffine(N){const{x:Z,y:q}=N||{};if(!N||!l.isValid(Z)||!l.isValid(q))throw new Error("invalid affine point");if(N instanceof T)throw new Error("projective point not allowed");const tt=ot=>l.eql(ot,l.ZERO);return tt(Z)&&tt(q)?T.ZERO:new T(Z,q,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const Z=l.invertBatch(N.map(q=>q.pz));return N.map((q,tt)=>q.toAffine(Z[tt])).map(T.fromAffine)}static fromHex(N){const Z=T.fromAffine(d(Qe("pointHex",N)));return Z.assertValidity(),Z}static fromPrivateKey(N){return T.BASE.multiply(y(N))}_setWindowSize(N){this._WINDOW_SIZE=N,x.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:N,y:Z}=this.toAffine();if(!l.isValid(N)||!l.isValid(Z))throw new Error("bad point: x or y not FE");const q=l.sqr(Z),tt=p(N);if(!l.eql(q,tt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:N}=this.toAffine();if(l.isOdd)return!l.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){A(N);const{px:Z,py:q,pz:tt}=this,{px:ot,py:dt,pz:ut}=N,st=l.eql(l.mul(Z,ut),l.mul(ot,tt)),F=l.eql(l.mul(q,ut),l.mul(dt,tt));return st&&F}negate(){return new T(this.px,l.neg(this.py),this.pz)}double(){const{a:N,b:Z}=s,q=l.mul(Z,ny),{px:tt,py:ot,pz:dt}=this;let ut=l.ZERO,st=l.ZERO,F=l.ZERO,at=l.mul(tt,tt),yt=l.mul(ot,ot),_t=l.mul(dt,dt),pt=l.mul(tt,ot);return pt=l.add(pt,pt),F=l.mul(tt,dt),F=l.add(F,F),ut=l.mul(N,F),st=l.mul(q,_t),st=l.add(ut,st),ut=l.sub(yt,st),st=l.add(yt,st),st=l.mul(ut,st),ut=l.mul(pt,ut),F=l.mul(q,F),_t=l.mul(N,_t),pt=l.sub(at,_t),pt=l.mul(N,pt),pt=l.add(pt,F),F=l.add(at,at),at=l.add(F,at),at=l.add(at,_t),at=l.mul(at,pt),st=l.add(st,at),_t=l.mul(ot,dt),_t=l.add(_t,_t),at=l.mul(_t,pt),ut=l.sub(ut,at),F=l.mul(_t,yt),F=l.add(F,F),F=l.add(F,F),new T(ut,st,F)}add(N){A(N);const{px:Z,py:q,pz:tt}=this,{px:ot,py:dt,pz:ut}=N;let st=l.ZERO,F=l.ZERO,at=l.ZERO;const yt=s.a,_t=l.mul(s.b,ny);let pt=l.mul(Z,ot),ct=l.mul(q,dt),vt=l.mul(tt,ut),bt=l.add(Z,q),X=l.add(ot,dt);bt=l.mul(bt,X),X=l.add(pt,ct),bt=l.sub(bt,X),X=l.add(Z,tt);let M=l.add(ot,ut);return X=l.mul(X,M),M=l.add(pt,vt),X=l.sub(X,M),M=l.add(q,tt),st=l.add(dt,ut),M=l.mul(M,st),st=l.add(ct,vt),M=l.sub(M,st),at=l.mul(yt,X),st=l.mul(_t,vt),at=l.add(st,at),st=l.sub(ct,at),at=l.add(ct,at),F=l.mul(st,at),ct=l.add(pt,pt),ct=l.add(ct,pt),vt=l.mul(yt,vt),X=l.mul(_t,X),ct=l.add(ct,vt),vt=l.sub(pt,vt),vt=l.mul(yt,vt),X=l.add(X,vt),pt=l.mul(ct,X),F=l.add(F,pt),pt=l.mul(M,X),st=l.mul(bt,st),st=l.sub(st,pt),pt=l.mul(bt,ct),at=l.mul(M,at),at=l.add(at,pt),new T(st,F,at)}subtract(N){return this.add(N.negate())}is0(){return this.equals(T.ZERO)}wNAF(N){return j.wNAFCached(this,x,N,Z=>{const q=l.invertBatch(Z.map(tt=>tt.pz));return Z.map((tt,ot)=>tt.toAffine(q[ot])).map(T.fromAffine)})}multiplyUnsafe(N){const Z=T.ZERO;if(N===Ji)return Z;if(b(N),N===jn)return this;const{endo:q}=s;if(!q)return j.unsafeLadder(this,N);let{k1neg:tt,k1:ot,k2neg:dt,k2:ut}=q.splitScalar(N),st=Z,F=Z,at=this;for(;ot>Ji||ut>Ji;)ot&jn&&(st=st.add(at)),ut&jn&&(F=F.add(at)),at=at.double(),ot>>=jn,ut>>=jn;return tt&&(st=st.negate()),dt&&(F=F.negate()),F=new T(l.mul(F.px,q.beta),F.py,F.pz),st.add(F)}multiply(N){b(N);let Z=N,q,tt;const{endo:ot}=s;if(ot){const{k1neg:dt,k1:ut,k2neg:st,k2:F}=ot.splitScalar(Z);let{p:at,f:yt}=this.wNAF(ut),{p:_t,f:pt}=this.wNAF(F);at=j.constTimeNegate(dt,at),_t=j.constTimeNegate(st,_t),_t=new T(l.mul(_t.px,ot.beta),_t.py,_t.pz),q=at.add(_t),tt=yt.add(pt)}else{const{p:dt,f:ut}=this.wNAF(Z);q=dt,tt=ut}return T.normalizeZ([q,tt])[0]}multiplyAndAddUnsafe(N,Z,q){const tt=T.BASE,ot=(ut,st)=>st===Ji||st===jn||!ut.equals(tt)?ut.multiplyUnsafe(st):ut.multiply(st),dt=ot(this,Z).add(ot(N,q));return dt.is0()?void 0:dt}toAffine(N){const{px:Z,py:q,pz:tt}=this,ot=this.is0();N==null&&(N=ot?l.ONE:l.inv(tt));const dt=l.mul(Z,N),ut=l.mul(q,N),st=l.mul(tt,N);if(ot)return{x:l.ZERO,y:l.ZERO};if(!l.eql(st,l.ONE))throw new Error("invZ was invalid");return{x:dt,y:ut}}isTorsionFree(){const{h:N,isTorsionFree:Z}=s;if(N===jn)return!0;if(Z)return Z(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:Z}=s;return N===jn?this:Z?Z(T,this):this.multiplyUnsafe(s.h)}toRawBytes(N=!0){return this.assertValidity(),c(T,this,N)}toHex(N=!0){return qr(this.toRawBytes(N))}}T.BASE=new T(s.Gx,s.Gy,l.ONE),T.ZERO=new T(l.ZERO,l.ONE,l.ZERO);const B=s.nBitLength,j=Fb(T,s.endo?Math.ceil(B/2):B);return{CURVE:s,ProjectivePoint:T,normPrivateKeyToScalar:y,weierstrassEquation:p,isWithinCurveOrder:_}}function ex(a){const s=Yy(a);return hl(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function nx(a){const s=ex(a),{Fp:l,n:c}=s,d=l.BYTES+1,p=2*l.BYTES+1;function _(X){return Ji<X&&X<l.ORDER}function b(X){return Ve(X,c)}function y(X){return Gh(X,c)}const{ProjectivePoint:x,normPrivateKeyToScalar:A,weierstrassEquation:T,isWithinCurveOrder:B}=tx({...s,toBytes(X,M,I){const P=M.toAffine(),mt=l.toBytes(P.x),W=Qs;return I?W(Uint8Array.from([M.hasEvenY()?2:3]),mt):W(Uint8Array.from([4]),mt,l.toBytes(P.y))},fromBytes(X){const M=X.length,I=X[0],P=X.subarray(1);if(M===d&&(I===2||I===3)){const mt=pn(P);if(!_(mt))throw new Error("Point is not on curve");const W=T(mt);let z=l.sqrt(W);const H=(z&jn)===jn;return(I&1)===1!==H&&(z=l.neg(z)),{x:mt,y:z}}else if(M===p&&I===4){const mt=l.fromBytes(P.subarray(0,l.BYTES)),W=l.fromBytes(P.subarray(l.BYTES,2*l.BYTES));return{x:mt,y:W}}else throw new Error(`Point of length ${M} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),j=X=>qr(Fa(X,s.nByteLength));function U(X){const M=c>>jn;return X>M}function N(X){return U(X)?b(-X):X}const Z=(X,M,I)=>pn(X.slice(M,I));class q{constructor(M,I,P){this.r=M,this.s=I,this.recovery=P,this.assertValidity()}static fromCompact(M){const I=s.nByteLength;return M=Qe("compactSignature",M,I*2),new q(Z(M,0,I),Z(M,I,2*I))}static fromDER(M){const{r:I,s:P}=Ys.toSig(Qe("DER",M));return new q(I,P)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new q(this.r,this.s,M)}recoverPublicKey(M){const{r:I,s:P,recovery:mt}=this,W=F(Qe("msgHash",M));if(mt==null||![0,1,2,3].includes(mt))throw new Error("recovery id invalid");const z=mt===2||mt===3?I+s.n:I;if(z>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=(mt&1)===0?"02":"03",rt=x.fromHex(H+j(z)),lt=y(z),ft=b(-W*lt),ht=b(P*lt),At=x.BASE.multiplyAndAddUnsafe(rt,ft,ht);if(!At)throw new Error("point at infinify");return At.assertValidity(),At}hasHighS(){return U(this.s)}normalizeS(){return this.hasHighS()?new q(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return Gr(this.toDERHex())}toDERHex(){return Ys.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gr(this.toCompactHex())}toCompactHex(){return j(this.r)+j(this.s)}}const tt={isValidPrivateKey(X){try{return A(X),!0}catch{return!1}},normPrivateKeyToScalar:A,randomPrivateKey:()=>{const X=Vy(s.n);return Qb(s.randomBytes(X),s.n)},precompute(X=8,M=x.BASE){return M._setWindowSize(X),M.multiply(BigInt(3)),M}};function ot(X,M=!0){return x.fromPrivateKey(X).toRawBytes(M)}function dt(X){const M=X instanceof Uint8Array,I=typeof X=="string",P=(M||I)&&X.length;return M?P===d||P===p:I?P===2*d||P===2*p:X instanceof x}function ut(X,M,I=!0){if(dt(X))throw new Error("first arg must be private key");if(!dt(M))throw new Error("second arg must be public key");return x.fromHex(M).multiply(A(X)).toRawBytes(I)}const st=s.bits2int||function(X){const M=pn(X),I=X.length*8-s.nBitLength;return I>0?M>>BigInt(I):M},F=s.bits2int_modN||function(X){return b(st(X))},at=cd(s.nBitLength);function yt(X){if(typeof X!="bigint")throw new Error("bigint expected");if(!(Ji<=X&&X<at))throw new Error(`bigint expected < 2^${s.nBitLength}`);return Fa(X,s.nByteLength)}function _t(X,M,I=pt){if(["recovered","canonical"].some(Ut=>Ut in I))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:mt}=s;let{lowS:W,prehash:z,extraEntropy:H}=I;W==null&&(W=!0),X=Qe("msgHash",X),z&&(X=Qe("prehashed msgHash",P(X)));const rt=F(X),lt=A(M),ft=[yt(lt),yt(rt)];if(H!=null){const Ut=H===!0?mt(l.BYTES):H;ft.push(Qe("extraEntropy",Ut))}const ht=Qs(...ft),At=rt;function Ht(Ut){const we=st(Ut);if(!B(we))return;const zt=y(we),Mt=x.BASE.multiply(we).toAffine(),kt=b(Mt.x);if(kt===Ji)return;const jt=b(zt*b(At+kt*lt));if(jt===Ji)return;let te=(Mt.x===kt?0:2)|Number(Mt.y&jn),gn=jt;return W&&U(jt)&&(gn=N(jt),te^=1),new q(kt,gn,te)}return{seed:ht,k2sig:Ht}}const pt={lowS:s.lowS,prehash:!1},ct={lowS:s.lowS,prehash:!1};function vt(X,M,I=pt){const{seed:P,k2sig:mt}=_t(X,M,I),W=s;return Zy(W.hash.outputLen,W.nByteLength,W.hmac)(P,mt)}x.BASE._setWindowSize(8);function bt(X,M,I,P=ct){const mt=X;if(M=Qe("msgHash",M),I=Qe("publicKey",I),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:z}=P;let H,rt;try{if(typeof mt=="string"||mt instanceof Uint8Array)try{H=q.fromDER(mt)}catch(Mt){if(!(Mt instanceof Ys.Err))throw Mt;H=q.fromCompact(mt)}else if(typeof mt=="object"&&typeof mt.r=="bigint"&&typeof mt.s=="bigint"){const{r:Mt,s:kt}=mt;H=new q(Mt,kt)}else throw new Error("PARSE");rt=x.fromHex(I)}catch(Mt){if(Mt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&H.hasHighS())return!1;z&&(M=s.hash(M));const{r:lt,s:ft}=H,ht=F(M),At=y(ft),Ht=b(ht*At),Ut=b(lt*At),we=x.BASE.multiplyAndAddUnsafe(rt,Ht,Ut)?.toAffine();return we?b(we.x)===lt:!1}return{CURVE:s,getPublicKey:ot,getSharedSecret:ut,sign:vt,verify:bt,ProjectivePoint:x,Signature:q,utils:tt}}let Ky=class extends Uy{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,yb(s);const c=rd(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?s.create().update(c).digest():c);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return Xu(this),this.iHash.update(s),this}digestInto(s){Xu(this),Ry(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Iy=(a,s,l)=>new Ky(a,s).update(l).digest();Iy.create=(a,s)=>new Ky(a,s);function ix(a){return{hash:a,hmac:(s,...l)=>Iy(a,s,xb(...l)),randomBytes:jy}}function ax(a,s){const l=c=>nx({...a,...ix(c)});return Object.freeze({...l(s),create:l})}const lc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qy=BigInt(1),Ju=BigInt(2),iy=(a,s)=>(a+s/Ju)/s;function Xy(a){const s=lc,l=BigInt(3),c=BigInt(6),d=BigInt(11),p=BigInt(22),_=BigInt(23),b=BigInt(44),y=BigInt(88),x=a*a*a%s,A=x*x*a%s,T=Un(A,l,s)*A%s,B=Un(T,l,s)*A%s,j=Un(B,Ju,s)*x%s,U=Un(j,d,s)*j%s,N=Un(U,p,s)*U%s,Z=Un(N,b,s)*N%s,q=Un(Z,y,s)*Z%s,tt=Un(q,b,s)*N%s,ot=Un(tt,l,s)*A%s,dt=Un(ot,_,s)*U%s,ut=Un(dt,c,s)*x%s,st=Un(ut,Ju,s);if(!Vh.eql(Vh.sqr(st),a))throw new Error("Cannot find square root");return st}const Vh=Ib(lc,void 0,void 0,{sqrt:Xy}),Kr=ax({a:BigInt(0),b:BigInt(7),Fp:Vh,n:Fu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const s=Fu,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-Qy*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,_=BigInt("0x100000000000000000000000000000000"),b=iy(p*a,s),y=iy(-c*a,s);let x=Ve(a-b*l-y*d,s),A=Ve(-b*c-y*p,s);const T=x>_,B=A>_;if(T&&(x=s-x),B&&(A=s-A),x>_||A>_)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:T,k1:x,k2neg:B,k2:A}}}},Zh),uc=BigInt(0),Fy=a=>typeof a=="bigint"&&uc<a&&a<lc,sx=a=>typeof a=="bigint"&&uc<a&&a<Fu,ay={};function Wu(a,...s){let l=ay[a];if(l===void 0){const c=Zh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=Qs(c,c),ay[a]=l}return Zh(Qs(l,...s))}const fd=a=>a.toRawBytes(!0).slice(1),Yh=a=>Fa(a,32),Nh=a=>Ve(a,lc),sl=a=>Ve(a,Fu),hd=Kr.ProjectivePoint,rx=(a,s,l)=>hd.BASE.multiplyAndAddUnsafe(a,s,l);function Kh(a){let s=Kr.utils.normPrivateKeyToScalar(a),l=hd.fromPrivateKey(s);return{scalar:l.hasEvenY()?s:sl(-s),bytes:fd(l)}}function Jy(a){if(!Fy(a))throw new Error("bad x: need 0 < x < p");const s=Nh(a*a),l=Nh(s*a+BigInt(7));let c=Xy(l);c%Ju!==uc&&(c=Nh(-c));const d=new hd(a,c,Qy);return d.assertValidity(),d}function Wy(...a){return sl(pn(Wu("BIP0340/challenge",...a)))}function ox(a){return Kh(a).bytes}function lx(a,s,l=jy(32)){const c=Qe("message",a),{bytes:d,scalar:p}=Kh(s),_=Qe("auxRand",l,32),b=Yh(p^pn(Wu("BIP0340/aux",_))),y=Wu("BIP0340/nonce",b,d,c),x=sl(pn(y));if(x===uc)throw new Error("sign failed: k is zero");const{bytes:A,scalar:T}=Kh(x),B=Wy(A,d,c),j=new Uint8Array(64);if(j.set(A,0),j.set(Yh(sl(T+B*p)),32),!$y(j,c,d))throw new Error("sign: Invalid signature produced");return j}function $y(a,s,l){const c=Qe("signature",a,64),d=Qe("message",s),p=Qe("publicKey",l,32);try{const _=Jy(pn(p)),b=pn(c.subarray(0,32));if(!Fy(b))return!1;const y=pn(c.subarray(32,64));if(!sx(y))return!1;const x=Wy(Yh(b),fd(_),d),A=rx(_,y,sl(-x));return!(!A||!A.hasEvenY()||A.toAffine().x!==b)}catch{return!1}}const bi={getPublicKey:ox,sign:lx,verify:$y,utils:{randomPrivateKey:Kr.utils.randomPrivateKey,lift_x:Jy,pointToBytes:fd,numberToBytesBE:Fa,bytesToNumberBE:pn,taggedHash:Wu,mod:Ve}},kh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const dd=a=>a instanceof Uint8Array,Bh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),_i=(a,s)=>a<<32-s|a>>>s,ux=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ux)throw new Error("Non little-endian hardware is not supported");const cx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Le(a){if(!dd(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=cx[a[l]];return s}function Xs(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[c]=_}return l}function fx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function rl(a){if(typeof a=="string"&&(a=fx(a)),!dd(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function cc(...a){const s=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!dd(c))throw new Error("Uint8Array expected");s.set(c,l),l+=c.length}),s}class t0{clone(){return this._cloneInto()}}function e0(a){const s=c=>a().update(rl(c)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function n0(a=32){if(kh&&typeof kh.getRandomValues=="function")return kh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Ih(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function hx(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function i0(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function dx(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ih(a.outputLen),Ih(a.blockLen)}function mx(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function px(a,s){i0(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const xi={number:Ih,bool:hx,bytes:i0,hash:dx,exists:mx,output:px};function gx(a,s,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,c);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),y=c?4:0,x=c?0:4;a.setUint32(s+y,_,c),a.setUint32(s+x,b,c)}class yx extends t0{constructor(s,l,c,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Bh(this.buffer)}update(s){xi.exists(this);const{view:l,buffer:c,blockLen:d}=this;s=rl(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const y=Bh(s);for(;d<=p-_;_+=d)this.process(y,_);continue}c.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){xi.exists(this),xi.output(s,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(c,0),_=0);for(let T=_;T<d;T++)l[T]=0;gx(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Bh(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=y/4,A=this.get();if(x>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<x;T++)b.setUint32(4*T,A[T],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const c=s.slice(0,l);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(c),s}}const vx=(a,s,l)=>a&s^~a&l,_x=(a,s,l)=>a&s^a&l^s&l,bx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ka=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ia=new Uint32Array(64);class a0 extends yx{constructor(){super(64,32,8,!1),this.A=Ka[0]|0,this.B=Ka[1]|0,this.C=Ka[2]|0,this.D=Ka[3]|0,this.E=Ka[4]|0,this.F=Ka[5]|0,this.G=Ka[6]|0,this.H=Ka[7]|0}get(){const{A:s,B:l,C:c,D:d,E:p,F:_,G:b,H:y}=this;return[s,l,c,d,p,_,b,y]}set(s,l,c,d,p,_,b,y){this.A=s|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=y|0}process(s,l){for(let T=0;T<16;T++,l+=4)Ia[T]=s.getUint32(l,!1);for(let T=16;T<64;T++){const B=Ia[T-15],j=Ia[T-2],U=_i(B,7)^_i(B,18)^B>>>3,N=_i(j,17)^_i(j,19)^j>>>10;Ia[T]=N+Ia[T-7]+U+Ia[T-16]|0}let{A:c,B:d,C:p,D:_,E:b,F:y,G:x,H:A}=this;for(let T=0;T<64;T++){const B=_i(b,6)^_i(b,11)^_i(b,25),j=A+B+vx(b,y,x)+bx[T]+Ia[T]|0,N=(_i(c,2)^_i(c,13)^_i(c,22))+_x(c,d,p)|0;A=x,x=y,y=b,b=_+j|0,_=p,p=d,d=c,c=j+N|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,y=y+this.F|0,x=x+this.G|0,A=A+this.H|0,this.set(c,d,p,_,b,y,x,A)}roundClean(){Ia.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class xx extends a0{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Ja=e0(()=>new a0);e0(()=>new xx);function Ir(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function na(...a){const s=(d,p)=>_=>d(p(_)),l=Array.from(a).reverse().reduce((d,p)=>d?s(d,p.encode):p.encode,void 0),c=a.reduce((d,p)=>d?s(d,p.decode):p.decode,void 0);return{encode:l,decode:c}}function ia(a){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(l=>{if(Ir(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const c=a.indexOf(l);if(c===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return c})}}}function aa(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of s)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return s.join(a)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(a)}}}function fc(a,s="="){if(Ir(a),typeof s!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of l)if(typeof c!="string")throw new Error(`padding.encode: non-string input=${c}`);for(;l.length*a%8;)l.push(s);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let c=l.length;if(c*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;c>0&&l[c-1]===s;c--)if(!((c-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,c)}}}function s0(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>a(s)}}function sy(a,s,l){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let c=0;const d=[],p=Array.from(a);for(p.forEach(_=>{if(Ir(_),_<0||_>=s)throw new Error(`Wrong integer: ${_}`)});;){let _=0,b=!0;for(let y=c;y<p.length;y++){const x=p[y],A=s*_+x;if(!Number.isSafeInteger(A)||s*_/s!==_||A-x!==s*_)throw new Error("convertRadix: carry overflow");if(_=A%l,p[y]=Math.floor(A/l),!Number.isSafeInteger(p[y])||p[y]*l+_!==A)throw new Error("convertRadix: carry overflow");if(b)p[y]?b=!1:c=y;else continue}if(d.push(_),b)break}for(let _=0;_<a.length-1&&a[_]===0;_++)d.push(0);return d.reverse()}const r0=(a,s)=>s?r0(s,a%s):a,$u=(a,s)=>a+(s-r0(a,s));function Qh(a,s,l,c){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if($u(s,l)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${l} carryBits=${$u(s,l)}`);let d=0,p=0;const _=2**l-1,b=[];for(const y of a){if(Ir(y),y>=2**s)throw new Error(`convertRadix2: invalid data word=${y} from=${s}`);if(d=d<<s|y,p+s>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${s}`);for(p+=s;p>=l;p-=l)b.push((d>>p-l&_)>>>0);d&=2**p-1}if(d=d<<l-p&_,!c&&p>=s)throw new Error("Excess padding");if(!c&&d)throw new Error(`Non-zero padding: ${d}`);return c&&p>0&&b.push(d>>>0),b}function wx(a){return Ir(a),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return sy(Array.from(s),2**8,a)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(sy(s,a,2**8))}}}function Wa(a,s=!1){if(Ir(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if($u(8,a)>32||$u(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Qh(Array.from(l),8,a,!s)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Qh(l,a,8,s))}}}function ry(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return a.apply(null,s)}catch{}}}const Sx=na(Wa(4),ia("0123456789ABCDEF"),aa("")),Ex=na(Wa(5),ia("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),fc(5),aa(""));na(Wa(5),ia("0123456789ABCDEFGHIJKLMNOPQRSTUV"),fc(5),aa(""));na(Wa(5),ia("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),aa(""),s0(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const ta=na(Wa(6),ia("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),fc(6),aa("")),Tx=na(Wa(6),ia("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),fc(6),aa("")),md=a=>na(wx(58),ia(a),aa("")),Xh=md("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");md("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");md("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const oy=[0,2,3,5,6,7,9,10,11],Ax={encode(a){let s="";for(let l=0;l<a.length;l+=8){const c=a.subarray(l,l+8);s+=Xh.encode(c).padStart(oy[c.length],"1")}return s},decode(a){let s=[];for(let l=0;l<a.length;l+=11){const c=a.slice(l,l+11),d=oy.indexOf(c.length),p=Xh.decode(c);for(let _=0;_<p.length-d;_++)if(p[_]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(s)}},Fh=na(ia("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),aa("")),ly=[996825010,642813549,513874426,1027748829,705979059];function nl(a){const s=a>>25;let l=(a&33554431)<<5;for(let c=0;c<ly.length;c++)(s>>c&1)===1&&(l^=ly[c]);return l}function uy(a,s,l=1){const c=a.length;let d=1;for(let p=0;p<c;p++){const _=a.charCodeAt(p);if(_<33||_>126)throw new Error(`Invalid prefix (${a})`);d=nl(d)^_>>5}d=nl(d);for(let p=0;p<c;p++)d=nl(d)^a.charCodeAt(p)&31;for(let p of s)d=nl(d)^p;for(let p=0;p<6;p++)d=nl(d);return d^=l,Fh.encode(Qh([d%2**30],30,5,!1))}function o0(a){const s=a==="bech32"?1:734539939,l=Wa(5),c=l.decode,d=l.encode,p=ry(c);function _(A,T,B=90){if(typeof A!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof A}`);if(!Array.isArray(T)||T.length&&typeof T[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof T}`);const j=A.length+7+T.length;if(B!==!1&&j>B)throw new TypeError(`Length ${j} exceeds limit ${B}`);return A=A.toLowerCase(),`${A}1${Fh.encode(T)}${uy(A,T,s)}`}function b(A,T=90){if(typeof A!="string")throw new Error(`bech32.decode input should be string, not ${typeof A}`);if(A.length<8||T!==!1&&A.length>T)throw new TypeError(`Wrong string length: ${A.length} (${A}). Expected (8..${T})`);const B=A.toLowerCase();if(A!==B&&A!==A.toUpperCase())throw new Error("String must be lowercase or uppercase");A=B;const j=A.lastIndexOf("1");if(j===0||j===-1)throw new Error('Letter "1" must be present between prefix and data only');const U=A.slice(0,j),N=A.slice(j+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");const Z=Fh.decode(N).slice(0,-6),q=uy(U,Z,s);if(!N.endsWith(q))throw new Error(`Invalid checksum in ${A}: expected "${q}"`);return{prefix:U,words:Z}}const y=ry(b);function x(A){const{prefix:T,words:B}=b(A,!1);return{prefix:T,words:B,bytes:c(B)}}return{encode:_,decode:b,decodeToBytes:x,decodeUnsafe:y,fromWords:c,fromWordsUnsafe:p,toWords:d}}const Vr=o0("bech32");o0("bech32m");const zx={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},Cx=na(Wa(4),ia("0123456789abcdef"),aa(""),s0(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),Lx={utf8:zx,hex:Cx,base16:Sx,base32:Ex,base64:ta,base64url:Tx,base58:Xh,base58xmr:Ax};`${Object.keys(Lx).join(", ")}`;function Rh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function cy(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function Mx(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function wi(a,...s){if(!Mx(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${a.length}`)}const Xe=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),Ox=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ox)throw new Error("Non little-endian hardware is not supported");const Nx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function jr(a){wi(a);let s="";for(let l=0;l<a.length;l++)s+=Nx[a[l]];return s}const Xi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function fy(a){if(a>=Xi._0&&a<=Xi._9)return a-Xi._0;if(a>=Xi._A&&a<=Xi._F)return a-(Xi._A-10);if(a>=Xi._a&&a<=Xi._f)return a-(Xi._a-10)}function l0(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,l=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const c=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const _=fy(a.charCodeAt(p)),b=fy(a.charCodeAt(p+1));if(_===void 0||b===void 0){const y=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+p)}c[d]=_*16+b}return c}function kx(a,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(a,s)}function Bx(a,s){if(a.length!==s.length)return!1;let l=0;for(let c=0;c<a.length;c++)l|=a[c]^s[c];return l===0}const Rx=(a,s)=>(Object.assign(s,a),s),Xa=16,Dx=283;function pd(a){return a<<1^Dx&-(a>>7)}function Hr(a,s){let l=0;for(;s>0;s>>=1)l^=a&-(s&1),a=pd(a);return l}const Jh=(()=>{let a=new Uint8Array(256);for(let l=0,c=1;l<256;l++,c^=pd(c))a[l]=c;const s=new Uint8Array(256);s[0]=99;for(let l=0;l<255;l++){let c=a[255-l];c|=c<<8,s[a[l]]=(c^c>>4^c>>5^c>>6^c>>7^99)&255}return s})(),Ux=Jh.map((a,s)=>Jh.indexOf(s)),jx=a=>a<<24|a>>>8,Dh=a=>a<<8|a>>>24;function u0(a,s){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((x,A)=>s(a[A])),c=l.map(Dh),d=c.map(Dh),p=d.map(Dh),_=new Uint32Array(256*256),b=new Uint32Array(256*256),y=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let A=0;A<256;A++){const T=x*256+A;_[T]=l[x]^c[A],b[T]=d[x]^p[A],y[T]=a[x]<<8|a[A]}return{sbox:a,sbox2:y,T0:l,T1:c,T2:d,T3:p,T01:_,T23:b}}const gd=u0(Jh,a=>Hr(a,3)<<24|a<<16|a<<8|Hr(a,2)),c0=u0(Ux,a=>Hr(a,11)<<24|Hr(a,13)<<16|Hr(a,9)<<8|Hr(a,14)),Hx=(()=>{const a=new Uint8Array(16);for(let s=0,l=1;s<16;s++,l=pd(l))a[s]=l;return a})();function f0(a){wi(a);const s=a.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:l}=gd,c=Xe(a),d=c.length,p=b=>Si(l,b,b,b,b),_=new Uint32Array(s+28);_.set(c);for(let b=d;b<_.length;b++){let y=_[b-1];b%d===0?y=p(jx(y))^Hx[b/d-1]:d>6&&b%d===4&&(y=p(y)),_[b]=_[b-d]^y}return _}function Px(a){const s=f0(a),l=s.slice(),c=s.length,{sbox2:d}=gd,{T0:p,T1:_,T2:b,T3:y}=c0;for(let x=0;x<c;x+=4)for(let A=0;A<4;A++)l[x+A]=s[c-x-4+A];s.fill(0);for(let x=4;x<c-4;x++){const A=l[x],T=Si(d,A,A,A,A);l[x]=p[T&255]^_[T>>>8&255]^b[T>>>16&255]^y[T>>>24]}return l}function Qa(a,s,l,c,d,p){return a[l<<8&65280|c>>>8&255]^s[d>>>8&65280|p>>>24&255]}function Si(a,s,l,c,d){return a[s&255|l&65280]|a[c>>>16&255|d>>>16&65280]<<16}function hy(a,s,l,c,d){const{sbox2:p,T01:_,T23:b}=gd;let y=0;s^=a[y++],l^=a[y++],c^=a[y++],d^=a[y++];const x=a.length/4-2;for(let U=0;U<x;U++){const N=a[y++]^Qa(_,b,s,l,c,d),Z=a[y++]^Qa(_,b,l,c,d,s),q=a[y++]^Qa(_,b,c,d,s,l),tt=a[y++]^Qa(_,b,d,s,l,c);s=N,l=Z,c=q,d=tt}const A=a[y++]^Si(p,s,l,c,d),T=a[y++]^Si(p,l,c,d,s),B=a[y++]^Si(p,c,d,s,l),j=a[y++]^Si(p,d,s,l,c);return{s0:A,s1:T,s2:B,s3:j}}function Zx(a,s,l,c,d){const{sbox2:p,T01:_,T23:b}=c0;let y=0;s^=a[y++],l^=a[y++],c^=a[y++],d^=a[y++];const x=a.length/4-2;for(let U=0;U<x;U++){const N=a[y++]^Qa(_,b,s,d,c,l),Z=a[y++]^Qa(_,b,l,s,d,c),q=a[y++]^Qa(_,b,c,l,s,d),tt=a[y++]^Qa(_,b,d,c,l,s);s=N,l=Z,c=q,d=tt}const A=a[y++]^Si(p,s,d,c,l),T=a[y++]^Si(p,l,s,d,c),B=a[y++]^Si(p,c,l,s,d),j=a[y++]^Si(p,d,c,l,s);return{s0:A,s1:T,s2:B,s3:j}}function h0(a,s){if(!s)return new Uint8Array(a);if(wi(s),s.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${s.length}`);return s}function qx(a){if(wi(a),a.length%Xa!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Xa}`)}function Gx(a,s,l){let c=a.length;const d=c%Xa;if(!s&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=Xe(a);if(s){let y=Xa-d;y||(y=Xa),c=c+y}const _=h0(c,l),b=Xe(_);return{b:p,o:b,out:_}}function Vx(a,s){if(!s)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const c=a[l-1];if(c<=0||c>16)throw new Error(`aes/pcks5: wrong padding byte: ${c}`);const d=a.subarray(0,-c);for(let p=0;p<c;p++)if(a[l-p-1]!==c)throw new Error("aes/pcks5: wrong padding");return d}function Yx(a){const s=new Uint8Array(16),l=Xe(s);s.set(a);const c=Xa-a.length;for(let d=Xa-c;d<Xa;d++)s[d]=c;return l}const d0=Rx({blockSize:16,nonceLength:16},function(s,l,c={}){wi(s),wi(l,16);const d=!c.disablePadding;return{encrypt:(p,_)=>{const b=f0(s),{b:y,o:x,out:A}=Gx(p,d,_),T=Xe(l);let B=T[0],j=T[1],U=T[2],N=T[3],Z=0;for(;Z+4<=y.length;)B^=y[Z+0],j^=y[Z+1],U^=y[Z+2],N^=y[Z+3],{s0:B,s1:j,s2:U,s3:N}=hy(b,B,j,U,N),x[Z++]=B,x[Z++]=j,x[Z++]=U,x[Z++]=N;if(d){const q=Yx(p.subarray(Z*4));B^=q[0],j^=q[1],U^=q[2],N^=q[3],{s0:B,s1:j,s2:U,s3:N}=hy(b,B,j,U,N),x[Z++]=B,x[Z++]=j,x[Z++]=U,x[Z++]=N}return b.fill(0),A},decrypt:(p,_)=>{qx(p);const b=Px(s),y=Xe(l),x=h0(p.length,_),A=Xe(p),T=Xe(x);let B=y[0],j=y[1],U=y[2],N=y[3];for(let Z=0;Z+4<=A.length;){const q=B,tt=j,ot=U,dt=N;B=A[Z+0],j=A[Z+1],U=A[Z+2],N=A[Z+3];const{s0:ut,s1:st,s2:F,s3:at}=Zx(b,B,j,U,N);T[Z++]=ut^q,T[Z++]=st^tt,T[Z++]=F^ot,T[Z++]=at^dt}return b.fill(0),Vx(x,d)}}}),m0=a=>Uint8Array.from(a.split("").map(s=>s.charCodeAt(0))),Kx=m0("expand 16-byte k"),Ix=m0("expand 32-byte k"),Qx=Xe(Kx),p0=Xe(Ix);p0.slice();function Jt(a,s){return a<<s|a>>>32-s}function Wh(a){return a.byteOffset%4===0}const Gu=64,Xx=16,g0=2**32-1,dy=new Uint32Array;function Fx(a,s,l,c,d,p,_,b){const y=d.length,x=new Uint8Array(Gu),A=Xe(x),T=Wh(d)&&Wh(p),B=T?Xe(d):dy,j=T?Xe(p):dy;for(let U=0;U<y;_++){if(a(s,l,c,A,_,b),_>=g0)throw new Error("arx: counter overflow");const N=Math.min(Gu,y-U);if(T&&N===Gu){const Z=U/4;if(U%4!==0)throw new Error("arx: invalid block position");for(let q=0,tt;q<Xx;q++)tt=Z+q,j[tt]=B[tt]^A[q];U+=Gu;continue}for(let Z=0,q;Z<N;Z++)q=U+Z,p[q]=d[q]^x[Z];U+=N}}function Jx(a,s){const{allowShortKeys:l,extendNonceFn:c,counterLength:d,counterRight:p,rounds:_}=kx({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof a!="function")throw new Error("core must be a function");return Rh(d),Rh(_),cy(p),cy(l),(b,y,x,A,T=0)=>{wi(b),wi(y),wi(x);const B=x.length;if(A||(A=new Uint8Array(B)),wi(A),Rh(T),T<0||T>=g0)throw new Error("arx: counter overflow");if(A.length<B)throw new Error(`arx: output (${A.length}) is shorter than data (${B})`);const j=[];let U=b.length,N,Z;if(U===32)N=b.slice(),j.push(N),Z=p0;else if(U===16&&l)N=new Uint8Array(32),N.set(b),N.set(b,16),Z=Qx,j.push(N);else throw new Error(`arx: invalid 32-byte key, got length=${U}`);Wh(y)||(y=y.slice(),j.push(y));const q=Xe(N);if(c){if(y.length!==24)throw new Error("arx: extended nonce must be 24 bytes");c(Z,q,Xe(y.subarray(0,16)),q),y=y.subarray(16)}const tt=16-d;if(tt!==y.length)throw new Error(`arx: nonce must be ${tt} or 16 bytes`);if(tt!==12){const dt=new Uint8Array(12);dt.set(y,p?0:12-y.length),y=dt,j.push(y)}const ot=Xe(y);for(Fx(a,Z,q,ot,x,A,T,_);j.length>0;)j.pop().fill(0);return A}}function Wx(a,s,l,c,d,p=20){let _=a[0],b=a[1],y=a[2],x=a[3],A=s[0],T=s[1],B=s[2],j=s[3],U=s[4],N=s[5],Z=s[6],q=s[7],tt=d,ot=l[0],dt=l[1],ut=l[2],st=_,F=b,at=y,yt=x,_t=A,pt=T,ct=B,vt=j,bt=U,X=N,M=Z,I=q,P=tt,mt=ot,W=dt,z=ut;for(let rt=0;rt<p;rt+=2)st=st+_t|0,P=Jt(P^st,16),bt=bt+P|0,_t=Jt(_t^bt,12),st=st+_t|0,P=Jt(P^st,8),bt=bt+P|0,_t=Jt(_t^bt,7),F=F+pt|0,mt=Jt(mt^F,16),X=X+mt|0,pt=Jt(pt^X,12),F=F+pt|0,mt=Jt(mt^F,8),X=X+mt|0,pt=Jt(pt^X,7),at=at+ct|0,W=Jt(W^at,16),M=M+W|0,ct=Jt(ct^M,12),at=at+ct|0,W=Jt(W^at,8),M=M+W|0,ct=Jt(ct^M,7),yt=yt+vt|0,z=Jt(z^yt,16),I=I+z|0,vt=Jt(vt^I,12),yt=yt+vt|0,z=Jt(z^yt,8),I=I+z|0,vt=Jt(vt^I,7),st=st+pt|0,z=Jt(z^st,16),M=M+z|0,pt=Jt(pt^M,12),st=st+pt|0,z=Jt(z^st,8),M=M+z|0,pt=Jt(pt^M,7),F=F+ct|0,P=Jt(P^F,16),I=I+P|0,ct=Jt(ct^I,12),F=F+ct|0,P=Jt(P^F,8),I=I+P|0,ct=Jt(ct^I,7),at=at+vt|0,mt=Jt(mt^at,16),bt=bt+mt|0,vt=Jt(vt^bt,12),at=at+vt|0,mt=Jt(mt^at,8),bt=bt+mt|0,vt=Jt(vt^bt,7),yt=yt+_t|0,W=Jt(W^yt,16),X=X+W|0,_t=Jt(_t^X,12),yt=yt+_t|0,W=Jt(W^yt,8),X=X+W|0,_t=Jt(_t^X,7);let H=0;c[H++]=_+st|0,c[H++]=b+F|0,c[H++]=y+at|0,c[H++]=x+yt|0,c[H++]=A+_t|0,c[H++]=T+pt|0,c[H++]=B+ct|0,c[H++]=j+vt|0,c[H++]=U+bt|0,c[H++]=N+X|0,c[H++]=Z+M|0,c[H++]=q+I|0,c[H++]=tt+P|0,c[H++]=ot+mt|0,c[H++]=dt+W|0,c[H++]=ut+z|0}const y0=Jx(Wx,{counterRight:!1,counterLength:4,allowShortKeys:!1});class v0 extends t0{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,xi.hash(s);const c=rl(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?s.create().update(c).digest():c);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return xi.exists(this),this.iHash.update(s),this}digestInto(s){xi.exists(this),xi.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hc=(a,s,l)=>new v0(a,s).update(l).digest();hc.create=(a,s)=>new v0(a,s);function $x(a,s,l){return xi.hash(a),hc(a,rl(l),rl(s))}const Uh=new Uint8Array([0]),my=new Uint8Array;function t1(a,s,l,c=32){if(xi.hash(a),xi.number(c),c>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(c/a.outputLen);l===void 0&&(l=my);const p=new Uint8Array(d*a.outputLen),_=hc.create(a,s),b=_._cloneInto(),y=new Uint8Array(_.outputLen);for(let x=0;x<d;x++)Uh[0]=x+1,b.update(x===0?my:y).update(l).update(Uh).digestInto(y),p.set(y,a.outputLen*x),_._cloneInto(b);return _.destroy(),b.destroy(),y.fill(0),Uh.fill(0),p.slice(0,c)}var e1=Object.defineProperty,fe=(a,s)=>{for(var l in s)e1(a,l,{get:s[l],enumerable:!0})},Zs=Symbol("verified"),n1=a=>a instanceof Object;function yd(a){if(!n1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}var i1={};fe(i1,{Queue:()=>b0,QueueNode:()=>_0,binarySearch:()=>vd,bytesToHex:()=>Le,hexToBytes:()=>Xs,insertEventIntoAscendingList:()=>s1,insertEventIntoDescendingList:()=>a1,normalizeURL:()=>Vs,utf8Decoder:()=>$i,utf8Encoder:()=>$n});var $i=new TextDecoder("utf-8"),$n=new TextEncoder;function Vs(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let s=new URL(a);return s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function a1(a,s){const[l,c]=vd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:d.created_at-s.created_at);return c||a.splice(l,0,s),a}function s1(a,s){const[l,c]=vd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:s.created_at-d.created_at);return c||a.splice(l,0,s),a}function vd(a,s){let l=0,c=a.length-1;for(;l<=c;){const d=Math.floor((l+c)/2),p=s(a[d]);if(p===0)return[d,!0];p<0?c=d-1:l=d+1}return[l,!1]}var _0=class{value;next=null;prev=null;constructor(a){this.value=a}},b0=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const s=new _0(a);return this.last?this.last===this.first?(this.last=s,this.last.prev=this.first,this.first.next=s):(s.prev=this.last,this.last.next=s,this.last=s):(this.first=s,this.last=s),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const s=this.first;return this.first=null,this.last=null,s.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},r1=class{generateSecretKey(){return bi.utils.randomPrivateKey()}getPublicKey(s){return Le(bi.getPublicKey(s))}finalizeEvent(s,l){const c=s;return c.pubkey=Le(bi.getPublicKey(l)),c.id=Ku(c),c.sig=Le(bi.sign(Ku(c),l)),c[Zs]=!0,c}verifyEvent(s){if(typeof s[Zs]=="boolean")return s[Zs];const l=Ku(s);if(l!==s.id)return s[Zs]=!1,!1;try{const c=bi.verify(s.sig,l,s.pubkey);return s[Zs]=c,c}catch{return s[Zs]=!1,!1}}};function o1(a){if(!yd(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Ku(a){let s=Ja($n.encode(o1(a)));return Le(s)}var dc=new r1,x0=dc.generateSecretKey,ol=dc.getPublicKey,Hn=dc.finalizeEvent,mc=dc.verifyEvent,l1={};fe(l1,{Application:()=>bw,BadgeAward:()=>g1,BadgeDefinition:()=>dw,BlockedRelaysList:()=>X1,BlossomServerList:()=>nw,BookmarkList:()=>K1,Bookmarksets:()=>cw,Calendar:()=>zw,CalendarEventRSVP:()=>Cw,ChannelCreation:()=>z0,ChannelHideMessage:()=>M0,ChannelMessage:()=>L0,ChannelMetadata:()=>C0,ChannelMuteUser:()=>O0,ChatMessage:()=>y1,ClassifiedListing:()=>Sw,ClientAuth:()=>k0,Comment:()=>A1,CommunitiesList:()=>I1,CommunityDefinition:()=>Nw,CommunityPostApproval:()=>B1,Contacts:()=>d1,CreateOrUpdateProduct:()=>gw,CreateOrUpdateStall:()=>pw,Curationsets:()=>fw,Date:()=>Tw,DirectMessageRelaysList:()=>tw,DraftClassifiedListing:()=>Ew,DraftLong:()=>vw,Emojisets:()=>_w,EncryptedDirectMessage:()=>m1,EventDeletion:()=>p1,FavoriteRelays:()=>J1,FileMessage:()=>_1,FileMetadata:()=>T1,FileServerPreference:()=>ew,Followsets:()=>ow,ForumThread:()=>v1,GenericRepost:()=>Sd,Genericlists:()=>lw,GiftWrap:()=>N0,GroupMetadata:()=>kw,HTTPAuth:()=>Ed,Handlerinformation:()=>Ow,Handlerrecommendation:()=>Mw,Highlights:()=>Z1,InterestsList:()=>W1,Interestsets:()=>mw,JobFeedback:()=>U1,JobRequest:()=>R1,JobResult:()=>D1,Label:()=>k1,LightningPubRPC:()=>aw,LiveChatMessage:()=>z1,LiveEvent:()=>xw,LongFormArticle:()=>yw,Metadata:()=>f1,Mutelist:()=>G1,NWCWalletInfo:()=>iw,NWCWalletRequest:()=>B0,NWCWalletResponse:()=>sw,NormalVideo:()=>x1,NostrConnect:()=>rw,OpenTimestamps:()=>S1,Photo:()=>b1,Pinlist:()=>V1,Poll:()=>E1,PollResponse:()=>q1,PrivateDirectMessage:()=>A0,ProblemTracker:()=>M1,ProfileBadges:()=>hw,PublicChatsList:()=>Q1,Reaction:()=>wd,RecommendRelay:()=>h1,RelayList:()=>Y1,RelayReview:()=>Lw,Relaysets:()=>uw,Report:()=>O1,Reporting:()=>N1,Repost:()=>xd,Seal:()=>T0,SearchRelaysList:()=>F1,ShortTextNote:()=>E0,ShortVideo:()=>w1,Time:()=>Aw,UserEmojiList:()=>$1,UserStatuses:()=>ww,Voice:()=>C1,VoiceComment:()=>L1,Zap:()=>P1,ZapGoal:()=>j1,ZapRequest:()=>H1,classifyKind:()=>u1,isAddressableKind:()=>bd,isEphemeralKind:()=>S0,isKind:()=>c1,isRegularKind:()=>w0,isReplaceableKind:()=>_d});function w0(a){return a<1e4&&a!==0&&a!==3}function _d(a){return a===0||a===3||1e4<=a&&a<2e4}function S0(a){return 2e4<=a&&a<3e4}function bd(a){return 3e4<=a&&a<4e4}function u1(a){return w0(a)?"regular":_d(a)?"replaceable":S0(a)?"ephemeral":bd(a)?"parameterized":"unknown"}function c1(a,s){const l=s instanceof Array?s:[s];return yd(a)&&l.includes(a.kind)||!1}var f1=0,E0=1,h1=2,d1=3,m1=4,p1=5,xd=6,wd=7,g1=8,y1=9,v1=11,T0=13,A0=14,_1=15,Sd=16,b1=20,x1=21,w1=22,z0=40,C0=41,L0=42,M0=43,O0=44,S1=1040,N0=1059,E1=1068,T1=1063,A1=1111,z1=1311,C1=1222,L1=1244,M1=1971,O1=1984,N1=1984,k1=1985,B1=4550,R1=5999,D1=6999,U1=7e3,j1=9041,H1=9734,P1=9735,Z1=9802,q1=1018,G1=1e4,V1=10001,Y1=10002,K1=10003,I1=10004,Q1=10005,X1=10006,F1=10007,J1=10012,W1=10015,$1=10030,tw=10050,ew=10096,nw=10063,iw=13194,aw=21e3,k0=22242,B0=23194,sw=23195,rw=24133,Ed=27235,ow=3e4,lw=30001,uw=30002,cw=30003,fw=30004,hw=30008,dw=30009,mw=30015,pw=30017,gw=30018,yw=30023,vw=30024,_w=30030,bw=30078,xw=30311,ww=30315,Sw=30402,Ew=30403,Tw=31922,Aw=31923,zw=31924,Cw=31925,Lw=31987,Mw=31989,Ow=31990,Nw=34550,kw=39e3;function Bw(a,s){if(a.ids&&a.ids.indexOf(s.id)===-1||a.kinds&&a.kinds.indexOf(s.kind)===-1||a.authors&&a.authors.indexOf(s.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let c=l.slice(1),d=a[`#${c}`];if(d&&!s.tags.find(([p,_])=>p===l.slice(1)&&d.indexOf(_)!==-1))return!1}return!(a.since&&s.created_at<a.since||a.until&&s.created_at>a.until)}function Rw(a,s){for(let l=0;l<a.length;l++)if(Bw(a[l],s))return!0;return!1}var Dw={};fe(Dw,{getHex64:()=>pc,getInt:()=>R0,getSubscriptionId:()=>D0,matchEventId:()=>Uw,matchEventKind:()=>Hw,matchEventPubkey:()=>jw});function pc(a,s){let l=s.length+3,c=a.indexOf(`"${s}":`)+l,d=a.slice(c).indexOf('"')+c+1;return a.slice(d,d+64)}function R0(a,s){let l=s.length,c=a.indexOf(`"${s}":`)+l+3,d=a.slice(c),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function D0(a){let s=a.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let l=a.slice(s+7+1).indexOf('"');if(l===-1)return null;let c=s+7+1+l,d=a.slice(c+1,80).indexOf('"');if(d===-1)return null;let p=c+1+d;return a.slice(c+1,p)}function Uw(a,s){return s===pc(a,"id")}function jw(a,s){return s===pc(a,"pubkey")}function Hw(a,s){return s===R0(a,"kind")}var Pw={};fe(Pw,{makeAuthEvent:()=>U0});function U0(a,s){return{kind:k0,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",s]],content:""}}async function Zw(){return new Promise((a,s)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,c=()=>{l.port1.removeEventListener("message",c),a()};l.port1.addEventListener("message",c),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),s(l)}})}var qw=a=>(a[Zs]=!0,!0),j0=class extends Error{constructor(a,s){super(`Tried to send message '${a} on a closed connection to ${s}.`),this.name="SendingOnClosedConnection"}},H0=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new b0;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,s){this.url=Vs(a),this.verifyEvent=s.verifyEvent,this._WebSocket=s.websocketImplementation||WebSocket,this.enablePing=s.enablePing,this.enableReconnect=s.enableReconnect||!1}static async connect(a,s){const l=new H0(a,s);return await l.connect(),l}closeAllSubscriptions(a){for(let[s,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[s,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[s,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const s=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!s?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,s)=>{this.connectionTimeoutHandle=setTimeout(()=>{s("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),s(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const c of this.openSubs.values()){if(c.eosed=!1,l)for(let d=0;d<c.filters.length;d++)c.lastEmitted&&(c.filters[d].since=c.lastEmitted+1);c.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,s)=>{if(!this.connectionPromise)return s(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){s(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(s=>setTimeout(()=>s(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Zw();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const s=D0(a);if(s){const l=this.openSubs.get(s);if(!l)return;const c=pc(a,"id"),d=l.alreadyHaveEvent?.(c);if(l.receivedEvent?.(this,c),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const c=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&Rw(c.filters,d)&&c.onevent(d),(!c.lastEmitted||c.lastEmitted<d.created_at)&&(c.lastEmitted=d.created_at);return}case"COUNT":{const c=l[1],d=l[2],p=this.openCountRequests.get(c);p&&(p.resolve(d.count),this.openCountRequests.delete(c));return}case"EOSE":{const c=this.openSubs.get(l[1]);if(!c)return;c.receivedEose();return}case"OK":{const c=l[1],d=l[2],p=l[3],_=this.openEventPublishes.get(c);_&&(clearTimeout(_.timeout),d?_.resolve(p):_.reject(new Error(p)),this.openEventPublishes.delete(c));return}case"CLOSED":{const c=l[1],d=this.openSubs.get(c);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new j0(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const s=this.challenge;if(!s)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,c)=>{try{let d=await a(U0(this.url,s)),p=setTimeout(()=>{let _=this.openEventPublishes.get(d.id);_&&(_.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:c,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const s=new Promise((l,c)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:c,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),s}async count(a,s){this.serial++;const l=s?.id||"count:"+this.serial,c=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),c}subscribe(a,s){const l=this.prepareSubscription(a,s);return l.fire(),l}prepareSubscription(a,s){this.serial++;const l=s.id||(s.label?s.label+":":"sub:")+this.serial,c=new Gw(this,l,a,s);return this.openSubs.set(l,c),c}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},Gw=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,s,l,c){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=s,this.alreadyHaveEvent=c.alreadyHaveEvent,this.receivedEvent=c.receivedEvent,this.eoseTimeout=c.eoseTimeout||a.baseEoseTimeout,this.oneose=c.oneose,this.onclose=c.onclose,this.onevent=c.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(s){if(!(s instanceof j0))throw s}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},Vw;try{Vw=WebSocket}catch{}var Yw=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,s){a=Vs(a);let l=this.relays.get(a);if(l||(l=new H0(a,{verifyEvent:this.trustedRelayURLs.has(a)?qw:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},s?.connectionTimeout&&(l.connectionTimeout=s.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const c=this.automaticallyAuth(a);c&&(l.onauth=c)}return await l.connect(),l}close(a){a.map(Vs).forEach(s=>{this.relays.get(s)?.close(),this.relays.delete(s)})}subscribe(a,s,l){const c=[];for(let d=0;d<a.length;d++){const p=Vs(a[d]);c.find(_=>_.url===p)||c.push({url:p,filter:s})}return this.subscribeMap(c,l)}subscribeMany(a,s,l){const c=[],d=[];for(let p=0;p<a.length;p++){const _=Vs(a[p]);d.indexOf(_)===-1&&(d.push(_),c.push({url:_,filter:s}))}return this.subscribeMap(c,l)}subscribeMap(a,s){const l=new Map;for(const B of a){const{url:j,filter:U}=B;l.has(j)||l.set(j,[]),l.get(j).push(U)}const c=Array.from(l.entries()).map(([B,j])=>({url:B,filters:j}));this.trackRelays&&(s.receivedEvent=(B,j)=>{let U=this.seenOn.get(j);U||(U=new Set,this.seenOn.set(j,U)),U.add(B)});const d=new Set,p=[],_=[];let b=B=>{_[B]||(_[B]=!0,_.filter(j=>j).length===c.length&&(s.oneose?.(),b=()=>{}))};const y=[];let x=(B,j)=>{y[B]||(b(B),y[B]=j,y.filter(U=>U).length===c.length&&(s.onclose?.(y),x=()=>{}))};const A=B=>{if(s.alreadyHaveEvent?.(B))return!0;const j=d.has(B);return d.add(B),j},T=Promise.all(c.map(async({url:B,filters:j},U)=>{let N;try{N=await this.ensureRelay(B,{connectionTimeout:s.maxWait?Math.max(s.maxWait*.8,s.maxWait-1e3):void 0})}catch(q){x(U,q?.message||String(q));return}let Z=N.subscribe(j,{...s,oneose:()=>b(U),onclose:q=>{q.startsWith("auth-required: ")&&s.onauth?N.auth(s.onauth).then(()=>{N.subscribe(j,{...s,oneose:()=>b(U),onclose:tt=>{x(U,tt)},alreadyHaveEvent:A,eoseTimeout:s.maxWait})}).catch(tt=>{x(U,`auth was required and attempted, but failed with: ${tt}`)}):x(U,q)},alreadyHaveEvent:A,eoseTimeout:s.maxWait});p.push(Z)}));return{async close(B){await T,p.forEach(j=>{j.close(B)})}}}subscribeEose(a,s,l){const c=this.subscribe(a,s,{...l,oneose(){c.close("closed automatically on eose")}});return c}subscribeManyEose(a,s,l){const c=this.subscribeMany(a,s,{...l,oneose(){c.close("closed automatically on eose")}});return c}async querySync(a,s,l){return new Promise(async c=>{const d=[];this.subscribeEose(a,s,{...l,onevent(p){d.push(p)},onclose(p){c(d)}})})}async get(a,s,l){s.limit=1;const c=await this.querySync(a,s,l);return c.sort((d,p)=>p.created_at-d.created_at),c[0]||null}publish(a,s,l){return a.map(Vs).map(async(c,d,p)=>{if(p.indexOf(c)!==d)return Promise.reject("duplicate url");let _=await this.ensureRelay(c);return _.publish(s).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await _.auth(l.onauth),_.publish(s);throw b}).then(b=>{if(this.trackRelays){let y=this.seenOn.get(s.id);y||(y=new Set,this.seenOn.set(s.id,y)),y.add(_)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((s,l)=>a.set(l,s.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},P0;try{P0=WebSocket}catch{}var Kw=class extends Yw{constructor(a){super({verifyEvent:mc,websocketImplementation:P0,...a})}},Is={};fe(Is,{BECH32_REGEX:()=>Z0,Bech32MaxSize:()=>Td,NostrTypeGuard:()=>Iw,decode:()=>gc,decodeNostrURI:()=>Xw,encodeBytes:()=>vc,naddrEncode:()=>e2,neventEncode:()=>t2,noteEncode:()=>Ww,nprofileEncode:()=>$w,npubEncode:()=>Jw,nsecEncode:()=>Fw});var Iw={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},Td=5e3,Z0=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Qw(a){const s=new Uint8Array(4);return s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=a&255,s}function Xw(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),gc(a)}catch{return{type:"invalid",data:null}}}function gc(a){let{prefix:s,words:l}=Vr.decode(a,Td),c=new Uint8Array(Vr.fromWords(l));switch(s){case"nprofile":{let d=jh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Le(d[0][0]),relays:d[1]?d[1].map(p=>$i.decode(p)):[]}}}case"nevent":{let d=jh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Le(d[0][0]),relays:d[1]?d[1].map(p=>$i.decode(p)):[],author:d[2]?.[0]?Le(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(Le(d[3][0]),16):void 0}}}case"naddr":{let d=jh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:$i.decode(d[0][0]),pubkey:Le(d[2][0]),kind:parseInt(Le(d[3][0]),16),relays:d[1]?d[1].map(p=>$i.decode(p)):[]}}}case"nsec":return{type:s,data:c};case"npub":case"note":return{type:s,data:Le(c)};default:throw new Error(`unknown prefix ${s}`)}}function jh(a){let s={},l=a;for(;l.length>0;){let c=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${c}`);s[c]=s[c]||[],s[c].push(p)}return s}function Fw(a){return vc("nsec",a)}function Jw(a){return vc("npub",Xs(a))}function Ww(a){return vc("note",Xs(a))}function yc(a,s){let l=Vr.toWords(s);return Vr.encode(a,l,Td)}function vc(a,s){return yc(a,s)}function $w(a){let s=Ad({0:[Xs(a.pubkey)],1:(a.relays||[]).map(l=>$n.encode(l))});return yc("nprofile",s)}function t2(a){let s;a.kind!==void 0&&(s=Qw(a.kind));let l=Ad({0:[Xs(a.id)],1:(a.relays||[]).map(c=>$n.encode(c)),2:a.author?[Xs(a.author)]:[],3:s?[new Uint8Array(s)]:[]});return yc("nevent",l)}function e2(a){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,a.kind,!1);let l=Ad({0:[$n.encode(a.identifier)],1:(a.relays||[]).map(c=>$n.encode(c)),2:[Xs(a.pubkey)],3:[new Uint8Array(s)]});return yc("naddr",l)}function Ad(a){let s=[];return Object.entries(a).reverse().forEach(([l,c])=>{c.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),s.push(p)})}),cc(...s)}var n2={};fe(n2,{decrypt:()=>i2,encrypt:()=>q0});function q0(a,s,l){const c=a instanceof Uint8Array?Le(a):a,d=Kr.getSharedSecret(c,"02"+s),p=G0(d);let _=Uint8Array.from(n0(16)),b=$n.encode(l),y=d0(p,_).encrypt(b),x=ta.encode(new Uint8Array(y)),A=ta.encode(new Uint8Array(_.buffer));return`${x}?iv=${A}`}function i2(a,s,l){const c=a instanceof Uint8Array?Le(a):a;let[d,p]=l.split("?iv="),_=Kr.getSharedSecret(c,"02"+s),b=G0(_),y=ta.decode(p),x=ta.decode(d),A=d0(b,y).decrypt(x);return $i.decode(A)}function G0(a){return a.slice(1,33)}var a2={};fe(a2,{NIP05_REGEX:()=>zd,isNip05:()=>s2,isValid:()=>l2,queryProfile:()=>V0,searchDomain:()=>o2,useFetchImplementation:()=>r2});var zd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,s2=a=>zd.test(a||""),_c;try{_c=fetch}catch{}function r2(a){_c=a}async function o2(a,s=""){try{const l=`https://${a}/.well-known/nostr.json?name=${s}`,c=await _c(l,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");return(await c.json()).names}catch{return{}}}async function V0(a){const s=a.match(zd);if(!s)return null;const[,l="_",c]=s;try{const d=`https://${c}/.well-known/nostr.json?name=${l}`,p=await _c(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const _=await p.json(),b=_.names[l];return b?{pubkey:b,relays:_.relays?.[b]}:null}catch{return null}}async function l2(a,s){const l=await V0(s);return l?l.pubkey===a:!1}var u2={};fe(u2,{parse:()=>c2});function c2(a){const s={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,c;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[_,b,y,x,A]=p,T={id:b,relays:y?[y]:[],author:A};if(x==="root"){s.root=T;continue}if(x==="reply"){s.reply=T;continue}if(x==="mention"){s.mentions.push(T);continue}l?c=T:l=T,s.mentions.push(T);continue}if(p[0]==="q"&&p[1]){const[_,b,y]=p;s.quotes.push({id:b,relays:y?[y]:[]})}if(p[0]==="p"&&p[1]){s.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return s.root||(s.root=c||l||s.reply),s.reply||(s.reply=l||s.root),[s.reply,s.root].forEach(d=>{if(!d)return;let p=s.mentions.indexOf(d);if(p!==-1&&s.mentions.splice(p,1),d.author){let _=s.profiles.find(b=>b.pubkey===d.author);_&&_.relays&&(d.relays||(d.relays=[]),_.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),_.relays=d.relays)}}),s.mentions.forEach(d=>{if(d.author){let p=s.profiles.find(_=>_.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(_=>{d.relays.indexOf(_)===-1&&d.relays.push(_)}),p.relays=d.relays)}}),s}var f2={};fe(f2,{fetchRelayInformation:()=>d2,useFetchImplementation:()=>h2});var Y0;try{Y0=fetch}catch{}function h2(a){Y0=a}async function d2(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var m2={};fe(m2,{fastEventHash:()=>I0,getPow:()=>K0,minePow:()=>p2});function K0(a){let s=0;for(let l=0;l<64;l+=8){const c=parseInt(a.substring(l,l+8),16);if(c===0)s+=32;else{s+=Math.clz32(c);break}}return s}function p2(a,s){let l=0;const c=a,d=["nonce",l.toString(),s.toString()];for(c.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==c.created_at&&(l=0,c.created_at=p),d[1]=(++l).toString(),c.id=I0(c),K0(c.id)>=s)break}return c}function I0(a){return Le(Ja($n.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var g2={};fe(g2,{unwrapEvent:()=>z2,unwrapManyEvents:()=>C2,wrapEvent:()=>rv,wrapManyEvents:()=>A2});var y2={};fe(y2,{createRumor:()=>nv,createSeal:()=>iv,createWrap:()=>av,unwrapEvent:()=>Nd,unwrapManyEvents:()=>sv,wrapEvent:()=>tc,wrapManyEvents:()=>E2});var ll={};fe(ll,{decrypt:()=>Od,encrypt:()=>Md,getConversationKey:()=>Cd,v2:()=>w2});var Q0=1,X0=65535;function Cd(a,s){const l=Kr.getSharedSecret(a,"02"+s).subarray(1,33);return $x(Ja,l,"nip44-v2")}function F0(a,s){const l=t1(Ja,a,s,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function Ld(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const s=1<<Math.floor(Math.log2(a-1))+1,l=s<=256?32:s/8;return l*(Math.floor((a-1)/l)+1)}function v2(a){if(!Number.isSafeInteger(a)||a<Q0||a>X0)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,a,!1),s}function _2(a){const s=$n.encode(a),l=s.length,c=v2(l),d=new Uint8Array(Ld(l)-l);return cc(c,s,d)}function b2(a){const s=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+s);if(s<Q0||s>X0||l.length!==s||a.length!==2+Ld(s))throw new Error("invalid padding");return $i.decode(l)}function J0(a,s,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const c=cc(l,s);return hc(Ja,a,c)}function x2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const s=a.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=ta.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const c=l.length;if(c<99||c>65603)throw new Error("invalid data length: "+c);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Md(a,s,l=n0(32)){const{chacha_key:c,chacha_nonce:d,hmac_key:p}=F0(s,l),_=_2(a),b=y0(c,d,_),y=J0(p,b,l);return ta.encode(cc(new Uint8Array([2]),l,b,y))}function Od(a,s){const{nonce:l,ciphertext:c,mac:d}=x2(a),{chacha_key:p,chacha_nonce:_,hmac_key:b}=F0(s,l),y=J0(b,c,l);if(!Bx(y,d))throw new Error("invalid MAC");const x=y0(p,_,c);return b2(x)}var w2={utils:{getConversationKey:Cd,calcPaddedLen:Ld},encrypt:Md,decrypt:Od},S2=2880*60,W0=()=>Math.round(Date.now()/1e3),$0=()=>Math.round(W0()-Math.random()*S2),tv=(a,s)=>Cd(a,s),ev=(a,s,l)=>Md(JSON.stringify(a),tv(s,l)),py=(a,s)=>JSON.parse(Od(a.content,tv(s,a.pubkey)));function nv(a,s){const l={created_at:W0(),content:"",tags:[],...a,pubkey:ol(s)};return l.id=Ku(l),l}function iv(a,s,l){return Hn({kind:T0,content:ev(a,s,l),created_at:$0(),tags:[]},s)}function av(a,s){const l=x0();return Hn({kind:N0,content:ev(a,l,s),created_at:$0(),tags:[["p",s]]},l)}function tc(a,s,l){const c=nv(a,s),d=iv(c,s,l);return av(d,l)}function E2(a,s,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const c=ol(s),d=[tc(a,s,c)];return l.forEach(p=>{d.push(tc(a,s,p))}),d}function Nd(a,s){const l=py(a,s);return py(l,s)}function sv(a,s){let l=[];return a.forEach(c=>{l.push(Nd(c,s))}),l.sort((c,d)=>c.created_at-d.created_at),l}function T2(a,s,l,c){const d={created_at:Math.ceil(Date.now()/1e3),kind:A0,tags:[],content:s};return(Array.isArray(a)?a:[a]).forEach(({publicKey:_,relayUrl:b})=>{d.tags.push(b?["p",_,b]:["p",_])}),c&&d.tags.push(["e",c.eventId,c.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function rv(a,s,l,c,d){const p=T2(s,l,c,d);return tc(p,a,s.publicKey)}function A2(a,s,l,c,d){if(!s||s.length===0)throw new Error("At least one recipient is required.");return[{publicKey:ol(a)},...s].map(_=>rv(a,_,l,c,d))}var z2=Nd,C2=sv,L2={};fe(L2,{finishRepostEvent:()=>M2,getRepostedEvent:()=>O2,getRepostedEventPointer:()=>ov});function M2(a,s,l,c){let d;const p=[...a.tags??[],["e",s.id,l],["p",s.pubkey]];return s.kind===E0?d=xd:(d=Sd,p.push(["k",String(s.kind)])),Hn({kind:d,tags:p,content:a.content===""||s.tags?.find(_=>_[0]==="-")?"":JSON.stringify(s),created_at:a.created_at},c)}function ov(a){if(![xd,Sd].includes(a.kind))return;let s,l;for(let c=a.tags.length-1;c>=0&&(s===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(s!==void 0)return{id:s[1],relays:[s[2],l?.[2]].filter(c=>typeof c=="string"),author:l?.[1]}}function O2(a,{skipVerification:s}={}){const l=ov(a);if(l===void 0||a.content==="")return;let c;try{c=JSON.parse(a.content)}catch{return}if(c.id===l.id&&!(!s&&!mc(c)))return c}var N2={};fe(N2,{NOSTR_URI_REGEX:()=>kd,parse:()=>B2,test:()=>k2});var kd=new RegExp(`nostr:(${Z0.source})`);function k2(a){return typeof a=="string"&&new RegExp(`^${kd.source}$`).test(a)}function B2(a){const s=a.match(new RegExp(`^${kd.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:s[0],value:s[1],decoded:gc(s[1])}}var R2={};fe(R2,{finishReactionEvent:()=>D2,getReactedEventPointer:()=>U2});function D2(a,s,l){const c=s.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return Hn({...a,kind:wd,tags:[...a.tags??[],...c,["e",s.id],["p",s.pubkey]],content:a.content??"+"},l)}function U2(a){if(a.kind!==wd)return;let s,l;for(let c=a.tags.length-1;c>=0&&(s===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(s===void 0||l===void 0))return{id:s[1],relays:[s[2],l[2]].filter(c=>c!==void 0),author:l[1]}}var j2={};fe(j2,{parse:()=>P2});var gy=/\W/m,yy=/[^\w\/] |[^\w\/]$|$|,| /m,H2=42;function*P2(a){let s=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const _=a.tags[p];_[0]==="emoji"&&_.length>=3&&s.push({type:"emoji",shortcode:_[1],url:_[2]})}a=a.content}const l=a.length;let c=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),_=a.indexOf("#",d);if(p===-1&&_===-1)break t;if(p===-1||_>=0&&_<p){if(_===0||a[_-1]===" "){const b=a.slice(_+1,_+H2).match(gy),y=b?_+1+b.index:l;yield{type:"text",text:a.slice(c,_)},yield{type:"hashtag",value:a.slice(_+1,y)},d=y,c=d;continue t}d=_+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(gy),y=b?p+60+b.index:l;try{let x,{data:A,type:T}=gc(a.slice(p+1,y));switch(T){case"npub":x={pubkey:A};break;case"note":x={id:A};break;case"nsec":d=y+1;continue;default:x=A}c!==p-5&&(yield{type:"text",text:a.slice(c,p-5)}),yield{type:"reference",pointer:x},d=y,c=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(yy),y=b?p+4+b.index:l,x=a[p-1]==="s"?5:4;try{let A=new URL(a.slice(p-x,y));if(A.hostname.indexOf(".")===-1)throw new Error("invalid url");if(c!==p-x&&(yield{type:"text",text:a.slice(c,p-x)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(A.pathname)){yield{type:"image",url:A.toString()},d=y,c=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(A.pathname)){yield{type:"video",url:A.toString()},d=y,c=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(A.pathname)){yield{type:"audio",url:A.toString()},d=y,c=d;continue t}yield{type:"url",url:A.toString()},d=y,c=d;continue t}catch{d=y+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(yy),y=b?p+4+b.index:l,x=a[p-1]==="s"?3:2;try{let A=new URL(a.slice(p-x,y));if(A.hostname.indexOf(".")===-1)throw new Error("invalid ws url");c!==p-x&&(yield{type:"text",text:a.slice(c,p-x)}),yield{type:"relay",url:A.toString()},d=y,c=d;continue t}catch{d=y+1;continue t}}else{for(let b=0;b<s.length;b++){const y=s[b];if(a[p+y.shortcode.length+1]===":"&&a.slice(p+1,p+y.shortcode.length+1)===y.shortcode){c!==p&&(yield{type:"text",text:a.slice(c,p)}),yield y,d=p+y.shortcode.length+2,c=d;continue t}}d=p+1;continue t}}c!==l&&(yield{type:"text",text:a.slice(c)})}var Z2={};fe(Z2,{channelCreateEvent:()=>q2,channelHideMessageEvent:()=>Y2,channelMessageEvent:()=>V2,channelMetadataEvent:()=>G2,channelMuteUserEvent:()=>K2});var q2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Hn({kind:z0,tags:[...a.tags??[]],content:l,created_at:a.created_at},s)},G2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Hn({kind:C0,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},V2=(a,s)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),Hn({kind:L0,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},s)},Y2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Hn({kind:M0,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},K2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Hn({kind:O0,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},s)},I2={};fe(I2,{EMOJI_SHORTCODE_REGEX:()=>lv,matchAll:()=>Q2,regex:()=>Bd,replaceAll:()=>X2});var lv=/:(\w+):/,Bd=()=>new RegExp(`\\B${lv.source}\\B`,"g");function*Q2(a){const s=a.matchAll(Bd());for(const l of s)try{const[c,d]=l;yield{shortcode:c,name:d,start:l.index,end:l.index+c.length}}catch{}}function X2(a,s){return a.replaceAll(Bd(),(l,c)=>s({shortcode:l,name:c}))}var F2={};fe(F2,{useFetchImplementation:()=>J2,validateGithub:()=>W2});var Rd;try{Rd=fetch}catch{}function J2(a){Rd=a}async function W2(a,s,l){try{return await(await Rd(`https://gist.github.com/${s}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var $2={};fe($2,{makeNwcRequestEvent:()=>eS,parseConnectionString:()=>tS});function tS(a){const{host:s,pathname:l,searchParams:c}=new URL(a),d=l||s,p=c.get("relay"),_=c.get("secret");if(!d||!p||!_)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:_}}async function eS(a,s,l){const d=q0(s,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:B0,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return Hn(p,s)}var nS={};fe(nS,{normalizeIdentifier:()=>iS});function iS(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(s=>new RegExp("\\p{Letter}","u").test(s)||new RegExp("\\p{Number}","u").test(s)?s:"-").join("")}var aS={};fe(aS,{getSatoshisAmountFromBolt11:()=>cS,getZapEndpoint:()=>rS,makeZapReceipt:()=>uS,makeZapRequest:()=>oS,useFetchImplementation:()=>sS,validateZapRequest:()=>lS});var Dd;try{Dd=fetch}catch{}function sS(a){Dd=a}async function rS(a){try{let s="",{lud06:l,lud16:c}=JSON.parse(a.content);if(c){let[_,b]=c.split("@");s=new URL(`/.well-known/lnurlp/${_}`,`https://${b}`).toString()}else if(l){let{words:_}=Vr.decode(l,1e3),b=Vr.fromWords(_);s=$i.decode(b)}else return null;let p=await(await Dd(s)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function oS(a){let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(s.tags.push(["e",a.event.id]),_d(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];s.tags.push(l)}else if(bd(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];s.tags.push(c)}s.tags.push(["k",a.event.kind.toString()])}return s}function lS(a){let s;try{s=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!yd(s))return"Zap request is not a valid Nostr event.";if(!mc(s))return"Invalid signature on zap request.";let l=s.tags.find(([p,_])=>p==="p"&&_);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let c=s.tags.find(([p,_])=>p==="e"&&_);return c&&!c[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([p,_])=>p==="relays"&&_)?null:"Zap request doesn't have a 'relays' tag."}function uS({zapRequest:a,preimage:s,bolt11:l,paidAt:c}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),_={kind:9735,created_at:Math.round(c.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return s&&_.tags.push(["preimage",s]),_}function cS(a){if(a.length<50)return 0;a=a.substring(0,50);const s=a.lastIndexOf("1");if(s===-1)return 0;const l=a.substring(0,s);if(!l.startsWith("lnbc"))return 0;const c=l.substring(4);if(c.length<1)return 0;const d=c[c.length-1],p=d.charCodeAt(0)-48,_=p>=0&&p<=9;let b=c.length-1;if(_&&b++,b<1)return 0;const y=parseInt(c.substring(0,b));switch(d){case"m":return y*1e5;case"u":return y*100;case"n":return y/10;case"p":return y/1e4;default:return y*1e8}}var fS={};fe(fS,{Negentropy:()=>cv,NegentropyStorageVector:()=>mS,NegentropySync:()=>pS});var Hh=97,Zr=32,uv=16,Ps={Skip:0,Fingerprint:1,IdList:2},Wi=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof Wi&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const s=a.length+this.length;if(this.capacity<s){const l=this._raw,c=Math.max(this.capacity*2,s);this._raw=new Uint8Array(c),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const s=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,s}};function Vu(a){let s=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(s=s<<7|l&127,(l&128)===0)break}return s}function Fi(a){if(a===0)return new Wi(new Uint8Array([0]));let s=[];for(;a!==0;)s.push(a&127),a>>>=7;s.reverse();for(let l=0;l<s.length-1;l++)s[l]|=128;return new Wi(new Uint8Array(s))}function hS(a){return Iu(a,1)[0]}function Iu(a,s){if(a.length<s)throw Error("parse ends prematurely");return a.shiftN(s)}var dS=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(Zr)}add(a){let s=0,l=0,c=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let _=p*4,b=c.getUint32(_,!0),y=d.getUint32(_,!0),x=b;x+=s,x+=y,x>4294967295&&(l=1),c.setUint32(_,x&4294967295,!0),s=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let c=l*4;a.setUint32(c,~a.getUint32(c,!0))}let s=new Uint8Array(Zr);s[0]=1,this.add(s)}getFingerprint(a){let s=new Wi;return s.extend(this.buf),s.extend(Fi(a)),Ja(s.unwrap()).subarray(0,uv)}},mS=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,s){if(this.sealed)throw Error("already sealed");const l=l0(s);if(l.byteLength!==Zr)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Ph);for(let a=1;a<this.items.length;a++)if(Ph(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,s,l){this._checkSealed(),this._checkBounds(a,s);for(let c=a;c<s&&l(this.items[c],c);++c);}findLowerBound(a,s,l){return this._checkSealed(),this._checkBounds(a,s),this._binarySearch(this.items,a,s,c=>Ph(c,l)<0)}fingerprint(a,s){let l=new dS;return l.setToZero(),this.iterate(a,s,c=>(l.add(c.id),!0)),l.getFingerprint(s-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,s){if(a>s||s>this.items.length)throw Error("bad range")}_binarySearch(a,s,l,c){let d=l-s;for(;d>0;){let p=s,_=Math.floor(d/2);p+=_,c(a[p])?(s=++p,d-=_+1):d=_}return s}},cv=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,s=6e4){if(s<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=s,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,s){return{timestamp:a,id:s||new Uint8Array(0)}}initiate(){let a=new Wi;return a.extend(new Uint8Array([Hh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),jr(a.unwrap())}reconcile(a,s,l){const c=new Wi(l0(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new Wi;d.extend(new Uint8Array([Hh]));let p=hS(c);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==Hh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let _=this.storage.size(),b=this._bound(0),y=0,x=!1;for(;c.length!==0;){let A=new Wi,T=()=>{x&&(x=!1,A.extend(this.encodeBound(b)),A.extend(Fi(Ps.Skip)))},B=this.decodeBound(c),j=Vu(c),U=y,N=this.storage.findLowerBound(y,_,B);if(j===Ps.Skip)x=!0;else if(j===Ps.Fingerprint){let Z=Iu(c,uv),q=this.storage.fingerprint(U,N);fv(Z,q)!==0?(T(),this.splitRange(U,N,B,A)):x=!0}else if(j===Ps.IdList){let Z=Vu(c),q={};for(let tt=0;tt<Z;tt++){let ot=Iu(c,Zr);q[jr(ot)]=ot}if(x=!0,this.storage.iterate(U,N,tt=>{let ot=tt.id;const dt=jr(ot);return q[dt]?delete q[jr(ot)]:s?.(dt),!0}),l)for(let tt of Object.values(q))l(jr(tt))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+A.length)){let Z=this.storage.fingerprint(N,_);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(Fi(Ps.Fingerprint)),d.extend(Z);break}else d.extend(A);y=N,b=B}return d.length===1?null:jr(d.unwrap())}splitRange(a,s,l,c){let d=s-a,p=16;if(d<p*2)c.extend(this.encodeBound(l)),c.extend(Fi(Ps.IdList)),c.extend(Fi(d)),this.storage.iterate(a,s,_=>(c.extend(_.id),!0));else{let _=Math.floor(d/p),b=d%p,y=a;for(let x=0;x<p;x++){let A=_+(x<b?1:0),T=this.storage.fingerprint(y,y+A);y+=A;let B;if(y===s)B=l;else{let j,U;this.storage.iterate(y-1,y+1,(N,Z)=>(Z===y-1?j=N:U=N,!0)),B=this.getMinimalBound(j,U)}c.extend(this.encodeBound(B)),c.extend(Fi(Ps.Fingerprint)),c.extend(T)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let s=Vu(a);return s=s===0?Number.MAX_VALUE:s-1,this.lastTimestampIn===Number.MAX_VALUE||s===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(s+=this.lastTimestampIn,this.lastTimestampIn=s,s)}decodeBound(a){let s=this.decodeTimestampIn(a),l=Vu(a);if(l>Zr)throw Error("bound key too long");let c=Iu(a,l);return{timestamp:s,id:c}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,Fi(0);let s=a;return a-=this.lastTimestampOut,this.lastTimestampOut=s,Fi(a+1)}encodeBound(a){let s=new Wi;return s.extend(this.encodeTimestampOut(a.timestamp)),s.extend(Fi(a.id.length)),s.extend(a.id),s}getMinimalBound(a,s){if(s.timestamp!==a.timestamp)return this._bound(s.timestamp);{let l=0,c=s.id,d=a.id;for(let p=0;p<Zr&&c[p]===d[p];p++)l++;return this._bound(s.timestamp,s.id.subarray(0,l+1))}}};function fv(a,s){for(let l=0;l<a.byteLength;l++){if(a[l]<s[l])return-1;if(a[l]>s[l])return 1}return a.byteLength>s.byteLength?1:a.byteLength<s.byteLength?-1:0}function Ph(a,s){return a.timestamp===s.timestamp?fv(a.id,s.id):a.timestamp-s.timestamp}var pS=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,s,l,c={}){this.relay=a,this.storage=s,this.neg=new cv(s),this.onhave=c.onhave,this.onneed=c.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:c.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),c.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),c?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),c.onclose?.(p);break}case"NEG-ERR":c.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},gS={};fe(gS,{getToken:()=>yS,hashPayload:()=>Ud,unpackEventFromToken:()=>dv,validateEvent:()=>_v,validateEventKind:()=>pv,validateEventMethodTag:()=>yv,validateEventPayloadTag:()=>vv,validateEventTimestamp:()=>mv,validateEventUrlTag:()=>gv,validateToken:()=>vS});var hv="Nostr ";async function yS(a,s,l,c=!1,d){const p={kind:Ed,tags:[["u",a],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",Ud(d)]);const _=await l(p);return(c?hv:"")+ta.encode($n.encode(JSON.stringify(_)))}async function vS(a,s,l){const c=await dv(a).catch(p=>{throw p});return await _v(c,s,l).catch(p=>{throw p})}async function dv(a){if(!a)throw new Error("Missing token");a=a.replace(hv,"");const s=$i.decode(ta.decode(a));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function mv(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function pv(a){return a.kind===Ed}function gv(a,s){const l=a.tags.find(c=>c[0]==="u");return l?l.length>0&&l[1]===s:!1}function yv(a,s){const l=a.tags.find(c=>c[0]==="method");return l?l.length>0&&l[1].toLowerCase()===s.toLowerCase():!1}function Ud(a){const s=Ja($n.encode(JSON.stringify(a)));return Le(s)}function vv(a,s){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const c=Ud(s);return l.length>0&&l[1]===c}async function _v(a,s,l,c){if(!mc(a))throw new Error("Invalid nostr event, signature invalid");if(!pv(a))throw new Error("Invalid nostr event, kind invalid");if(!mv(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!gv(a,s))throw new Error("Invalid nostr event, url tag invalid");if(!yv(a,l))throw new Error("Invalid nostr event, method tag invalid");if(c&&typeof c=="object"&&Object.keys(c).length>0&&!vv(a,c))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const vy=a=>Array.from(a).map(s=>s.toString(16).padStart(2,"0")).join(""),bv=it.createContext(null),_S=({children:a})=>{const[s,l]=it.useState(localStorage.getItem("parlens_pubkey")),[c]=it.useState(new Kw),d=async(b,y,x)=>{let A="",T=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");A=await window.nostr.getPublicKey()}else if(b==="nsec"&&y)try{const B=Is.decode(y);if(B.type!=="nsec")throw new Error("Not an nsec");T=B.data,A=ol(T),localStorage.setItem("parlens_privkey",vy(T))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(T=x0(),A=ol(T),localStorage.setItem("parlens_privkey",vy(T)));if(l(A),localStorage.setItem("parlens_pubkey",A),b==="create"&&x&&T)try{const B=Hn({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:x,display_name:x,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${A}`})},T);await Promise.any([c.publish(["wss://relay.damus.io","wss://nos.lol"],B)])}catch(B){console.warn("Failed to publish metadata:",B)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},_=async b=>{const y=localStorage.getItem("parlens_privkey");if(y){const x=new Uint8Array(y.match(/.{1,2}/g).map(A=>parseInt(A,16)));return Hn(b,x)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return E.jsx(bv.Provider,{value:{pubkey:s,login:d,logout:p,pool:c,signEvent:_},children:a})},dl=()=>{const a=it.useContext(bv);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const bS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xS=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,l,c)=>c?c.toUpperCase():l.toLowerCase()),_y=a=>{const s=xS(a);return s.charAt(0).toUpperCase()+s.slice(1)},xv=(...a)=>a.filter((s,l,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===l).join(" ").trim(),wS=a=>{for(const s in a)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var SS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ES=it.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:p,iconNode:_,...b},y)=>it.createElement("svg",{ref:y,...SS,width:s,height:s,stroke:a,strokeWidth:c?Number(l)*24/Number(s):l,className:xv("lucide",d),...!p&&!wS(b)&&{"aria-hidden":"true"},...b},[..._.map(([x,A])=>it.createElement(x,A)),...Array.isArray(p)?p:[p]]));const ke=(a,s)=>{const l=it.forwardRef(({className:c,...d},p)=>it.createElement(ES,{ref:p,iconNode:s,className:xv(`lucide-${bS(_y(a))}`,`lucide-${a}`,c),...d}));return l.displayName=_y(a),l};const TS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],AS=ke("arrow-right",TS);const zS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ul=ke("chevron-down",zS);const CS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ec=ke("chevron-right",CS);const LS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MS=ke("chevron-up",LS);const OS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],by=ke("circle-question-mark",OS);const NS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kS=ke("clock",NS);const BS=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RS=ke("compass",BS);const DS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],US=ke("eye-off",DS);const jS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HS=ke("eye",jS);const PS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$h=ke("key",PS);const ZS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nc=ke("map-pin",ZS);const qS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],wv=ke("navigation",qS);const GS=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],VS=ke("route",GS);const YS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KS=ke("search",YS);const IS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Sv=ke("shield",IS);const QS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ev=ke("trash-2",QS);const XS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FS=ke("user-plus",XS);const JS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WS=ke("user",JS);const $S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jd=ke("x",$S);function tE(a,s){const l=it.useRef(s);it.useEffect(function(){s!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),s!=null&&a.attributionControl.addAttribution(s)),l.current=s},[a,s])}By();const eE=1;function nE(a){return Object.freeze({__version:eE,map:a})}function Tv(a,s){return Object.freeze({...a,...s})}const Hd=it.createContext(null);function Pd(){const a=it.use(Hd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function Av(a){function s(l,c){const{instance:d,context:p}=a(l).current;it.useImperativeHandle(c,()=>d);const{children:_}=l;return _==null?null:al.createElement(Hd,{value:p},_)}return it.forwardRef(s)}function iE(a){function s(l,c){const{instance:d}=a(l).current;return it.useImperativeHandle(c,()=>d),null}return it.forwardRef(s)}function zv(a,s){const l=it.useRef(void 0);it.useEffect(function(){return s!=null&&a.instance.on(s),l.current=s,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,s])}function Zd(a,s){const l=a.pane??s.pane;return l?{...a,pane:l}:a}var il={exports:{}};var aE=il.exports,xy;function sE(){return xy||(xy=1,(function(a,s){(function(l,c){c(s)})(aE,(function(l){var c="1.9.4";function d(n){var r,u,m,g;for(u=1,m=arguments.length;u<m;u++){g=arguments[u];for(r in g)n[r]=g[r]}return n}var p=Object.create||(function(){function n(){}return function(r){return n.prototype=r,new n}})();function _(n,r){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var m=u.call(arguments,2);return function(){return n.apply(r,m.length?m.concat(u.call(arguments)):arguments)}}var b=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function x(n,r,u){var m,g,w,C;return C=function(){m=!1,g&&(w.apply(u,g),g=!1)},w=function(){m?g=arguments:(n.apply(u,arguments),setTimeout(C,r),m=!0)},w}function A(n,r,u){var m=r[1],g=r[0],w=m-g;return n===m&&u?n:((n-g)%w+w)%w+g}function T(){return!1}function B(n,r){if(r===!1)return n;var u=Math.pow(10,r===void 0?6:r);return Math.round(n*u)/u}function j(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function U(n){return j(n).split(/\s+/)}function N(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var u in r)n.options[u]=r[u];return n.options}function Z(n,r,u){var m=[];for(var g in n)m.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!r||r.indexOf("?")===-1?"?":"&")+m.join("&")}var q=/\{ *([\w_ -]+) *\}/g;function tt(n,r){return n.replace(q,function(u,m){var g=r[m];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(r)),g})}var ot=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function dt(n,r){for(var u=0;u<n.length;u++)if(n[u]===r)return u;return-1}var ut="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function st(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var F=0;function at(n){var r=+new Date,u=Math.max(0,16-(r-F));return F=r+u,window.setTimeout(n,u)}var yt=window.requestAnimationFrame||st("RequestAnimationFrame")||at,_t=window.cancelAnimationFrame||st("CancelAnimationFrame")||st("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function pt(n,r,u){if(u&&yt===at)n.call(r);else return yt.call(window,_(n,r))}function ct(n){n&&_t.call(window,n)}var vt={__proto__:null,extend:d,create:p,bind:_,get lastId(){return b},stamp:y,throttle:x,wrapNum:A,falseFn:T,formatNum:B,trim:j,splitWords:U,setOptions:N,getParamString:Z,template:tt,isArray:ot,indexOf:dt,emptyImageUrl:ut,requestFn:yt,cancelFn:_t,requestAnimFrame:pt,cancelAnimFrame:ct};function bt(){}bt.extend=function(n){var r=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=r.__super__=this.prototype,m=p(u);m.constructor=r,r.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(r[g]=this[g]);return n.statics&&d(r,n.statics),n.includes&&(X(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=u.options?p(u.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,C=m._initHooks.length;w<C;w++)m._initHooks[w].call(this)}},r},bt.include=function(n){var r=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},bt.mergeOptions=function(n){return d(this.prototype.options,n),this},bt.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function X(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=ot(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var M={on:function(n,r,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],r);else{n=U(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],r,u)}return this},off:function(n,r,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],r);else{n=U(n);for(var g=arguments.length===1,w=0,C=n.length;w<C;w++)g?this._off(n[w]):this._off(n[w],r,u)}return this},_on:function(n,r,u,m){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,u)===!1){u===this&&(u=void 0);var g={fn:r,ctx:u};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,r,u){var m,g,w;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,w=m.length;g<w;g++)m[g].fn=T;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var C=this._listens(n,r,u);if(C!==!1){var D=m[C];this._firingCount&&(D.fn=T,this._events[n]=m=m.slice()),m.splice(C,1)}}},fire:function(n,r,u){if(!this.listens(n,u))return this;var m=d({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,C=g.length;w<C;w++){var D=g[w],Y=D.fn;D.once&&this.off(n,Y,D.ctx),Y.call(D.ctx||this,m)}this._firingCount--}}return u&&this._propagateEvent(m),this},listens:function(n,r,u,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=r;typeof r!="function"&&(m=!!r,g=void 0,u=void 0);var w=this._events&&this._events[n];if(w&&w.length&&this._listens(n,g,u)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(n,r,u,m))return!0}return!1},_listens:function(n,r,u){if(!this._events)return!1;var m=this._events[n]||[];if(!r)return!!m.length;u===this&&(u=void 0);for(var g=0,w=m.length;g<w;g++)if(m[g].fn===r&&m[g].ctx===u)return g;return!1},once:function(n,r,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],r,!0);else{n=U(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],r,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var I=bt.extend(M);function P(n,r,u){this.x=u?Math.round(n):n,this.y=u?Math.round(r):r}var mt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};P.prototype={clone:function(){return new P(this.x,this.y)},add:function(n){return this.clone()._add(W(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(W(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new P(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new P(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=mt(this.x),this.y=mt(this.y),this},distanceTo:function(n){n=W(n);var r=n.x-this.x,u=n.y-this.y;return Math.sqrt(r*r+u*u)},equals:function(n){return n=W(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=W(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+B(this.x)+", "+B(this.y)+")"}};function W(n,r,u){return n instanceof P?n:ot(n)?new P(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new P(n.x,n.y):new P(n,r,u)}function z(n,r){if(n)for(var u=r?[n,r]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}z.prototype={extend:function(n){var r,u;if(!n)return this;if(n instanceof P||typeof n[0]=="number"||"x"in n)r=u=W(n);else if(n=H(n),r=n.min,u=n.max,!r||!u)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=u.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,u;return typeof n[0]=="number"||n instanceof P?n=W(n):n=H(n),n instanceof z?(r=n.min,u=n.max):r=u=n,r.x>=this.min.x&&u.x<=this.max.x&&r.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=H(n);var r=this.min,u=this.max,m=n.min,g=n.max,w=g.x>=r.x&&m.x<=u.x,C=g.y>=r.y&&m.y<=u.y;return w&&C},overlaps:function(n){n=H(n);var r=this.min,u=this.max,m=n.min,g=n.max,w=g.x>r.x&&m.x<u.x,C=g.y>r.y&&m.y<u.y;return w&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,u=this.max,m=Math.abs(r.x-u.x)*n,g=Math.abs(r.y-u.y)*n;return H(W(r.x-m,r.y-g),W(u.x+m,u.y+g))},equals:function(n){return n?(n=H(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function H(n,r){return!n||n instanceof z?n:new z(n,r)}function rt(n,r){if(n)for(var u=r?[n,r]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}rt.prototype={extend:function(n){var r=this._southWest,u=this._northEast,m,g;if(n instanceof ft)m=n,g=n;else if(n instanceof rt){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(ht(n)||lt(n)):this;return!r&&!u?(this._southWest=new ft(m.lat,m.lng),this._northEast=new ft(g.lat,g.lng)):(r.lat=Math.min(m.lat,r.lat),r.lng=Math.min(m.lng,r.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(n){var r=this._southWest,u=this._northEast,m=Math.abs(r.lat-u.lat)*n,g=Math.abs(r.lng-u.lng)*n;return new rt(new ft(r.lat-m,r.lng-g),new ft(u.lat+m,u.lng+g))},getCenter:function(){return new ft((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ft(this.getNorth(),this.getWest())},getSouthEast:function(){return new ft(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ft||"lat"in n?n=ht(n):n=lt(n);var r=this._southWest,u=this._northEast,m,g;return n instanceof rt?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=r.lat&&g.lat<=u.lat&&m.lng>=r.lng&&g.lng<=u.lng},intersects:function(n){n=lt(n);var r=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>=r.lat&&m.lat<=u.lat,C=g.lng>=r.lng&&m.lng<=u.lng;return w&&C},overlaps:function(n){n=lt(n);var r=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>r.lat&&m.lat<u.lat,C=g.lng>r.lng&&m.lng<u.lng;return w&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=lt(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function lt(n,r){return n instanceof rt?n:new rt(n,r)}function ft(n,r,u){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,u!==void 0&&(this.alt=+u)}ft.prototype={equals:function(n,r){if(!n)return!1;n=ht(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+B(this.lat,n)+", "+B(this.lng,n)+")"},distanceTo:function(n){return Ht.distance(this,ht(n))},wrap:function(){return Ht.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,u=r/Math.cos(Math.PI/180*this.lat);return lt([this.lat-r,this.lng-u],[this.lat+r,this.lng+u])},clone:function(){return new ft(this.lat,this.lng,this.alt)}};function ht(n,r,u){return n instanceof ft?n:ot(n)&&typeof n[0]!="object"?n.length===3?new ft(n[0],n[1],n[2]):n.length===2?new ft(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ft(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new ft(n,r,u)}var At={latLngToPoint:function(n,r){var u=this.projection.project(n),m=this.scale(r);return this.transformation._transform(u,m)},pointToLatLng:function(n,r){var u=this.scale(r),m=this.transformation.untransform(n,u);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,u=this.scale(n),m=this.transformation.transform(r.min,u),g=this.transformation.transform(r.max,u);return new z(m,g)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?A(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?A(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ft(u,r,m)},wrapLatLngBounds:function(n){var r=n.getCenter(),u=this.wrapLatLng(r),m=r.lat-u.lat,g=r.lng-u.lng;if(m===0&&g===0)return n;var w=n.getSouthWest(),C=n.getNorthEast(),D=new ft(w.lat-m,w.lng-g),Y=new ft(C.lat-m,C.lng-g);return new rt(D,Y)}},Ht=d({},At,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var u=Math.PI/180,m=n.lat*u,g=r.lat*u,w=Math.sin((r.lat-n.lat)*u/2),C=Math.sin((r.lng-n.lng)*u/2),D=w*w+Math.cos(m)*Math.cos(g)*C*C,Y=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*Y}}),Ut=6378137,we={R:Ut,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,u=this.MAX_LATITUDE,m=Math.max(Math.min(u,n.lat),-u),g=Math.sin(m*r);return new P(this.R*n.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var r=180/Math.PI;return new ft((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:(function(){var n=Ut*Math.PI;return new z([-n,-n],[n,n])})()};function zt(n,r,u,m){if(ot(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=u,this._d=m}zt.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new P((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function Mt(n,r,u,m){return new zt(n,r,u,m)}var kt=d({},Ht,{code:"EPSG:3857",projection:we,transformation:(function(){var n=.5/(Math.PI*we.R);return Mt(n,.5,-n,.5)})()}),jt=d({},kt,{code:"EPSG:900913"});function te(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function gn(n,r){var u="",m,g,w,C,D,Y;for(m=0,w=n.length;m<w;m++){for(D=n[m],g=0,C=D.length;g<C;g++)Y=D[g],u+=(g?"L":"M")+Y.x+" "+Y.y;u+=r?St.svg?"z":"x":""}return u||"M0 0"}var ti=document.documentElement.style,ei="ActiveXObject"in window,Pn=ei&&!document.addEventListener,sa="msLaunchUri"in navigator&&!("documentMode"in document),Ei=nn("webkit"),pl=nn("android"),gl=nn("android 2")||nn("android 3"),Fe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sc=pl&&nn("Google")&&Fe<537&&!("AudioNode"in window),Fs=!!window.opera,Xr=!sa&&nn("chrome"),$a=nn("gecko")&&!Ei&&!Fs&&!ei,Ec=!Xr&&nn("safari"),Fr=nn("phantom"),yl="OTransition"in ti,Tc=navigator.platform.indexOf("Win")===0,ra=ei&&"transition"in ti,He="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gl,Zn="MozPerspective"in ti,Je=!window.L_DISABLE_3D&&(ra||He||Zn)&&!yl&&!Fr,ts=typeof orientation<"u"||nn("mobile"),Ac=ts&&Ei,zc=ts&&He,es=!window.PointerEvent&&window.MSPointerEvent,ns=!!(window.PointerEvent||es),is="ontouchstart"in window||!!window.TouchEvent,Ti=!window.L_NO_TOUCH&&(is||ns),Js=ts&&Fs,as=ts&&$a,Cc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vl=(function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",T,r),window.removeEventListener("testPassiveEventSupport",T,r)}catch{}return n})(),Jr=(function(){return!!document.createElement("canvas").getContext})(),Ai=!!(document.createElementNS&&te("svg").createSVGRect),Lc=!!Ai&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),_l=!Ai&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),bl=navigator.platform.indexOf("Mac")===0,xl=navigator.platform.indexOf("Linux")===0;function nn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var St={ie:ei,ielt9:Pn,edge:sa,webkit:Ei,android:pl,android23:gl,androidStock:Sc,opera:Fs,chrome:Xr,gecko:$a,safari:Ec,phantom:Fr,opera12:yl,win:Tc,ie3d:ra,webkit3d:He,gecko3d:Zn,any3d:Je,mobile:ts,mobileWebkit:Ac,mobileWebkit3d:zc,msPointer:es,pointer:ns,touch:Ti,touchNative:is,mobileOpera:Js,mobileGecko:as,retina:Cc,passiveEvents:vl,canvas:Jr,svg:Ai,vml:_l,inlineSvg:Lc,mac:bl,linux:xl},Wr=St.msPointer?"MSPointerDown":"pointerdown",$r=St.msPointer?"MSPointerMove":"pointermove",qn=St.msPointer?"MSPointerUp":"pointerup",Se=St.msPointer?"MSPointerCancel":"pointercancel",Be={touchstart:Wr,touchmove:$r,touchend:qn,touchcancel:Se},zi={touchstart:la,touchmove:ii,touchend:ii,touchcancel:ii},ni={},wl=!1;function Mc(n,r,u){return r==="touchstart"&&oa(),zi[r]?(u=zi[r].bind(this,u),n.addEventListener(Be[r],u,!1),u):(console.warn("wrong event specified:",r),T)}function Sl(n,r,u){if(!Be[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Be[r],u,!1)}function ss(n){ni[n.pointerId]=n}function to(n){ni[n.pointerId]&&(ni[n.pointerId]=n)}function Ci(n){delete ni[n.pointerId]}function oa(){wl||(document.addEventListener(Wr,ss,!0),document.addEventListener($r,to,!0),document.addEventListener(qn,Ci,!0),document.addEventListener(Se,Ci,!0),wl=!0)}function ii(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var u in ni)r.touches.push(ni[u]);r.changedTouches=[r],n(r)}}function la(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&pe(r),ii(n,r)}function Ee(n){var r={},u,m;for(m in n)u=n[m],r[m]=u&&u.bind?u.bind(n):u;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var El=200;function Tl(n,r){n.addEventListener("dblclick",r);var u=0,m;function g(w){if(w.detail!==1){m=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var C=hs(w);if(!(C.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!C.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var D=Date.now();D-u<=El?(m++,m===2&&r(Ee(w))):m=1,u=D}}}return n.addEventListener("click",g),{dblclick:r,simDblclick:g}}function Li(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var ai=ls(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=ls(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),eo=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function no(n){return typeof n=="string"?document.getElementById(n):n}function os(n,r){var u=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!u||u==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);u=m?m[r]:null}return u==="auto"?null:u}function Pt(n,r,u){var m=document.createElement(n);return m.className=r||"",u&&u.appendChild(m),m}function ie(n){var r=n.parentNode;r&&r.removeChild(n)}function an(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Me(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Mi(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function io(n,r){if(n.classList!==void 0)return n.classList.contains(r);var u=Ws(n);return u.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(u)}function Ot(n,r){if(n.classList!==void 0)for(var u=U(r),m=0,g=u.length;m<g;m++)n.classList.add(u[m]);else if(!io(n,r)){var w=Ws(n);ua(n,(w?w+" ":"")+r)}}function he(n,r){n.classList!==void 0?n.classList.remove(r):ua(n,j((" "+Ws(n)+" ").replace(" "+r+" "," ")))}function ua(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Ws(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ue(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&ao(n,r)}function ao(n,r){var u=!1,m="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(m)}catch{if(r===1)return}r=Math.round(r*100),u?(u.Enabled=r!==100,u.Opacity=r):n.style.filter+=" progid:"+m+"(opacity="+r+")"}function ls(n){for(var r=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in r)return n[u];return!1}function Gn(n,r,u){var m=r||new P(0,0);n.style[ai]=(St.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(u?" scale("+u+")":"")}function oe(n,r){n._leaflet_pos=r,St.any3d?Gn(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function si(n){return n._leaflet_pos||new P(0,0)}var ca,An,so;if("onselectstart"in document)ca=function(){Lt(window,"selectstart",pe)},An=function(){$t(window,"selectstart",pe)};else{var fa=ls(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ca=function(){if(fa){var n=document.documentElement.style;so=n[fa],n[fa]="none"}},An=function(){fa&&(document.documentElement.style[fa]=so,so=void 0)}}function $s(){Lt(window,"dragstart",pe)}function us(){$t(window,"dragstart",pe)}var tr,ro;function ha(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(sn(),tr=n,ro=n.style.outlineStyle,n.style.outlineStyle="none",Lt(window,"keydown",sn))}function sn(){tr&&(tr.style.outlineStyle=ro,tr=void 0,ro=void 0,$t(window,"keydown",sn))}function er(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function cs(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var da={__proto__:null,TRANSFORM:ai,TRANSITION:rs,TRANSITION_END:eo,get:no,getStyle:os,create:Pt,remove:ie,empty:an,toFront:Me,toBack:Mi,hasClass:io,addClass:Ot,removeClass:he,setClass:ua,getClass:Ws,setOpacity:ue,testProp:ls,setTransform:Gn,setPosition:oe,getPosition:si,get disableTextSelection(){return ca},get enableTextSelection(){return An},disableImageDrag:$s,enableImageDrag:us,preventOutline:ha,restoreOutline:sn,getSizedParentNode:er,getScale:cs};function Lt(n,r,u,m){if(r&&typeof r=="object")for(var g in r)vn(n,g,r[g],u);else{r=U(r);for(var w=0,C=r.length;w<C;w++)vn(n,r[w],u,m)}return this}var yn="_leaflet_events";function $t(n,r,u,m){if(arguments.length===1)oo(n),delete n[yn];else if(r&&typeof r=="object")for(var g in r)fs(n,g,r[g],u);else if(r=U(r),arguments.length===2)oo(n,function(D){return dt(r,D)!==-1});else for(var w=0,C=r.length;w<C;w++)fs(n,r[w],u,m);return this}function oo(n,r){for(var u in n[yn]){var m=u.split(/\d/)[0];(!r||r(m))&&fs(n,m,null,null,u)}}var Oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vn(n,r,u,m){var g=r+y(u)+(m?"_"+y(m):"");if(n[yn]&&n[yn][g])return this;var w=function(D){return u.call(m||n,D||window.event)},C=w;!St.touchNative&&St.pointer&&r.indexOf("touch")===0?w=Mc(n,r,w):St.touch&&r==="dblclick"?w=Tl(n,w):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Oi[r]||r,w,St.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(w=function(D){D=D||window.event,Vn(n,D)&&C(D)},n.addEventListener(Oi[r],w,!1)):n.addEventListener(r,C,!1):n.attachEvent("on"+r,w),n[yn]=n[yn]||{},n[yn][g]=w}function fs(n,r,u,m,g){g=g||r+y(u)+(m?"_"+y(m):"");var w=n[yn]&&n[yn][g];if(!w)return this;!St.touchNative&&St.pointer&&r.indexOf("touch")===0?Sl(n,r,w):St.touch&&r==="dblclick"?Li(n,w):"removeEventListener"in n?n.removeEventListener(Oi[r]||r,w,!1):n.detachEvent("on"+r,w),n[yn][g]=null}function _n(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function zn(n){return vn(n,"wheel",_n),this}function Ni(n){return Lt(n,"mousedown touchstart dblclick contextmenu",_n),n._leaflet_disable_click=!0,this}function pe(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ri(n){return pe(n),_n(n),this}function hs(n){if(n.composedPath)return n.composedPath();for(var r=[],u=n.target;u;)r.push(u),u=u.parentNode;return r}function ds(n,r){if(!r)return new P(n.clientX,n.clientY);var u=cs(r),m=u.boundingClientRect;return new P((n.clientX-m.left)/u.x-r.clientLeft,(n.clientY-m.top)/u.y-r.clientTop)}var Al=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pe(n){return St.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Al:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Vn(n,r){var u=r.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var nr={__proto__:null,on:Lt,off:$t,stopPropagation:_n,disableScrollPropagation:zn,disableClickPropagation:Ni,preventDefault:pe,stop:ri,getPropagationPath:hs,getMousePosition:ds,getWheelDelta:Pe,isExternalTarget:Vn,addListener:Lt,removeListener:$t},ma=I.extend({run:function(n,r,u,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=si(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pt(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,u=this._duration*1e3;r<u?this._runFrame(this._easeOut(r/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var u=this._startPos.add(this._offset.multiplyBy(n));r&&u._round(),oe(this._el,u),this.fire("step")},_complete:function(){ct(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Vt=I.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=N(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ht(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,eo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,u){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(ht(n),r,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=d({animate:u.animate},u.zoom),u.pan=d({animate:u.animate,duration:u.duration},u.pan));var m=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,u.zoom):this._tryAnimatedPan(n,u.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,u){var m=this.getZoomScale(r),g=this.getSize().divideBy(2),w=n instanceof P?n:this.latLngToContainerPoint(n),C=w.subtract(g).multiplyBy(1-1/m),D=this.containerPointToLatLng(g.add(C));return this.setView(D,r,{zoom:u})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():lt(n);var u=W(r.paddingTopLeft||r.padding||[0,0]),m=W(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(n,!1,u.add(m));if(g=typeof r.maxZoom=="number"?Math.min(r.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var w=m.subtract(u).divideBy(2),C=this.project(n.getSouthWest(),g),D=this.project(n.getNorthEast(),g),Y=this.unproject(C.add(D).divideBy(2).add(w),g);return{center:Y,zoom:g}},fitBounds:function(n,r){if(n=lt(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,r);return this.setView(u.center,u.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=W(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Ot(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,u){if(u=u||{},u.animate===!1||!St.any3d)return this.setView(n,r,u);this._stop();var m=this.project(this.getCenter()),g=this.project(n),w=this.getSize(),C=this._zoom;n=ht(n),r=r===void 0?C:r;var D=Math.max(w.x,w.y),Y=D*this.getZoomScale(C,r),et=g.distanceTo(m)||1,gt=1.42,Et=gt*gt;function Rt(me){var Qn=me?-1:1,Di=me?Y:D,So=Y*Y-D*D+Qn*Et*Et*et*et,Ls=2*Di*Et*et,Ms=So/Ls,pi=Math.sqrt(Ms*Ms+1)-Ms,Xn=pi<1e-9?-18:Math.log(pi);return Xn}function Oe(me){return(Math.exp(me)-Math.exp(-me))/2}function ge(me){return(Math.exp(me)+Math.exp(-me))/2}function $e(me){return Oe(me)/ge(me)}var It=Rt(0);function Qt(me){return D*(ge(It)/ge(It+gt*me))}function Zt(me){return D*(ge(It)*$e(It+gt*me)-Oe(It))/Et}function di(me){return 1-Math.pow(1-me,1.5)}var un=Date.now(),gr=(Rt(1)-It)/gt,mi=u.duration?1e3*u.duration:1e3*gr*.8;function wo(){var me=(Date.now()-un)/mi,Qn=di(me)*gr;me<=1?(this._flyToFrame=pt(wo,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Zt(Qn)/et)),C),this.getScaleZoom(D/Qt(Qn),C),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),wo.call(this),this},flyToBounds:function(n,r){var u=this._getBoundsCenterZoom(n,r);return this.flyTo(u.center,u.zoom,r)},setMaxBounds:function(n){return n=lt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var u=this.getCenter(),m=this._limitCenter(u,this._zoom,lt(n));return u.equals(m)||this.panTo(m,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var u=W(r.paddingTopLeft||r.padding||[0,0]),m=W(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(n),C=this.getPixelBounds(),D=H([C.min.add(u),C.max.subtract(m)]),Y=D.getSize();if(!D.contains(w)){this._enforcingBounds=!0;var et=w.subtract(D.getCenter()),gt=D.extend(w).getSize().subtract(Y);g.x+=et.x<0?-gt.x:gt.x,g.y+=et.y<0?-gt.y:gt.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),m=r.divideBy(2).round(),g=u.divideBy(2).round(),w=m.subtract(g);return!w.x&&!w.y?this:(n.animate&&n.pan?this.panBy(w):(n.pan&&this._rawPanBy(w),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=_(this._handleGeolocationResponse,this),u=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,u,n):navigator.geolocation.getCurrentPosition(r,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,u=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,u=n.coords.longitude,m=new ft(r,u),g=m.toBounds(n.coords.accuracy*2),w=this._locateOptions;if(w.setView){var C=this.getBoundsZoom(g);this.setView(m,w.maxZoom?Math.min(C,w.maxZoom):C)}var D={latlng:m,bounds:g,timestamp:n.timestamp};for(var Y in n.coords)typeof n.coords[Y]=="number"&&(D[Y]=n.coords[Y]);this.fire("locationfound",D)}},addHandler:function(n,r){if(!r)return this;var u=this[n]=new r(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ct(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ie(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Pt("div",u,r||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new rt(r,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,u){n=lt(n),u=W(u||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),C=n.getNorthWest(),D=n.getSouthEast(),Y=this.getSize().subtract(u),et=H(this.project(D,m),this.project(C,m)).getSize(),gt=St.any3d?this.options.zoomSnap:1,Et=Y.x/et.x,Rt=Y.y/et.y,Oe=r?Math.max(Et,Rt):Math.min(Et,Rt);return m=this.getScaleZoom(Oe,m),gt&&(m=Math.round(m/(gt/100))*(gt/100),m=r?Math.ceil(m/gt)*gt:Math.floor(m/gt)*gt),Math.max(g,Math.min(w,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var u=this._getTopLeftPoint(n,r);return new z(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var u=this.options.crs;return r=r===void 0?this._zoom:r,u.scale(n)/u.scale(r)},getScaleZoom:function(n,r){var u=this.options.crs;r=r===void 0?this._zoom:r;var m=u.zoom(n*u.scale(r));return isNaN(m)?1/0:m},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ht(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(W(n),r)},layerPointToLatLng:function(n){var r=W(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(ht(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ht(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(lt(n))},distance:function(n,r){return this.options.crs.distance(ht(n),ht(r))},containerPointToLayerPoint:function(n){return W(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return W(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(W(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ht(n)))},mouseEventToContainerPoint:function(n){return ds(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=no(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(r,"scroll",this._onScroll,this),this._containerId=y(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,Ot(n,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=os(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),oe(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(n.markerPane,"leaflet-zoom-hide"),Ot(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,u){oe(this._mapPane,new P(0,0));var m=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,u)._move(n,r)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,u,m){r===void 0&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ct(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){oe(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var r=n?$t:Lt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ct(this._resizeRequest),this._resizeRequest=pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var u=[],m,g=r==="mouseout"||r==="mouseover",w=n.target||n.srcElement,C=!1;w;){if(m=this._targets[y(w)],m&&(r==="click"||r==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(r,!0)&&(g&&!Vn(w,n)||(u.push(m),g))||w===this._container)break;w=w.parentNode}return!u.length&&!C&&!g&&this.listens(r,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var u=n.type;u==="mousedown"&&ha(r),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,u){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,u)}var g=this._findEventTargets(n,r);if(u){for(var w=[],C=0;C<u.length;C++)u[C].listens(r,!0)&&w.push(u[C]);g=w.concat(g)}if(g.length){r==="contextmenu"&&pe(n);var D=g[0],Y={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var et=D.getLatLng&&(!D._radius||D._radius<=10);Y.containerPoint=et?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(n),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=et?D.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(r,Y,!0),Y.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&dt(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return si(this._mapPane)||new P(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var u=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var u=this.getSize()._divideBy(2);return this.project(n,r)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,u){var m=this._getNewPixelOrigin(u,r);return this.project(n,r)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,r,u){var m=this._getNewPixelOrigin(u,r);return H([this.project(n.getSouthWest(),r)._subtract(m),this.project(n.getNorthWest(),r)._subtract(m),this.project(n.getSouthEast(),r)._subtract(m),this.project(n.getNorthEast(),r)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,u){if(!u)return n;var m=this.project(n,r),g=this.getSize().divideBy(2),w=new z(m.subtract(g),m.add(g)),C=this._getBoundsOffset(w,u,r);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?n:this.unproject(m.add(C),r)},_limitOffset:function(n,r){if(!r)return n;var u=this.getPixelBounds(),m=new z(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(m,r))},_getBoundsOffset:function(n,r,u){var m=H(this.project(r.getNorthEast(),u),this.project(r.getSouthWest(),u)),g=m.min.subtract(n.min),w=m.max.subtract(n.max),C=this._rebound(g.x,-w.x),D=this._rebound(g.y,-w.y);return new P(C,D)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),u=this.getMaxZoom(),m=St.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(r,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var u=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,r),!0)},_createAnimProxy:function(){var n=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var u=ai,m=this._proxy.style[u];Gn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),m===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Gn(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(r),g=this._getCenterOffset(n)._divideBy(1-1/m);return u.animate!==!0&&!this.getSize().contains(g)?!1:(pt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,u,m){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&he(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function lo(n,r){return new Vt(n,r)}var We=bt.extend({options:{position:"topright"},initialize:function(n){N(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),u=this.getPosition(),m=n._controlCorners[u];return Ot(r,"leaflet-control"),u.indexOf("bottom")!==-1?m.insertBefore(r,m.firstChild):m.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Yn=function(n){return new We(n)};Vt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",u=this._controlContainer=Pt("div",r+"control-container",this._container);function m(g,w){var C=r+g+" "+r+w;n[g+w]=Pt("div",C,u)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ie(this._controlCorners[n]);ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ms=We.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,u,m){return u<m?-1:m<u?1:0}},initialize:function(n,r,u){N(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in r)this._addLayer(r[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return We.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(y(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):he(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return he(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=Pt("div",n),u=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Ni(r),zn(r);var m=this._section=Pt("section",n+"-list");u&&(this._map.on("click",this.collapse,this),Lt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Pt("a",n+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),Lt(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){pe(w),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Pt("div",n+"-base",m),this._separator=Pt("div",n+"-separator",m),this._overlaysList=Pt("div",n+"-overlays",m),r.appendChild(m)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&y(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:u}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;an(this._baseLayersList),an(this._overlaysList),this._layerControlInputs=[];var n,r,u,m,g=0;for(u=0;u<this._layers.length;u++)m=this._layers[u],this._addItem(m),r=r||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(y(n.target)),u=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,r)},_createRadioElement:function(n,r){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=u,m.firstChild},_addItem:function(n){var r=document.createElement("label"),u=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=u):m=this._createRadioElement("leaflet-base-layers_"+y(this),u),this._layerControlInputs.push(m),m.layerId=y(n.layer),Lt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var w=document.createElement("span");r.appendChild(w),w.appendChild(m),w.appendChild(g);var C=n.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,u,m=[],g=[];this._handlingClick=!0;for(var w=n.length-1;w>=0;w--)r=n[w],u=this._getLayer(r.layerId).layer,r.checked?m.push(u):r.checked||g.push(u);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<m.length;w++)this._map.hasLayer(m[w])||this._map.addLayer(m[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,u,m=this._map.getZoom(),g=n.length-1;g>=0;g--)r=n[g],u=this._getLayer(r.layerId).layer,r.disabled=u.options.minZoom!==void 0&&m<u.options.minZoom||u.options.maxZoom!==void 0&&m>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Lt(n,"click",pe),this.expand();var r=this;setTimeout(function(){$t(n,"click",pe),r._preventClick=!1})}}),zl=function(n,r,u){return new ms(n,r,u)},uo=We.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",u=Pt("div",r+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,r+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,r+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,u,m,g){var w=Pt("a",u,m);return w.innerHTML=n,w.href="#",w.title=r,w.setAttribute("role","button"),w.setAttribute("aria-label",r),Ni(w),Lt(w,"click",ri),Lt(w,"click",g,this),Lt(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";he(this._zoomInButton,r),he(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Ot(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Ot(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new uo,this.addControl(this.zoomControl))});var Oc=function(n){return new uo(n)},Cl=We.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",u=Pt("div",r),m=this.options;return this._addScales(m,r+"-line",u),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,u){n.metric&&(this._mScale=Pt("div",r,u)),n.imperial&&(this._iScale=Pt("div",r,u))},_update:function(){var n=this._map,r=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),u=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,u,r/n)},_updateImperial:function(n){var r=n*3.2808399,u,m,g;r>5280?(u=r/5280,m=this._getRoundNum(u),this._updateScale(this._iScale,m+" mi",m/u)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(n,r,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),u=n/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}}),co=function(n){return new Cl(n)},Nc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fo=We.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?Nc+" ":"")+"Leaflet</a>"},initialize:function(n){N(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),Ni(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&new fo().addTo(this)});var kc=function(n){return new fo(n)};We.Layers=ms,We.Zoom=uo,We.Scale=Cl,We.Attribution=fo,Yn.layers=zl,Yn.zoom=Oc,Yn.scale=co,Yn.attribution=kc;var Cn=bt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(n,r){return n.addHandler(r,this),this};var Bc={Events:M},ho=St.touch?"touchstart mousedown":"mousedown",oi=I.extend({options:{clickTolerance:3},initialize:function(n,r,u,m){N(this,m),this._element=n,this._dragStartTarget=r||n,this._preventOutline=u},enable:function(){this._enabled||(Lt(this._dragStartTarget,ho,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oi._dragging===this&&this.finishDrag(!0),$t(this._dragStartTarget,ho,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!io(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){oi._dragging===this&&this.finishDrag();return}if(!(oi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(oi._dragging=this,this._preventOutline&&ha(this._element),$s(),ca(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,u=er(this._element);this._startPoint=new P(r.clientX,r.clientY),this._startPos=si(this._element),this._parentScale=cs(u);var m=n.type==="mousedown";Lt(document,m?"mousemove":"touchmove",this._onMove,this),Lt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,u=new P(r.clientX,r.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,pe(n),this._moved||(this.fire("dragstart"),this._moved=!0,Ot(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),oe(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){he(document.body,"leaflet-dragging"),this._lastTarget&&(he(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$t(document,"mousemove touchmove",this._onMove,this),$t(document,"mouseup touchend touchcancel",this._onUp,this),us(),An();var r=this._moved&&this._moving;this._moving=!1,oi._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Ll(n,r,u){var m,g=[1,4,2,8],w,C,D,Y,et,gt,Et,Rt;for(w=0,gt=n.length;w<gt;w++)n[w]._code=ki(n[w],r);for(D=0;D<4;D++){for(Et=g[D],m=[],w=0,gt=n.length,C=gt-1;w<gt;C=w++)Y=n[w],et=n[C],Y._code&Et?et._code&Et||(Rt=ir(et,Y,Et,r,u),Rt._code=ki(Rt,r),m.push(Rt)):(et._code&Et&&(Rt=ir(et,Y,Et,r,u),Rt._code=ki(Rt,r),m.push(Rt)),m.push(Y));n=m}return n}function Ml(n,r){var u,m,g,w,C,D,Y,et,gt;if(!n||n.length===0)throw new Error("latlngs not passed");rn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Et=ht([0,0]),Rt=lt(n),Oe=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Oe<1700&&(Et=mo(n));var ge=n.length,$e=[];for(u=0;u<ge;u++){var It=ht(n[u]);$e.push(r.project(ht([It.lat-Et.lat,It.lng-Et.lng])))}for(D=Y=et=0,u=0,m=ge-1;u<ge;m=u++)g=$e[u],w=$e[m],C=g.y*w.x-w.y*g.x,Y+=(g.x+w.x)*C,et+=(g.y+w.y)*C,D+=C*3;D===0?gt=$e[0]:gt=[Y/D,et/D];var Qt=r.unproject(W(gt));return ht([Qt.lat+Et.lat,Qt.lng+Et.lng])}function mo(n){for(var r=0,u=0,m=0,g=0;g<n.length;g++){var w=ht(n[g]);r+=w.lat,u+=w.lng,m++}return ht([r/m,u/m])}var po={__proto__:null,clipPolygon:Ll,polygonCenter:Ml,centroid:mo};function Ol(n,r){if(!r||!n.length)return n.slice();var u=r*r;return n=Dc(n,u),n=kl(n,u),n}function Nl(n,r,u){return Math.sqrt(ps(n,r,u,!0))}function Rc(n,r,u){return ps(n,r,u)}function kl(n,r){var u=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(u);g[0]=g[u-1]=1,go(n,g,r,0,u-1);var w,C=[];for(w=0;w<u;w++)g[w]&&C.push(n[w]);return C}function go(n,r,u,m,g){var w=0,C,D,Y;for(D=m+1;D<=g-1;D++)Y=ps(n[D],n[m],n[g],!0),Y>w&&(C=D,w=Y);w>u&&(r[C]=1,go(n,r,u,m,C),go(n,r,u,C,g))}function Dc(n,r){for(var u=[n[0]],m=1,g=0,w=n.length;m<w;m++)Uc(n[m],n[g])>r&&(u.push(n[m]),g=m);return g<w-1&&u.push(n[w-1]),u}var Bl;function Rl(n,r,u,m,g){var w=m?Bl:ki(n,u),C=ki(r,u),D,Y,et;for(Bl=C;;){if(!(w|C))return[n,r];if(w&C)return!1;D=w||C,Y=ir(n,r,D,u,g),et=ki(Y,u),D===w?(n=Y,w=et):(r=Y,C=et)}}function ir(n,r,u,m,g){var w=r.x-n.x,C=r.y-n.y,D=m.min,Y=m.max,et,gt;return u&8?(et=n.x+w*(Y.y-n.y)/C,gt=Y.y):u&4?(et=n.x+w*(D.y-n.y)/C,gt=D.y):u&2?(et=Y.x,gt=n.y+C*(Y.x-n.x)/w):u&1&&(et=D.x,gt=n.y+C*(D.x-n.x)/w),new P(et,gt,g)}function ki(n,r){var u=0;return n.x<r.min.x?u|=1:n.x>r.max.x&&(u|=2),n.y<r.min.y?u|=4:n.y>r.max.y&&(u|=8),u}function Uc(n,r){var u=r.x-n.x,m=r.y-n.y;return u*u+m*m}function ps(n,r,u,m){var g=r.x,w=r.y,C=u.x-g,D=u.y-w,Y=C*C+D*D,et;return Y>0&&(et=((n.x-g)*C+(n.y-w)*D)/Y,et>1?(g=u.x,w=u.y):et>0&&(g+=C*et,w+=D*et)),C=n.x-g,D=n.y-w,m?C*C+D*D:new P(g,w)}function rn(n){return!ot(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function ar(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rn(n)}function pa(n,r){var u,m,g,w,C,D,Y,et;if(!n||n.length===0)throw new Error("latlngs not passed");rn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var gt=ht([0,0]),Et=lt(n),Rt=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Rt<1700&&(gt=mo(n));var Oe=n.length,ge=[];for(u=0;u<Oe;u++){var $e=ht(n[u]);ge.push(r.project(ht([$e.lat-gt.lat,$e.lng-gt.lng])))}for(u=0,m=0;u<Oe-1;u++)m+=ge[u].distanceTo(ge[u+1])/2;if(m===0)et=ge[0];else for(u=0,w=0;u<Oe-1;u++)if(C=ge[u],D=ge[u+1],g=C.distanceTo(D),w+=g,w>m){Y=(w-m)/g,et=[D.x-Y*(D.x-C.x),D.y-Y*(D.y-C.y)];break}var It=r.unproject(W(et));return ht([It.lat+gt.lat,It.lng+gt.lng])}var jc={__proto__:null,simplify:Ol,pointToSegmentDistance:Nl,closestPointOnSegment:Rc,clipSegment:Rl,_getEdgeIntersection:ir,_getBitCode:ki,_sqClosestPointOnSegment:ps,isFlat:rn,_flat:ar,polylineCenter:pa},sr={project:function(n){return new P(n.lng,n.lat)},unproject:function(n){return new ft(n.y,n.x)},bounds:new z([-180,-90],[180,90])},rr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,u=this.R,m=n.lat*r,g=this.R_MINOR/u,w=Math.sqrt(1-g*g),C=w*Math.sin(m),D=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),w/2);return m=-u*Math.log(Math.max(D,1e-10)),new P(n.lng*r*u,m)},unproject:function(n){for(var r=180/Math.PI,u=this.R,m=this.R_MINOR/u,g=Math.sqrt(1-m*m),w=Math.exp(-n.y/u),C=Math.PI/2-2*Math.atan(w),D=0,Y=.1,et;D<15&&Math.abs(Y)>1e-7;D++)et=g*Math.sin(C),et=Math.pow((1-et)/(1+et),g/2),Y=Math.PI/2-2*Math.atan(w*et)-C,C+=Y;return new ft(C*r,n.x*r/u)}},Dl={__proto__:null,LonLat:sr,Mercator:rr,SphericalMercator:we},Ul=d({},Ht,{code:"EPSG:3395",projection:rr,transformation:(function(){var n=.5/(Math.PI*rr.R);return Mt(n,.5,-n,.5)})()}),yo=d({},Ht,{code:"EPSG:4326",projection:sr,transformation:Mt(1/180,1,-1/180,.5)}),ga=d({},At,{projection:sr,transformation:Mt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var u=r.lng-n.lng,m=r.lat-n.lat;return Math.sqrt(u*u+m*m)},infinite:!0});At.Earth=Ht,At.EPSG3395=Ul,At.EPSG3857=kt,At.EPSG900913=jt,At.EPSG4326=yo,At.Simple=ga;var bn=I.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var u=this.getEvents();r.on(u,this),this.once("remove",function(){r.off(u,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=y(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=y(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},_addLayers:function(n){n=n?ot(n)?n:[n]:[];for(var r=0,u=n.length;r<u;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=y(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,u=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),r=g.maxZoom===void 0?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ya=bn.extend({initialize:function(n,r){N(this,r),this._layers={};var u,m;if(n)for(u=0,m=n.length;u<m;u++)this.addLayer(n[u])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),u,m;for(u in this._layers)m=this._layers[u],m[n]&&m[n].apply(m,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),Hc=function(n,r){return new ya(n,r)},Ln=ya.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ya.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ya.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new rt;for(var r in this._layers){var u=this._layers[r];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),jl=function(n,r){return new Ln(n,r)},Mn=bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){N(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(u,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,r){var u=this.options,m=u[r+"Size"];typeof m=="number"&&(m=[m,m]);var g=W(m),w=W(r==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(u.className||""),w&&(n.style.marginLeft=-w.x+"px",n.style.marginTop=-w.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return St.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function gs(n){return new Mn(n)}var ys=Mn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ys.imagePath!="string"&&(ys.imagePath=this._detectIconPath()),(this.options.imagePath||ys.imagePath)+Mn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(u,m,g){var w=m.exec(u);return w&&w[g]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Pt("div","leaflet-default-icon-path",document.body),r=os(n,"background-image")||os(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),vs=Cn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new oi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&he(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,u=r._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=si(r._icon),C=u.getPixelBounds(),D=u.getPixelOrigin(),Y=H(C.min._subtract(D).add(g),C.max._subtract(D).subtract(g));if(!Y.contains(w)){var et=W((Math.max(Y.max.x,w.x)-Y.max.x)/(C.max.x-Y.max.x)-(Math.min(Y.min.x,w.x)-Y.min.x)/(C.min.x-Y.min.x),(Math.max(Y.max.y,w.y)-Y.max.y)/(C.max.y-Y.max.y)-(Math.min(Y.min.y,w.y)-Y.min.y)/(C.min.y-Y.min.y)).multiplyBy(m);u.panBy(et,{animate:!1}),this._draggable._newPos._add(et),this._draggable._startPos._add(et),oe(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=pt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ct(this._panRequest),this._panRequest=pt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,u=r._shadow,m=si(r._icon),g=r._map.layerPointToLatLng(m);u&&oe(u,m),r._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ct(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),_s=bn.extend({options:{icon:new ys,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){N(this,r),this._latlng=ht(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=ht(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),m=!1;u!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),Ot(u,r),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(u,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(Ot(g,r),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$t(this._icon,"focus",this._panOnFocus,this),ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ie(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&oe(this._icon,n),this._shadow&&oe(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vs)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vs(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ue(this._icon,n),this._shadow&&ue(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,u=r.iconSize?W(r.iconSize):W(0,0),m=r.iconAnchor?W(r.iconAnchor):W(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:u.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hl(n,r){return new _s(n,r)}var On=bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return N(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),va=On.extend({options:{fill:!0,radius:10},initialize:function(n,r){N(this,r),this._latlng=ht(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=ht(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return On.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,u=this._clickTolerance(),m=[n+u,r+u];this._pxBounds=new z(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Pl(n,r){return new va(n,r)}var or=va.extend({initialize:function(n,r,u){if(typeof r=="number"&&(r=d({},u,{radius:r})),N(this,r),this._latlng=ht(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:On.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,u=this._map,m=u.options.crs;if(m.distance===Ht.distance){var g=Math.PI/180,w=this._mRadius/Ht.R/g,C=u.project([r+w,n]),D=u.project([r-w,n]),Y=C.add(D).divideBy(2),et=u.unproject(Y).lat,gt=Math.acos((Math.cos(w*g)-Math.sin(r*g)*Math.sin(et*g))/(Math.cos(r*g)*Math.cos(et*g)))/g;(isNaN(gt)||gt===0)&&(gt=w/Math.cos(Math.PI/180*r)),this._point=Y.subtract(u.getPixelOrigin()),this._radius=isNaN(gt)?0:Y.x-u.project([et,n-gt]).x,this._radiusY=Y.y-C.y}else{var Et=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Et).x}this._updateBounds()}});function Zl(n,r,u){return new or(n,r,u)}var Kn=On.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){N(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,u=null,m=ps,g,w,C=0,D=this._parts.length;C<D;C++)for(var Y=this._parts[C],et=1,gt=Y.length;et<gt;et++){g=Y[et-1],w=Y[et];var Et=m(n,g,w,!0);Et<r&&(r=Et,u=m(n,g,w))}return u&&(u.distance=Math.sqrt(r)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=ht(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new rt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],u=rn(n),m=0,g=n.length;m<g;m++)u?(r[m]=ht(n[m]),this._bounds.extend(r[m])):r[m]=this._convertLatLngs(n[m]);return r},_project:function(){var n=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new P(n,n);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,u){var m=n[0]instanceof ft,g=n.length,w,C;if(m){for(C=[],w=0;w<g;w++)C[w]=this._map.latLngToLayerPoint(n[w]),u.extend(C[w]);r.push(C)}else for(w=0;w<g;w++)this._projectLatlngs(n[w],r,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,u,m,g,w,C,D,Y;for(u=0,g=0,w=this._rings.length;u<w;u++)for(Y=this._rings[u],m=0,C=Y.length;m<C-1;m++)D=Rl(Y[m],Y[m+1],n,m,!0),D&&(r[g]=r[g]||[],r[g].push(D[0]),(D[1]!==Y[m+1]||m===C-2)&&(r[g].push(D[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,u=0,m=n.length;u<m;u++)n[u]=Ol(n[u],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var u,m,g,w,C,D,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,w=this._parts.length;u<w;u++)for(D=this._parts[u],m=0,C=D.length,g=C-1;m<C;g=m++)if(!(!r&&m===0)&&Nl(n,D[g],D[m])<=Y)return!0;return!1}});function Pc(n,r){return new Kn(n,r)}Kn._flat=ar;var _a=Kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ml(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Kn.prototype._convertLatLngs.call(this,n),u=r.length;return u>=2&&r[0]instanceof ft&&r[0].equals(r[u-1])&&r.pop(),r},_setLatLngs:function(n){Kn.prototype._setLatLngs.call(this,n),rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,u=new P(r,r);if(n=new z(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,w;m<g;m++)w=Ll(this._rings[m],n,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,u,m,g,w,C,D,Y,et;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(w=0,Y=this._parts.length;w<Y;w++)for(u=this._parts[w],C=0,et=u.length,D=et-1;C<et;D=C++)m=u[C],g=u[D],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(r=!r);return r||Kn.prototype._containsPoint.call(this,n,!0)}});function Zc(n,r){return new _a(n,r)}var In=Ln.extend({initialize:function(n,r){N(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=ot(n)?n:n.features,u,m,g;if(r){for(u=0,m=r.length;u<m;u++)g=r[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(n))return this;var C=Re(n,w);return C?(C.feature=cr(n),C.defaultOptions=C.options,this.resetStyle(C),w.onEachFeature&&w.onEachFeature(n,C),this.addLayer(C)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Re(n,r){var u=n.type==="Feature"?n.geometry:n,m=u?u.coordinates:null,g=[],w=r&&r.pointToLayer,C=r&&r.coordsToLatLng||lr,D,Y,et,gt;if(!m&&!u)return null;switch(u.type){case"Point":return D=C(m),ba(w,n,D,r);case"MultiPoint":for(et=0,gt=m.length;et<gt;et++)D=C(m[et]),g.push(ba(w,n,D,r));return new Ln(g);case"LineString":case"MultiLineString":return Y=bs(m,u.type==="LineString"?0:1,C),new Kn(Y,r);case"Polygon":case"MultiPolygon":return Y=bs(m,u.type==="Polygon"?1:2,C),new _a(Y,r);case"GeometryCollection":for(et=0,gt=u.geometries.length;et<gt;et++){var Et=Re({geometry:u.geometries[et],type:"Feature",properties:n.properties},r);Et&&g.push(Et)}return new Ln(g);case"FeatureCollection":for(et=0,gt=u.features.length;et<gt;et++){var Rt=Re(u.features[et],r);Rt&&g.push(Rt)}return new Ln(g);default:throw new Error("Invalid GeoJSON object.")}}function ba(n,r,u,m){return n?n(r,u):new _s(u,m&&m.markersInheritOptions&&m)}function lr(n){return new ft(n[1],n[0],n[2])}function bs(n,r,u){for(var m=[],g=0,w=n.length,C;g<w;g++)C=r?bs(n[g],r-1,u):(u||lr)(n[g]),m.push(C);return m}function ur(n,r){return n=ht(n),n.alt!==void 0?[B(n.lng,r),B(n.lat,r),B(n.alt,r)]:[B(n.lng,r),B(n.lat,r)]}function xs(n,r,u,m){for(var g=[],w=0,C=n.length;w<C;w++)g.push(r?xs(n[w],rn(n[w])?0:r-1,u,m):ur(n[w],m));return!r&&u&&g.length>0&&g.push(g[0].slice()),g}function li(n,r){return n.feature?d({},n.feature,{geometry:r}):cr(r)}function cr(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ui={toGeoJSON:function(n){return li(this,{type:"Point",coordinates:ur(this.getLatLng(),n)})}};_s.include(ui),or.include(ui),va.include(ui),Kn.include({toGeoJSON:function(n){var r=!rn(this._latlngs),u=xs(this._latlngs,r?1:0,!1,n);return li(this,{type:(r?"Multi":"")+"LineString",coordinates:u})}}),_a.include({toGeoJSON:function(n){var r=!rn(this._latlngs),u=r&&!rn(this._latlngs[0]),m=xs(this._latlngs,u?2:r?1:0,!0,n);return r||(m=[m]),li(this,{type:(u?"Multi":"")+"Polygon",coordinates:m})}}),ya.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(u){r.push(u.toGeoJSON(n).geometry.coordinates)}),li(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var u=r==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(n);if(u)m.push(w.geometry);else{var C=cr(w);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),u?li(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function fr(n,r){return new In(n,r)}var ws=fr,xa=bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,u){this._url=n,this._bounds=lt(r),N(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Me(this._image),this},bringToBack:function(){return this._map&&Mi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=lt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:Pt("img");if(Ot(r,"leaflet-image-layer"),this._zoomAnimated&&Ot(r,"leaflet-zoom-animated"),this.options.className&&Ot(r,this.options.className),r.onselectstart=T,r.onmousemove=T,r.onload=_(this.fire,this,"load"),r.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Gn(this._image,u,r)},_reset:function(){var n=this._image,r=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=r.getSize();oe(n,r.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),ql=function(n,r,u){return new xa(n,r,u)},ci=xa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:Pt("video");if(Ot(r,"leaflet-image-layer"),this._zoomAnimated&&Ot(r,"leaflet-zoom-animated"),this.options.className&&Ot(r,this.options.className),r.onselectstart=T,r.onmousemove=T,r.onloadeddata=_(this.fire,this,"load"),n){for(var u=r.getElementsByTagName("source"),m=[],g=0;g<u.length;g++)m.push(u[g].src);this._url=u.length>0?m:[r.src];return}ot(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var C=Pt("source");C.src=this._url[w],r.appendChild(C)}}});function wa(n,r,u){return new ci(n,r,u)}var hr=xa.extend({_initImage:function(){var n=this._image=this._url;Ot(n,"leaflet-image-layer"),this._zoomAnimated&&Ot(n,"leaflet-zoom-animated"),this.options.className&&Ot(n,this.options.className),n.onselectstart=T,n.onmousemove=T}});function Gl(n,r,u){return new hr(n,r,u)}var De=bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof ft||ot(n))?(this._latlng=ht(n),N(this,r)):(N(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ue(this._container,1),this.bringToFront(),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ue(this._container,0),this._removeTimeout=setTimeout(_(ie,void 0,this._container),200)):ie(this._container),this.options.interactive&&(he(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ht(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Me(this._container),this},bringToBack:function(){return this._map&&Mi(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof Ln){r=null;var u=this._source._layers;for(var m in u)if(u[m]._map){r=u[m];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=W(this.options.offset),u=this._getAnchor();this._zoomAnimated?oe(this._container,n.add(u)):r=r.add(n).add(u);var m=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(n,r,u,m){var g=r;return g instanceof n||(g=new n(m).setContent(r)),u&&g.setLatLng(u),g}}),bn.include({_initOverlay:function(n,r,u,m){var g=u;return g instanceof n?(N(g,m),g._source=this):(g=r&&!m?r:new n(m,this),g.setContent(u)),g}});var Ss=De.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,De.prototype.openOn.call(this,n)},onAdd:function(n){De.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof On||this._source.on("preclick",_n))},onRemove:function(n){De.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof On||this._source.off("preclick",_n))},getEvents:function(){var n=De.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=Pt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Pt("div",n+"-content-wrapper",r);if(this._contentNode=Pt("div",n+"-content",u),Ni(r),zn(this._contentNode),Lt(r,"contextmenu",_n),this._tipContainer=Pt("div",n+"-tip-container",r),this._tip=Pt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Pt("a",n+"-close-button",r);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(m,"click",function(g){pe(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),r.width=u+1+"px",r.whiteSpace="",r.height="";var m=n.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&m>g?(r.height=g+"px",Ot(n,w)):he(n,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();oe(this._container,r.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(os(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,m=this._containerWidth,g=new P(this._containerLeft,-u-this._containerBottom);g._add(si(this._container));var w=n.layerPointToContainerPoint(g),C=W(this.options.autoPanPadding),D=W(this.options.autoPanPaddingTopLeft||C),Y=W(this.options.autoPanPaddingBottomRight||C),et=n.getSize(),gt=0,Et=0;w.x+m+Y.x>et.x&&(gt=w.x+m-et.x+Y.x),w.x-gt-D.x<0&&(gt=w.x-D.x),w.y+u+Y.y>et.y&&(Et=w.y+u-et.y+Y.y),w.y-Et-D.y<0&&(Et=w.y-D.y),(gt||Et)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([gt,Et]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vl=function(n,r){return new Ss(n,r)};Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(n,r,u){return this._initOverlay(Ss,n,r,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),bn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(Ss,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Ln||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ri(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof On)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Es=De.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){De.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){De.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=De.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,u,m=this._map,g=this._container,w=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(n),D=this.options.direction,Y=g.offsetWidth,et=g.offsetHeight,gt=W(this.options.offset),Et=this._getAnchor();D==="top"?(r=Y/2,u=et):D==="bottom"?(r=Y/2,u=0):D==="center"?(r=Y/2,u=et/2):D==="right"?(r=0,u=et/2):D==="left"?(r=Y,u=et/2):C.x<w.x?(D="right",r=0,u=et/2):(D="left",r=Y+(gt.x+Et.x)*2,u=et/2),n=n.subtract(W(r,u,!0)).add(gt).add(Et),he(g,"leaflet-tooltip-right"),he(g,"leaflet-tooltip-left"),he(g,"leaflet-tooltip-top"),he(g,"leaflet-tooltip-bottom"),Ot(g,"leaflet-tooltip-"+D),oe(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ue(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qc=function(n,r){return new Es(n,r)};Vt.include({openTooltip:function(n,r,u){return this._initOverlay(Es,n,r,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),bn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Es,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[r](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Ln||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(Lt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Lt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,u,m;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(u),r=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(r)}});var Yl=Mn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(an(r),r.appendChild(u.html)):r.innerHTML=u.html!==!1?u.html:"",u.bgPos){var m=W(u.bgPos);r.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Gc(n){return new Yl(n)}Mn.Default=ys;var Sa=bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){N(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ie(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof P?n:new P(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,u=-n(-1/0,1/0),m=0,g=r.length,w;m<g;m++)w=r[m].style.zIndex,r[m]!==this._container&&w&&(u=n(u,+w));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){ue(this._container,this.options.opacity);var n=+new Date,r=!1,u=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var w=Math.min(1,(n-g.loaded)/200);ue(g.el,w),w<1?r=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),r&&(ct(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=r-Math.abs(n-u),this._onUpdateLevel(u)):(ie(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=r,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),T(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var n,r,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var m=r.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ie(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,u,m){var g=Math.floor(n/2),w=Math.floor(r/2),C=u-1,D=new P(+g,+w);D.z=+C;var Y=this._tileCoordsToKey(D),et=this._tiles[Y];return et&&et.active?(et.retain=!0,!0):(et&&et.loaded&&(et.retain=!0),C>m?this._retainParent(g,w,C,m):!1)},_retainChildren:function(n,r,u,m){for(var g=2*n;g<2*n+2;g++)for(var w=2*r;w<2*r+2;w++){var C=new P(g,w);C.z=u+1;var D=this._tileCoordsToKey(C),Y=this._tiles[D];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);u+1<m&&this._retainChildren(g,w,u+1,m)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,u,m){var g=Math.round(r);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,r)},_setZoomTransform:function(n,r,u){var m=this._map.getZoomScale(u,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(r,u)).round();St.any3d?Gn(n.el,g,m):oe(n.el,g)},_resetGrid:function(){var n=this._map,r=n.options.crs,u=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],m).x/u.x),Math.ceil(n.project([0,r.wrapLng[1]],m).x/u.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],m).y/u.x),Math.ceil(n.project([r.wrapLat[1],0],m).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,u=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),m=r.getZoomScale(u,this._tileZoom),g=r.project(n,this._tileZoom).floor(),w=r.getSize().divideBy(m*2);return new z(g.subtract(w),g.add(w))},_update:function(n){var r=this._map;if(r){var u=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),w=g.getCenter(),C=[],D=this.options.keepBuffer,Y=new z(g.getBottomLeft().subtract([D,-D]),g.getTopRight().add([D,-D]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var et in this._tiles){var gt=this._tiles[et].coords;(gt.z!==this._tileZoom||!Y.contains(new P(gt.x,gt.y)))&&(this._tiles[et].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var Et=g.min.y;Et<=g.max.y;Et++)for(var Rt=g.min.x;Rt<=g.max.x;Rt++){var Oe=new P(Rt,Et);if(Oe.z=this._tileZoom,!!this._isValidTile(Oe)){var ge=this._tiles[this._tileCoordsToKey(Oe)];ge?ge.current=!0:C.push(Oe)}}if(C.sort(function(It,Qt){return It.distanceTo(w)-Qt.distanceTo(w)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $e=document.createDocumentFragment();for(Rt=0;Rt<C.length;Rt++)this._addTile(C[Rt],$e);this._level.el.appendChild($e)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var u=this._globalTileRange;if(!r.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!r.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return lt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,u=this.getTileSize(),m=n.scaleBy(u),g=m.add(u),w=r.unproject(m,n.z),C=r.unproject(g,n.z);return[w,C]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),u=new rt(r[0],r[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),u=new P(+r[0],+r[1]);return u.z=+r[2],u},_removeTile:function(n){var r=this._tiles[n];r&&(ie(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Ot(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=T,n.onmousemove=T,St.ielt9&&this.options.opacity<1&&ue(n,this.options.opacity)},_addTile:function(n,r){var u=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&pt(_(this._tileReady,this,n,null,g)),oe(g,u),this._tiles[m]={el:g,coords:n,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,r,u){r&&this.fire("tileerror",{error:r,tile:u,coords:n});var m=this._tileCoordsToKey(n);u=this._tiles[m],u&&(u.loaded=+new Date,this._map._fadeAnimated?(ue(u.el,0),ct(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),r||(Ot(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?pt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new P(this._wrapX?A(n.x,this._wrapX):n.x,this._wrapY?A(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new z(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Kl(n){return new Sa(n)}var fi=Sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=N(this,r),r.detectRetina&&St.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var u=document.createElement("img");return Lt(u,"load",_(this._tileOnLoad,this,r,u)),Lt(u,"error",_(this._tileOnError,this,r,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var r={r:St.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=u),r["-y"]=u}return tt(this._url,d(r,this.options))},_tileOnLoad:function(n,r){St.ielt9?setTimeout(_(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,u){var m=this.options.errorTileUrl;m&&r.getAttribute("src")!==m&&(r.src=m),n(u,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,u=this.options.zoomReverse,m=this.options.zoomOffset;return u&&(n=r-n),n+m},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=T,r.onerror=T,!r.complete)){r.src=ut;var u=this._tiles[n].coords;ie(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:u})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",ut),Sa.prototype._removeTile.call(this,n)},_tileReady:function(n,r,u){if(!(!this._map||u&&u.getAttribute("src")===ut))return Sa.prototype._tileReady.call(this,n,r,u)}});function on(n,r){return new fi(n,r)}var Ts=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var u=d({},this.defaultWmsParams);for(var m in r)m in this.options||(u[m]=r[m]);r=N(this,r);var g=r.detectRetina&&St.retina?2:1,w=this.getTileSize();u.width=w.x*g,u.height=w.y*g,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,fi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),u=this._crs,m=H(u.project(r[0]),u.project(r[1])),g=m.min,w=m.max,C=(this._wmsVersion>=1.3&&this._crs===yo?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),D=fi.prototype.getTileUrl.call(this,n);return D+Z(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(n,r){return d(this.wmsParams,n),r||this.redraw(),this}});function ln(n,r){return new Ts(n,r)}fi.WMS=Ts,on.wms=ln;var Ye=bn.extend({options:{padding:.1},initialize:function(n){N(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var u=this._map.getZoomScale(r,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),w=m.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(n,r));St.any3d?Gn(this._container,w,u):oe(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),u=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new z(u,u.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dr=Ye.extend({options:{tolerance:0},getEvents:function(){var n=Ye.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ye.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Lt(n,"mousemove",this._onMouseMove,this),Lt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ct(this._redrawRequest),delete this._ctx,ie(this._container),$t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ye.prototype._update.call(this);var n=this._bounds,r=this._container,u=n.getSize(),m=St.retina?2:1;oe(r,n.min),r.width=m*u.x,r.height=m*u.y,r.style.width=u.x+"px",r.style.height=u.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ye.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,u=r.next,m=r.prev;u?u.prev=m:this._drawLast=m,m?m.next=u:this._drawFirst=u,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),u=[],m,g;for(g=0;g<r.length;g++){if(m=Number(r[g]),isNaN(m))return;u.push(m)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||pt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var u=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var u,m,g,w,C=n._parts,D=C.length,Y=this._ctx;if(D){for(Y.beginPath(),u=0;u<D;u++){for(m=0,g=C[u].length;m<g;m++)w=C[u][m],Y[m?"lineTo":"moveTo"](w.x,w.y);r&&Y.closePath()}this._fillStroke(Y,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,u=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(r.x,r.y/g,m,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,r){var u=r.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(m=u);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(he(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(r)&&(m=u);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,u){this._map._fireDOMEvent(r,u||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var u=r.next,m=r.prev;if(u)u.prev=m;else return;m?m.next=u:u&&(this._drawFirst=u),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var u=r.next,m=r.prev;if(m)m.next=u;else return;u?u.prev=m:m&&(this._drawLast=m),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function As(n){return St.canvas?new dr(n):null}var hi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vo={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ye.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=hi("shape");Ot(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=hi("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;ie(r),n.removeInteractiveTarget(r),delete this._layers[y(n)]},_updateStyle:function(n){var r=n._stroke,u=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(r||(r=n._stroke=hi("stroke")),g.appendChild(r),r.weight=m.weight+"px",r.color=m.color,r.opacity=m.opacity,m.dashArray?r.dashStyle=ot(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=m.lineCap.replace("butt","flat"),r.joinstyle=m.lineJoin):r&&(g.removeChild(r),n._stroke=null),m.fill?(u||(u=n._fill=hi("fill")),g.appendChild(u),u.color=m.fillColor||m.color,u.opacity=m.fillOpacity):u&&(g.removeChild(u),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),u=Math.round(n._radius),m=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+u+","+m+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Me(n._container)},_bringToBack:function(n){Mi(n._container)}},Nn=St.vml?hi:te,Ea=Ye.extend({_initContainer:function(){this._container=Nn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ie(this._container),$t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ye.prototype._update.call(this);var n=this._bounds,r=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,u.setAttribute("width",r.x),u.setAttribute("height",r.y)),oe(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Nn("path");n.options.className&&Ot(r,n.options.className),n.options.interactive&&Ot(r,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ie(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,u=n.options;r&&(u.stroke?(r.setAttribute("stroke",u.color),r.setAttribute("stroke-opacity",u.opacity),r.setAttribute("stroke-width",u.weight),r.setAttribute("stroke-linecap",u.lineCap),r.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?r.setAttribute("stroke-dasharray",u.dashArray):r.removeAttribute("stroke-dasharray"),u.dashOffset?r.setAttribute("stroke-dashoffset",u.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),u.fill?(r.setAttribute("fill",u.fillColor||u.color),r.setAttribute("fill-opacity",u.fillOpacity),r.setAttribute("fill-rule",u.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,gn(n._parts,r))},_updateCircle:function(n){var r=n._point,u=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||u,g="a"+u+","+m+" 0 1,0 ",w=n._empty()?"M0 0":"M"+(r.x-u)+","+r.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(n,w)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Me(n._path)},_bringToBack:function(n){Mi(n._path)}});St.vml&&Ea.include(vo);function zs(n){return St.svg||St.vml?new Ea(n):null}Vt.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&As(n)||zs(n)}});var Bi=_a.extend({initialize:function(n,r){_a.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=lt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Vc(n,r){return new Bi(n,r)}Ea.create=Nn,Ea.pointsToPath=gn,In.geometryToLayer=Re,In.coordsToLatLng=lr,In.coordsToLatLngs=bs,In.latLngToCoords=ur,In.latLngsToCoords=xs,In.getFeature=li,In.asFeature=cr,Vt.mergeOptions({boxZoom:!0});var Ke=Cn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ca(),$s(),this._startPoint=this._map.mouseEventToContainerPoint(n),Lt(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new z(this._point,this._startPoint),u=r.getSize();oe(this._box,r.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ie(this._box),he(this._container,"leaflet-crosshair")),An(),us(),$t(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var r=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",Ke),Vt.mergeOptions({doubleClickZoom:!0});var mr=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,u=r.getZoom(),m=r.options.zoomDelta,g=n.originalEvent.shiftKey?u-m:u+m;r.options.doubleClickZoom==="center"?r.setZoom(g):r.setZoomAround(n.containerPoint,g)}});Vt.addInitHook("addHandler","doubleClickZoom",mr),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kn=Cn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new oi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab"),he(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=lt(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),u=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-r+u)%n+r-u,w=(m+r+u)%n-r-u,C=Math.abs(g+u)<Math.abs(w+u)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(n){var r=this._map,u=r.options,m=!u.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),m)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,C=u.easeLinearity,D=g.multiplyBy(C/w),Y=D.distanceTo([0,0]),et=Math.min(u.inertiaMaxSpeed,Y),gt=D.multiplyBy(et/Y),Et=et/(u.inertiaDeceleration*C),Rt=gt.multiplyBy(-Et/2).round();!Rt.x&&!Rt.y?r.fire("moveend"):(Rt=r._limitOffset(Rt,r.options.maxBounds),pt(function(){r.panBy(Rt,{duration:Et,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Vt.addInitHook("addHandler","dragging",kn),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _o=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Lt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,u=n.scrollTop||r.scrollTop,m=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(m,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},u=this.keyCodes,m,g;for(m=0,g=u.left.length;m<g;m++)r[u.left[m]]=[-1*n,0];for(m=0,g=u.right.length;m<g;m++)r[u.right[m]]=[n,0];for(m=0,g=u.down.length;m<g;m++)r[u.down[m]]=[0,n];for(m=0,g=u.up.length;m<g;m++)r[u.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},u=this.keyCodes,m,g;for(m=0,g=u.zoomIn.length;m<g;m++)r[u.zoomIn[m]]=n;for(m=0,g=u.zoomOut.length;m<g;m++)r[u.zoomOut[m]]=-n},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,u=this._map,m;if(r in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(m=this._panKeys[r],n.shiftKey&&(m=W(m).multiplyBy(3)),u.options.maxBounds&&(m=u._limitOffset(W(m),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(m)));u.panTo(g)}else u.panBy(m)}else if(r in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ri(n)}}});Vt.addInitHook("addHandler","keyboard",_o),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cs=Cn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Pe(n),u=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),ri(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,w=u?Math.ceil(g/u)*u:g,C=n._limitZoom(r+(this._delta>0?w:-w))-r;this._delta=0,this._startTime=null,C&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+C):n.setZoomAround(this._lastMousePos,r+C))}});Vt.addInitHook("addHandler","scrollWheelZoom",Cs);var Ri=600;Vt.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var pr=Cn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new P(r.clientX,r.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",pe),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Ri),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){$t(document,"touchend",pe),$t(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),$t(document,"touchend touchcancel contextmenu",this._cancel,this),$t(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new P(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});u._simulated=!0,r.target.dispatchEvent(u)}});Vt.addInitHook("addHandler","tapHold",pr),Vt.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var bo=Cn.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var u=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(u.add(m)._divideBy(2))),this._startDist=u.distanceTo(m),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),pe(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,u=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]),g=u.distanceTo(m)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=u._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),ct(this._animRequest);var C=_(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pt(C,this,!0),pe(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ct(this._animRequest),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vt.addInitHook("addHandler","touchZoom",bo),Vt.BoxZoom=Ke,Vt.DoubleClickZoom=mr,Vt.Drag=kn,Vt.Keyboard=_o,Vt.ScrollWheelZoom=Cs,Vt.TapHold=pr,Vt.TouchZoom=bo,l.Bounds=z,l.Browser=St,l.CRS=At,l.Canvas=dr,l.Circle=or,l.CircleMarker=va,l.Class=bt,l.Control=We,l.DivIcon=Yl,l.DivOverlay=De,l.DomEvent=nr,l.DomUtil=da,l.Draggable=oi,l.Evented=I,l.FeatureGroup=Ln,l.GeoJSON=In,l.GridLayer=Sa,l.Handler=Cn,l.Icon=Mn,l.ImageOverlay=xa,l.LatLng=ft,l.LatLngBounds=rt,l.Layer=bn,l.LayerGroup=ya,l.LineUtil=jc,l.Map=Vt,l.Marker=_s,l.Mixin=Bc,l.Path=On,l.Point=P,l.PolyUtil=po,l.Polygon=_a,l.Polyline=Kn,l.Popup=Ss,l.PosAnimation=ma,l.Projection=Dl,l.Rectangle=Bi,l.Renderer=Ye,l.SVG=Ea,l.SVGOverlay=hr,l.TileLayer=fi,l.Tooltip=Es,l.Transformation=zt,l.Util=vt,l.VideoOverlay=ci,l.bind=_,l.bounds=H,l.canvas=As,l.circle=Zl,l.circleMarker=Pl,l.control=Yn,l.divIcon=Gc,l.extend=d,l.featureGroup=jl,l.geoJSON=fr,l.geoJson=ws,l.gridLayer=Kl,l.icon=gs,l.imageOverlay=ql,l.latLng=ht,l.latLngBounds=lt,l.layerGroup=Hc,l.map=lo,l.marker=Hl,l.point=W,l.polygon=Zc,l.polyline=Pc,l.popup=Vl,l.rectangle=Vc,l.setOptions=N,l.stamp=y,l.svg=zs,l.svgOverlay=Gl,l.tileLayer=on,l.tooltip=qc,l.transformation=Mt,l.version=c,l.videoOverlay=wa;var xo=window.L;l.noConflict=function(){return window.L=xo,this},window.L=l}))})(il,il.exports)),il.exports}var ml=sE();const ea=ad(ml);function qd(a,s,l){return Object.freeze({instance:a,context:s,container:l})}function Gd(a,s){return s==null?function(c,d){const p=it.useRef(void 0);return p.current||(p.current=a(c,d)),p}:function(c,d){const p=it.useRef(void 0);p.current||(p.current=a(c,d));const _=it.useRef(c),{instance:b}=p.current;return it.useEffect(function(){_.current!==c&&(s(b,c,_.current),_.current=c)},[b,c,s]),p}}function Cv(a,s){it.useEffect(function(){return(s.layerContainer??s.map).addLayer(a.instance),function(){s.layerContainer?.removeLayer(a.instance),s.map.removeLayer(a.instance)}},[s,a])}function Lv(a){return function(l){const c=Pd(),d=a(Zd(l,c),c);return tE(c.map,l.attribution),zv(d.current,l.eventHandlers),Cv(d.current,c),d}}function rE(a,s){const l=it.useRef(void 0);it.useEffect(function(){if(s.pathOptions!==l.current){const d=s.pathOptions??{};a.instance.setStyle(d),l.current=d}},[a,s])}function oE(a){return function(l){const c=Pd(),d=a(Zd(l,c),c);return zv(d.current,l.eventHandlers),Cv(d.current,c),rE(d.current,l),d}}function lE(a,s){const l=Gd(a,s),c=Lv(l);return Av(c)}function uE(a,s){const l=Gd(a,s),c=oE(l);return Av(c)}function cE(a,s){const l=Gd(a,s),c=Lv(l);return iE(c)}function fE(a,s,l){const{opacity:c,zIndex:d}=s;c!=null&&c!==l.opacity&&a.setOpacity(c),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function Mv(){return Pd().map}function hE(a){const s=Mv();return it.useEffect(function(){return s.on(a),function(){s.off(a)}},[s,a]),s}function dE({bounds:a,boundsOptions:s,center:l,children:c,className:d,id:p,placeholder:_,style:b,whenReady:y,zoom:x,...A},T){const[B]=it.useState({className:d,id:p,style:b}),[j,U]=it.useState(null),N=it.useRef(void 0);it.useImperativeHandle(T,()=>j?.map??null,[j]);const Z=it.useCallback(tt=>{if(tt!==null&&!N.current){const ot=new ml.Map(tt,A);N.current=ot,l!=null&&x!=null?ot.setView(l,x):a!=null&&ot.fitBounds(a,s),y!=null&&ot.whenReady(y),U(nE(ot))}},[]);it.useEffect(()=>()=>{j?.map.remove()},[j]);const q=j?al.createElement(Hd,{value:j},c):_??null;return al.createElement("div",{...B,ref:Z},q)}const mE=it.forwardRef(dE),Qr=lE(function({position:s,...l},c){const d=new ml.Marker(s,l);return qd(d,Tv(c,{overlayContainer:d}))},function(s,l,c){l.position!==c.position&&s.setLatLng(l.position),l.icon!=null&&l.icon!==c.icon&&s.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==c.zIndexOffset&&s.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==c.opacity&&s.setOpacity(l.opacity),s.dragging!=null&&l.draggable!==c.draggable&&(l.draggable===!0?s.dragging.enable():s.dragging.disable())}),wy=uE(function({positions:s,...l},c){const d=new ml.Polyline(s,l);return qd(d,Tv(c,{overlayContainer:d}))},function(s,l,c){l.positions!==c.positions&&s.setLatLngs(l.positions)}),pE=cE(function({url:s,...l},c){const d=new ml.TileLayer(s,Zd(l,c));return qd(d,c)},function(s,l,c){fE(s,l,c);const{url:d}=l;d!=null&&d!==c.url&&s.setUrl(d)}),Pr={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:31714},Ks=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function ic(a,s,l=10){const c=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,_=-90,b=90,y=-180,x=180,A="",T=0,B=0;for(;A.length<l;){if(p){const j=(y+x)/2;s>j?(B|=c[T],y=j):x=j}else{const j=(_+b)/2;a>j?(B|=c[T],_=j):b=j}p=!p,T<4?T++:(A+=d[B],T=0,B=0)}return A}function gE(a,s,l=5){const c=ic(a,s,l),d=l===5?.02:l===6?.005:.001,p=l===5?.04:l===6?.01:.002,_=new Set;_.add(c);const b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[y,x]of b){const A=a+y*d,T=s+x*p;_.add(ic(A,T,l))}return Array.from(_)}async function yE(a,s,l){const c=JSON.stringify(a);if(l){const d=ll.getConversationKey(l,s);return ll.encrypt(c,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(s,c);throw new Error("No encryption method available")}async function vE(a,s,l){let c;if(l){const d=ll.getConversationKey(l,s);c=ll.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)c=await window.nostr.nip44.decrypt(s,a);else throw new Error("No decryption method available");return JSON.parse(c)}const ac={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function _E(a,s){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${s}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&ac[d]?ac[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),Ov()}}function Ov(){try{const s=window.navigator.language.split("-")[1]?.toUpperCase();return s&&ac[s]?ac[s]:"USD"}catch{return"USD"}}function Yr(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const bE={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function xE(a){return(bE[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}var qs=Symbol("verified"),wE=a=>a instanceof Object;function Nv(a){if(!wE(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}new TextDecoder("utf-8");var SE=new TextEncoder,EE=class{generateSecretKey(){return bi.utils.randomPrivateKey()}getPublicKey(a){return Le(bi.getPublicKey(a))}finalizeEvent(a,s){const l=a;return l.pubkey=Le(bi.getPublicKey(s)),l.id=Qu(l),l.sig=Le(bi.sign(Qu(l),s)),l[qs]=!0,l}verifyEvent(a){if(typeof a[qs]=="boolean")return a[qs];const s=Qu(a);if(s!==a.id)return a[qs]=!1,!1;try{const l=bi.verify(a.sig,s,a.pubkey);return a[qs]=l,l}catch{return a[qs]=!1,!1}}};function kv(a){if(!Nv(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Qu(a){let s=Ja(SE.encode(kv(a)));return Le(s)}var bc=new EE,Bv=bc.generateSecretKey,TE=bc.getPublicKey,Rv=bc.finalizeEvent;bc.verifyEvent;const AE=Object.freeze(Object.defineProperty({__proto__:null,finalizeEvent:Rv,generateSecretKey:Bv,getEventHash:Qu,getPublicKey:TE,serializeEvent:kv,validateEvent:Nv,verifiedSymbol:qs},Symbol.toStringTag,{value:"Module"})),zE=({status:a,setStatus:s,location:l,vehicleType:c,setOpenSpots:d,parkLocation:p,setParkLocation:_})=>{const{pubkey:b,pool:y,signEvent:x}=dl(),[A,T]=it.useState(!1),[B,j]=it.useState("0"),[U,N]=it.useState("USD"),[Z,q]=it.useState("$"),[tt,ot]=it.useState(null),dt=al.useRef(c);it.useEffect(()=>{if(a==="search"&&l){dt.current!==c&&(d([]),dt.current=c);const F=gE(l[0],l[1],5);console.log("[Parlens] Searching for spots in geohashes:",F);const at=Math.floor(Date.now()/1e3);console.log("[Parlens] Searching for open spots - Kind:",Pr.OPEN_SPOT_BROADCAST,"Geohashes:",F);const yt=async()=>{try{console.log("[Parlens] Starting querySync...");const pt=await y.querySync(Ks,{kinds:[Pr.OPEN_SPOT_BROADCAST],"#g":F,since:at-300});console.log("[Parlens] querySync returned",pt.length,"events");const ct=Math.floor(Date.now()/1e3);for(const vt of pt){console.log("[Parlens] Processing event - ID:",vt.id.substring(0,16),"Kind:",vt.kind);const bt=vt.tags.find(X=>X[0]==="expiration");if(bt){const X=parseInt(bt[1]);if(console.log("[Parlens] Expiration check:",X,"vs current:",ct,"expired:",X<ct),X<ct){console.log("[Parlens] Skipping expired spot");continue}}try{const X=vt.tags,M=X.find(W=>W[0]==="location"),I=X.find(W=>W[0]==="hourly_rate"),P=X.find(W=>W[0]==="currency"),mt=X.find(W=>W[0]==="type");if(console.log("[Parlens] Tags - location:",M?.[1],"type:",mt?.[1],"price:",I?.[1]),M){const[W,z]=M[1].split(",").map(Number),H=mt?mt[1]:"car";if(H!==c){console.log("[Parlens] Skipping spot - type mismatch:",H,"vs",c);continue}const rt=vt.tags.find(ht=>ht[0]==="expiration"),lt=rt?parseInt(rt[1]):Math.floor(Date.now()/1e3)+300,ft={id:vt.id,lat:W,lon:z,price:I?parseFloat(I[1]):0,currency:P?P[1]:"USD",type:H,expiresAt:lt};console.log("[Parlens] *** ADDING SPOT TO MAP ***",ft),d(ht=>{const At=Math.floor(Date.now()/1e3),Ht=ht.filter(Ut=>!Ut.expiresAt||Ut.expiresAt>At);return Ht.find(Ut=>Ut.id===ft.id)?(console.log("[Parlens] Spot already exists, skipping"),Ht):(console.log("[Parlens] New spots array length:",Ht.length+1),[...Ht,ft])})}else console.log("[Parlens] No location tag found")}catch(X){console.warn("[Parlens] Error parsing spot:",X)}}}catch(pt){console.error("[Parlens] querySync error:",pt)}};yt();const _t=setInterval(()=>{console.log("[Parlens] Refreshing spot search..."),yt()},3e4);return()=>{clearInterval(_t)}}},[a,l,c]),it.useEffect(()=>{const F=localStorage.getItem("parlens_session");if(F)try{const at=JSON.parse(F);at.status==="parked"&&at.parkLocation&&at.sessionStart?(console.log("[Parlens] Restoring parked session:",at),ot(at.sessionStart),_(at.parkLocation),s("parked")):at.status==="search"&&(console.log("[Parlens] Restoring search session"),s("search"))}catch(at){console.warn("[Parlens] Failed to restore session:",at),localStorage.removeItem("parlens_session")}},[]),it.useEffect(()=>{a==="parked"&&tt&&p?(localStorage.setItem("parlens_session",JSON.stringify({status:"parked",sessionStart:tt,parkLocation:p})),d([])):a==="search"?localStorage.setItem("parlens_session",JSON.stringify({status:"search"})):a==="idle"&&(localStorage.removeItem("parlens_session"),d([]))},[a,tt,p]),it.useEffect(()=>{(async()=>{const at=Ov();if(N(at),q(Yr(at)),l)try{const yt=await _E(l[0],l[1]);N(yt),q(Yr(yt))}catch{console.warn("GPS currency detection failed")}})()},[l]);const ut=async()=>{a==="idle"?s("search"):a==="search"?(ot(Math.floor(Date.now()/1e3)),_([l[0],l[1]]),d([]),s("parked")):a==="parked"&&(j("0"),T(!0))},st=async()=>{s("idle"),T(!1);const F=p?p[0]:l[0],at=p?p[1]:l[1],yt=ic(F,at,5),_t=Math.floor(Date.now()/1e3),pt=tt||_t;try{const ct={status:"vacated",type:c,lat:F,lon:at,geohash:yt,fee:B,currency:U,started_at:pt,finished_at:_t},vt=localStorage.getItem("parlens_privkey"),bt=vt?new Uint8Array(vt.match(/.{1,2}/g).map(ht=>parseInt(ht,16))):void 0,X=await yE(ct,b,bt),M={kind:Pr.PARKING_LOG,content:X,tags:[["g",yt],["client","parlens"],["d",`session_${pt}`]],created_at:_t,pubkey:b},I=await x(M);console.log("Publishing log:",I.id,"to",Ks);const P=y.publish(Ks,I);await Promise.allSettled(P),console.log("Log published");const mt=Bv(),W=_t-pt,z=Math.max(Math.ceil(W/3600),1),H=(parseFloat(B)/z).toFixed(2),rt=_t+60,lt={kind:Pr.OPEN_SPOT_BROADCAST,content:"",tags:[["d",`spot_${yt}_${_t}`],["g",yt],["location",`${F},${at}`],["hourly_rate",H],["currency",U],["type",c],["expiration",String(rt)],["client","parlens"]],created_at:_t},ft=Rv(lt,mt);console.log("[Parlens] *** BROADCASTING OPEN SPOT ***"),console.log("[Parlens] Geohash:",yt),console.log("[Parlens] Location:",`${F},${at}`),console.log("[Parlens] Event ID:",ft.id),console.log("[Parlens] Pubkey:",ft.pubkey.substring(0,20)+"..."),y.publish(Ks,ft),ot(null),_(null)}catch(ct){console.error("Persistence error:",ct),alert("Could not save to Nostr. Check relay connections.")}};return E.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&E.jsx("button",{onClick:()=>{d([]),s("idle")},className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),E.jsxs("button",{onClick:ut,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&E.jsx(KS,{size:32,strokeWidth:2.5}),a==="search"&&E.jsx(nc,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(c==="bicycle"?E.jsx("span",{className:"text-3xl",children:""}):c==="motorcycle"?E.jsx("span",{className:"text-3xl",children:""}):E.jsx("span",{className:"text-3xl",children:""}))]})]}),A&&E.jsx("div",{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:E.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in slide-in-from-bottom-10 sm:zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[E.jsxs("div",{className:"text-center space-y-1",children:[E.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),E.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[E.jsx("span",{className:"text-2xl font-bold text-blue-500",children:Z}),E.jsx("input",{type:"number",value:B,onChange:F=>j(F.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),E.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:U})]}),E.jsxs("div",{className:"flex flex-col gap-1.5",children:[E.jsx("button",{onClick:()=>j(String(Math.max(0,parseFloat(B||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:E.jsx(MS,{size:22,className:"text-zinc-600 dark:text-white/70"})}),E.jsx("button",{onClick:()=>j(String(Math.max(0,parseFloat(B||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:E.jsx(ul,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),E.jsxs("div",{className:"w-full space-y-3",children:[E.jsxs("button",{onClick:st,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",E.jsx(AS,{size:20})]}),E.jsx("button",{onClick:()=>T(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function CE(){const{pool:a,pubkey:s}=dl(),[l,c]=it.useState([]),[d,p]=it.useState(!0),_=it.useCallback(async()=>{if(s){p(!0),console.log("[useParkingLogs] Fetching logs for",s);try{const b=await a.querySync(Ks,{kinds:[Pr.PARKING_LOG],authors:[s],limit:50});console.log("[useParkingLogs] Fetched",b.length,"events");const y=b.sort((x,A)=>A.created_at-x.created_at);c(y)}catch(b){console.error("[useParkingLogs] Fetch error:",b)}finally{p(!1)}}},[a,s]);return it.useEffect(()=>{_()},[_]),{logs:l,loading:d,refetch:_}}const LE=({setHistorySpots:a,onOpenChange:s})=>{const{pubkey:l,logout:c,pool:d,signEvent:p}=dl(),{logs:_,refetch:b}=CE(),[y,x]=it.useState(!1),[A,T]=it.useState(null),[B,j]=it.useState([]),[U,N]=it.useState(!1),[Z,q]=it.useState(!1);it.useEffect(()=>{l&&(async()=>{const ut=await d.get(Ks,{kinds:[0],authors:[l]});if(ut)try{const st=JSON.parse(ut.content);T({name:st.name||st.display_name||"Nostr User",npub:Is.npubEncode(l),picture:st.picture})}catch(st){console.error("Error parsing profile:",st)}else T({name:"Nostr User",npub:Is.npubEncode(l),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${l}`})})()},[l,d]),it.useEffect(()=>{(async()=>{if(!l||!_.length)return;const ut=localStorage.getItem("parlens_privkey"),st=ut?new Uint8Array(ut.match(/.{1,2}/g).map(at=>parseInt(at,16))):void 0,F=await Promise.all(_.map(async at=>{try{const yt=await vE(at.content,l,st);return{...at,decryptedContent:yt}}catch{return{...at,decryptedContent:null}}}));j(F.filter(at=>at.decryptedContent))})()},[_,l]),it.useEffect(()=>{a&&a(U?B:[])},[U,B,a]);const tt=()=>{const dt=localStorage.getItem("parlens_privkey");if(dt){const ut=Is.nsecEncode(new Uint8Array(dt.match(/.{1,2}/g).map(st=>parseInt(st,16))));navigator.clipboard.writeText(ut),alert("Copied to clipboard")}},ot=async dt=>{if(confirm("Are you sure you want to delete this parking entry? This action cannot be undone.")){q(!0);try{const ut=dt.tags?.find(at=>at[0]==="d")?.[1],st={kind:5,content:"Deleted by user",tags:[["e",dt.id],...ut?[["a",`${Pr.PARKING_LOG}:${l}:${ut}`]]:[]],created_at:Math.floor(Date.now()/1e3),pubkey:l},F=await p(st);await Promise.allSettled(d.publish(Ks,F)),j(at=>at.filter(yt=>yt.id!==dt.id)),b(),alert("Entry deleted")}catch(ut){console.error("Delete error:",ut),alert("Failed to delete entry")}finally{q(!1)}}};return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>{b(),x(!0),s?.(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Profile",children:E.jsx(WS,{size:20})}),y&&E.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[E.jsx("button",{onClick:()=>{x(!1),s?.(!1)},className:"absolute inset-0 z-0 cursor-default"}),E.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[Z&&E.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:E.jsxs("div",{className:"flex flex-col items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),E.jsx("p",{className:"text-sm font-medium text-white",children:"Deleting..."})]})}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:A?.name||"Nostr User"}),E.jsx("button",{onClick:()=>{x(!1),s?.(!1)},className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:E.jsx(jd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),E.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[E.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{navigator.clipboard.writeText(A?.npub),alert("Copied to clipboard")},children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:E.jsx($h,{size:20})}),E.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),E.jsx(ec,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),E.jsxs("div",{onClick:tt,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:E.jsx(Sv,{size:20})}),E.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),E.jsx(ec,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]}),E.jsx("p",{className:"text-xs text-zinc-400 dark:text-white/30 mt-2 ml-2 leading-relaxed",children:" Store your npub and nsec securely. These are your account access keys and cannot be recovered if lost."})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&E.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:E.jsx(nc,{size:20})}),E.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),E.jsx("button",{onClick:()=>N(!U),className:`w-12 h-7 rounded-full transition-colors relative ${U?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:E.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${U?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),E.jsx("div",{className:"space-y-2",children:B.length>0?B.map(dt=>{const ut=dt.decryptedContent,st=Yr(ut.currency||"USD"),F=ut.started_at?new Date(ut.started_at*1e3):null,at=ut.finished_at?new Date(ut.finished_at*1e3):new Date(dt.created_at*1e3),yt=ut.lat&&ut.lon?`${ut.lat.toFixed(5)}, ${ut.lon.toFixed(5)}`:null,_t=ut.type||dt.tags?.find(ct=>ct[0]==="type")?.[1]||"car",pt=_t==="bicycle"?"":_t==="motorcycle"?"":"";return E.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:pt}),E.jsx("p",{className:"font-bold text-xl",children:ut.fee?`${st}${ut.fee}`:"Free"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-2xl",children:xE(ut.currency||"USD")}),E.jsx("button",{onClick:()=>ot(dt),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",title:"Delete entry",children:E.jsx(Ev,{size:16})})]})]}),yt&&E.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[E.jsx(nc,{size:12,className:"text-blue-500 dark:text-blue-400"}),E.jsx("span",{className:"font-mono",children:yt})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[E.jsx(kS,{size:12,className:"text-green-500 dark:text-green-400"}),E.jsxs("div",{className:"space-x-1",children:[F&&E.jsxs("span",{children:["Start: ",F.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",F.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),E.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),E.jsxs("span",{children:["End: ",at.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",at.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},dt.id)}):E.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:E.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),E.jsx("button",{onClick:()=>{c(),x(!1),s?.(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout"})]})]})]})};function ME(a,s){const[l,c]=it.useState(a);return it.useEffect(()=>{const d=setTimeout(()=>c(a),s);return()=>clearTimeout(d)},[a,s]),l}const OE=({vehicleType:a,onRouteChange:s,currentLocation:l})=>{const[c,d]=it.useState(!1),[p,_]=it.useState([]),[b,y]=it.useState(""),[x,A]=it.useState([]),[T,B]=it.useState(!1),[j,U]=it.useState(!1),[N,Z]=it.useState(null),[q,tt]=it.useState(null),[ot,dt]=it.useState(!1),ut=it.useRef(null),st=ME(b,300);it.useEffect(()=>{if(!st||st.length<3){A([]);return}const ct=new AbortController,vt=setTimeout(()=>ct.abort(),5e3);return(async()=>{B(!0);try{const M=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(st)}&limit=5`,{headers:{"User-Agent":"Parlens PWA"},signal:ct.signal})).json();if(M&&M.length>0){A(M);return}}catch(X){console.warn("Nominatim failed, trying Photon fallback:",X)}try{const I=(await(await fetch(`https://photon.komoot.io/api/?q=${encodeURIComponent(st)}&limit=5`,{signal:ct.signal})).json()).features?.map(P=>({display_name:[P.properties.name,P.properties.city||P.properties.town||P.properties.village,P.properties.state,P.properties.country].filter(Boolean).join(", "),lat:String(P.geometry.coordinates[1]),lon:String(P.geometry.coordinates[0])}))||[];A(I)}catch(X){console.error("Both geocoding services failed:",X),A([])}finally{B(!1)}})(),()=>{clearTimeout(vt),ct.abort()}},[st]);const F=ct=>{const vt={id:crypto.randomUUID(),name:ct.display_name.split(",")[0],lat:parseFloat(ct.lat),lon:parseFloat(ct.lon)};_(bt=>[...bt,vt]),y(""),A([]),Z(null),tt(null),U(!1),s(null,null,null,!1)},at=ct=>{_(vt=>vt.filter(bt=>bt.id!==ct)),Z(null),tt(null),U(!1),s(null,null,null,!1)},yt=()=>{_([]),Z(null),tt(null),U(!1),s(null,null,null,!1)},_t=async()=>{if(p.length<2){alert("Add at least 2 waypoints to create a route");return}dt(!0);try{const vt={bicycle:"cycling",motorcycle:"driving",car:"driving"}[a],bt=[],X=[];for(let P=0;P<p.length-1;P++){const mt=p[P],W=p[P+1],z=`${mt.lon},${mt.lat};${W.lon},${W.lat}`;console.log(`[Parlens] Fetching segment ${P+1}: ${mt.name}  ${W.name}`);const H=await fetch(`https://router.project-osrm.org/route/v1/${vt}/${z}?overview=full&geometries=geojson&alternatives=true`);if(!H.ok)throw new Error(`OSRM error: ${H.status}`);const rt=await H.json();if(rt.routes&&rt.routes[0]){const lt=rt.routes[0].geometry.coordinates.map(ft=>[ft[1],ft[0]]);if(bt.push(lt),rt.routes.length>1){const ft=rt.routes[1].geometry.coordinates.map(ht=>[ht[1],ht[0]]);X.push(ft),console.log(`[Parlens] Segment ${P+1} has alternate route`)}else X.push(lt),console.log(`[Parlens] Segment ${P+1} has no alternate, using primary`)}else throw new Error(`No route found for segment ${P+1}`)}const M=[],I=[];for(let P=0;P<bt.length;P++){const mt=P===0?0:1;M.push(...bt[P].slice(mt)),I.push(...X[P].slice(mt))}console.log("[Parlens] Combined primary route:",M.length,"points"),console.log("[Parlens] Combined alternate route:",I.length,"points"),Z(M),tt(I),U(!0),s(M,I,p.map(P=>({lat:P.lat,lon:P.lon})),!0),d(!1)}catch(ct){console.error("Route creation error:",ct);const vt=p.map(bt=>[bt.lat,bt.lon]);Z(vt),tt(null),U(!0),s(vt,null,p.map(bt=>({lat:bt.lat,lon:bt.lon})),!0),d(!1)}finally{dt(!1)}},pt=()=>{const ct=!j;U(ct),s(N,q,p.map(vt=>({lat:vt.lat,lon:vt.lon})),ct)};return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>d(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Create Route",children:E.jsx(VS,{size:20})}),c&&E.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[E.jsx("button",{onClick:()=>d(!1),className:"absolute inset-0 z-0 cursor-default"}),E.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-cyan-500 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:"Create Route"}),E.jsx("button",{onClick:()=>d(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:E.jsx(jd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:"Add Waypoint"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{ref:ut,type:"text",placeholder:"Search for a place...",value:b,onChange:ct=>y(ct.target.value),className:"w-full h-14 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10 px-4 text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T&&E.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:E.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-blue-500/30 border-t-blue-500 animate-spin"})})]}),x.length>0&&E.jsx("div",{className:"rounded-2xl overflow-hidden bg-zinc-50 dark:bg-white/5 border border-black/5 dark:border-white/10",children:x.map((ct,vt)=>E.jsxs("button",{onClick:()=>F(ct),className:"w-full p-3 flex items-center gap-3 hover:bg-zinc-100 dark:hover:bg-white/5 transition-colors text-left border-b border-black/5 dark:border-white/5 last:border-0",children:[E.jsx(nc,{size:16,className:"text-blue-500 shrink-0"}),E.jsx("span",{className:"text-sm text-zinc-700 dark:text-white/80 truncate",children:ct.display_name})]},vt))}),l&&E.jsxs("button",{onClick:()=>{const ct={id:crypto.randomUUID(),name:"Current Location",lat:l[0],lon:l[1]};_(vt=>[...vt,ct]),Z(null),tt(null),U(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-blue-500/10 dark:bg-blue-500/20 border border-blue-500/20 hover:bg-blue-500/20 transition-colors",children:[E.jsx(wv,{size:16,className:"text-blue-500"}),E.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Add Current Location"})]})]}),E.jsxs("div",{className:"space-y-2 flex-1",children:[E.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:["Waypoints (",p.length,")"]}),p.length===0?E.jsxs("div",{className:"p-8 text-center text-zinc-400 dark:text-white/30 text-sm",children:["No waypoints added yet.",E.jsx("br",{}),"Search for places above to add them."]}):E.jsx("div",{className:"space-y-2",children:p.map((ct,vt)=>E.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs font-bold flex items-center justify-center shrink-0",children:vt+1}),E.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white font-medium truncate",children:ct.name}),E.jsx("button",{onClick:()=>at(ct.id),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 hover:text-red-500 hover:bg-red-500/10 transition-colors",children:E.jsx(Ev,{size:16})})]},ct.id))})]}),N&&E.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[j?E.jsx(HS,{size:20,className:"text-blue-500"}):E.jsx(US,{size:20,className:"text-zinc-400"}),E.jsx("span",{className:"font-medium text-zinc-700 dark:text-white",children:"Show on Map"})]}),E.jsx("button",{onClick:pt,className:`w-14 h-8 rounded-full transition-colors ${j?"bg-blue-500":"bg-zinc-300 dark:bg-white/20"}`,children:E.jsx("div",{className:`w-6 h-6 rounded-full bg-white shadow-md transition-transform ${j?"translate-x-7":"translate-x-1"}`})})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:yt,disabled:p.length===0,className:"flex-1 h-14 rounded-2xl bg-zinc-200 dark:bg-white/10 text-zinc-600 dark:text-white/70 font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:"Clear Route"}),E.jsx("button",{onClick:_t,disabled:p.length<2||ot,className:"flex-1 h-14 rounded-2xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:ot?"Creating...":"Create Route"})]})]})]})]})};function NE(a){return a>=17?8:a>=15?7:a>=13?6:a>=11?5:a>=9?4:3}function Sy(a,s,l=!0){if(!l||s>=17||a.length<2)return a;const c=NE(s),d=new Map;for(const _ of a){const b=s>=15?`${_.lat.toFixed(6)},${_.lon.toFixed(6)}`:ic(_.lat,_.lon,c);if(d.has(b)){const y=d.get(b);y.spots.push(_),y.count++,y.minPrice=Math.min(y.minPrice,_.price),y.maxPrice=Math.max(y.maxPrice,_.price),y.lat=y.spots.reduce((x,A)=>x+A.lat,0)/y.count,y.lon=y.spots.reduce((x,A)=>x+A.lon,0)/y.count}else d.set(b,{id:`cluster-${b}`,lat:_.lat,lon:_.lon,spots:[_],minPrice:_.price,maxPrice:_.price,currency:_.currency,count:1})}const p=[];for(const _ of d.values())_.count===1?p.push(_.spots[0]):p.push(_);return p}function Ey(a){return"count"in a&&a.count>1}const kE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",BE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",RE=ea.icon({iconUrl:kE,shadowUrl:BE,iconSize:[25,41],iconAnchor:[12,41]});ea.Marker.prototype.options.icon=RE;const DE=({location:a,bearing:s})=>{const l=`
           <div style="transform: rotate(${s}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,c=ea.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return E.jsx(Qr,{position:a,icon:c,zIndexOffset:1e3})},UE=({location:a,vehicleType:s,bearing:l,orientationMode:c})=>{const _=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)); transform: rotate(${c==="auto"?l:0}deg);">${s==="bicycle"?"":s==="motorcycle"?"":""}</div>`,b=ea.divIcon({className:"active-session-marker",html:_,iconSize:[40,40],iconAnchor:[20,20]});return E.jsx(Qr,{position:a,icon:b})},jE=it.memo(({spot:a,bearing:s,orientationMode:l})=>{const d=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                
             </div>
             <div style="background: #34C759; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${a.price>0?`${a.currency==="USD"?"$":a.currency}${a.price.toFixed(2)}/hr`:"Free"}
             </div>
        </div>
    `,p=ea.divIcon({className:"spot-marker",html:d,iconSize:[60,60],iconAnchor:[30,45]});return E.jsx(Qr,{position:[a.lat,a.lon],icon:p})}),HE=({spot:a,bearing:s,orientationMode:l})=>{const c=a.decryptedContent;if(!c||!c.lat||!c.lon)return null;const p=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); opacity: 0.7;">
                
             </div>
             <div style="background: #8E8E93; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${c.fee?`${Yr(c.currency||"USD")}${c.fee}`:"Free"}
             </div>
        </div>
    `,_=ea.divIcon({className:"history-marker",html:p,iconSize:[60,60],iconAnchor:[30,45]});return E.jsx(Qr,{position:[c.lat,c.lon],icon:_})},Ty=({cluster:a,type:s,bearing:l,orientationMode:c})=>{const d=s==="open"?"":"",p=s==="open"?"#34C759":"#8E8E93",_=c==="auto"?l:0,b=a.minPrice===a.maxPrice?a.minPrice>0?`${Yr(a.currency)}${a.minPrice}`:"Free":`${Yr(a.currency)}${a.minPrice}-${a.maxPrice}`,y=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 70px; transform: rotate(${_}deg);">
             <div style="font-size: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); position: relative;">
                ${d}
                <div style="position: absolute; top: -5px; right: -5px; background: ${p}; color: white; font-size: 10px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                    ${a.count}
                </div>
             </div>
             <div style="background: ${p}; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${b}
             </div>
        </div>
    `,x=ea.divIcon({className:"cluster-marker",html:y,iconSize:[70,60],iconAnchor:[35,45]});return E.jsx(Qr,{position:[a.lat,a.lon],icon:x})},PE=({onZoomChange:a})=>{const s=hE({zoomend:()=>{a(s.getZoom())}});return it.useEffect(()=>{a(s.getZoom())},[]),null},ZE=({location:a,bearing:s,orientationMode:l,shouldRecenter:c,setShouldRecenter:d,routeBounds:p,setRouteBounds:_})=>{const b=Mv();return it.useEffect(()=>{b.invalidateSize();const y=[setTimeout(()=>b.invalidateSize(),100),setTimeout(()=>b.invalidateSize(),300),setTimeout(()=>b.invalidateSize(),500),setTimeout(()=>b.invalidateSize(),1e3)];return()=>y.forEach(x=>clearTimeout(x))},[b]),it.useEffect(()=>{p&&(b.fitBounds(p,{padding:[50,50],animate:!0}),_(null))},[p,b,_]),it.useEffect(()=>{c&&a&&(b.setView(a,16,{animate:!0}),d(!1))},[c,a,b,d]),it.useEffect(()=>{const y=()=>{window.dispatchEvent(new CustomEvent("map-user-interaction"))};return b.on("dragend",y),()=>{b.off("dragend",y)}},[b]),it.useEffect(()=>{const y=b.getContainer();l==="auto"?(y.style.width="300%",y.style.height="300%",y.style.top="-100%",y.style.left="-100%"):(y.style.transform="rotate(0deg)",document.documentElement.style.setProperty("--map-rotation","0deg"),y.style.width="100%",y.style.height="100%",y.style.top="0",y.style.left="0"),y.style.position="absolute",setTimeout(()=>b.invalidateSize(),50)},[l,b]),it.useEffect(()=>{if(l==="auto"){const y=b.getContainer();requestAnimationFrame(()=>{y.style.transition="transform 0.1s ease-out",y.style.transformOrigin="center center",y.style.transform=`rotate(${-s}deg)`,document.documentElement.style.setProperty("--map-rotation",`${s}deg`)})}},[s,l,b]),it.useEffect(()=>{a&&l==="auto"&&b.setView(a,b.getZoom(),{animate:!0,duration:.3})},[a,l,b]),it.useEffect(()=>{const y=()=>{setTimeout(()=>{b.invalidateSize()},100)};return window.addEventListener("resize",y),window.addEventListener("orientationchange",y),window.visualViewport&&window.visualViewport.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),window.removeEventListener("orientationchange",y),window.visualViewport&&window.visualViewport.removeEventListener("resize",y)}},[b]),null},qE=()=>{const[a,s]=it.useState(null),[l,c]=it.useState(null),[d,p]=it.useState(0),[_,b]=it.useState("idle"),[y,x]=it.useState("fixed"),[A,T]=it.useState(!1),[B,j]=it.useState(()=>{const zt=localStorage.getItem("parlens_vehicle_type");return zt==="bicycle"||zt==="motorcycle"||zt==="car"?zt:"car"}),[U,N]=it.useState([]),[Z,q]=it.useState([]),[tt,ot]=it.useState(null),[dt,ut]=it.useState(!1),[st,F]=it.useState(!1),[at,yt]=it.useState(16),[_t,pt]=it.useState(!1),[ct,vt]=it.useState(null),[bt,X]=it.useState(null),[M,I]=it.useState(null),[P,mt]=it.useState(!1),[W,z]=it.useState(null),H=(zt,Mt,kt,jt)=>{if(vt(zt),X(Mt),I(kt),mt(jt),zt&&zt.length>1&&jt){const te=ea.latLngBounds(zt);z(te)}};it.useEffect(()=>{const zt=setInterval(()=>{const Mt=Math.floor(Date.now()/1e3);N(kt=>{const jt=kt.filter(te=>!te.expiresAt||te.expiresAt>Mt);return jt.length!==kt.length&&console.log("[Parlens] Expired",kt.length-jt.length,"spots"),jt.length!==kt.length?jt:kt})},1e4);return()=>clearInterval(zt)},[]),it.useEffect(()=>{const zt=()=>F(!0);return window.addEventListener("map-user-interaction",zt),()=>window.removeEventListener("map-user-interaction",zt)},[]);const[rt,lt]=it.useState(!1);it.useEffect(()=>{const zt=window.matchMedia("(prefers-color-scheme: dark)");lt(zt.matches);const Mt=kt=>lt(kt.matches);return zt.addEventListener("change",Mt),()=>zt.removeEventListener("change",Mt)},[]);const ft=it.useRef(null);it.useEffect(()=>{if("geolocation"in navigator){const zt=setTimeout(()=>{a||c("Unable to get location. Please enable location permissions in your browser/device settings.")},1e4);return ft.current=navigator.geolocation.watchPosition(Mt=>{const{latitude:kt,longitude:jt,heading:te}=Mt.coords;s([kt,jt]),c(null),te!==null&&p(te)},Mt=>{console.error("Location error:",Mt),Mt.code===Mt.PERMISSION_DENIED?c("Location permission denied. Please enable location access in your browser settings."):Mt.code===Mt.POSITION_UNAVAILABLE?c("Location unavailable. Please check your device's GPS settings."):Mt.code===Mt.TIMEOUT&&c("Location request timed out. Please try again.")},{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),()=>{clearTimeout(zt),ft.current!==null&&navigator.geolocation.clearWatch(ft.current)}}else c("Geolocation is not supported by this browser.")},[a]);const ht=it.useRef(null),[At,Ht]=it.useState(!1),Ut=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()==="granted")return Ht(!1),ht.current&&window.addEventListener("deviceorientation",ht.current,!0),!0}catch(zt){console.error("Error requesting device orientation permission:",zt)}return!1};it.useEffect(()=>{let zt=0,Mt=0;const kt=ti=>{const ei=Date.now();let Pn=0;ti.webkitCompassHeading!==void 0?Pn=ti.webkitCompassHeading:ti.alpha!==null&&(Pn=360-ti.alpha);const sa=Math.abs(Pn-Mt),Ei=ei-zt;(sa>3||Ei>100)&&(Mt=Pn,zt=ei,p(Pn))};ht.current=kt;const jt=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function"){Ht(!0);return}window.addEventListener("deviceorientation",kt,!0)},te=async()=>{document.visibilityState==="visible"&&(typeof DeviceOrientationEvent.requestPermission=="function"?Ht(!0):ht.current&&window.addEventListener("deviceorientation",ht.current,!0))};document.addEventListener("visibilitychange",te);const gn=setTimeout(jt,500);return()=>{clearTimeout(gn),document.removeEventListener("visibilitychange",te),ht.current&&window.removeEventListener("deviceorientation",ht.current,!0)}},[]);const we=zt=>{if(_!=="idle"){alert("Please end your current session before changing vehicle type.");return}j(zt),localStorage.setItem("parlens_vehicle_type",zt)};return a?E.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[E.jsx("div",{className:"absolute inset-0",children:E.jsxs(mE,{center:a,zoom:16,zoomControl:!1,className:"absolute inset-0",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[E.jsx(pE,{url:rt?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO"}),E.jsx(PE,{onZoomChange:yt}),Z.length>0&&(()=>{const Mt=Z.filter(jt=>(jt.tags?.find(gn=>gn[0]==="type")?.[1]||"car")===B).map(jt=>{const te=jt.decryptedContent;return te&&te.lat&&te.lon?{id:jt.id,lat:te.lat,lon:te.lon,price:parseFloat(te.fee)||0,currency:te.currency||"USD",original:jt}:null}).filter(Boolean);return Sy(Mt,at).map(jt=>Ey(jt)?E.jsx(Ty,{cluster:jt,type:"history",bearing:d,orientationMode:y},jt.id):E.jsx(HE,{spot:jt.original||jt,bearing:d,orientationMode:y},jt.id))})(),_==="search"&&U.length>0&&(()=>{const zt=U.map(kt=>({id:kt.id,lat:kt.lat,lon:kt.lon,price:kt.price,currency:kt.currency,original:kt}));return Sy(zt,at).map(kt=>Ey(kt)?E.jsx(Ty,{cluster:kt,type:"open",bearing:d,orientationMode:y},kt.id):E.jsx(jE,{spot:kt.original||kt,bearing:d,orientationMode:y},kt.id))})(),_==="parked"&&tt&&E.jsx(UE,{location:tt,vehicleType:B,bearing:d,orientationMode:y}),P&&bt&&bt.length>1&&E.jsx(wy,{positions:bt,color:"#007AFF",weight:3,opacity:.4,dashArray:"8, 8"}),P&&ct&&ct.length>1&&E.jsx(wy,{positions:ct,color:"#007AFF",weight:4,opacity:.9}),P&&M&&M.map((zt,Mt)=>E.jsx(Qr,{position:[zt.lat,zt.lon],icon:ea.divIcon({className:"waypoint-marker",html:`<div style="width: 20px; height: 20px; background: #007AFF; border: 2px solid white; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: bold;">${Mt+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})},`waypoint-${Mt}`)),E.jsx(DE,{location:a,bearing:d}),E.jsx(ZE,{location:a,bearing:d,orientationMode:y,shouldRecenter:dt,setShouldRecenter:ut,routeBounds:W,setRouteBounds:z})]})}),E.jsxs("div",{className:"absolute z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",left:"max(1rem, env(safe-area-inset-left))"},children:[E.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[E.jsx("button",{onClick:()=>we("bicycle"),className:`p-2.5 rounded-full transition-all ${B==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:E.jsx("span",{className:"text-xl",children:""})}),E.jsx("button",{onClick:()=>we("motorcycle"),className:`p-2.5 rounded-full transition-all ${B==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:E.jsx("span",{className:"text-xl",children:""})}),E.jsx("button",{onClick:()=>we("car"),className:`p-2.5 rounded-full transition-all ${B==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:E.jsx("span",{className:"text-xl",children:""})})]}),E.jsx("button",{onClick:()=>T(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:E.jsx(by,{size:20})})]}),E.jsxs("div",{className:"absolute z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",right:"max(1rem, env(safe-area-inset-right))"},children:[E.jsx("button",{onClick:async()=>{if(At){await Ut();return}st?(ut(!0),F(!1)):(x(zt=>zt==="auto"?"fixed":"auto"),ut(!0))},className:`h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg ${At?"bg-orange-500/20 border-orange-500/50 text-orange-500 dark:text-orange-400 animate-pulse":y==="auto"?"bg-blue-500/20 border-blue-500/50 text-blue-500 dark:text-blue-400":st?"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-400 dark:text-white/40":"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70"}`,children:y==="auto"?E.jsx(wv,{size:20,className:"fill-current"}):E.jsx(RS,{size:20})}),E.jsx(OE,{vehicleType:B,onRouteChange:H,currentLocation:a}),E.jsx(LE,{setHistorySpots:q,onOpenChange:pt}),E.jsx(zE,{status:_,setStatus:b,location:a,vehicleType:B,setOpenSpots:N,parkLocation:tt,setParkLocation:ot})]}),A&&E.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl pt-2 px-4 pb-4 animate-in fade-in",children:[E.jsx("button",{onClick:()=>T(!1),className:"absolute inset-0 z-0 cursor-default"}),E.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] border border-black/5 dark:border-white/5 shadow-2xl p-6 space-y-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar transition-colors",children:[E.jsx("button",{onClick:()=>T(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:E.jsx(jd,{size:20,className:"text-black/60 dark:text-white/60"})}),E.jsxs("div",{className:"text-center space-y-2 pt-4",children:[E.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:E.jsx(by,{size:32})}),E.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),E.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[E.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[E.jsx("span",{children:"Using Browser Menu (Android)"}),E.jsx(ul,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),E.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[E.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),E.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[E.jsx("li",{children:"Tap menu button (three dots)"}),E.jsxs("li",{children:["Tap ",E.jsx("strong",{children:"Add to Home screen"})]}),E.jsxs("li",{children:["Tap ",E.jsx("strong",{children:"Add"})," to confirm"]})]}),E.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),E.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[E.jsx("li",{children:"Tap menu button (three dots)"}),E.jsxs("li",{children:["Tap ",E.jsx("strong",{children:"Install"})]})]})]})]}),E.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[E.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[E.jsx("span",{children:"Using Share Button (iOS)"}),E.jsx(ul,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),E.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:E.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[E.jsxs("li",{children:["Tap the ",E.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),E.jsxs("li",{children:["Scroll down and tap ",E.jsx("strong",{children:"Add to Home Screen"}),"."]}),E.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),E.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Plan your route (optional)"}),"Tap the route button to add waypoints and create a route. Your path will display on the map as you travel."]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Search for spots"}),"Click the main button once to see open spots reported by others."]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. Park & end session"}),"Click again to mark your location. When leaving, click once more to end the session and report the fee."]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"5. View history"}),"Use the profile button to see your parking history."]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"6. Secure your keys"}),"Copy and store your npub (public key) and nsec (secret key) from the profile section. These are your account access keys and cannot be recovered if lost."]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"7. User privacy"}),"Parlens does not collect or share any user data. Your log data is encrypted by your keys and only accessible by you. Open spot broadcasts are ephemeral and not linked to any personal identifiers."]})]})]})]}),_==="search"&&!_t&&E.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:E.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5 whitespace-nowrap min-w-max",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),E.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),_==="parked"&&!_t&&E.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:E.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[E.jsx("span",{className:"text-lg",children:B==="bicycle"?"":B==="motorcycle"?"":""}),E.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):E.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50 dark:bg-black",children:E.jsx("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700 px-8 max-w-sm text-center",children:l?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:E.jsx("span",{className:"text-2xl",children:""})}),E.jsx("p",{className:"text-sm font-medium text-red-500 dark:text-red-400",children:l}),E.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-6 py-2 rounded-full bg-blue-500 text-white text-sm font-medium active:scale-95 transition-transform",children:"Try Again"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),E.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})})},GE=()=>{const{login:a}=dl(),[s,l]=it.useState(""),[c,d]=it.useState(""),[p,_]=it.useState(!1),[b,y]=it.useState("landing"),[x,A]=it.useState(""),[T,B]=it.useState(null),j=async q=>{_(!0),d("");try{await a(q,q==="nsec"?s:void 0)}catch(tt){d(tt.message)}finally{_(!1)}},U=()=>{y("setup")},N=async()=>{if(!x.trim()){d("Please enter a username");return}_(!0);try{const{generateSecretKey:q,getPublicKey:tt}=await gb(async()=>{const{generateSecretKey:at,getPublicKey:yt}=await Promise.resolve().then(()=>AE);return{generateSecretKey:at,getPublicKey:yt}},void 0),ot=at=>Array.from(at).map(yt=>yt.toString(16).padStart(2,"0")).join(""),dt=q(),ut=tt(dt);localStorage.setItem("parlens_privkey",ot(dt)),localStorage.setItem("parlens_pubkey",ut),localStorage.setItem("parlens_pending_username",x);const st=Is.npubEncode(ut),F=Is.nsecEncode(dt);B({npub:st,nsec:F}),y("backup")}catch(q){d(q.message)}finally{_(!1)}},Z=async()=>{_(!0);try{const q=localStorage.getItem("parlens_pending_username");await a("create",void 0,q||x),localStorage.removeItem("parlens_pending_username")}catch(q){d(q.message)}finally{_(!1)}};return E.jsx("div",{className:"min-h-screen bg-black p-6 text-white text-center overflow-y-auto no-scrollbar flex flex-col items-center justify-center",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:E.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("img",{src:"/parlens-pwa/pwa-512x512.png",alt:"Parlens",className:"mx-auto h-24 w-24 rounded-[22%] shadow-2xl shadow-[#007AFF]/20"}),E.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),E.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Peer-to-Peer Parking Management"})]}),E.jsxs("div",{className:"space-y-4",children:[b==="landing"?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:U,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":E.jsxs(E.Fragment,{children:[E.jsx(FS,{size:20,strokeWidth:3}),"Create a New Account"]})}),E.jsxs("button",{onClick:()=>y("nsec"),disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold text-lg shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[E.jsx($h,{size:18}),"Login with Secret Key"]})]}):b==="setup"?E.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[E.jsxs("div",{className:"text-center pb-2",children:[E.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),E.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),E.jsx("input",{type:"text",placeholder:"Username",value:x,onChange:q=>A(q.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>y("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),E.jsx("button",{onClick:N,disabled:p||!x,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):b==="backup"?E.jsxs("div",{className:"space-y-6 pt-4 animate-in slide-in-from-right-4 text-left",children:[E.jsxs("div",{className:"text-center pb-2",children:[E.jsx("h3",{className:"text-xl font-bold",children:" Account Created!"}),E.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Back up your keys before continuing"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-white/30 ml-2",children:"Your Keys"}),E.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-white/[0.03] border border-white/10",children:[E.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{T&&(navigator.clipboard.writeText(T.npub),alert("Public Key copied to clipboard"))},children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/20 text-blue-400",children:E.jsx($h,{size:20})}),E.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Public Key (Npub)"})]}),E.jsx(ec,{size:18,className:"text-white/20"})]}),E.jsx("div",{className:"h-[1px] bg-white/5 mx-4"}),E.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{T&&(navigator.clipboard.writeText(T.nsec),alert("Secret Key copied to clipboard - keep this safe!"))},children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/20 text-red-500",children:E.jsx(Sv,{size:20})}),E.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Secret Key (Nsec)"})]}),E.jsx(ec,{size:18,className:"text-white/20"})]})]}),E.jsx("p",{className:"text-xs text-white/30 mt-2 ml-2 leading-relaxed text-center",children:" Store these keys securely. They cannot be recovered if lost."})]}),E.jsx("button",{onClick:Z,disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:p?"Starting...":"Start Using Parlens"})]}):E.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[E.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:s,onChange:q=>l(q.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>y("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),E.jsx("button",{onClick:()=>j("nsec"),disabled:p||!s,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),c&&E.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:c}),E.jsxs("div",{className:"space-y-3 pt-6 border-t border-white/10",children:[E.jsx("h3",{className:"text-center font-bold text-white/70 text-sm",children:"Add to your homescreen for fullscreen experience"}),E.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[E.jsxs("button",{onClick:()=>{document.getElementById("login-android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[E.jsx("span",{children:"Using Browser Menu (Android)"}),E.jsx(ul,{size:16,className:"text-white/50"})]}),E.jsxs("div",{id:"login-android-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:[E.jsx("p",{className:"font-semibold text-white/80",children:"Chrome & Brave:"}),E.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[E.jsx("li",{children:"Tap menu button (three dots)"}),E.jsxs("li",{children:["Tap ",E.jsx("strong",{children:"Add to Home screen"})]}),E.jsxs("li",{children:["Tap ",E.jsx("strong",{children:"Add"})," to confirm"]})]}),E.jsx("p",{className:"font-semibold text-white/80 mt-3",children:"Firefox:"}),E.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[E.jsx("li",{children:"Tap menu button (three dots)"}),E.jsxs("li",{children:["Tap ",E.jsx("strong",{children:"Install"})]})]})]})]}),E.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[E.jsxs("button",{onClick:()=>{document.getElementById("login-ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[E.jsx("span",{children:"Using Share Button (iOS)"}),E.jsx(ul,{size:16,className:"text-white/50"})]}),E.jsx("div",{id:"login-ios-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:E.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[E.jsxs("li",{children:["Tap the ",E.jsx("strong",{className:"text-white/80",children:"Share"})," button in Safari menu bar."]}),E.jsxs("li",{children:["Scroll down and tap ",E.jsx("strong",{className:"text-white/80",children:"Add to Home Screen"}),"."]}),E.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]})]})]})})},VE=()=>{const{pubkey:a}=dl();return a?E.jsx(qE,{}):E.jsx(GE,{})};var xc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YE={setTimeout:(a,s)=>setTimeout(a,s),clearTimeout:a=>clearTimeout(a),setInterval:(a,s)=>setInterval(a,s),clearInterval:a=>clearInterval(a)},KE=class{#t=YE;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,s){return this.#t.setTimeout(a,s)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,s){return this.#t.setInterval(a,s)}clearInterval(a){this.#t.clearInterval(a)}},td=new KE;function IE(a){setTimeout(a,0)}var wc=typeof window>"u"||"Deno"in globalThis;function Wn(){}function QE(a,s){return typeof a=="function"?a(s):a}function XE(a){return typeof a=="number"&&a>=0&&a!==1/0}function FE(a,s){return Math.max(a+(s||0)-Date.now(),0)}function ed(a,s){return typeof a=="function"?a(s):a}function JE(a,s){return typeof a=="function"?a(s):a}function Ay(a,s){const{type:l="all",exact:c,fetchStatus:d,predicate:p,queryKey:_,stale:b}=a;if(_){if(c){if(s.queryHash!==Vd(_,s.options))return!1}else if(!fl(s.queryKey,_))return!1}if(l!=="all"){const y=s.isActive();if(l==="active"&&!y||l==="inactive"&&y)return!1}return!(typeof b=="boolean"&&s.isStale()!==b||d&&d!==s.state.fetchStatus||p&&!p(s))}function zy(a,s){const{exact:l,status:c,predicate:d,mutationKey:p}=a;if(p){if(!s.options.mutationKey)return!1;if(l){if(cl(s.options.mutationKey)!==cl(p))return!1}else if(!fl(s.options.mutationKey,p))return!1}return!(c&&s.state.status!==c||d&&!d(s))}function Vd(a,s){return(s?.queryKeyHashFn||cl)(a)}function cl(a){return JSON.stringify(a,(s,l)=>nd(l)?Object.keys(l).sort().reduce((c,d)=>(c[d]=l[d],c),{}):l)}function fl(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?Object.keys(s).every(l=>fl(a[l],s[l])):!1}var WE=Object.prototype.hasOwnProperty;function Dv(a,s){if(a===s)return a;const l=Cy(a)&&Cy(s);if(!l&&!(nd(a)&&nd(s)))return s;const d=(l?a:Object.keys(a)).length,p=l?s:Object.keys(s),_=p.length,b=l?new Array(_):{};let y=0;for(let x=0;x<_;x++){const A=l?x:p[x],T=a[A],B=s[A];if(T===B){b[A]=T,(l?x<d:WE.call(a,A))&&y++;continue}if(T===null||B===null||typeof T!="object"||typeof B!="object"){b[A]=B;continue}const j=Dv(T,B);b[A]=j,j===T&&y++}return d===_&&y===d?a:b}function Cy(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function nd(a){if(!Ly(a))return!1;const s=a.constructor;if(s===void 0)return!0;const l=s.prototype;return!(!Ly(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function Ly(a){return Object.prototype.toString.call(a)==="[object Object]"}function $E(a){return new Promise(s=>{td.setTimeout(s,a)})}function tT(a,s,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,s):l.structuralSharing!==!1?Dv(a,s):s}function eT(a,s,l=0){const c=[...a,s];return l&&c.length>l?c.slice(1):c}function nT(a,s,l=0){const c=[s,...a];return l&&c.length>l?c.slice(0,-1):c}var Yd=Symbol();function Uv(a,s){return!a.queryFn&&s?.initialPromise?()=>s.initialPromise:!a.queryFn||a.queryFn===Yd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var iT=class extends xc{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!wc&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(s=>{s(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},jv=new iT;function aT(){let a,s;const l=new Promise((d,p)=>{a=d,s=p});l.status="pending",l.catch(()=>{});function c(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{c({status:"fulfilled",value:d}),a(d)},l.reject=d=>{c({status:"rejected",reason:d}),s(d)},l}var sT=IE;function rT(){let a=[],s=0,l=b=>{b()},c=b=>{b()},d=sT;const p=b=>{s?a.push(b):d(()=>{l(b)})},_=()=>{const b=a;a=[],b.length&&d(()=>{c(()=>{b.forEach(y=>{l(y)})})})};return{batch:b=>{let y;s++;try{y=b()}finally{s--,s||_()}return y},batchCalls:b=>(...y)=>{p(()=>{b(...y)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{c=b},setScheduler:b=>{d=b}}}var en=rT(),oT=class extends xc{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!wc&&window.addEventListener){const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},sc=new oT;function lT(a){return Math.min(1e3*2**a,3e4)}function Hv(a){return(a??"online")==="online"?sc.isOnline():!0}var id=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function Pv(a){let s=!1,l=0,c;const d=aT(),p=()=>d.status!=="pending",_=N=>{if(!p()){const Z=new id(N);B(Z),a.onCancel?.(Z)}},b=()=>{s=!0},y=()=>{s=!1},x=()=>jv.isFocused()&&(a.networkMode==="always"||sc.isOnline())&&a.canRun(),A=()=>Hv(a.networkMode)&&a.canRun(),T=N=>{p()||(c?.(),d.resolve(N))},B=N=>{p()||(c?.(),d.reject(N))},j=()=>new Promise(N=>{c=Z=>{(p()||x())&&N(Z)},a.onPause?.()}).then(()=>{c=void 0,p()||a.onContinue?.()}),U=()=>{if(p())return;let N;const Z=l===0?a.initialPromise:void 0;try{N=Z??a.fn()}catch(q){N=Promise.reject(q)}Promise.resolve(N).then(T).catch(q=>{if(p())return;const tt=a.retry??(wc?0:3),ot=a.retryDelay??lT,dt=typeof ot=="function"?ot(l,q):ot,ut=tt===!0||typeof tt=="number"&&l<tt||typeof tt=="function"&&tt(l,q);if(s||!ut){B(q);return}l++,a.onFail?.(l,q),$E(dt).then(()=>x()?void 0:j()).then(()=>{s?B(q):U()})})};return{promise:d,status:()=>d.status,cancel:_,continue:()=>(c?.(),d),cancelRetry:b,continueRetry:y,canStart:A,start:()=>(A()?U():j().then(U),d)}}var Zv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XE(this.gcTime)&&(this.#t=td.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(wc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(td.clearTimeout(this.#t),this.#t=void 0)}},uT=class extends Zv{#t;#e;#n;#a;#i;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=Oy(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Oy(this.options);s.data!==void 0&&(this.setState(My(s.data,s.dataUpdatedAt)),this.#t=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,s){const l=tT(this.state.data,a,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(a,s){this.#s({type:"setState",state:a,setStateOptions:s})}cancel(a){const s=this.#i?.promise;return this.#i?.cancel(a),s?s.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>JE(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>ed(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!FE(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(s=>s!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(a,s){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(y=>y.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=Uv(this.options,s),x=(()=>{const A={client:this.#a,queryKey:this.queryKey,meta:this.meta};return c(A),A})();return this.#o=!1,this.options.persister?this.options.persister(b,x,this):b(x)},_=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return c(b),b})();this.options.behavior?.onFetch(_,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==_.fetchOptions?.meta)&&this.#s({type:"fetch",meta:_.fetchOptions?.meta}),this.#i=Pv({initialPromise:s?.initialPromise,fn:_.fetchFn,onCancel:b=>{b instanceof id&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,y)=>{this.#s({type:"failed",failureCount:b,error:y})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof id){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#s({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#s(a){const s=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...cT(l.data,this.options),fetchMeta:a.meta??null};case"success":const c={...l,...My(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?c:void 0,c;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=s(this.state),en.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function cT(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hv(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function My(a,s){return{data:a,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Oy(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,l=s!==void 0,c=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:l?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function Ny(a){return{onFetch:(s,l)=>{const c=s.options,d=s.fetchOptions?.meta?.fetchMore?.direction,p=s.state.data?.pages||[],_=s.state.data?.pageParams||[];let b={pages:[],pageParams:[]},y=0;const x=async()=>{let A=!1;const T=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(s.signal.aborted?A=!0:s.signal.addEventListener("abort",()=>{A=!0}),s.signal)})},B=Uv(s.options,s.fetchOptions),j=async(U,N,Z)=>{if(A)return Promise.reject();if(N==null&&U.pages.length)return Promise.resolve(U);const tt=(()=>{const st={client:s.client,queryKey:s.queryKey,pageParam:N,direction:Z?"backward":"forward",meta:s.options.meta};return T(st),st})(),ot=await B(tt),{maxPages:dt}=s.options,ut=Z?nT:eT;return{pages:ut(U.pages,ot,dt),pageParams:ut(U.pageParams,N,dt)}};if(d&&p.length){const U=d==="backward",N=U?fT:ky,Z={pages:p,pageParams:_},q=N(c,Z);b=await j(Z,q,U)}else{const U=a??p.length;do{const N=y===0?_[0]??c.initialPageParam:ky(c,b);if(y>0&&N==null)break;b=await j(b,N),y++}while(y<U)}return b};s.options.persister?s.fetchFn=()=>s.options.persister?.(x,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},l):s.fetchFn=x}}}function ky(a,{pages:s,pageParams:l}){const c=s.length-1;return s.length>0?a.getNextPageParam(s[c],s,l[c],l):void 0}function fT(a,{pages:s,pageParams:l}){return s.length>0?a.getPreviousPageParam?.(s[0],s,l[0],l):void 0}var hT=class extends Zv{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||dT(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(s=>s!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const s=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Pv({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,_)=>{this.#i({type:"failed",failureCount:p,error:_})},onPause:()=>{this.#i({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const c=this.state.status==="pending",d=!this.#a.canStart();try{if(c)s();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const _=await this.options.onMutate?.(a,l);_!==this.state.context&&this.#i({type:"pending",context:_,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const s=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=s(this.state),en.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function dT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mT=class extends xc{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,s,l){const c=new hT({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(s),state:l});return this.add(c),c}add(a){this.#t.add(a);const s=Yu(a);if(typeof s=="string"){const l=this.#e.get(s);l?l.push(a):this.#e.set(s,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const s=Yu(a);if(typeof s=="string"){const l=this.#e.get(s);if(l)if(l.length>1){const c=l.indexOf(a);c!==-1&&l.splice(c,1)}else l[0]===a&&this.#e.delete(s)}}this.notify({type:"removed",mutation:a})}canRun(a){const s=Yu(a);if(typeof s=="string"){const c=this.#e.get(s)?.find(d=>d.state.status==="pending");return!c||c===a}else return!0}runNext(a){const s=Yu(a);return typeof s=="string"?this.#e.get(s)?.find(c=>c!==a&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){en.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const s={exact:!0,...a};return this.getAll().find(l=>zy(s,l))}findAll(a={}){return this.getAll().filter(s=>zy(a,s))}notify(a){en.batch(()=>{this.listeners.forEach(s=>{s(a)})})}resumePausedMutations(){const a=this.getAll().filter(s=>s.state.isPaused);return en.batch(()=>Promise.all(a.map(s=>s.continue().catch(Wn))))}};function Yu(a){return a.options.scope?.id}var pT=class extends xc{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,s,l){const c=s.queryKey,d=s.queryHash??Vd(c,s);let p=this.get(d);return p||(p=new uT({client:a,queryKey:c,queryHash:d,options:a.defaultQueryOptions(s),state:l,defaultOptions:a.getQueryDefaults(c)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const s=this.#t.get(a.queryHash);s&&(a.destroy(),s===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){en.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const s={exact:!0,...a};return this.getAll().find(l=>Ay(s,l))}findAll(a={}){const s=this.getAll();return Object.keys(a).length>0?s.filter(l=>Ay(a,l)):s}notify(a){en.batch(()=>{this.listeners.forEach(s=>{s(a)})})}onFocus(){en.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},gT=class{#t;#e;#n;#a;#i;#r;#o;#s;constructor(a={}){this.#t=a.queryCache||new pT,this.#e=a.mutationCache||new mT,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=jv.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=sc.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),l=this.#t.build(this,s),c=l.state.data;return c===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(ed(s.staleTime,l))&&this.prefetchQuery(s),Promise.resolve(c))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:s,state:l})=>{const c=l.data;return[s,c]})}setQueryData(a,s,l){const c=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(c.queryHash)?.state.data,_=QE(s,p);if(_!==void 0)return this.#t.build(this,c).setData(_,{...l,manual:!0})}setQueriesData(a,s,l){return en.batch(()=>this.#t.findAll(a).map(({queryKey:c})=>[c,this.setQueryData(c,s,l)]))}getQueryState(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state}removeQueries(a){const s=this.#t;en.batch(()=>{s.findAll(a).forEach(l=>{s.remove(l)})})}resetQueries(a,s){const l=this.#t;return en.batch(()=>(l.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const l={revert:!0,...s},c=en.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(c).then(Wn).catch(Wn)}invalidateQueries(a,s={}){return en.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},s)))}refetchQueries(a,s={}){const l={...s,cancelRefetch:s.cancelRefetch??!0},c=en.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(Wn)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(c).then(Wn)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const l=this.#t.build(this,s);return l.isStaleByTime(ed(s.staleTime,l))?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(Wn).catch(Wn)}fetchInfiniteQuery(a){return a.behavior=Ny(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(Wn).catch(Wn)}ensureInfiniteQueryData(a){return a.behavior=Ny(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return sc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,s){this.#a.set(cl(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...this.#a.values()],l={};return s.forEach(c=>{fl(a,c.queryKey)&&Object.assign(l,c.defaultOptions)}),l}setMutationDefaults(a,s){this.#i.set(cl(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...this.#i.values()],l={};return s.forEach(c=>{fl(a,c.mutationKey)&&Object.assign(l,c.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const s={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=Vd(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Yd&&(s.enabled=!1),s}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},yT=it.createContext(void 0),vT=({client:a,children:s})=>(it.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),E.jsx(yT.Provider,{value:a,children:s}));const Kd=()=>{const a=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${a}px`)};Kd();window.addEventListener("resize",Kd);window.addEventListener("orientationchange",()=>{setTimeout(Kd,100)});const _T=new gT;db.createRoot(document.getElementById("root")).render(E.jsx(al.StrictMode,{children:E.jsx(vT,{client:_T,children:E.jsx(_S,{children:E.jsx(VE,{})})})}));
