(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))f(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&f(v)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function f(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function Wh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ph={exports:{}},Xo={};var Cg;function k_(){if(Cg)return Xo;Cg=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function l(f,d,p){var v=null;if(p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:f,key:v,ref:d!==void 0?d:null,props:p}}return Xo.Fragment=o,Xo.jsx=l,Xo.jsxs=l,Xo}var Mg;function H_(){return Mg||(Mg=1,ph.exports=k_()),ph.exports}var N=H_(),gh={exports:{}},Mt={};var Og;function j_(){if(Og)return Mt;Og=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=R&&A[R]||A["@@iterator"],typeof A=="function"?A:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,U={};function V(A,j,rt){this.props=A,this.context=j,this.refs=U,this.updater=rt||H}V.prototype.isReactComponent={},V.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},V.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function it(){}it.prototype=V.prototype;function $(A,j,rt){this.props=A,this.context=j,this.refs=U,this.updater=rt||H}var mt=$.prototype=new it;mt.constructor=$,M(mt,V.prototype),mt.isPureReactComponent=!0;var pt=Array.isArray;function st(){}var tt={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function vt(A,j,rt){var ot=rt.ref;return{$$typeof:a,type:A,key:j,ref:ot!==void 0?ot:null,props:rt}}function yt(A,j){return vt(A.type,j,A.props)}function lt(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function _t(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(rt){return j[rt]})}var zt=/\/+/g;function Lt(A,j){return typeof A=="object"&&A!==null&&A.key!=null?_t(""+A.key):j.toString(36)}function nt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(st,st):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function O(A,j,rt,ot,ct){var ft=typeof A;(ft==="undefined"||ft==="boolean")&&(A=null);var Tt=!1;if(A===null)Tt=!0;else switch(ft){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(A.$$typeof){case a:case o:Tt=!0;break;case T:return Tt=A._init,O(Tt(A._payload),j,rt,ot,ct)}}if(Tt)return ct=ct(A),Tt=ot===""?"."+Lt(A,0):ot,pt(ct)?(rt="",Tt!=null&&(rt=Tt.replace(zt,"$&/")+"/"),O(ct,j,rt,"",function(He){return He})):ct!=null&&(lt(ct)&&(ct=yt(ct,rt+(ct.key==null||A&&A.key===ct.key?"":(""+ct.key).replace(zt,"$&/")+"/")+Tt)),j.push(ct)),1;Tt=0;var Ft=ot===""?".":ot+":";if(pt(A))for(var qt=0;qt<A.length;qt++)ot=A[qt],ft=Ft+Lt(ot,qt),Tt+=O(ot,j,rt,ft,ct);else if(qt=q(A),typeof qt=="function")for(A=qt.call(A),qt=0;!(ot=A.next()).done;)ot=ot.value,ft=Ft+Lt(ot,qt++),Tt+=O(ot,j,rt,ft,ct);else if(ft==="object"){if(typeof A.then=="function")return O(nt(A),j,rt,ot,ct);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Q(A,j,rt){if(A==null)return A;var ot=[],ct=0;return O(A,ot,"","",function(ft){return j.call(rt,ft,ct++)}),ot}function X(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(rt){(A._status===0||A._status===-1)&&(A._status=1,A._result=rt)},function(rt){(A._status===0||A._status===-1)&&(A._status=2,A._result=rt)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var ht=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},et={map:Q,forEach:function(A,j,rt){Q(A,function(){j.apply(this,arguments)},rt)},count:function(A){var j=0;return Q(A,function(){j++}),j},toArray:function(A){return Q(A,function(j){return j})||[]},only:function(A){if(!lt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Mt.Activity=S,Mt.Children=et,Mt.Component=V,Mt.Fragment=l,Mt.Profiler=d,Mt.PureComponent=$,Mt.StrictMode=f,Mt.Suspense=_,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return tt.H.useMemoCache(A)}},Mt.cache=function(A){return function(){return A.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(A,j,rt){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ot=M({},A.props),ct=A.key;if(j!=null)for(ft in j.key!==void 0&&(ct=""+j.key),j)!at.call(j,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&j.ref===void 0||(ot[ft]=j[ft]);var ft=arguments.length-2;if(ft===1)ot.children=rt;else if(1<ft){for(var Tt=Array(ft),Ft=0;Ft<ft;Ft++)Tt[Ft]=arguments[Ft+2];ot.children=Tt}return vt(A.type,ct,ot)},Mt.createContext=function(A){return A={$$typeof:v,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:p,_context:A},A},Mt.createElement=function(A,j,rt){var ot,ct={},ft=null;if(j!=null)for(ot in j.key!==void 0&&(ft=""+j.key),j)at.call(j,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ct[ot]=j[ot]);var Tt=arguments.length-2;if(Tt===1)ct.children=rt;else if(1<Tt){for(var Ft=Array(Tt),qt=0;qt<Tt;qt++)Ft[qt]=arguments[qt+2];ct.children=Ft}if(A&&A.defaultProps)for(ot in Tt=A.defaultProps,Tt)ct[ot]===void 0&&(ct[ot]=Tt[ot]);return vt(A,ft,ct)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(A){return{$$typeof:b,render:A}},Mt.isValidElement=lt,Mt.lazy=function(A){return{$$typeof:T,_payload:{_status:-1,_result:A},_init:X}},Mt.memo=function(A,j){return{$$typeof:x,type:A,compare:j===void 0?null:j}},Mt.startTransition=function(A){var j=tt.T,rt={};tt.T=rt;try{var ot=A(),ct=tt.S;ct!==null&&ct(rt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(st,ht)}catch(ft){ht(ft)}finally{j!==null&&rt.types!==null&&(j.types=rt.types),tt.T=j}},Mt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Mt.use=function(A){return tt.H.use(A)},Mt.useActionState=function(A,j,rt){return tt.H.useActionState(A,j,rt)},Mt.useCallback=function(A,j){return tt.H.useCallback(A,j)},Mt.useContext=function(A){return tt.H.useContext(A)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(A,j){return tt.H.useDeferredValue(A,j)},Mt.useEffect=function(A,j){return tt.H.useEffect(A,j)},Mt.useEffectEvent=function(A){return tt.H.useEffectEvent(A)},Mt.useId=function(){return tt.H.useId()},Mt.useImperativeHandle=function(A,j,rt){return tt.H.useImperativeHandle(A,j,rt)},Mt.useInsertionEffect=function(A,j){return tt.H.useInsertionEffect(A,j)},Mt.useLayoutEffect=function(A,j){return tt.H.useLayoutEffect(A,j)},Mt.useMemo=function(A,j){return tt.H.useMemo(A,j)},Mt.useOptimistic=function(A,j){return tt.H.useOptimistic(A,j)},Mt.useReducer=function(A,j,rt){return tt.H.useReducer(A,j,rt)},Mt.useRef=function(A){return tt.H.useRef(A)},Mt.useState=function(A){return tt.H.useState(A)},Mt.useSyncExternalStore=function(A,j,rt){return tt.H.useSyncExternalStore(A,j,rt)},Mt.useTransition=function(){return tt.H.useTransition()},Mt.version="19.2.3",Mt}var Ng;function $h(){return Ng||(Ng=1,gh.exports=j_()),gh.exports}var dt=$h();const Pu=Wh(dt);var yh={exports:{}},Io={},vh={exports:{}},_h={};var Bg;function Z_(){return Bg||(Bg=1,(function(a){function o(O,Q){var X=O.length;O.push(Q);t:for(;0<X;){var ht=X-1>>>1,et=O[ht];if(0<d(et,Q))O[ht]=Q,O[X]=et,X=ht;else break t}}function l(O){return O.length===0?null:O[0]}function f(O){if(O.length===0)return null;var Q=O[0],X=O.pop();if(X!==Q){O[0]=X;t:for(var ht=0,et=O.length,A=et>>>1;ht<A;){var j=2*(ht+1)-1,rt=O[j],ot=j+1,ct=O[ot];if(0>d(rt,X))ot<et&&0>d(ct,rt)?(O[ht]=ct,O[ot]=X,ht=ot):(O[ht]=rt,O[j]=X,ht=j);else if(ot<et&&0>d(ct,X))O[ht]=ct,O[ot]=X,ht=ot;else break t}}return Q}function d(O,Q){var X=O.sortIndex-Q.sortIndex;return X!==0?X:O.id-Q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var v=Date,b=v.now();a.unstable_now=function(){return v.now()-b}}var _=[],x=[],T=1,S=null,R=3,q=!1,H=!1,M=!1,U=!1,V=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function mt(O){for(var Q=l(x);Q!==null;){if(Q.callback===null)f(x);else if(Q.startTime<=O)f(x),Q.sortIndex=Q.expirationTime,o(_,Q);else break;Q=l(x)}}function pt(O){if(M=!1,mt(O),!H)if(l(_)!==null)H=!0,st||(st=!0,_t());else{var Q=l(x);Q!==null&&nt(pt,Q.startTime-O)}}var st=!1,tt=-1,at=5,vt=-1;function yt(){return U?!0:!(a.unstable_now()-vt<at)}function lt(){if(U=!1,st){var O=a.unstable_now();vt=O;var Q=!0;try{t:{H=!1,M&&(M=!1,it(tt),tt=-1),q=!0;var X=R;try{e:{for(mt(O),S=l(_);S!==null&&!(S.expirationTime>O&&yt());){var ht=S.callback;if(typeof ht=="function"){S.callback=null,R=S.priorityLevel;var et=ht(S.expirationTime<=O);if(O=a.unstable_now(),typeof et=="function"){S.callback=et,mt(O),Q=!0;break e}S===l(_)&&f(_),mt(O)}else f(_);S=l(_)}if(S!==null)Q=!0;else{var A=l(x);A!==null&&nt(pt,A.startTime-O),Q=!1}}break t}finally{S=null,R=X,q=!1}Q=void 0}}finally{Q?_t():st=!1}}}var _t;if(typeof $=="function")_t=function(){$(lt)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Lt=zt.port2;zt.port1.onmessage=lt,_t=function(){Lt.postMessage(null)}}else _t=function(){V(lt,0)};function nt(O,Q){tt=V(function(){O(a.unstable_now())},Q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):at=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(O){switch(R){case 1:case 2:case 3:var Q=3;break;default:Q=R}var X=R;R=Q;try{return O()}finally{R=X}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=R;R=O;try{return Q()}finally{R=X}},a.unstable_scheduleCallback=function(O,Q,X){var ht=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ht+X:ht):X=ht,O){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=X+et,O={id:T++,callback:Q,priorityLevel:O,startTime:X,expirationTime:et,sortIndex:-1},X>ht?(O.sortIndex=X,o(x,O),l(_)===null&&O===l(x)&&(M?(it(tt),tt=-1):M=!0,nt(pt,X-ht))):(O.sortIndex=et,o(_,O),H||q||(H=!0,st||(st=!0,_t()))),O},a.unstable_shouldYield=yt,a.unstable_wrapCallback=function(O){var Q=R;return function(){var X=R;R=Q;try{return O.apply(this,arguments)}finally{R=X}}}})(_h)),_h}var Rg;function q_(){return Rg||(Rg=1,vh.exports=Z_()),vh.exports}var bh={exports:{}},qe={};var Dg;function P_(){if(Dg)return qe;Dg=1;var a=$h();function o(_){var x="https://react.dev/errors/"+_;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var f={d:{f:l,r:function(){throw Error(o(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(_,x,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:_,containerInfo:x,implementation:T}}var v=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(_,x){if(_==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,qe.createPortal=function(_,x){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(o(299));return p(_,x,null,T)},qe.flushSync=function(_){var x=v.T,T=f.p;try{if(v.T=null,f.p=2,_)return _()}finally{v.T=x,f.p=T,f.d.f()}},qe.preconnect=function(_,x){typeof _=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,f.d.C(_,x))},qe.prefetchDNS=function(_){typeof _=="string"&&f.d.D(_)},qe.preinit=function(_,x){if(typeof _=="string"&&x&&typeof x.as=="string"){var T=x.as,S=b(T,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,q=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;T==="style"?f.d.S(_,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:q}):T==="script"&&f.d.X(_,{crossOrigin:S,integrity:R,fetchPriority:q,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},qe.preinitModule=function(_,x){if(typeof _=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var T=b(x.as,x.crossOrigin);f.d.M(_,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&f.d.M(_)},qe.preload=function(_,x){if(typeof _=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var T=x.as,S=b(T,x.crossOrigin);f.d.L(_,T,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},qe.preloadModule=function(_,x){if(typeof _=="string")if(x){var T=b(x.as,x.crossOrigin);f.d.m(_,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else f.d.m(_)},qe.requestFormReset=function(_){f.d.r(_)},qe.unstable_batchedUpdates=function(_,x){return _(x)},qe.useFormState=function(_,x,T){return v.H.useFormState(_,x,T)},qe.useFormStatus=function(){return v.H.useHostTransitionStatus()},qe.version="19.2.3",qe}var Ug;function _y(){if(Ug)return bh.exports;Ug=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),bh.exports=P_(),bh.exports}var kg;function G_(){if(kg)return Io;kg=1;var a=q_(),o=$h(),l=_y();function f(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function v(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _(t){if(p(t)!==t)throw Error(f(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(f(188));return e!==t?null:t}for(var i=t,r=e;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return _(c),t;if(h===r)return _(c),e;h=h.sibling}throw Error(f(188))}if(i.return!==r.return)i=c,r=h;else{for(var y=!1,E=c.child;E;){if(E===i){y=!0,i=c,r=h;break}if(E===r){y=!0,r=c,i=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===i){y=!0,i=h,r=c;break}if(E===r){y=!0,r=h,i=c;break}E=E.sibling}if(!y)throw Error(f(189))}}if(i.alternate!==r)throw Error(f(190))}if(i.tag!==3)throw Error(f(188));return i.stateNode.current===i?t:e}function T(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=T(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),$=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),yt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function _t(t){return t===null||typeof t!="object"?null:(t=lt&&t[lt]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Symbol.for("react.client.reference");function Lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case pt:return"Suspense";case st:return"SuspenseList";case vt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case $:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case mt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tt:return e=t.displayName||null,e!==null?e:Lt(t.type)||"Memo";case at:e=t._payload,t=t._init;try{return Lt(t(e))}catch{}}return null}var nt=Array.isArray,O=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ht=[],et=-1;function A(t){return{current:t}}function j(t){0>et||(t.current=ht[et],ht[et]=null,et--)}function rt(t,e){et++,ht[et]=t.current,t.current=e}var ot=A(null),ct=A(null),ft=A(null),Tt=A(null);function Ft(t,e){switch(rt(ft,e),rt(ct,t),rt(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Wp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Wp(e),t=$p(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(ot),rt(ot,t)}function qt(){j(ot),j(ct),j(ft)}function He(t){t.memoizedState!==null&&rt(Tt,t);var e=ot.current,i=$p(e,t.type);e!==i&&(rt(ct,t),rt(ot,i))}function kn(t){ct.current===t&&(j(ot),j(ct)),Tt.current===t&&(j(Tt),Yo._currentValue=X)}var ye,dn;function We(t){if(ye===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ye=e&&e[1]||"",dn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+t+dn}var vi=!1;function _i(t,e){if(!t||vi)return"";vi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var Y=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){Y=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){Y=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var C=y.split(`
`),P=E.split(`
`);for(c=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(r===C.length||c===P.length)for(r=C.length-1,c=P.length-1;1<=r&&0<=c&&C[r]!==P[c];)c--;for(;1<=r&&0<=c;r--,c--)if(C[r]!==P[c]){if(r!==1||c!==1)do if(r--,c--,0>c||C[r]!==P[c]){var I=`
`+C[r].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=r&&0<=c);break}}}finally{vi=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?We(i):""}function qr(t,e){switch(t.tag){case 26:case 27:case 5:return We(t.type);case 16:return We("Lazy");case 13:return t.child!==e&&e!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return We("Activity");default:return""}}function Va(t){try{var e="",i=null;do e+=qr(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Pr=Object.prototype.hasOwnProperty,Ps=a.unstable_scheduleCallback,Ka=a.unstable_cancelCallback,ll=a.unstable_shouldYield,ul=a.unstable_requestPaint,Ke=a.unstable_now,gc=a.unstable_getCurrentPriorityLevel,Gs=a.unstable_ImmediatePriority,Gr=a.unstable_UserBlockingPriority,Qa=a.unstable_NormalPriority,yc=a.unstable_LowPriority,Yr=a.unstable_IdlePriority,cl=a.log,vc=a.unstable_setDisableYieldValue,$i=null,Ne=null;function Hn(t){if(typeof cl=="function"&&vc(t),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode($i,t)}catch{}}var Qe=Math.clz32?Math.clz32:bc,Xa=Math.log,_c=Math.LN2;function bc(t){return t>>>=0,t===0?32:31-(Xa(t)/_c|0)|0}var Ia=256,Ja=262144,Fa=4194304;function bi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ys(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~h,r!==0?c=bi(r):(y&=E,y!==0?c=bi(y):i||(i=E&~t,i!==0&&(c=bi(i))))):(E=r&~h,E!==0?c=bi(E):y!==0?c=bi(y):i||(i=r&~t,i!==0&&(c=bi(i)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:c}function Wa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function wc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var t=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),t}function Vr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function wi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xc(t,e,i,r,c,h){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(i=y&~i;0<i;){var I=31-Qe(i),W=1<<I;E[I]=0,C[I]=-1;var Y=P[I];if(Y!==null)for(P[I]=null,I=0;I<Y.length;I++){var K=Y[I];K!==null&&(K.lane&=-536870913)}i&=~W}r!==0&&hl(t,r,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~e))}function hl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Qe(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function dl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Qe(i),c=1<<r;c&e|t[r]&e&&(t[r]|=e),i&=~c}}function ml(t,e){var i=e&-e;return i=(i&42)!==0?1:$e(i),(i&(t.suspendedLanes|e))!==0?0:i}function $e(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kr(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:xg(t.type))}function Qr(t,e){var i=Q.p;try{return Q.p=t,e()}finally{Q.p=i}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,ze="__reactProps$"+jn,xi="__reactContainer$"+jn,Fn="__reactEvents$"+jn,pl="__reactListeners$"+jn,Ec="__reactHandles$"+jn,gl="__reactResources$"+jn,$a="__reactMarker$"+jn;function Xr(t){delete t[ve],delete t[ze],delete t[Fn],delete t[pl],delete t[Ec]}function Ei(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[xi]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=rg(t);t!==null;){if(i=t[ve])return i;t=rg(t)}return e}t=i,i=t.parentNode}return null}function ta(t){if(t=t[ve]||t[xi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(f(33))}function ea(t){var e=t[gl];return e||(e=t[gl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _e(t){t[$a]=!0}var yl=new Set,vl={};function Si(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(vl[t]=e,t=0;t<e.length;t++)yl.add(e[t])}var ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Jr={};function es(t){return Pr.call(Jr,t)?!0:Pr.call(Ir,t)?!1:ts.test(t)?Jr[t]=!0:(Ir[t]=!0,!1)}function Rt(t,e,i){if(es(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Wt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function tn(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Se(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ti(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fr(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(y){i=""+y,h.call(this,y)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ct(t){if(!t._valueTracker){var e=Ti(t)?"checked":"value";t._valueTracker=Fr(t,e,""+t[e])}}function oe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=Ti(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function ae(t){return t.replace(Vs,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wr(t,e,i,r,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Se(e)):t.value!==""+Se(e)&&(t.value=""+Se(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?Zn(t,y,Se(e)):i!=null?Zn(t,y,Se(i)):r!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Se(E):t.removeAttribute("name")}function ns(t,e,i,r,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Ct(t);return}i=i!=null?""+Se(i):"",e=e!=null?""+Se(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ct(t)}function Zn(t,e,i){e==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ne(t,e,i,r){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Se(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function ti(t,e,i){if(e!=null&&(e=""+Se(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Se(i):""}function ia(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(f(92));if(nt(r)){if(1<r.length)throw Error(f(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Se(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),Ct(t)}function En(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aa(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||$r.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Ks(t,e,i){if(e!=null&&typeof e!="object")throw Error(f(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in e)r=e[c],e.hasOwnProperty(c)&&i[c]!==r&&aa(t,c,r)}else for(var h in e)e.hasOwnProperty(h)&&aa(t,h,e[h])}function is(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return to.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function en(){}var Xs=null;function as(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,At=null;function mn(t){var e=ta(t);if(e&&(t=e.stateNode)){var i=t[ze]||null;t:switch(t=e.stateNode,e.type){case"input":if(Wr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ae(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var c=r[ze]||null;if(!c)throw Error(f(90));Wr(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&oe(r)}break t;case"textarea":ti(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ne(t,!!i.multiple,e,!1)}}}var Xt=!1;function eo(t,e,i){if(Xt)return t(e,i);Xt=!0;try{var r=t(e);return r}finally{if(Xt=!1,(ra!==null||At!==null)&&(mu(),ra&&(e=ra,t=At,At=ra=null,mn(e),t)))for(e=0;e<t.length;e++)mn(t[e])}}function Ai(t,e){var i=t.stateNode;if(i===null)return null;var r=i[ze]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(f(231,e,typeof i));return i}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ss=!1;if(pn)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){ss=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{ss=!1}var Sn=null,zi=null,ce=null;function ei(){if(ce)return ce;var t,e=zi,i=e.length,r,c="value"in Sn?Sn.value:Sn.textContent,h=c.length;for(t=0;t<i&&e[t]===c[t];t++);var y=i-t;for(r=1;r<=y&&e[i-r]===c[h-r];r++);return ce=c.slice(t,1<r?1-r:void 0)}function rs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function _l(){return!1}function Be(t){function e(i,r,c,h,y){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?os:_l,this.isPropagationStopped=_l,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),e}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Be(qn),oa=S({},qn,{view:0,detail:0}),Ht=Be(oa),no,Xe,Pn,ls=S({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pn&&(Pn&&t.type==="mousemove"?(no=t.screenX-Pn.screenX,Xe=t.screenY-Pn.screenY):Xe=no=0,Pn=t),no)},movementY:function(t){return"movementY"in t?t.movementY:Xe}}),bl=Be(ls),io=S({},ls,{dataTransfer:0}),Sc=Be(io),wl=S({},oa,{relatedTarget:0}),ao=Be(wl),Tc=S({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Be(Tc),Ac=S({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tn=Be(Ac),zc=S({},qn,{data:0}),ro=Be(zc),ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=El[t])?!!e[t]:!1}function lo(){return oo}var Sl=S({},oa,{key:function(t){if(t.key){var e=ni[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tl=Be(Sl),Lc=S({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Be(Lc),uo=S({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),Cc=Be(uo),zl=S({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ll=Be(zl),Js=S({},ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=Be(Js),Mc=S({},qn,{newState:0,oldState:0}),us=Be(Mc),nn=[9,13,27,32],Fs=pn&&"CompositionEvent"in window,la=null;pn&&"documentMode"in document&&(la=document.documentMode);var Oc=pn&&"TextEvent"in window&&!la,Ws=pn&&(!Fs||la&&8<la&&11>=la),$s=" ",Cl=!1;function Ml(t,e){switch(t){case"keyup":return nn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function yn(t,e){switch(t){case"compositionend":return co(e);case"keypress":return e.which!==32?null:(Cl=!0,$s);case"textInput":return t=e.data,t===$s&&Cl?null:t;default:return null}}function ca(t,e){if(ua)return t==="compositionend"||!Fs&&Ml(t,e)?(t=ei(),ce=zi=Sn=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ws&&e.locale!=="ko"?null:e.data;default:return null}}var Nc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nc[t.type]:e==="textarea"}function Ol(t,e,i,r){ra?At?At.push(r):At=[r]:ra=r,e=wu(e,"onChange"),0<e.length&&(i=new Is("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var zn=null,cs=null;function fs(t){Kp(t,0)}function hs(t){var e=Wn(t);if(oe(e))return t}function ds(t,e){if(t==="change")return e}var Nl=!1;if(pn){var Ln;if(pn){var fa="oninput"in document;if(!fa){var Bl=document.createElement("div");Bl.setAttribute("oninput","return;"),fa=typeof Bl.oninput=="function"}Ln=fa}else Ln=!1;Nl=Ln&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",Rl),cs=zn=null)}function Rl(t){if(t.propertyName==="value"&&hs(cs)){var e=[];Ol(e,cs,t,as(t)),eo(fs,e)}}function Gn(t,e,i){t==="focusin"?(tr(),zn=e,cs=i,zn.attachEvent("onpropertychange",Rl)):t==="focusout"&&tr()}function Bc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hs(cs)}function ha(t,e){if(t==="click")return hs(e)}function Rc(t,e){if(t==="input"||t==="change")return hs(e)}function Yn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Le=typeof Object.is=="function"?Object.is:Yn;function da(t,e){if(Le(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!Pr.call(e,c)||!Le(t[c],e[c]))return!1}return!0}function er(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ms(t,e){var i=er(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=er(i)}}function nr(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nr(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ps(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=na(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=na(t.document)}return e}function ii(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ir=pn&&"documentMode"in document&&11>=document.documentMode,ai=null,ar=null,gs=null,ma=!1;function Dl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ma||ai==null||ai!==na(r)||(r=ai,"selectionStart"in r&&ii(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&da(gs,r)||(gs=r,r=wu(ar,"onSelect"),0<r.length&&(e=new Is("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=ai)))}function si(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var pa={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},sr={},Ul={};pn&&(Ul=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Ce(t){if(sr[t])return sr[t];if(!pa[t])return t;var e=pa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Ul)return sr[t]=e[i];return t}var ys=Ce("animationend"),kl=Ce("animationiteration"),vs=Ce("animationstart"),Dc=Ce("transitionrun"),Hl=Ce("transitionstart"),Uc=Ce("transitioncancel"),ga=Ce("transitionend"),jl=new Map,ri="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ri.push("scrollEnd");function an(t,e){jl.set(t,e),Si(e,[t])}var _s=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},sn=[],je=0,rr=0;function bs(){for(var t=je,e=rr=je=0;e<t;){var i=sn[e];sn[e++]=null;var r=sn[e];sn[e++]=null;var c=sn[e];sn[e++]=null;var h=sn[e];if(sn[e++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}h!==0&&ya(i,c,h)}}function oi(t,e,i,r){sn[je++]=t,sn[je++]=e,sn[je++]=i,sn[je++]=r,rr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function fo(t,e,i,r){return oi(t,e,i,r),ws(t)}function Cn(t,e){return oi(t,null,null,e),ws(t)}function ya(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var c=!1,h=t.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-Qe(i),t=h.hiddenUpdates,r=t[c],r===null?t[c]=[e]:r.push(e),e.lane=i|536870912),h):null}function ws(t){if(50<ko)throw ko=0,jf=null,Error(f(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ci={};function kc(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,i,r){return new kc(t,e,i,r)}function or(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,e){var i=t.alternate;return i===null?(i=Ze(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ho(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function xs(t,e,i,r,c,h){var y=0;if(r=t,typeof t=="function")or(t)&&(y=1);else if(typeof t=="string")y=T_(t,i,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case vt:return t=Ze(31,i,e,c),t.elementType=vt,t.lanes=h,t;case M:return Mi(i.children,c,h,e);case U:y=8,c|=24;break;case V:return t=Ze(12,i,e,c|2),t.elementType=V,t.lanes=h,t;case pt:return t=Ze(13,i,e,c),t.elementType=pt,t.lanes=h,t;case st:return t=Ze(19,i,e,c),t.elementType=st,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:y=10;break t;case it:y=9;break t;case mt:y=11;break t;case tt:y=14;break t;case at:y=16,r=null;break t}y=29,i=Error(f(130,t===null?"null":typeof t,"")),r=null}return e=Ze(y,i,e,c),e.elementType=t,e.type=r,e.lanes=h,e}function Mi(t,e,i,r){return t=Ze(7,t,r,e),t.lanes=i,t}function lr(t,e,i){return t=Ze(6,t,null,e),t.lanes=i,t}function mo(t){var e=Ze(18,null,null,0);return e.stateNode=t,e}function po(t,e,i){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Va(e)},n.set(t,e),e)}return{value:t,source:e,stack:Va(e)}}var u=[],m=0,g=null,w=0,z=[],k=0,G=null,F=1,ut="";function xt(t,e){u[m++]=w,u[m++]=g,g=t,w=e}function Nt(t,e,i){z[k++]=F,z[k++]=ut,z[k++]=G,G=t;var r=F;t=ut;var c=32-Qe(r)-1;r&=~(1<<c),i+=1;var h=32-Qe(e)+c;if(30<h){var y=c-c%5;h=(r&(1<<y)-1).toString(32),r>>=y,c-=y,F=1<<32-Qe(e)+c|i<<c|r,ut=h+t}else F=1<<h|i<<c|r,ut=t}function Te(t){t.return!==null&&(xt(t,1),Nt(t,1,0))}function fe(t){for(;t===g;)g=u[--m],u[m]=null,w=u[--m],u[m]=null;for(;t===G;)G=z[--k],z[k]=null,ut=z[--k],z[k]=null,F=z[--k],z[k]=null}function Ie(t,e){z[k++]=F,z[k++]=ut,z[k++]=G,F=e.id,ut=e.overflow,G=t}var Pt=null,Gt=null,Dt=!1,li=null,rn=!1,ur=Error(f(519));function ui(t){var e=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Es(s(e,t)),ur}function go(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[ve]=t,e[ze]=r,i){case"dialog":kt("cancel",e),kt("close",e);break;case"iframe":case"object":case"embed":kt("load",e);break;case"video":case"audio":for(i=0;i<jo.length;i++)kt(jo[i],e);break;case"source":kt("error",e);break;case"img":case"image":case"link":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"input":kt("invalid",e),ns(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":kt("invalid",e);break;case"textarea":kt("invalid",e),ia(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||Jp(e.textContent,i)?(r.popover!=null&&(kt("beforetoggle",e),kt("toggle",e)),r.onScroll!=null&&kt("scroll",e),r.onScrollEnd!=null&&kt("scrollend",e),r.onClick!=null&&(e.onclick=en),e=!0):e=!1,e||ui(t,!0)}function ue(t){for(Pt=t.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:Pt=Pt.return}}function Vn(t){if(t!==Pt)return!1;if(!Dt)return ue(t),Dt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||th(t.type,t.memoizedProps)),i=!i),i&&Gt&&ui(t),ue(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));Gt=sg(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));Gt=sg(t)}else e===27?(e=Gt,Oa(t.type)?(t=sh,sh=null,Gt=t):Gt=e):Gt=Pt?Nn(t.stateNode.nextSibling):null;return!0}function Oi(){Gt=Pt=null,Dt=!1}function yo(){var t=li;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),li=null),t}function Es(t){li===null?li=[t]:li.push(t)}var Ss=A(null),ci=null,Kn=null;function va(t,e,i){rt(Ss,e._currentValue),e._currentValue=i}function Ni(t){t._currentValue=Ss.current,j(Ss)}function Hc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function jc(t,e,i,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var C=0;C<e.length;C++)if(E.context===e[C]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Hc(h.return,i,t),r||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(f(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),Hc(y,i,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cr(t,e,i,r){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(f(387));if(y=y.memoizedProps,y!==null){var E=c.type;Le(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Tt.current){if(y=c.alternate,y===null)throw Error(f(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Yo):t=[Yo])}c=c.return}t!==null&&jc(e,t,i,r),e.flags|=262144}function Zl(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ts(t){ci=t,Kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Re(t){return Dd(ci,t)}function ql(t,e){return ci===null&&Ts(t),Dd(t,e)}function Dd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Kn===null){if(t===null)throw Error(f(308));Kn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Kn=Kn.next=e;return i}var w0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},x0=a.unstable_scheduleCallback,E0=a.unstable_NormalPriority,be={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new w0,data:new Map,refCount:0}}function vo(t){t.refCount--,t.refCount===0&&x0(E0,function(){t.controller.abort()})}var _o=null,qc=0,fr=0,hr=null;function S0(t,e){if(_o===null){var i=_o=[];qc=0,fr=Vf(),hr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return qc++,e.then(Ud,Ud),e}function Ud(){if(--qc===0&&_o!==null){hr!==null&&(hr.status="fulfilled");var t=_o;_o=null,fr=0,hr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function T0(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var kd=O.S;O.S=function(t,e){bp=Ke(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&S0(t,e),kd!==null&&kd(t,e)};var As=A(null);function Pc(){var t=As.current;return t!==null?t:ie.pooledCache}function Pl(t,e){e===null?rt(As,As.current):rt(As,e.pool)}function Hd(){var t=Pc();return t===null?null:{parent:be._currentValue,pool:t}}var dr=Error(f(460)),Gc=Error(f(474)),Gl=Error(f(542)),Yl={then:function(){}};function jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(en,en),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Pd(t),t;default:if(typeof e.status=="string")e.then(en,en);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(f(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=r}},function(r){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Pd(t),t}throw Ls=e,dr}}function zs(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ls=i,dr):i}}var Ls=null;function qd(){if(Ls===null)throw Error(f(459));var t=Ls;return Ls=null,t}function Pd(t){if(t===dr||t===Gl)throw Error(f(483))}var mr=null,bo=0;function Vl(t){var e=bo;return bo+=1,mr===null&&(mr=[]),Zd(mr,t,e)}function wo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Kl(t,e){throw e.$$typeof===R?Error(f(525)):(t=Object.prototype.toString.call(e),Error(f(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Gd(t){function e(D,B){if(t){var Z=D.deletions;Z===null?(D.deletions=[B],D.flags|=16):Z.push(B)}}function i(D,B){if(!t)return null;for(;B!==null;)e(D,B),B=B.sibling;return null}function r(D){for(var B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function c(D,B){return D=Mn(D,B),D.index=0,D.sibling=null,D}function h(D,B,Z){return D.index=Z,t?(Z=D.alternate,Z!==null?(Z=Z.index,Z<B?(D.flags|=67108866,B):Z):(D.flags|=67108866,B)):(D.flags|=1048576,B)}function y(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function E(D,B,Z,J){return B===null||B.tag!==6?(B=lr(Z,D.mode,J),B.return=D,B):(B=c(B,Z),B.return=D,B)}function C(D,B,Z,J){var Et=Z.type;return Et===M?I(D,B,Z.props.children,J,Z.key):B!==null&&(B.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===at&&zs(Et)===B.type)?(B=c(B,Z.props),wo(B,Z),B.return=D,B):(B=xs(Z.type,Z.key,Z.props,null,D.mode,J),wo(B,Z),B.return=D,B)}function P(D,B,Z,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=po(Z,D.mode,J),B.return=D,B):(B=c(B,Z.children||[]),B.return=D,B)}function I(D,B,Z,J,Et){return B===null||B.tag!==7?(B=Mi(Z,D.mode,J,Et),B.return=D,B):(B=c(B,Z),B.return=D,B)}function W(D,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=lr(""+B,D.mode,Z),B.return=D,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case q:return Z=xs(B.type,B.key,B.props,null,D.mode,Z),wo(Z,B),Z.return=D,Z;case H:return B=po(B,D.mode,Z),B.return=D,B;case at:return B=zs(B),W(D,B,Z)}if(nt(B)||_t(B))return B=Mi(B,D.mode,Z,null),B.return=D,B;if(typeof B.then=="function")return W(D,Vl(B),Z);if(B.$$typeof===$)return W(D,ql(D,B),Z);Kl(D,B)}return null}function Y(D,B,Z,J){var Et=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Et!==null?null:E(D,B,""+Z,J);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return Z.key===Et?C(D,B,Z,J):null;case H:return Z.key===Et?P(D,B,Z,J):null;case at:return Z=zs(Z),Y(D,B,Z,J)}if(nt(Z)||_t(Z))return Et!==null?null:I(D,B,Z,J,null);if(typeof Z.then=="function")return Y(D,B,Vl(Z),J);if(Z.$$typeof===$)return Y(D,B,ql(D,Z),J);Kl(D,Z)}return null}function K(D,B,Z,J,Et){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return D=D.get(Z)||null,E(B,D,""+J,Et);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return D=D.get(J.key===null?Z:J.key)||null,C(B,D,J,Et);case H:return D=D.get(J.key===null?Z:J.key)||null,P(B,D,J,Et);case at:return J=zs(J),K(D,B,Z,J,Et)}if(nt(J)||_t(J))return D=D.get(Z)||null,I(B,D,J,Et,null);if(typeof J.then=="function")return K(D,B,Z,Vl(J),Et);if(J.$$typeof===$)return K(D,B,Z,ql(B,J),Et);Kl(B,J)}return null}function gt(D,B,Z,J){for(var Et=null,Yt=null,bt=B,Bt=B=0,Zt=null;bt!==null&&Bt<Z.length;Bt++){bt.index>Bt?(Zt=bt,bt=null):Zt=bt.sibling;var Vt=Y(D,bt,Z[Bt],J);if(Vt===null){bt===null&&(bt=Zt);break}t&&bt&&Vt.alternate===null&&e(D,bt),B=h(Vt,B,Bt),Yt===null?Et=Vt:Yt.sibling=Vt,Yt=Vt,bt=Zt}if(Bt===Z.length)return i(D,bt),Dt&&xt(D,Bt),Et;if(bt===null){for(;Bt<Z.length;Bt++)bt=W(D,Z[Bt],J),bt!==null&&(B=h(bt,B,Bt),Yt===null?Et=bt:Yt.sibling=bt,Yt=bt);return Dt&&xt(D,Bt),Et}for(bt=r(bt);Bt<Z.length;Bt++)Zt=K(bt,D,Bt,Z[Bt],J),Zt!==null&&(t&&Zt.alternate!==null&&bt.delete(Zt.key===null?Bt:Zt.key),B=h(Zt,B,Bt),Yt===null?Et=Zt:Yt.sibling=Zt,Yt=Zt);return t&&bt.forEach(function(Ua){return e(D,Ua)}),Dt&&xt(D,Bt),Et}function St(D,B,Z,J){if(Z==null)throw Error(f(151));for(var Et=null,Yt=null,bt=B,Bt=B=0,Zt=null,Vt=Z.next();bt!==null&&!Vt.done;Bt++,Vt=Z.next()){bt.index>Bt?(Zt=bt,bt=null):Zt=bt.sibling;var Ua=Y(D,bt,Vt.value,J);if(Ua===null){bt===null&&(bt=Zt);break}t&&bt&&Ua.alternate===null&&e(D,bt),B=h(Ua,B,Bt),Yt===null?Et=Ua:Yt.sibling=Ua,Yt=Ua,bt=Zt}if(Vt.done)return i(D,bt),Dt&&xt(D,Bt),Et;if(bt===null){for(;!Vt.done;Bt++,Vt=Z.next())Vt=W(D,Vt.value,J),Vt!==null&&(B=h(Vt,B,Bt),Yt===null?Et=Vt:Yt.sibling=Vt,Yt=Vt);return Dt&&xt(D,Bt),Et}for(bt=r(bt);!Vt.done;Bt++,Vt=Z.next())Vt=K(bt,D,Bt,Vt.value,J),Vt!==null&&(t&&Vt.alternate!==null&&bt.delete(Vt.key===null?Bt:Vt.key),B=h(Vt,B,Bt),Yt===null?Et=Vt:Yt.sibling=Vt,Yt=Vt);return t&&bt.forEach(function(U_){return e(D,U_)}),Dt&&xt(D,Bt),Et}function ee(D,B,Z,J){if(typeof Z=="object"&&Z!==null&&Z.type===M&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:t:{for(var Et=Z.key;B!==null;){if(B.key===Et){if(Et=Z.type,Et===M){if(B.tag===7){i(D,B.sibling),J=c(B,Z.props.children),J.return=D,D=J;break t}}else if(B.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===at&&zs(Et)===B.type){i(D,B.sibling),J=c(B,Z.props),wo(J,Z),J.return=D,D=J;break t}i(D,B);break}else e(D,B);B=B.sibling}Z.type===M?(J=Mi(Z.props.children,D.mode,J,Z.key),J.return=D,D=J):(J=xs(Z.type,Z.key,Z.props,null,D.mode,J),wo(J,Z),J.return=D,D=J)}return y(D);case H:t:{for(Et=Z.key;B!==null;){if(B.key===Et)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){i(D,B.sibling),J=c(B,Z.children||[]),J.return=D,D=J;break t}else{i(D,B);break}else e(D,B);B=B.sibling}J=po(Z,D.mode,J),J.return=D,D=J}return y(D);case at:return Z=zs(Z),ee(D,B,Z,J)}if(nt(Z))return gt(D,B,Z,J);if(_t(Z)){if(Et=_t(Z),typeof Et!="function")throw Error(f(150));return Z=Et.call(Z),St(D,B,Z,J)}if(typeof Z.then=="function")return ee(D,B,Vl(Z),J);if(Z.$$typeof===$)return ee(D,B,ql(D,Z),J);Kl(D,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(i(D,B.sibling),J=c(B,Z),J.return=D,D=J):(i(D,B),J=lr(Z,D.mode,J),J.return=D,D=J),y(D)):i(D,B)}return function(D,B,Z,J){try{bo=0;var Et=ee(D,B,Z,J);return mr=null,Et}catch(bt){if(bt===dr||bt===Gl)throw bt;var Yt=Ze(29,bt,null,D.mode);return Yt.lanes=J,Yt.return=D,Yt}}}var Cs=Gd(!0),Yd=Gd(!1),_a=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wa(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Qt&2)!==0){var c=r.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),r.pending=e,e=ws(t),ya(t,null,i),e}return oi(t,r,e,i),ws(t)}function xo(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,dl(t,i)}}function Kc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?c=h=e:h=h.next=e}else c=h=e;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Qc=!1;function Eo(){if(Qc){var t=hr;if(t!==null)throw t}}function So(t,e,i,r){Qc=!1;var c=t.updateQueue;_a=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,P=C.next;C.next=null,y===null?h=P:y.next=P,y=C;var I=t.alternate;I!==null&&(I=I.updateQueue,E=I.lastBaseUpdate,E!==y&&(E===null?I.firstBaseUpdate=P:E.next=P,I.lastBaseUpdate=C))}if(h!==null){var W=c.baseState;y=0,I=P=C=null,E=h;do{var Y=E.lane&-536870913,K=Y!==E.lane;if(K?(jt&Y)===Y:(r&Y)===Y){Y!==0&&Y===fr&&(Qc=!0),I!==null&&(I=I.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,St=E;Y=e;var ee=i;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){W=gt.call(ee,W,Y);break t}W=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,Y=typeof gt=="function"?gt.call(ee,W,Y):gt,Y==null)break t;W=S({},W,Y);break t;case 2:_a=!0}}Y=E.callback,Y!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},I===null?(P=I=K,C=W):I=I.next=K,y|=Y;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;K=E,E=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);I===null&&(C=W),c.baseState=C,c.firstBaseUpdate=P,c.lastBaseUpdate=I,h===null&&(c.shared.lanes=0),Aa|=y,t.lanes=y,t.memoizedState=W}}function Vd(t,e){if(typeof t!="function")throw Error(f(191,t));t.call(e)}function Kd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Vd(i[t],e)}var pr=A(null),Ql=A(0);function Qd(t,e){t=qi,rt(Ql,t),rt(pr,e),qi=t|e.baseLanes}function Xc(){rt(Ql,qi),rt(pr,pr.current)}function Ic(){qi=Ql.current,j(pr),j(Ql)}var vn=A(null),On=null;function xa(t){var e=t.alternate;rt(me,me.current&1),rt(vn,t),On===null&&(e===null||pr.current!==null||e.memoizedState!==null)&&(On=t)}function Jc(t){rt(me,me.current),rt(vn,t),On===null&&(On=t)}function Xd(t){t.tag===22?(rt(me,me.current),rt(vn,t),On===null&&(On=t)):Ea()}function Ea(){rt(me,me.current),rt(vn,vn.current)}function _n(t){j(vn),On===t&&(On=null),j(me)}var me=A(0);function Xl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ih(i)||ah(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bi=0,Ot=null,$t=null,we=null,Il=!1,gr=!1,Ms=!1,Jl=0,To=0,yr=null,A0=0;function he(){throw Error(f(321))}function Fc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Le(t[i],e[i]))return!1;return!0}function Wc(t,e,i,r,c,h){return Bi=h,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O.H=t===null||t.memoizedState===null?Om:mf,Ms=!1,h=i(r,c),Ms=!1,gr&&(h=Jd(e,i,r,c)),Id(t),h}function Id(t){O.H=Lo;var e=$t!==null&&$t.next!==null;if(Bi=0,we=$t=Ot=null,Il=!1,To=0,yr=null,e)throw Error(f(300));t===null||xe||(t=t.dependencies,t!==null&&Zl(t)&&(xe=!0))}function Jd(t,e,i,r){Ot=t;var c=0;do{if(gr&&(yr=null),To=0,gr=!1,25<=c)throw Error(f(301));if(c+=1,we=$t=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=Nm,h=e(i,r)}while(gr);return h}function z0(){var t=O.H,e=t.useState()[0];return e=typeof e.then=="function"?Ao(e):e,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Ot.flags|=1024),e}function $c(){var t=Jl!==0;return Jl=0,t}function tf(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function ef(t){if(Il){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Il=!1}Bi=0,we=$t=Ot=null,gr=!1,To=Jl=0,yr=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=t:we=we.next=t,we}function pe(){if($t===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=we===null?Ot.memoizedState:we.next;if(e!==null)we=e,$t=t;else{if(t===null)throw Ot.alternate===null?Error(f(467)):Error(f(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?Ot.memoizedState=we=t:we=we.next=t}return we}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(t){var e=To;return To+=1,yr===null&&(yr=[]),t=Zd(yr,t,e),e=Ot,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,O.H=e===null||e.memoizedState===null?Om:mf),t}function Wl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ao(t);if(t.$$typeof===$)return Re(t)}throw Error(f(438,String(t)))}function nf(t){var e=null,i=Ot.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Ot.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Fl(),Ot.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=yt;return e.index++,i}function Ri(t,e){return typeof e=="function"?e(t):e}function $l(t){var e=pe();return af(e,$t,t)}function af(t,e,i){var r=t.queue;if(r===null)throw Error(f(311));r.lastRenderedReducer=i;var c=t.baseQueue,h=r.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}e.baseQueue=c=h,r.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var E=y=null,C=null,P=e,I=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(jt&W)===W:(Bi&W)===W){var Y=P.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===fr&&(I=!0);else if((Bi&Y)===Y){P=P.next,Y===fr&&(I=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=W,y=h):C=C.next=W,Ot.lanes|=Y,Aa|=Y;W=P.action,Ms&&i(h,W),h=P.hasEagerState?P.eagerState:i(h,W)}else Y={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Y,y=h):C=C.next=Y,Ot.lanes|=W,Aa|=W;P=P.next}while(P!==null&&P!==e);if(C===null?y=h:C.next=E,!Le(h,t.memoizedState)&&(xe=!0,I&&(i=hr,i!==null)))throw i;t.memoizedState=h,t.baseState=y,t.baseQueue=C,r.lastRenderedState=h}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function sf(t){var e=pe(),i=e.queue;if(i===null)throw Error(f(311));i.lastRenderedReducer=t;var r=i.dispatch,c=i.pending,h=e.memoizedState;if(c!==null){i.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);Le(h,e.memoizedState)||(xe=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,r]}function Fd(t,e,i){var r=Ot,c=pe(),h=Dt;if(h){if(i===void 0)throw Error(f(407));i=i()}else i=e();var y=!Le(($t||c).memoizedState,i);if(y&&(c.memoizedState=i,xe=!0),c=c.queue,lf(tm.bind(null,r,c,t),[t]),c.getSnapshot!==e||y||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,vr(9,{destroy:void 0},$d.bind(null,r,c,i,e),null),ie===null)throw Error(f(349));h||(Bi&127)!==0||Wd(r,e,i)}return i}function Wd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ot.updateQueue,e===null?(e=Fl(),Ot.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function $d(t,e,i,r){e.value=i,e.getSnapshot=r,em(e)&&nm(t)}function tm(t,e,i){return i(function(){em(e)&&nm(t)})}function em(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Le(t,i)}catch{return!0}}function nm(t){var e=Cn(t,2);e!==null&&fn(e,t,2)}function rf(t){var e=Je();if(typeof t=="function"){var i=t;if(t=i(),Ms){Hn(!0);try{i()}finally{Hn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},e}function im(t,e,i,r){return t.baseState=i,af(t,$t,typeof r=="function"?r:Ri)}function L0(t,e,i,r,c){if(nu(t))throw Error(f(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};O.T!==null?i(!0):h.isTransition=!1,r(h),i=e.pending,i===null?(h.next=e.pending=h,am(e,h)):(h.next=i.next,e.pending=i.next=h)}}function am(t,e){var i=e.action,r=e.payload,c=t.state;if(e.isTransition){var h=O.T,y={};O.T=y;try{var E=i(c,r),C=O.S;C!==null&&C(y,E),sm(t,e,E)}catch(P){of(t,e,P)}finally{h!==null&&y.types!==null&&(h.types=y.types),O.T=h}}else try{h=i(c,r),sm(t,e,h)}catch(P){of(t,e,P)}}function sm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){rm(t,e,r)},function(r){return of(t,e,r)}):rm(t,e,i)}function rm(t,e,i){e.status="fulfilled",e.value=i,om(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,am(t,i)))}function of(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,om(e),e=e.next;while(e!==r)}t.action=null}function om(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function lm(t,e){return e}function um(t,e){if(Dt){var i=ie.formState;if(i!==null){t:{var r=Ot;if(Dt){if(Gt){e:{for(var c=Gt,h=rn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Gt=Nn(c.nextSibling),r=c.data==="F!";break t}}ui(r)}r=!1}r&&(e=i[0])}}return i=Je(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:e},i.queue=r,i=Lm.bind(null,Ot,r),r.dispatch=i,r=rf(!1),h=df.bind(null,Ot,!1,r.queue),r=Je(),c={state:e,dispatch:null,action:t,pending:null},r.queue=c,i=L0.bind(null,Ot,c,h,i),c.dispatch=i,r.memoizedState=t,[e,i,!1]}function cm(t){var e=pe();return fm(e,$t,t)}function fm(t,e,i){if(e=af(t,e,lm)[0],t=$l(Ri)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Ao(e)}catch(y){throw y===dr?Gl:y}else r=e;e=pe();var c=e.queue,h=c.dispatch;return i!==e.memoizedState&&(Ot.flags|=2048,vr(9,{destroy:void 0},C0.bind(null,c,i),null)),[r,h,t]}function C0(t,e){t.action=e}function hm(t){var e=pe(),i=$t;if(i!==null)return fm(e,i,t);pe(),e=e.memoizedState,i=pe();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function vr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Ot.updateQueue,e===null&&(e=Fl(),Ot.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function dm(){return pe().memoizedState}function tu(t,e,i,r){var c=Je();Ot.flags|=t,c.memoizedState=vr(1|e,{destroy:void 0},i,r===void 0?null:r)}function eu(t,e,i,r){var c=pe();r=r===void 0?null:r;var h=c.memoizedState.inst;$t!==null&&r!==null&&Fc(r,$t.memoizedState.deps)?c.memoizedState=vr(e,h,i,r):(Ot.flags|=t,c.memoizedState=vr(1|e,h,i,r))}function mm(t,e){tu(8390656,8,t,e)}function lf(t,e){eu(2048,8,t,e)}function M0(t){Ot.flags|=4;var e=Ot.updateQueue;if(e===null)e=Fl(),Ot.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function pm(t){var e=pe().memoizedState;return M0({ref:e,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(f(440));return e.impl.apply(void 0,arguments)}}function gm(t,e){return eu(4,2,t,e)}function ym(t,e){return eu(4,4,t,e)}function vm(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _m(t,e,i){i=i!=null?i.concat([t]):null,eu(4,4,vm.bind(null,e,t),i)}function uf(){}function bm(t,e){var i=pe();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Fc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function wm(t,e){var i=pe();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Fc(e,r[1]))return r[0];if(r=t(),Ms){Hn(!0);try{t()}finally{Hn(!1)}}return i.memoizedState=[r,e],r}function cf(t,e,i){return i===void 0||(Bi&1073741824)!==0&&(jt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=xp(),Ot.lanes|=t,Aa|=t,i)}function xm(t,e,i,r){return Le(i,e)?i:pr.current!==null?(t=cf(t,i,r),Le(t,e)||(xe=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(jt&261930)===0?(xe=!0,t.memoizedState=i):(t=xp(),Ot.lanes|=t,Aa|=t,e)}function Em(t,e,i,r,c){var h=Q.p;Q.p=h!==0&&8>h?h:8;var y=O.T,E={};O.T=E,df(t,!1,e,i);try{var C=c(),P=O.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=T0(C,r);zo(t,e,I,xn(t))}else zo(t,e,r,xn(t))}catch(W){zo(t,e,{then:function(){},status:"rejected",reason:W},xn())}finally{Q.p=h,y!==null&&E.types!==null&&(y.types=E.types),O.T=y}}function O0(){}function ff(t,e,i,r){if(t.tag!==5)throw Error(f(476));var c=Sm(t).queue;Em(t,c,e,X,i===null?O0:function(){return Tm(t),i(r)})}function Sm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:X},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Tm(t){var e=Sm(t);e.next===null&&(e=t.alternate.memoizedState),zo(t,e.next.queue,{},xn())}function hf(){return Re(Yo)}function Am(){return pe().memoizedState}function zm(){return pe().memoizedState}function N0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=xn();t=ba(i);var r=wa(e,t,i);r!==null&&(fn(r,e,i),xo(r,e,i)),e={cache:Zc()},t.payload=e;return}e=e.return}}function B0(t,e,i){var r=xn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},nu(t)?Cm(e,i):(i=fo(t,e,i,r),i!==null&&(fn(i,t,r),Mm(i,e,r)))}function Lm(t,e,i){var r=xn();zo(t,e,i,r)}function zo(t,e,i,r){var c={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(nu(t))Cm(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var y=e.lastRenderedState,E=h(y,i);if(c.hasEagerState=!0,c.eagerState=E,Le(E,y))return oi(t,e,c,0),ie===null&&bs(),!1}catch{}if(i=fo(t,e,c,r),i!==null)return fn(i,t,r),Mm(i,e,r),!0}return!1}function df(t,e,i,r){if(r={lane:2,revertLane:Vf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(e)throw Error(f(479))}else e=fo(t,i,r,2),e!==null&&fn(e,t,2)}function nu(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function Cm(t,e){gr=Il=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Mm(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,dl(t,i)}}var Lo={readContext:Re,use:Wl,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Lo.useEffectEvent=he;var Om={readContext:Re,use:Wl,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Re,useEffect:mm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,tu(4194308,4,vm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){tu(4,2,t,e)},useMemo:function(t,e){var i=Je();e=e===void 0?null:e;var r=t();if(Ms){Hn(!0);try{t()}finally{Hn(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Je();if(i!==void 0){var c=i(e);if(Ms){Hn(!0);try{i(e)}finally{Hn(!1)}}}else c=e;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=B0.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=rf(t);var e=t.queue,i=Lm.bind(null,Ot,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:uf,useDeferredValue:function(t,e){var i=Je();return cf(i,t,e)},useTransition:function(){var t=rf(!1);return t=Em.bind(null,Ot,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Ot,c=Je();if(Dt){if(i===void 0)throw Error(f(407));i=i()}else{if(i=e(),ie===null)throw Error(f(349));(jt&127)!==0||Wd(r,e,i)}c.memoizedState=i;var h={value:i,getSnapshot:e};return c.queue=h,mm(tm.bind(null,r,h,t),[t]),r.flags|=2048,vr(9,{destroy:void 0},$d.bind(null,r,h,i,e),null),i},useId:function(){var t=Je(),e=ie.identifierPrefix;if(Dt){var i=ut,r=F;i=(r&~(1<<32-Qe(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Jl++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=A0++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:hf,useFormState:um,useActionState:um,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=df.bind(null,Ot,!0,i),i.dispatch=e,[t,e]},useMemoCache:nf,useCacheRefresh:function(){return Je().memoizedState=N0.bind(null,Ot)},useEffectEvent:function(t){var e=Je(),i={impl:t};return e.memoizedState=i,function(){if((Qt&2)!==0)throw Error(f(440));return i.impl.apply(void 0,arguments)}}},mf={readContext:Re,use:Wl,useCallback:bm,useContext:Re,useEffect:lf,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:wm,useReducer:$l,useRef:dm,useState:function(){return $l(Ri)},useDebugValue:uf,useDeferredValue:function(t,e){var i=pe();return xm(i,$t.memoizedState,t,e)},useTransition:function(){var t=$l(Ri)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:Ao(t),e]},useSyncExternalStore:Fd,useId:Am,useHostTransitionStatus:hf,useFormState:cm,useActionState:cm,useOptimistic:function(t,e){var i=pe();return im(i,$t,t,e)},useMemoCache:nf,useCacheRefresh:zm};mf.useEffectEvent=pm;var Nm={readContext:Re,use:Wl,useCallback:bm,useContext:Re,useEffect:lf,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:wm,useReducer:sf,useRef:dm,useState:function(){return sf(Ri)},useDebugValue:uf,useDeferredValue:function(t,e){var i=pe();return $t===null?cf(i,t,e):xm(i,$t.memoizedState,t,e)},useTransition:function(){var t=sf(Ri)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:Ao(t),e]},useSyncExternalStore:Fd,useId:Am,useHostTransitionStatus:hf,useFormState:hm,useActionState:hm,useOptimistic:function(t,e){var i=pe();return $t!==null?im(i,$t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:nf,useCacheRefresh:zm};Nm.useEffectEvent=pm;function pf(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:S({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var gf={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=xn(),c=ba(r);c.payload=e,i!=null&&(c.callback=i),e=wa(t,c,r),e!==null&&(fn(e,t,r),xo(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=xn(),c=ba(r);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=wa(t,c,r),e!==null&&(fn(e,t,r),xo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=xn(),r=ba(i);r.tag=2,e!=null&&(r.callback=e),e=wa(t,r,i),e!==null&&(fn(e,t,i),xo(e,t,i))}};function Bm(t,e,i,r,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,y):e.prototype&&e.prototype.isPureReactComponent?!da(i,r)||!da(c,h):!0}function Rm(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&gf.enqueueReplaceState(e,e.state,null)}function Os(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=S({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}function Dm(t){_s(t)}function Um(t){console.error(t)}function km(t){_s(t)}function iu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Hm(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function yf(t,e,i){return i=ba(i),i.tag=3,i.payload={element:null},i.callback=function(){iu(t,e)},i}function jm(t){return t=ba(t),t.tag=3,t}function Zm(t,e,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;t.payload=function(){return c(h)},t.callback=function(){Hm(e,i,r)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Hm(e,i,r),typeof c!="function"&&(za===null?za=new Set([this]):za.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function R0(t,e,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&cr(e,i,c,!0),i=vn.current,i!==null){switch(i.tag){case 31:case 13:return On===null?pu():i.alternate===null&&de===0&&(de=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===Yl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),Pf(t,r,c)),!1;case 22:return i.flags|=65536,r===Yl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),Pf(t,r,c)),!1}throw Error(f(435,i.tag))}return Pf(t,r,c),pu(),!1}if(Dt)return e=vn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,r!==ur&&(t=Error(f(422),{cause:r}),Es(s(t,i)))):(r!==ur&&(e=Error(f(423),{cause:r}),Es(s(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=s(r,i),c=yf(t.stateNode,r,c),Kc(t,c),de!==4&&(de=2)),!1;var h=Error(f(520),{cause:r});if(h=s(h,i),Uo===null?Uo=[h]:Uo.push(h),de!==4&&(de=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=yf(i.stateNode,r,t),Kc(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(za===null||!za.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=jm(c),Zm(c,t,i,r),Kc(i,c),!1}i=i.return}while(i!==null);return!1}var vf=Error(f(461)),xe=!1;function De(t,e,i,r){e.child=t===null?Yd(e,null,i,r):Cs(e,t.child,i,r)}function qm(t,e,i,r,c){i=i.render;var h=e.ref;if("ref"in r){var y={};for(var E in r)E!=="ref"&&(y[E]=r[E])}else y=r;return Ts(e),r=Wc(t,e,i,y,h,c),E=$c(),t!==null&&!xe?(tf(t,e,c),Di(t,e,c)):(Dt&&E&&Te(e),e.flags|=1,De(t,e,r,c),e.child)}function Pm(t,e,i,r,c){if(t===null){var h=i.type;return typeof h=="function"&&!or(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,Gm(t,e,h,r,c)):(t=xs(i.type,null,r,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!Af(t,c)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:da,i(y,r)&&t.ref===e.ref)return Di(t,e,c)}return e.flags|=1,t=Mn(h,r),t.ref=e.ref,t.return=e,e.child=t}function Gm(t,e,i,r,c){if(t!==null){var h=t.memoizedProps;if(da(h,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=h,Af(t,c))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,Di(t,e,c)}return _f(t,e,i,r,c)}function Ym(t,e,i,r){var c=r.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(r=e.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~h}else r=0,e.child=null;return Vm(t,e,h,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pl(e,h!==null?h.cachePool:null),h!==null?Qd(e,h):Xc(),Xd(e);else return r=e.lanes=536870912,Vm(t,e,h!==null?h.baseLanes|i:i,i,r)}else h!==null?(Pl(e,h.cachePool),Qd(e,h),Ea(),e.memoizedState=null):(t!==null&&Pl(e,null),Xc(),Ea());return De(t,e,c,i),e.child}function Co(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Vm(t,e,i,r,c){var h=Pc();return h=h===null?null:{parent:be._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&Pl(e,null),Xc(),Xd(e),t!==null&&cr(t,e,r,!0),e.childLanes=c,null}function au(t,e){return e=ru({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Km(t,e,i){return Cs(e,t.child,null,i),t=au(e,e.pendingProps),t.flags|=2,_n(e),e.memoizedState=null,t}function D0(t,e,i){var r=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Dt){if(r.mode==="hidden")return t=au(e,r),e.lanes=536870912,Co(null,t);if(Jc(e),(t=Gt)?(t=ag(t,rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:F,overflow:ut}:null,retryLane:536870912,hydrationErrors:null},i=mo(t),i.return=e,e.child=i,Pt=e,Gt=null)):t=null,t===null)throw ui(e);return e.lanes=536870912,null}return au(e,r)}var h=t.memoizedState;if(h!==null){var y=h.dehydrated;if(Jc(e),c)if(e.flags&256)e.flags&=-257,e=Km(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(f(558));else if(xe||cr(t,e,i,!1),c=(i&t.childLanes)!==0,xe||c){if(r=ie,r!==null&&(y=ml(r,i),y!==0&&y!==h.retryLane))throw h.retryLane=y,Cn(t,y),fn(r,t,y),vf;pu(),e=Km(t,e,i)}else t=h.treeContext,Gt=Nn(y.nextSibling),Pt=e,Dt=!0,li=null,rn=!1,t!==null&&Ie(e,t),e=au(e,r),e.flags|=4096;return e}return t=Mn(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function su(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(f(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function _f(t,e,i,r,c){return Ts(e),i=Wc(t,e,i,r,void 0,c),r=$c(),t!==null&&!xe?(tf(t,e,c),Di(t,e,c)):(Dt&&r&&Te(e),e.flags|=1,De(t,e,i,c),e.child)}function Qm(t,e,i,r,c,h){return Ts(e),e.updateQueue=null,i=Jd(e,r,i,c),Id(t),r=$c(),t!==null&&!xe?(tf(t,e,h),Di(t,e,h)):(Dt&&r&&Te(e),e.flags|=1,De(t,e,i,h),e.child)}function Xm(t,e,i,r,c){if(Ts(e),e.stateNode===null){var h=Ci,y=i.contextType;typeof y=="object"&&y!==null&&(h=Re(y)),h=new i(r,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=gf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=r,h.state=e.memoizedState,h.refs={},Yc(e),y=i.contextType,h.context=typeof y=="object"&&y!==null?Re(y):Ci,h.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(pf(e,i,y,r),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&gf.enqueueReplaceState(h,h.state,null),So(e,r,h,c),Eo(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,C=Os(i,E);h.props=C;var P=h.context,I=i.contextType;y=Ci,typeof I=="object"&&I!==null&&(y=Re(I));var W=i.getDerivedStateFromProps;I=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==y)&&Rm(e,h,r,y),_a=!1;var Y=e.memoizedState;h.state=Y,So(e,r,h,c),Eo(),P=e.memoizedState,E||Y!==P||_a?(typeof W=="function"&&(pf(e,i,W,r),P=e.memoizedState),(C=_a||Bm(e,i,C,r,Y,P,y))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=P),h.props=r,h.state=P,h.context=y,r=C):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,Vc(t,e),y=e.memoizedProps,I=Os(i,y),h.props=I,W=e.pendingProps,Y=h.context,P=i.contextType,C=Ci,typeof P=="object"&&P!==null&&(C=Re(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==W||Y!==C)&&Rm(e,h,r,C),_a=!1,Y=e.memoizedState,h.state=Y,So(e,r,h,c),Eo();var K=e.memoizedState;y!==W||Y!==K||_a||t!==null&&t.dependencies!==null&&Zl(t.dependencies)?(typeof E=="function"&&(pf(e,i,E,r),K=e.memoizedState),(I=_a||Bm(e,i,I,r,Y,K,C)||t!==null&&t.dependencies!==null&&Zl(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,K,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,K,C)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=K),h.props=r,h.state=K,h.context=C,r=I):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),r=!1)}return h=r,su(t,e),r=(e.flags&128)!==0,h||r?(h=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&r?(e.child=Cs(e,t.child,null,c),e.child=Cs(e,null,i,c)):De(t,e,i,c),e.memoizedState=h.state,t=e.child):t=Di(t,e,c),t}function Im(t,e,i,r){return Oi(),e.flags|=256,De(t,e,i,r),e.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:Hd()}}function xf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=wn),t}function Jm(t,e,i){var r=e.pendingProps,c=!1,h=(e.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),y&&(c=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(Dt){if(c?xa(e):Ea(),(t=Gt)?(t=ag(t,rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:F,overflow:ut}:null,retryLane:536870912,hydrationErrors:null},i=mo(t),i.return=e,e.child=i,Pt=e,Gt=null)):t=null,t===null)throw ui(e);return ah(t)?e.lanes=32:e.lanes=536870912,null}var E=r.children;return r=r.fallback,c?(Ea(),c=e.mode,E=ru({mode:"hidden",children:E},c),r=Mi(r,c,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,r=e.child,r.memoizedState=wf(i),r.childLanes=xf(t,y,i),e.memoizedState=bf,Co(null,r)):(xa(e),Ef(e,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)e.flags&256?(xa(e),e.flags&=-257,e=Sf(t,e,i)):e.memoizedState!==null?(Ea(),e.child=t.child,e.flags|=128,e=null):(Ea(),E=r.fallback,c=e.mode,r=ru({mode:"visible",children:r.children},c),E=Mi(E,c,i,null),E.flags|=2,r.return=e,E.return=e,r.sibling=E,e.child=r,Cs(e,t.child,null,i),r=e.child,r.memoizedState=wf(i),r.childLanes=xf(t,y,i),e.memoizedState=bf,e=Co(null,r));else if(xa(e),ah(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,r=Error(f(419)),r.stack="",r.digest=y,Es({value:r,source:null,stack:null}),e=Sf(t,e,i)}else if(xe||cr(t,e,i,!1),y=(i&t.childLanes)!==0,xe||y){if(y=ie,y!==null&&(r=ml(y,i),r!==0&&r!==C.retryLane))throw C.retryLane=r,Cn(t,r),fn(y,t,r),vf;ih(E)||pu(),e=Sf(t,e,i)}else ih(E)?(e.flags|=192,e.child=t.child,e=null):(t=C.treeContext,Gt=Nn(E.nextSibling),Pt=e,Dt=!0,li=null,rn=!1,t!==null&&Ie(e,t),e=Ef(e,r.children),e.flags|=4096);return e}return c?(Ea(),E=r.fallback,c=e.mode,C=t.child,P=C.sibling,r=Mn(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Mn(P,E):(E=Mi(E,c,i,null),E.flags|=2),E.return=e,r.return=e,r.sibling=E,e.child=r,Co(null,r),r=e.child,E=t.child.memoizedState,E===null?E=wf(i):(c=E.cachePool,c!==null?(C=be._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Hd(),E={baseLanes:E.baseLanes|i,cachePool:c}),r.memoizedState=E,r.childLanes=xf(t,y,i),e.memoizedState=bf,Co(t.child,r)):(xa(e),i=t.child,t=i.sibling,i=Mn(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function Ef(t,e){return e=ru({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ru(t,e){return t=Ze(22,t,null,e),t.lanes=0,t}function Sf(t,e,i){return Cs(e,t.child,null,i),t=Ef(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fm(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hc(t.return,e,i)}function Tf(t,e,i,r,c,h){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c,treeForkCount:h}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=r,y.tail=i,y.tailMode=c,y.treeForkCount=h)}function Wm(t,e,i){var r=e.pendingProps,c=r.revealOrder,h=r.tail;r=r.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,e.flags|=128):y&=1,rt(me,y),De(t,e,r,i),r=Dt?w:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fm(t,i,e);else if(t.tag===19)Fm(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Xl(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Tf(e,!1,c,i,h,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Xl(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Tf(e,!0,i,null,h,r);break;case"together":Tf(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Di(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Aa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(cr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(f(153));if(e.child!==null){for(t=e.child,i=Mn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Mn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Af(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Zl(t)))}function U0(t,e,i){switch(e.tag){case 3:Ft(e,e.stateNode.containerInfo),va(e,be,t.memoizedState.cache),Oi();break;case 27:case 5:He(e);break;case 4:Ft(e,e.stateNode.containerInfo);break;case 10:va(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Jc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(xa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Jm(t,e,i):(xa(e),t=Di(t,e,i),t!==null?t.sibling:null);xa(e);break;case 19:var c=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(cr(t,e,i,!1),r=(i&e.childLanes)!==0),c){if(r)return Wm(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(me,me.current),r)break;return null;case 22:return e.lanes=0,Ym(t,e,i,e.pendingProps);case 24:va(e,be,t.memoizedState.cache)}return Di(t,e,i)}function $m(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!Af(t,i)&&(e.flags&128)===0)return xe=!1,U0(t,e,i);xe=(t.flags&131072)!==0}else xe=!1,Dt&&(e.flags&1048576)!==0&&Nt(e,w,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=zs(e.elementType),e.type=t,typeof t=="function")or(t)?(r=Os(t,r),e.tag=1,e=Xm(null,e,t,r,i)):(e.tag=0,e=_f(null,e,t,r,i));else{if(t!=null){var c=t.$$typeof;if(c===mt){e.tag=11,e=qm(null,e,t,r,i);break t}else if(c===tt){e.tag=14,e=Pm(null,e,t,r,i);break t}}throw e=Lt(t)||t,Error(f(306,e,""))}}return e;case 0:return _f(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,c=Os(r,e.pendingProps),Xm(t,e,r,c,i);case 3:t:{if(Ft(e,e.stateNode.containerInfo),t===null)throw Error(f(387));r=e.pendingProps;var h=e.memoizedState;c=h.element,Vc(t,e),So(e,r,null,i);var y=e.memoizedState;if(r=y.cache,va(e,be,r),r!==h.cache&&jc(e,[be],i,!0),Eo(),r=y.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Im(t,e,r,i);break t}else if(r!==c){c=s(Error(f(424)),e),Es(c),e=Im(t,e,r,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Gt=Nn(t.firstChild),Pt=e,Dt=!0,li=null,rn=!0,i=Yd(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Oi(),r===c){e=Di(t,e,i);break t}De(t,e,r,i)}e=e.child}return e;case 26:return su(t,e),t===null?(i=cg(e.type,null,e.pendingProps,null))?e.memoizedState=i:Dt||(i=e.type,t=e.pendingProps,r=xu(ft.current).createElement(i),r[ve]=e,r[ze]=t,Ue(r,i,t),_e(r),e.stateNode=r):e.memoizedState=cg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return He(e),t===null&&Dt&&(r=e.stateNode=og(e.type,e.pendingProps,ft.current),Pt=e,rn=!0,c=Gt,Oa(e.type)?(sh=c,Gt=Nn(r.firstChild)):Gt=c),De(t,e,e.pendingProps.children,i),su(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Dt&&((c=r=Gt)&&(r=h_(r,e.type,e.pendingProps,rn),r!==null?(e.stateNode=r,Pt=e,Gt=Nn(r.firstChild),rn=!1,c=!0):c=!1),c||ui(e)),He(e),c=e.type,h=e.pendingProps,y=t!==null?t.memoizedProps:null,r=h.children,th(c,h)?r=null:y!==null&&th(c,y)&&(e.flags|=32),e.memoizedState!==null&&(c=Wc(t,e,z0,null,null,i),Yo._currentValue=c),su(t,e),De(t,e,r,i),e.child;case 6:return t===null&&Dt&&((t=i=Gt)&&(i=d_(i,e.pendingProps,rn),i!==null?(e.stateNode=i,Pt=e,Gt=null,t=!0):t=!1),t||ui(e)),null;case 13:return Jm(t,e,i);case 4:return Ft(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cs(e,null,r,i):De(t,e,r,i),e.child;case 11:return qm(t,e,e.type,e.pendingProps,i);case 7:return De(t,e,e.pendingProps,i),e.child;case 8:return De(t,e,e.pendingProps.children,i),e.child;case 12:return De(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,va(e,e.type,r.value),De(t,e,r.children,i),e.child;case 9:return c=e.type._context,r=e.pendingProps.children,Ts(e),c=Re(c),r=r(c),e.flags|=1,De(t,e,r,i),e.child;case 14:return Pm(t,e,e.type,e.pendingProps,i);case 15:return Gm(t,e,e.type,e.pendingProps,i);case 19:return Wm(t,e,i);case 31:return D0(t,e,i);case 22:return Ym(t,e,i,e.pendingProps);case 24:return Ts(e),r=Re(be),t===null?(c=Pc(),c===null&&(c=ie,h=Zc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),e.memoizedState={parent:r,cache:c},Yc(e),va(e,be,c)):((t.lanes&i)!==0&&(Vc(t,e),So(e,null,null,i),Eo()),c=t.memoizedState,h=e.memoizedState,c.parent!==r?(c={parent:r,cache:r},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),va(e,be,r)):(r=h.cache,va(e,be,r),r!==c.cache&&jc(e,[be],i,!0))),De(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(f(156,e.tag))}function Ui(t){t.flags|=4}function zf(t,e,i,r,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw Ls=Yl,Gc}else t.flags&=-16777217}function tp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pg(e))if(Ap())t.flags|=8192;else throw Ls=Yl,Gc}function ou(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?fl():536870912,t.lanes|=e,xr|=e)}function Mo(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function k0(t,e,i){var r=e.pendingProps;switch(fe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ni(be),qt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Vn(e)?Ui(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,yo())),se(e),null;case 26:var c=e.type,h=e.memoizedState;return t===null?(Ui(e),h!==null?(se(e),tp(e,h)):(se(e),zf(e,c,null,r,i))):h?h!==t.memoizedState?(Ui(e),se(e),tp(e,h)):(se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ui(e),se(e),zf(e,c,t,r,i)),null;case 27:if(kn(e),i=ft.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ui(e);else{if(!r){if(e.stateNode===null)throw Error(f(166));return se(e),null}t=ot.current,Vn(e)?go(e):(t=og(c,r,i),e.stateNode=t,Ui(e))}return se(e),null;case 5:if(kn(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ui(e);else{if(!r){if(e.stateNode===null)throw Error(f(166));return se(e),null}if(h=ot.current,Vn(e))go(e);else{var y=xu(ft.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?y.createElement("select",{is:r.is}):y.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?y.createElement(c,{is:r.is}):y.createElement(c)}}h[ve]=e,h[ze]=r;t:for(y=e.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break t;for(;y.sibling===null;){if(y.return===null||y.return===e)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}e.stateNode=h;t:switch(Ue(h,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ui(e)}}return se(e),zf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ui(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(f(166));if(t=ft.current,Vn(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,c=Pt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Jp(t.nodeValue,i)),t||ui(e,!0)}else t=xu(t).createTextNode(r),t[ve]=e,e.stateNode=t}return se(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=Vn(e),i!==null){if(t===null){if(!r)throw Error(f(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(557));t[ve]=e}else Oi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),t=!1}else i=yo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(_n(e),e):(_n(e),null);if((e.flags&128)!==0)throw Error(f(558))}return se(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Vn(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(f(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(f(317));c[ve]=e}else Oi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),c=!1}else c=yo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(_n(e),e):(_n(e),null)}return _n(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),ou(e,e.updateQueue),se(e),null);case 4:return qt(),t===null&&If(e.stateNode.containerInfo),se(e),null;case 10:return Ni(e.type),se(e),null;case 19:if(j(me),r=e.memoizedState,r===null)return se(e),null;if(c=(e.flags&128)!==0,h=r.rendering,h===null)if(c)Mo(r,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=Xl(t),h!==null){for(e.flags|=128,Mo(r,!1),t=h.updateQueue,e.updateQueue=t,ou(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)ho(i,t),i=i.sibling;return rt(me,me.current&1|2),Dt&&xt(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ke()>hu&&(e.flags|=128,c=!0,Mo(r,!1),e.lanes=4194304)}else{if(!c)if(t=Xl(h),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,ou(e,t),Mo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!Dt)return se(e),null}else 2*Ke()-r.renderingStartTime>hu&&i!==536870912&&(e.flags|=128,c=!0,Mo(r,!1),e.lanes=4194304);r.isBackwards?(h.sibling=e.child,e.child=h):(t=r.last,t!==null?t.sibling=h:e.child=h,r.last=h)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ke(),t.sibling=null,i=me.current,rt(me,c?i&1|2:i&1),Dt&&xt(e,r.treeForkCount),t):(se(e),null);case 22:case 23:return _n(e),Ic(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),i=e.updateQueue,i!==null&&ou(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&j(As),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ni(be),se(e),null;case 25:return null;case 30:return null}throw Error(f(156,e.tag))}function H0(t,e){switch(fe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ni(be),qt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return kn(e),null;case 31:if(e.memoizedState!==null){if(_n(e),e.alternate===null)throw Error(f(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(_n(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(f(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return j(me),null;case 4:return qt(),null;case 10:return Ni(e.type),null;case 22:case 23:return _n(e),Ic(),t!==null&&j(As),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function ep(t,e){switch(fe(e),e.tag){case 3:Ni(be),qt();break;case 26:case 27:case 5:kn(e);break;case 4:qt();break;case 31:e.memoizedState!==null&&_n(e);break;case 13:_n(e);break;case 19:j(me);break;case 10:Ni(e.type);break;case 22:case 23:_n(e),Ic(),t!==null&&j(As);break;case 24:Ni(be)}}function Oo(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&t)===t){r=void 0;var h=i.create,y=i.inst;r=h(),y.destroy=r}i=i.next}while(i!==c)}}catch(E){Jt(e,e.return,E)}}function Sa(t,e,i){try{var r=e.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&t)===t){var y=r.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=e;var C=i,P=E;try{P()}catch(I){Jt(c,C,I)}}}r=r.next}while(r!==h)}}catch(I){Jt(e,e.return,I)}}function np(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Kd(e,i)}catch(r){Jt(t,t.return,r)}}}function ip(t,e,i){i.props=Os(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Jt(t,e,r)}}function No(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(c){Jt(t,e,c)}}function fi(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Jt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Jt(t,e,c)}else i.current=null}function ap(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Jt(t,t.return,c)}}function Lf(t,e,i){try{var r=t.stateNode;r_(r,t.type,i,e),r[ze]=e}catch(c){Jt(t,t.return,c)}}function sp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oa(t.type)||t.tag===4}function Cf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=en));else if(r!==4&&(r===27&&Oa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Mf(t,e,i),t=t.sibling;t!==null;)Mf(t,e,i),t=t.sibling}function lu(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&Oa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(lu(t,e,i),t=t.sibling;t!==null;)lu(t,e,i),t=t.sibling}function rp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Ue(e,r,i),e[ve]=t,e[ze]=i}catch(h){Jt(t,t.return,h)}}var ki=!1,Ee=!1,Of=!1,op=typeof WeakSet=="function"?WeakSet:Set,Me=null;function j0(t,e){if(t=t.containerInfo,Wf=Cu,t=ps(t),ii(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,E=-1,C=-1,P=0,I=0,W=t,Y=null;e:for(;;){for(var K;W!==i||c!==0&&W.nodeType!==3||(E=y+c),W!==h||r!==0&&W.nodeType!==3||(C=y+r),W.nodeType===3&&(y+=W.nodeValue.length),(K=W.firstChild)!==null;)Y=W,W=K;for(;;){if(W===t)break e;if(Y===i&&++P===c&&(E=y),Y===h&&++I===r&&(C=y),(K=W.nextSibling)!==null)break;W=Y,Y=W.parentNode}W=K}i=E===-1||C===-1?null:{start:E,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for($f={focusedElem:t,selectionRange:i},Cu=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){switch(e=Me,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)c=t[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,c=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var gt=Os(i.type,c);t=r.getSnapshotBeforeUpdate(gt,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(St){Jt(i,i.return,St)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)nh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(f(163))}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function lp(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ji(t,i),r&4&&Oo(5,i);break;case 1:if(ji(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){Jt(i,i.return,y)}else{var c=Os(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(i,i.return,y)}}r&64&&np(i),r&512&&No(i,i.return);break;case 3:if(ji(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Kd(t,e)}catch(y){Jt(i,i.return,y)}}break;case 27:e===null&&r&4&&rp(i);case 26:case 5:ji(t,i),e===null&&r&4&&ap(i),r&512&&No(i,i.return);break;case 12:ji(t,i);break;case 31:ji(t,i),r&4&&fp(t,i);break;case 13:ji(t,i),r&4&&hp(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=X0.bind(null,i),m_(t,i))));break;case 22:if(r=i.memoizedState!==null||ki,!r){e=e!==null&&e.memoizedState!==null||Ee,c=ki;var h=Ee;ki=r,(Ee=e)&&!h?Zi(t,i,(i.subtreeFlags&8772)!==0):ji(t,i),ki=c,Ee=h}break;case 30:break;default:ji(t,i)}}function up(t){var e=t.alternate;e!==null&&(t.alternate=null,up(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Xr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,on=!1;function Hi(t,e,i){for(i=i.child;i!==null;)cp(t,e,i),i=i.sibling}function cp(t,e,i){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount($i,i)}catch{}switch(i.tag){case 26:Ee||fi(i,e),Hi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ee||fi(i,e);var r=le,c=on;Oa(i.type)&&(le=i.stateNode,on=!1),Hi(t,e,i),qo(i.stateNode),le=r,on=c;break;case 5:Ee||fi(i,e);case 6:if(r=le,c=on,le=null,Hi(t,e,i),le=r,on=c,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(i.stateNode)}catch(h){Jt(i,e,h)}else try{le.removeChild(i.stateNode)}catch(h){Jt(i,e,h)}break;case 18:le!==null&&(on?(t=le,ng(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Mr(t)):ng(le,i.stateNode));break;case 4:r=le,c=on,le=i.stateNode.containerInfo,on=!0,Hi(t,e,i),le=r,on=c;break;case 0:case 11:case 14:case 15:Sa(2,i,e),Ee||Sa(4,i,e),Hi(t,e,i);break;case 1:Ee||(fi(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&ip(i,e,r)),Hi(t,e,i);break;case 21:Hi(t,e,i);break;case 22:Ee=(r=Ee)||i.memoizedState!==null,Hi(t,e,i),Ee=r;break;default:Hi(t,e,i)}}function fp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Mr(t)}catch(i){Jt(e,e.return,i)}}}function hp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mr(t)}catch(i){Jt(e,e.return,i)}}function Z0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new op),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new op),e;default:throw Error(f(435,t.tag))}}function uu(t,e){var i=Z0(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var c=I0.bind(null,t,r);r.then(c,c)}})}function ln(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],h=t,y=e,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Oa(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(f(160));cp(h,y,c),le=null,on=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)dp(e,t),e=e.sibling}var Qn=null;function dp(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(e,t),un(t),r&4&&(Sa(3,t,t.return),Oo(3,t),Sa(5,t,t.return));break;case 1:ln(e,t),un(t),r&512&&(Ee||i===null||fi(i,i.return)),r&64&&ki&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=Qn;if(ln(e,t),un(t),r&512&&(Ee||i===null||fi(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[$a]||h[ve]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),Ue(h,r,i),h[ve]=t,_e(h),r=h;break t;case"link":var y=dg("link","href",c).get(r+(i.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(r),Ue(h,r,i),c.head.appendChild(h);break;case"meta":if(y=dg("meta","content",c).get(r+(i.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(E,1);break e}}h=c.createElement(r),Ue(h,r,i),c.head.appendChild(h);break;default:throw Error(f(468,r))}h[ve]=t,_e(h),r=h}t.stateNode=r}else mg(c,t.type,t.stateNode);else t.stateNode=hg(c,r,t.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?mg(c,t.type,t.stateNode):hg(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,i.memoizedProps)}break;case 27:ln(e,t),un(t),r&512&&(Ee||i===null||fi(i,i.return)),i!==null&&r&4&&Lf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(ln(e,t),un(t),r&512&&(Ee||i===null||fi(i,i.return)),t.flags&32){c=t.stateNode;try{En(c,"")}catch(gt){Jt(t,t.return,gt)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,Lf(t,c,i!==null?i.memoizedProps:c)),r&1024&&(Of=!0);break;case 6:if(ln(e,t),un(t),r&4){if(t.stateNode===null)throw Error(f(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(gt){Jt(t,t.return,gt)}}break;case 3:if(Tu=null,c=Qn,Qn=Eu(e.containerInfo),ln(e,t),Qn=c,un(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Mr(e.containerInfo)}catch(gt){Jt(t,t.return,gt)}Of&&(Of=!1,mp(t));break;case 4:r=Qn,Qn=Eu(t.stateNode.containerInfo),ln(e,t),un(t),Qn=r;break;case 12:ln(e,t),un(t);break;case 31:ln(e,t),un(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,uu(t,r)));break;case 13:ln(e,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(fu=Ke()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,uu(t,r)));break;case 22:c=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,P=ki,I=Ee;if(ki=P||c,Ee=I||C,ln(e,t),Ee=I,ki=P,un(t),r&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||C||ki||Ee||Ns(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){C=i=e;try{if(h=C.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var W=C.memoizedProps.style,Y=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(gt){Jt(C,C.return,gt)}}}else if(e.tag===6){if(i===null){C=e;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(gt){Jt(C,C.return,gt)}}}else if(e.tag===18){if(i===null){C=e;try{var K=C.stateNode;c?ig(K,!0):ig(C.stateNode,!1)}catch(gt){Jt(C,C.return,gt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,uu(t,i))));break;case 19:ln(e,t),un(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,uu(t,r)));break;case 30:break;case 21:break;default:ln(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(sp(r)){i=r;break}r=r.return}if(i==null)throw Error(f(160));switch(i.tag){case 27:var c=i.stateNode,h=Cf(t);lu(t,h,c);break;case 5:var y=i.stateNode;i.flags&32&&(En(y,""),i.flags&=-33);var E=Cf(t);lu(t,E,y);break;case 3:case 4:var C=i.stateNode.containerInfo,P=Cf(t);Mf(t,P,C);break;default:throw Error(f(161))}}catch(I){Jt(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;mp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ji(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)lp(t,e.alternate,e),e=e.sibling}function Ns(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Sa(4,e,e.return),Ns(e);break;case 1:fi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&ip(e,e.return,i),Ns(e);break;case 27:qo(e.stateNode);case 26:case 5:fi(e,e.return),Ns(e);break;case 22:e.memoizedState===null&&Ns(e);break;case 30:Ns(e);break;default:Ns(e)}t=t.sibling}}function Zi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,c=t,h=e,y=h.flags;switch(h.tag){case 0:case 11:case 15:Zi(c,h,i),Oo(4,h);break;case 1:if(Zi(c,h,i),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Jt(r,r.return,P)}if(r=h,c=r.updateQueue,c!==null){var E=r.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Vd(C[c],E)}catch(P){Jt(r,r.return,P)}}i&&y&64&&np(h),No(h,h.return);break;case 27:rp(h);case 26:case 5:Zi(c,h,i),i&&r===null&&y&4&&ap(h),No(h,h.return);break;case 12:Zi(c,h,i);break;case 31:Zi(c,h,i),i&&y&4&&fp(c,h);break;case 13:Zi(c,h,i),i&&y&4&&hp(c,h);break;case 22:h.memoizedState===null&&Zi(c,h,i),No(h,h.return);break;case 30:break;default:Zi(c,h,i)}e=e.sibling}}function Nf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&vo(i))}function Bf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vo(t))}function Xn(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pp(t,e,i,r),e=e.sibling}function pp(t,e,i,r){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Xn(t,e,i,r),c&2048&&Oo(9,e);break;case 1:Xn(t,e,i,r);break;case 3:Xn(t,e,i,r),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vo(t)));break;case 12:if(c&2048){Xn(t,e,i,r),t=e.stateNode;try{var h=e.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Jt(e,e.return,C)}}else Xn(t,e,i,r);break;case 31:Xn(t,e,i,r);break;case 13:Xn(t,e,i,r);break;case 23:break;case 22:h=e.stateNode,y=e.alternate,e.memoizedState!==null?h._visibility&2?Xn(t,e,i,r):Bo(t,e):h._visibility&2?Xn(t,e,i,r):(h._visibility|=2,_r(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),c&2048&&Nf(y,e);break;case 24:Xn(t,e,i,r),c&2048&&Bf(e.alternate,e);break;default:Xn(t,e,i,r)}}function _r(t,e,i,r,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,y=e,E=i,C=r,P=y.flags;switch(y.tag){case 0:case 11:case 15:_r(h,y,E,C,c),Oo(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?_r(h,y,E,C,c):Bo(h,y):(I._visibility|=2,_r(h,y,E,C,c)),c&&P&2048&&Nf(y.alternate,y);break;case 24:_r(h,y,E,C,c),c&&P&2048&&Bf(y.alternate,y);break;default:_r(h,y,E,C,c)}e=e.sibling}}function Bo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,c=r.flags;switch(r.tag){case 22:Bo(i,r),c&2048&&Nf(r.alternate,r);break;case 24:Bo(i,r),c&2048&&Bf(r.alternate,r);break;default:Bo(i,r)}e=e.sibling}}var Ro=8192;function br(t,e,i){if(t.subtreeFlags&Ro)for(t=t.child;t!==null;)gp(t,e,i),t=t.sibling}function gp(t,e,i){switch(t.tag){case 26:br(t,e,i),t.flags&Ro&&t.memoizedState!==null&&A_(i,Qn,t.memoizedState,t.memoizedProps);break;case 5:br(t,e,i);break;case 3:case 4:var r=Qn;Qn=Eu(t.stateNode.containerInfo),br(t,e,i),Qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ro,Ro=16777216,br(t,e,i),Ro=r):br(t,e,i));break;default:br(t,e,i)}}function yp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Do(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Me=r,_p(r,t)}yp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:Do(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:Do(t);break;case 12:Do(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,cu(t)):Do(t);break;default:Do(t)}}function cu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Me=r,_p(r,t)}yp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Sa(8,e,e.return),cu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,cu(e));break;default:cu(e)}t=t.sibling}}function _p(t,e){for(;Me!==null;){var i=Me;switch(i.tag){case 0:case 11:case 15:Sa(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:vo(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Me=r;else t:for(i=t;Me!==null;){r=Me;var c=r.sibling,h=r.return;if(up(r),r===i){Me=null;break t}if(c!==null){c.return=h,Me=c;break t}Me=h}}}var q0={getCacheForType:function(t){var e=Re(be),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Re(be).controller.signal}},P0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,Ut=null,jt=0,It=0,bn=null,Ta=!1,wr=!1,Rf=!1,qi=0,de=0,Aa=0,Bs=0,Df=0,wn=0,xr=0,Uo=null,cn=null,Uf=!1,fu=0,bp=0,hu=1/0,du=null,za=null,Ae=0,La=null,Er=null,Pi=0,kf=0,Hf=null,wp=null,ko=0,jf=null;function xn(){return(Qt&2)!==0&&jt!==0?jt&-jt:O.T!==null?Vf():Kr()}function xp(){if(wn===0)if((jt&536870912)===0||Dt){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),wn=t}else wn=536870912;return t=vn.current,t!==null&&(t.flags|=32),wn}function fn(t,e,i){(t===ie&&(It===2||It===9)||t.cancelPendingCommit!==null)&&(Sr(t,0),Ca(t,jt,wn,!1)),wi(t,i),((Qt&2)===0||t!==ie)&&(t===ie&&((Qt&2)===0&&(Bs|=i),de===4&&Ca(t,jt,wn,!1)),hi(t))}function Ep(t,e,i){if((Qt&6)!==0)throw Error(f(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Wa(t,e),c=r?V0(t,e):qf(t,e,!0),h=r;do{if(c===0){wr&&!r&&Ca(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!G0(i)){c=qf(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var E=t;c=Uo;var C=E.current.memoizedState.isDehydrated;if(C&&(Sr(E,y).flags|=256),y=qf(E,y,!1),y!==2){if(Rf&&!C){E.errorRecoveryDisabledLanes|=h,Bs|=h,c=4;break t}h=cn,cn=c,h!==null&&(cn===null?cn=h:cn.push.apply(cn,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){Sr(t,0),Ca(t,e,0,!0);break}t:{switch(r=t,h=c,h){case 0:case 1:throw Error(f(345));case 4:if((e&4194048)!==e)break;case 6:Ca(r,e,wn,!Ta);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(f(329))}if((e&62914560)===e&&(c=fu+300-Ke(),10<c)){if(Ca(r,e,wn,!Ta),Ys(r,0,!0)!==0)break t;Pi=e,r.timeoutHandle=tg(Sp.bind(null,r,i,cn,du,Uf,e,wn,Bs,xr,Ta,h,"Throttled",-0,0),c);break t}Sp(r,i,cn,du,Uf,e,wn,Bs,xr,Ta,h,null,-0,0)}}break}while(!0);hi(t)}function Sp(t,e,i,r,c,h,y,E,C,P,I,W,Y,K){if(t.timeoutHandle=-1,W=e.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},gp(e,h,W);var gt=(h&62914560)===h?fu-Ke():(h&4194048)===h?bp-Ke():0;if(gt=z_(W,gt),gt!==null){Pi=h,t.cancelPendingCommit=gt(Np.bind(null,t,e,h,i,r,c,y,E,C,I,W,null,Y,K)),Ca(t,h,y,!P);return}}Np(t,e,h,i,r,c,y,E,C)}function G0(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],h=c.getSnapshot;c=c.value;try{if(!Le(h(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e,i,r){e&=~Df,e&=~Bs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var c=e;0<c;){var h=31-Qe(c),y=1<<h;r[h]=-1,c&=~y}i!==0&&hl(t,i,e)}function mu(){return(Qt&6)===0?(Ho(0),!1):!0}function Zf(){if(Ut!==null){if(It===0)var t=Ut.return;else t=Ut,Kn=ci=null,ef(t),mr=null,bo=0,t=Ut;for(;t!==null;)ep(t.alternate,t),t=t.return;Ut=null}}function Sr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,u_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Pi=0,Zf(),ie=t,Ut=i=Mn(t.current,null),jt=e,It=0,bn=null,Ta=!1,wr=Wa(t,e),Rf=!1,xr=wn=Df=Bs=Aa=de=0,cn=Uo=null,Uf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var c=31-Qe(r),h=1<<c;e|=t[c],r&=~h}return qi=e,bs(),i}function Tp(t,e){Ot=null,O.H=Lo,e===dr||e===Gl?(e=qd(),It=3):e===Gc?(e=qd(),It=4):It=e===vf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bn=e,Ut===null&&(de=1,iu(t,s(e,t.current)))}function Ap(){var t=vn.current;return t===null?!0:(jt&4194048)===jt?On===null:(jt&62914560)===jt||(jt&536870912)!==0?t===On:!1}function zp(){var t=O.H;return O.H=Lo,t===null?Lo:t}function Lp(){var t=O.A;return O.A=q0,t}function pu(){de=4,Ta||(jt&4194048)!==jt&&vn.current!==null||(wr=!0),(Aa&134217727)===0&&(Bs&134217727)===0||ie===null||Ca(ie,jt,wn,!1)}function qf(t,e,i){var r=Qt;Qt|=2;var c=zp(),h=Lp();(ie!==t||jt!==e)&&(du=null,Sr(t,e)),e=!1;var y=de;t:do try{if(It!==0&&Ut!==null){var E=Ut,C=bn;switch(It){case 8:Zf(),y=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(e=!0);var P=It;if(It=0,bn=null,Tr(t,E,C,P),i&&wr){y=0;break t}break;default:P=It,It=0,bn=null,Tr(t,E,C,P)}}Y0(),y=de;break}catch(I){Tp(t,I)}while(!0);return e&&t.shellSuspendCounter++,Kn=ci=null,Qt=r,O.H=c,O.A=h,Ut===null&&(ie=null,jt=0,bs()),y}function Y0(){for(;Ut!==null;)Cp(Ut)}function V0(t,e){var i=Qt;Qt|=2;var r=zp(),c=Lp();ie!==t||jt!==e?(du=null,hu=Ke()+500,Sr(t,e)):wr=Wa(t,e);t:do try{if(It!==0&&Ut!==null){e=Ut;var h=bn;e:switch(It){case 1:It=0,bn=null,Tr(t,e,h,1);break;case 2:case 9:if(jd(h)){It=0,bn=null,Mp(e);break}e=function(){It!==2&&It!==9||ie!==t||(It=7),hi(t)},h.then(e,e);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:jd(h)?(It=0,bn=null,Mp(e)):(It=0,bn=null,Tr(t,e,h,7));break;case 5:var y=null;switch(Ut.tag){case 26:y=Ut.memoizedState;case 5:case 27:var E=Ut;if(y?pg(y):E.stateNode.complete){It=0,bn=null;var C=E.sibling;if(C!==null)Ut=C;else{var P=E.return;P!==null?(Ut=P,gu(P)):Ut=null}break e}}It=0,bn=null,Tr(t,e,h,5);break;case 6:It=0,bn=null,Tr(t,e,h,6);break;case 8:Zf(),de=6;break t;default:throw Error(f(462))}}K0();break}catch(I){Tp(t,I)}while(!0);return Kn=ci=null,O.H=r,O.A=c,Qt=i,Ut!==null?0:(ie=null,jt=0,bs(),de)}function K0(){for(;Ut!==null&&!ll();)Cp(Ut)}function Cp(t){var e=$m(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?gu(t):Ut=e}function Mp(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Qm(i,e,e.pendingProps,e.type,void 0,jt);break;case 11:e=Qm(i,e,e.pendingProps,e.type.render,e.ref,jt);break;case 5:ef(e);default:ep(i,e),e=Ut=ho(e,qi),e=$m(i,e,qi)}t.memoizedProps=t.pendingProps,e===null?gu(t):Ut=e}function Tr(t,e,i,r){Kn=ci=null,ef(e),mr=null,bo=0;var c=e.return;try{if(R0(t,c,e,i,jt)){de=1,iu(t,s(i,t.current)),Ut=null;return}}catch(h){if(c!==null)throw Ut=c,h;de=1,iu(t,s(i,t.current)),Ut=null;return}e.flags&32768?(Dt||r===1?t=!0:wr||(jt&536870912)!==0?t=!1:(Ta=t=!0,(r===2||r===9||r===3||r===6)&&(r=vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Op(e,t)):gu(e)}function gu(t){var e=t;do{if((e.flags&32768)!==0){Op(e,Ta);return}t=e.return;var i=k0(e.alternate,e,qi);if(i!==null){Ut=i;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);de===0&&(de=5)}function Op(t,e){do{var i=H0(t.alternate,t);if(i!==null){i.flags&=32767,Ut=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=i}while(t!==null);de=6,Ut=null}function Np(t,e,i,r,c,h,y,E,C){t.cancelPendingCommit=null;do yu();while(Ae!==0);if((Qt&6)!==0)throw Error(f(327));if(e!==null){if(e===t.current)throw Error(f(177));if(h=e.lanes|e.childLanes,h|=rr,xc(t,i,h,y,E,C),t===ie&&(Ut=ie=null,jt=0),Er=e,La=t,Pi=i,kf=h,Hf=c,wp=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J0(Qa,function(){return kp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,c=Q.p,Q.p=2,y=Qt,Qt|=4;try{j0(t,e,i)}finally{Qt=y,Q.p=c,O.T=r}}Ae=1,Bp(),Rp(),Dp()}}function Bp(){if(Ae===1){Ae=0;var t=La,e=Er,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var r=Q.p;Q.p=2;var c=Qt;Qt|=4;try{dp(e,t);var h=$f,y=ps(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&nr(E.ownerDocument.documentElement,E)){if(C!==null&&ii(E)){var P=C.start,I=C.end;if(I===void 0&&(I=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(I,E.value.length);else{var W=E.ownerDocument||document,Y=W&&W.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),gt=E.textContent.length,St=Math.min(C.start,gt),ee=C.end===void 0?St:Math.min(C.end,gt);!K.extend&&St>ee&&(y=ee,ee=St,St=y);var D=ms(E,St),B=ms(E,ee);if(D&&B&&(K.rangeCount!==1||K.anchorNode!==D.node||K.anchorOffset!==D.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var Z=W.createRange();Z.setStart(D.node,D.offset),K.removeAllRanges(),St>ee?(K.addRange(Z),K.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),K.addRange(Z))}}}}for(W=[],K=E;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var J=W[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Cu=!!Wf,$f=Wf=null}finally{Qt=c,Q.p=r,O.T=i}}t.current=e,Ae=2}}function Rp(){if(Ae===2){Ae=0;var t=La,e=Er,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var r=Q.p;Q.p=2;var c=Qt;Qt|=4;try{lp(t,e.alternate,e)}finally{Qt=c,Q.p=r,O.T=i}}Ae=3}}function Dp(){if(Ae===4||Ae===3){Ae=0,ul();var t=La,e=Er,i=Pi,r=wp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ae=5:(Ae=0,Er=La=null,Up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(za=null),wt(i),e=e.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=O.T,c=Q.p,Q.p=2,O.T=null;try{for(var h=t.onRecoverableError,y=0;y<r.length;y++){var E=r[y];h(E.value,{componentStack:E.stack})}}finally{O.T=e,Q.p=c}}(Pi&3)!==0&&yu(),hi(t),c=t.pendingLanes,(i&261930)!==0&&(c&42)!==0?t===jf?ko++:(ko=0,jf=t):ko=0,Ho(0)}}function Up(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,vo(e)))}function yu(){return Bp(),Rp(),Dp(),kp()}function kp(){if(Ae!==5)return!1;var t=La,e=kf;kf=0;var i=wt(Pi),r=O.T,c=Q.p;try{Q.p=32>i?32:i,O.T=null,i=Hf,Hf=null;var h=La,y=Pi;if(Ae=0,Er=La=null,Pi=0,(Qt&6)!==0)throw Error(f(331));var E=Qt;if(Qt|=4,vp(h.current),pp(h,h.current,y,i),Qt=E,Ho(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot($i,h)}catch{}return!0}finally{Q.p=c,O.T=r,Up(t,e)}}function Hp(t,e,i){e=s(i,e),e=yf(t.stateNode,e,2),t=wa(t,e,2),t!==null&&(wi(t,2),hi(t))}function Jt(t,e,i){if(t.tag===3)Hp(t,t,i);else for(;e!==null;){if(e.tag===3){Hp(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(za===null||!za.has(r))){t=s(i,t),i=jm(2),r=wa(e,i,2),r!==null&&(Zm(i,r,e,t),wi(r,2),hi(r));break}}e=e.return}}function Pf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new P0;var c=new Set;r.set(e,c)}else c=r.get(e),c===void 0&&(c=new Set,r.set(e,c));c.has(i)||(Rf=!0,c.add(i),t=Q0.bind(null,t,e,i),e.then(t,t))}function Q0(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ie===t&&(jt&i)===i&&(de===4||de===3&&(jt&62914560)===jt&&300>Ke()-fu?(Qt&2)===0&&Sr(t,0):Df|=i,xr===jt&&(xr=0)),hi(t)}function jp(t,e){e===0&&(e=fl()),t=Cn(t,e),t!==null&&(wi(t,e),hi(t))}function X0(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),jp(t,i)}function I0(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(f(314))}r!==null&&r.delete(e),jp(t,i)}function J0(t,e){return Ps(t,e)}var vu=null,Ar=null,Gf=!1,_u=!1,Yf=!1,Ma=0;function hi(t){t!==Ar&&t.next===null&&(Ar===null?vu=Ar=t:Ar=Ar.next=t),_u=!0,Gf||(Gf=!0,W0())}function Ho(t,e){if(!Yf&&_u){Yf=!0;do for(var i=!1,r=vu;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var y=r.suspendedLanes,E=r.pingedLanes;h=(1<<31-Qe(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Gp(r,h))}else h=jt,h=Ys(r,r===ie?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Wa(r,h)||(i=!0,Gp(r,h));r=r.next}while(i);Yf=!1}}function F0(){Zp()}function Zp(){_u=Gf=!1;var t=0;Ma!==0&&l_()&&(t=Ma);for(var e=Ke(),i=null,r=vu;r!==null;){var c=r.next,h=qp(r,e);h===0?(r.next=null,i===null?vu=c:i.next=c,c===null&&(Ar=i)):(i=r,(t!==0||(h&3)!==0)&&(_u=!0)),r=c}Ae!==0&&Ae!==5||Ho(t),Ma!==0&&(Ma=0)}function qp(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Qe(h),E=1<<y,C=c[y];C===-1?((E&i)===0||(E&r)!==0)&&(c[y]=wc(E,e)):C<=e&&(t.expiredLanes|=E),h&=~E}if(e=ie,i=jt,i=Ys(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(It===2||It===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ka(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Wa(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Ka(r),wt(i)){case 2:case 8:i=Gr;break;case 32:i=Qa;break;case 268435456:i=Yr;break;default:i=Qa}return r=Pp.bind(null,t),i=Ps(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Ka(r),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,e){if(Ae!==0&&Ae!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(yu()&&t.callbackNode!==i)return null;var r=jt;return r=Ys(t,t===ie?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Ep(t,r,e),qp(t,Ke()),t.callbackNode!=null&&t.callbackNode===i?Pp.bind(null,t):null)}function Gp(t,e){if(yu())return null;Ep(t,e,!0)}function W0(){c_(function(){(Qt&6)!==0?Ps(Gs,F0):Zp()})}function Vf(){if(Ma===0){var t=fr;t===0&&(t=Ia,Ia<<=1,(Ia&261888)===0&&(Ia=256)),Ma=t}return Ma}function Yp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function Vp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function $0(t,e,i,r,c){if(e==="submit"&&i&&i.stateNode===c){var h=Yp((c[ze]||null).action),y=r.submitter;y&&(e=(e=y[ze]||null)?Yp(e.formAction):y.getAttribute("formAction"),e!==null&&(h=e,y=null));var E=new Is("action","action",null,r,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ma!==0){var C=y?Vp(c,y):new FormData(c);ff(i,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=y?Vp(c,y):new FormData(c),ff(i,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var Kf=0;Kf<ri.length;Kf++){var Qf=ri[Kf],t_=Qf.toLowerCase(),e_=Qf[0].toUpperCase()+Qf.slice(1);an(t_,"on"+e_)}an(ys,"onAnimationEnd"),an(kl,"onAnimationIteration"),an(vs,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Dc,"onTransitionRun"),an(Hl,"onTransitionStart"),an(Uc,"onTransitionCancel"),an(ga,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function Kp(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],c=r.event;r=r.listeners;t:{var h=void 0;if(e)for(var y=r.length-1;0<=y;y--){var E=r[y],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(I){_s(I)}c.currentTarget=null,h=C}else for(y=0;y<r.length;y++){if(E=r[y],C=E.instance,P=E.currentTarget,E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(I){_s(I)}c.currentTarget=null,h=C}}}}function kt(t,e){var i=e[Fn];i===void 0&&(i=e[Fn]=new Set);var r=t+"__bubble";i.has(r)||(Qp(e,t,2,!1),i.add(r))}function Xf(t,e,i){var r=0;e&&(r|=4),Qp(i,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function If(t){if(!t[bu]){t[bu]=!0,yl.forEach(function(i){i!=="selectionchange"&&(n_.has(i)||Xf(i,!1,t),Xf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Xf("selectionchange",!1,e))}}function Qp(t,e,i,r){switch(xg(e)){case 2:var c=M_;break;case 8:c=O_;break;default:c=ch}i=c.bind(null,e,i,t),c=void 0,!ss||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Jf(t,e,i,r,c){var h=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var E=r.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=r.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Ei(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){r=h=y;continue t}E=E.parentNode}}r=r.return}eo(function(){var P=h,I=as(i),W=[];t:{var Y=jl.get(t);if(Y!==void 0){var K=Is,gt=t;switch(t){case"keypress":if(rs(i)===0)break t;case"keydown":case"keyup":K=Tl;break;case"focusin":gt="focus",K=ao;break;case"focusout":gt="blur",K=ao;break;case"beforeblur":case"afterblur":K=ao;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Cc;break;case ys:case kl:case vs:K=so;break;case ga:K=Ll;break;case"scroll":case"scrollend":K=Ht;break;case"wheel":K=Li;break;case"copy":case"cut":case"paste":K=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Al;break;case"toggle":case"beforetoggle":K=us}var St=(e&4)!==0,ee=!St&&(t==="scroll"||t==="scrollend"),D=St?Y!==null?Y+"Capture":null:Y;St=[];for(var B=P,Z;B!==null;){var J=B;if(Z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Z===null||D===null||(J=Ai(B,D),J!=null&&St.push(Zo(B,J,Z))),ee)break;B=B.return}0<St.length&&(Y=new K(Y,gt,null,i,I),W.push({event:Y,listeners:St}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",Y&&i!==Xs&&(gt=i.relatedTarget||i.fromElement)&&(Ei(gt)||gt[xi]))break t;if((K||Y)&&(Y=I.window===I?I:(Y=I.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(gt=i.relatedTarget||i.toElement,K=P,gt=gt?Ei(gt):null,gt!==null&&(ee=p(gt),St=gt.tag,gt!==ee||St!==5&&St!==27&&St!==6)&&(gt=null)):(K=null,gt=P),K!==gt)){if(St=bl,J="onMouseLeave",D="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(St=Al,J="onPointerLeave",D="onPointerEnter",B="pointer"),ee=K==null?Y:Wn(K),Z=gt==null?Y:Wn(gt),Y=new St(J,B+"leave",K,i,I),Y.target=ee,Y.relatedTarget=Z,J=null,Ei(I)===P&&(St=new St(D,B+"enter",gt,i,I),St.target=Z,St.relatedTarget=ee,J=St),ee=J,K&&gt)e:{for(St=i_,D=K,B=gt,Z=0,J=D;J;J=St(J))Z++;J=0;for(var Et=B;Et;Et=St(Et))J++;for(;0<Z-J;)D=St(D),Z--;for(;0<J-Z;)B=St(B),J--;for(;Z--;){if(D===B||B!==null&&D===B.alternate){St=D;break e}D=St(D),B=St(B)}St=null}else St=null;K!==null&&Xp(W,Y,K,St,!1),gt!==null&&ee!==null&&Xp(W,ee,gt,St,!0)}}t:{if(Y=P?Wn(P):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Yt=ds;else if(An(Y))if(Nl)Yt=Rc;else{Yt=Bc;var bt=Gn}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?P&&is(P.elementType)&&(Yt=ds):Yt=ha;if(Yt&&(Yt=Yt(t,P))){Ol(W,Yt,i,I);break t}bt&&bt(t,Y,P),t==="focusout"&&P&&Y.type==="number"&&P.memoizedProps.value!=null&&Zn(Y,"number",Y.value)}switch(bt=P?Wn(P):window,t){case"focusin":(An(bt)||bt.contentEditable==="true")&&(ai=bt,ar=P,gs=null);break;case"focusout":gs=ar=ai=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Dl(W,i,I);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":Dl(W,i,I)}var Bt;if(Fs)t:{switch(t){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else ua?Ml(t,i)&&(Zt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Zt="onCompositionStart");Zt&&(Ws&&i.locale!=="ko"&&(ua||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ua&&(Bt=ei()):(Sn=I,zi="value"in Sn?Sn.value:Sn.textContent,ua=!0)),bt=wu(P,Zt),0<bt.length&&(Zt=new ro(Zt,t,null,i,I),W.push({event:Zt,listeners:bt}),Bt?Zt.data=Bt:(Bt=co(i),Bt!==null&&(Zt.data=Bt)))),(Bt=Oc?yn(t,i):ca(t,i))&&(Zt=wu(P,"onBeforeInput"),0<Zt.length&&(bt=new ro("onBeforeInput","beforeinput",null,i,I),W.push({event:bt,listeners:Zt}),bt.data=Bt)),$0(W,t,P,i,I)}Kp(W,e)})}function Zo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function wu(t,e){for(var i=e+"Capture",r=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ai(t,i),c!=null&&r.unshift(Zo(t,c,h)),c=Ai(t,e),c!=null&&r.push(Zo(t,c,h))),t.tag===3)return r;t=t.return}return[]}function i_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xp(t,e,i,r,c){for(var h=e._reactName,y=[];i!==null&&i!==r;){var E=i,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===r)break;E!==5&&E!==26&&E!==27||P===null||(C=P,c?(P=Ai(i,h),P!=null&&y.unshift(Zo(i,P,C))):c||(P=Ai(i,h),P!=null&&y.push(Zo(i,P,C)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var a_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function Ip(t){return(typeof t=="string"?t:""+t).replace(a_,`
`).replace(s_,"")}function Jp(t,e){return e=Ip(e),Ip(t)===e}function te(t,e,i,r,c,h){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||En(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&En(t,""+r);break;case"className":Wt(t,"class",r);break;case"tabIndex":Wt(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(t,i,r);break;case"style":Ks(t,r,h);break;case"data":if(e!=="object"){Wt(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=sa(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&te(t,e,"name",c.name,c,null),te(t,e,"formEncType",c.formEncType,c,null),te(t,e,"formMethod",c.formMethod,c,null),te(t,e,"formTarget",c.formTarget,c,null)):(te(t,e,"encType",c.encType,c,null),te(t,e,"method",c.method,c,null),te(t,e,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=sa(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=en);break;case"onScroll":r!=null&&kt("scroll",t);break;case"onScrollEnd":r!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(f(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(f(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=sa(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":kt("beforetoggle",t),kt("toggle",t),Rt(t,"popover",r);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Rt(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Qs.get(i)||i,Rt(t,i,r))}}function Ff(t,e,i,r,c,h){switch(i){case"style":Ks(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(f(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(f(60));t.innerHTML=i}}break;case"children":typeof r=="string"?En(t,r):(typeof r=="number"||typeof r=="bigint")&&En(t,""+r);break;case"onScroll":r!=null&&kt("scroll",t);break;case"onScrollEnd":r!=null&&kt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),h=t[ze]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,c);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):Rt(t,i,r)}}}function Ue(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var r=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:te(t,e,h,y,i,null)}}c&&te(t,e,"srcSet",i.srcSet,i,null),r&&te(t,e,"src",i.src,i,null);return;case"input":kt("invalid",t);var E=h=y=c=null,C=null,P=null;for(r in i)if(i.hasOwnProperty(r)){var I=i[r];if(I!=null)switch(r){case"name":c=I;break;case"type":y=I;break;case"checked":C=I;break;case"defaultChecked":P=I;break;case"value":h=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(f(137,e));break;default:te(t,e,r,I,i,null)}}ns(t,h,E,C,P,y,c,!1);return;case"select":kt("invalid",t),r=y=h=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":r=E;default:te(t,e,c,E,i,null)}e=h,i=y,t.multiple=!!r,e!=null?ne(t,!!r,e,!1):i!=null&&ne(t,!!r,i,!0);return;case"textarea":kt("invalid",t),h=c=r=null;for(y in i)if(i.hasOwnProperty(y)&&(E=i[y],E!=null))switch(y){case"value":r=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(f(91));break;default:te(t,e,y,E,i,null)}ia(t,r,c,h);return;case"option":for(C in i)i.hasOwnProperty(C)&&(r=i[C],r!=null)&&(C==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":te(t,e,C,r,i,null));return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(r=0;r<jo.length;r++)kt(jo[r],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(r=i[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:te(t,e,P,r,i,null)}return;default:if(is(e)){for(I in i)i.hasOwnProperty(I)&&(r=i[I],r!==void 0&&Ff(t,e,I,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&te(t,e,E,r,i,null))}function r_(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,C=null,P=null,I=null;for(K in i){var W=i[K];if(i.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=W;default:r.hasOwnProperty(K)||te(t,e,K,null,r,W)}}for(var Y in r){var K=r[Y];if(W=i[Y],r.hasOwnProperty(Y)&&(K!=null||W!=null))switch(Y){case"type":h=K;break;case"name":c=K;break;case"checked":P=K;break;case"defaultChecked":I=K;break;case"value":y=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(f(137,e));break;default:K!==W&&te(t,e,Y,K,r,W)}}Wr(t,y,E,C,P,I,h,c);return;case"select":K=y=E=Y=null;for(h in i)if(C=i[h],i.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":K=C;default:r.hasOwnProperty(h)||te(t,e,h,null,r,C)}for(c in r)if(h=r[c],C=i[c],r.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":Y=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==C&&te(t,e,c,h,r,C)}e=E,i=y,r=K,Y!=null?ne(t,!!i,Y,!1):!!r!=!!i&&(e!=null?ne(t,!!i,e,!0):ne(t,!!i,i?[]:"",!1));return;case"textarea":K=Y=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,e,E,null,r,c)}for(y in r)if(c=r[y],h=i[y],r.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":Y=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(f(91));break;default:c!==h&&te(t,e,y,c,r,h)}ti(t,Y,K);return;case"option":for(var gt in i)Y=i[gt],i.hasOwnProperty(gt)&&Y!=null&&!r.hasOwnProperty(gt)&&(gt==="selected"?t.selected=!1:te(t,e,gt,null,r,Y));for(C in r)Y=r[C],K=i[C],r.hasOwnProperty(C)&&Y!==K&&(Y!=null||K!=null)&&(C==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":te(t,e,C,Y,r,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in i)Y=i[St],i.hasOwnProperty(St)&&Y!=null&&!r.hasOwnProperty(St)&&te(t,e,St,null,r,Y);for(P in r)if(Y=r[P],K=i[P],r.hasOwnProperty(P)&&Y!==K&&(Y!=null||K!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(f(137,e));break;default:te(t,e,P,Y,r,K)}return;default:if(is(e)){for(var ee in i)Y=i[ee],i.hasOwnProperty(ee)&&Y!==void 0&&!r.hasOwnProperty(ee)&&Ff(t,e,ee,void 0,r,Y);for(I in r)Y=r[I],K=i[I],!r.hasOwnProperty(I)||Y===K||Y===void 0&&K===void 0||Ff(t,e,I,Y,r,K);return}}for(var D in i)Y=i[D],i.hasOwnProperty(D)&&Y!=null&&!r.hasOwnProperty(D)&&te(t,e,D,null,r,Y);for(W in r)Y=r[W],K=i[W],!r.hasOwnProperty(W)||Y===K||Y==null&&K==null||te(t,e,W,Y,r,K)}function Fp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var c=i[r],h=c.transferSize,y=c.initiatorType,E=c.duration;if(h&&E&&Fp(y)){for(y=0,E=c.responseEnd,r+=1;r<i.length;r++){var C=i[r],P=C.startTime;if(P>E)break;var I=C.transferSize,W=C.initiatorType;I&&Fp(W)&&(C=C.responseEnd,y+=I*(C<E?1:(E-P)/(C-P)))}if(--r,e+=8*(h+y)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wf=null,$f=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Wp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function th(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eh=null;function l_(){var t=window.event;return t&&t.type==="popstate"?t===eh?!1:(eh=t,!0):(eh=null,!1)}var tg=typeof setTimeout=="function"?setTimeout:void 0,u_=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(t){return eg.resolve(null).then(t).catch(f_)}:tg;function f_(t){setTimeout(function(){throw t})}function Oa(t){return t==="head"}function ng(t,e){var i=e,r=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(c),Mr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")qo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,qo(i);for(var h=i.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[$a]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=y}}else i==="body"&&qo(t.ownerDocument.body);i=c}while(i);Mr(e)}function ig(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function nh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":nh(i),Xr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function h_(t,e,i,r){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[$a])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function d_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Nn(t.nextSibling),t===null))return null;return t}function ag(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Nn(t.nextSibling),t===null))return null;return t}function ih(t){return t.data==="$?"||t.data==="$~"}function ah(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function m_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var sh=null;function sg(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Nn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function rg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function og(t,e,i){switch(e=xu(i),t){case"html":if(t=e.documentElement,!t)throw Error(f(452));return t;case"head":if(t=e.head,!t)throw Error(f(453));return t;case"body":if(t=e.body,!t)throw Error(f(454));return t;default:throw Error(f(451))}}function qo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Xr(t)}var Bn=new Map,lg=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=Q.d;Q.d={f:p_,r:g_,D:y_,C:v_,L:__,m:b_,X:x_,S:w_,M:E_};function p_(){var t=Gi.f(),e=mu();return t||e}function g_(t){var e=ta(t);e!==null&&e.tag===5&&e.type==="form"?Tm(e):Gi.r(t)}var zr=typeof document>"u"?null:document;function ug(t,e,i){var r=zr;if(r&&typeof e=="string"&&e){var c=ae(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),lg.has(c)||(lg.add(c),t={rel:t,crossOrigin:i,href:e},r.querySelector(c)===null&&(e=r.createElement("link"),Ue(e,"link",t),_e(e),r.head.appendChild(e)))}}function y_(t){Gi.D(t),ug("dns-prefetch",t,null)}function v_(t,e){Gi.C(t,e),ug("preconnect",t,e)}function __(t,e,i){Gi.L(t,e,i);var r=zr;if(r&&t&&e){var c='link[rel="preload"][as="'+ae(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+ae(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+ae(i.imageSizes)+'"]')):c+='[href="'+ae(t)+'"]';var h=c;switch(e){case"style":h=Lr(t);break;case"script":h=Cr(t)}Bn.has(h)||(t=S({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Bn.set(h,t),r.querySelector(c)!==null||e==="style"&&r.querySelector(Po(h))||e==="script"&&r.querySelector(Go(h))||(e=r.createElement("link"),Ue(e,"link",t),_e(e),r.head.appendChild(e)))}}function b_(t,e){Gi.m(t,e);var i=zr;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+ae(r)+'"][href="'+ae(t)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Cr(t)}if(!Bn.has(h)&&(t=S({rel:"modulepreload",href:t},e),Bn.set(h,t),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Go(h)))return}r=i.createElement("link"),Ue(r,"link",t),_e(r),i.head.appendChild(r)}}}function w_(t,e,i){Gi.S(t,e,i);var r=zr;if(r&&t){var c=ea(r).hoistableStyles,h=Lr(t);e=e||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=r.querySelector(Po(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Bn.get(h))&&rh(t,i);var C=y=r.createElement("link");_e(C),Ue(C,"link",t),C._p=new Promise(function(P,I){C.onload=P,C.onerror=I}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Su(y,e,r)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function x_(t,e){Gi.X(t,e);var i=zr;if(i&&t){var r=ea(i).hoistableScripts,c=Cr(t),h=r.get(c);h||(h=i.querySelector(Go(c)),h||(t=S({src:t,async:!0},e),(e=Bn.get(c))&&oh(t,e),h=i.createElement("script"),_e(h),Ue(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function E_(t,e){Gi.M(t,e);var i=zr;if(i&&t){var r=ea(i).hoistableScripts,c=Cr(t),h=r.get(c);h||(h=i.querySelector(Go(c)),h||(t=S({src:t,async:!0,type:"module"},e),(e=Bn.get(c))&&oh(t,e),h=i.createElement("script"),_e(h),Ue(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function cg(t,e,i,r){var c=(c=ft.current)?Eu(c):null;if(!c)throw Error(f(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Lr(i.href),i=ea(c).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Lr(i.href);var h=ea(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Po(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Bn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bn.set(t,i),h||S_(c,t,i,y.state))),e&&r===null)throw Error(f(528,""));return y}if(e&&r!==null)throw Error(f(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Cr(i),i=ea(c).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,t))}}function Lr(t){return'href="'+ae(t)+'"'}function Po(t){return'link[rel="stylesheet"]['+t+"]"}function fg(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function S_(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ue(e,"link",i),_e(e),t.head.appendChild(e))}function Cr(t){return'[src="'+ae(t)+'"]'}function Go(t){return"script[async]"+t}function hg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ae(i.href)+'"]');if(r)return e.instance=r,_e(r),r;var c=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),_e(r),Ue(r,"style",c),Su(r,i.precedence,t),e.instance=r;case"stylesheet":c=Lr(i.href);var h=t.querySelector(Po(c));if(h)return e.state.loading|=4,e.instance=h,_e(h),h;r=fg(i),(c=Bn.get(c))&&rh(r,c),h=(t.ownerDocument||t).createElement("link"),_e(h);var y=h;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ue(h,"link",r),e.state.loading|=4,Su(h,i.precedence,t),e.instance=h;case"script":return h=Cr(i.src),(c=t.querySelector(Go(h)))?(e.instance=c,_e(c),c):(r=i,(c=Bn.get(h))&&(r=S({},i),oh(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Ue(c,"link",r),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(f(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Su(r,i.precedence,t));return e.instance}function Su(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,y=0;y<r.length;y++){var E=r[y];if(E.dataset.precedence===e)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function rh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tu=null;function dg(t,e,i){if(Tu===null){var r=new Map,c=Tu=new Map;c.set(i,r)}else c=Tu,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var h=i[c];if(!(h[$a]||h[ve]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(e)||"";y=t+y;var E=r.get(y);E?E.push(h):r.set(y,[h])}}return r}function mg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function T_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function pg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function A_(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Lr(r.href),h=e.querySelector(Po(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Au.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,_e(h);return}h=e.ownerDocument||e,r=fg(r),(c=Bn.get(c))&&rh(r,c),h=h.createElement("link"),_e(h);var y=h;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ue(h,"link",r),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Au.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var lh=0;function z_(t,e){return t.stylesheets&&t.count===0&&Lu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&lh===0&&(lh=62500*o_());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>lh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Lu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,e.forEach(L_,t),zu=null,Au.call(t))}function L_(t,e){if(!(e.state.loading&4)){var i=zu.get(t);if(i)var r=i.get(null);else{i=new Map,zu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),r=y)}r&&i.set(null,r)}c=e.instance,y=c.getAttribute("data-precedence"),h=i.get(y)||r,h===r&&i.set(null,c),i.set(y,c),this.count++,r=Au.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Yo={$$typeof:$,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function C_(t,e,i,r,c,h,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function gg(t,e,i,r,c,h,y,E,C,P,I,W){return t=new C_(t,e,i,y,C,P,I,W,E),e=1,h===!0&&(e|=24),h=Ze(3,null,null,e),t.current=h,h.stateNode=t,e=Zc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:e},Yc(h),t}function yg(t){return t?(t=Ci,t):Ci}function vg(t,e,i,r,c,h){c=yg(c),r.context===null?r.context=c:r.pendingContext=c,r=ba(e),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=wa(t,r,e),i!==null&&(fn(i,t,e),xo(i,t,e))}function _g(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function uh(t,e){_g(t,e),(t=t.alternate)&&_g(t,e)}function bg(t){if(t.tag===13||t.tag===31){var e=Cn(t,67108864);e!==null&&fn(e,t,67108864),uh(t,67108864)}}function wg(t){if(t.tag===13||t.tag===31){var e=xn();e=$e(e);var i=Cn(t,e);i!==null&&fn(i,t,e),uh(t,e)}}var Cu=!0;function M_(t,e,i,r){var c=O.T;O.T=null;var h=Q.p;try{Q.p=2,ch(t,e,i,r)}finally{Q.p=h,O.T=c}}function O_(t,e,i,r){var c=O.T;O.T=null;var h=Q.p;try{Q.p=8,ch(t,e,i,r)}finally{Q.p=h,O.T=c}}function ch(t,e,i,r){if(Cu){var c=fh(r);if(c===null)Jf(t,e,r,Mu,i),Eg(t,r);else if(B_(c,t,e,i,r))r.stopPropagation();else if(Eg(t,r),e&4&&-1<N_.indexOf(t)){for(;c!==null;){var h=ta(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=bi(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-Qe(y);E.entanglements[1]|=C,y&=~C}hi(h),(Qt&6)===0&&(hu=Ke()+500,Ho(0))}}break;case 31:case 13:E=Cn(h,2),E!==null&&fn(E,h,2),mu(),uh(h,2)}if(h=fh(r),h===null&&Jf(t,e,r,Mu,i),h===c)break;c=h}c!==null&&r.stopPropagation()}else Jf(t,e,r,null,i)}}function fh(t){return t=as(t),hh(t)}var Mu=null;function hh(t){if(Mu=null,t=Ei(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=v(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Mu=t,null}function xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gc()){case Gs:return 2;case Gr:return 8;case Qa:case yc:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var dh=!1,Na=null,Ba=null,Ra=null,Vo=new Map,Ko=new Map,Da=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eg(t,e){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function Qo(t,e,i,r,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},e!==null&&(e=ta(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function B_(t,e,i,r,c){switch(e){case"focusin":return Na=Qo(Na,t,e,i,r,c),!0;case"dragenter":return Ba=Qo(Ba,t,e,i,r,c),!0;case"mouseover":return Ra=Qo(Ra,t,e,i,r,c),!0;case"pointerover":var h=c.pointerId;return Vo.set(h,Qo(Vo.get(h)||null,t,e,i,r,c)),!0;case"gotpointercapture":return h=c.pointerId,Ko.set(h,Qo(Ko.get(h)||null,t,e,i,r,c)),!0}return!1}function Sg(t){var e=Ei(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=v(i),e!==null){t.blockedOn=e,Qr(t.priority,function(){wg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,Qr(t.priority,function(){wg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=fh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Xs=r,i.target.dispatchEvent(r),Xs=null}else return e=ta(i),e!==null&&bg(e),t.blockedOn=i,!1;e.shift()}return!0}function Tg(t,e,i){Ou(t)&&i.delete(e)}function R_(){dh=!1,Na!==null&&Ou(Na)&&(Na=null),Ba!==null&&Ou(Ba)&&(Ba=null),Ra!==null&&Ou(Ra)&&(Ra=null),Vo.forEach(Tg),Ko.forEach(Tg)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,dh||(dh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,R_)))}var Bu=null;function Ag(t){Bu!==t&&(Bu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],c=t[e+2];if(typeof r!="function"){if(hh(r||i)===null)continue;break}var h=ta(i);h!==null&&(t.splice(e,3),e-=3,ff(h,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function Mr(t){function e(C){return Nu(C,t)}Na!==null&&Nu(Na,t),Ba!==null&&Nu(Ba,t),Ra!==null&&Nu(Ra,t),Vo.forEach(e),Ko.forEach(e);for(var i=0;i<Da.length;i++){var r=Da[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Da.length&&(i=Da[0],i.blockedOn===null);)Sg(i),i.blockedOn===null&&Da.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],h=i[r+1],y=c[ze]||null;if(typeof h=="function")y||Ag(i);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[ze]||null)E=y.formAction;else if(hh(c)!==null)continue}else E=y.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),Ag(i)}}}function zg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function mh(t){this._internalRoot=t}Ru.prototype.render=mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(f(409));var i=e.current,r=xn();vg(i,r,t,e,null,null)},Ru.prototype.unmount=mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vg(t.current,2,null,t,null,null),mu(),e[xi]=null}};function Ru(t){this._internalRoot=t}Ru.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Da.length&&e!==0&&e<Da[i].priority;i++);Da.splice(i,0,t),i===0&&Sg(t)}};var Lg=o.version;if(Lg!=="19.2.3")throw Error(f(527,Lg,"19.2.3"));Q.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(f(188)):(t=Object.keys(t).join(","),Error(f(268,t)));return t=x(e),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var D_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{$i=Du.inject(D_),Ne=Du}catch{}}return Io.createRoot=function(t,e){if(!d(t))throw Error(f(299));var i=!1,r="",c=Dm,h=Um,y=km;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError)),e=gg(t,1,!1,null,null,i,r,null,c,h,y,zg),t[xi]=e.current,If(t),new mh(e)},Io.hydrateRoot=function(t,e,i){if(!d(t))throw Error(f(299));var r=!1,c="",h=Dm,y=Um,E=km,C=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),e=gg(t,1,!0,e,i??null,r,c,C,h,y,E,zg),e.context=yg(null),i=e.current,r=xn(),r=$e(r),c=ba(r),c.callback=null,wa(i,c,r),i=r,e.current.lanes=i,wi(e,i),hi(e),t[xi]=e.current,If(t),new Ru(e)},Io.version="19.2.3",Io}var Hg;function Y_(){if(Hg)return yh.exports;Hg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),yh.exports=G_(),yh.exports}var V_=Y_();const K_=Wh(V_);function jg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function by(a,...o){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(o.length>0&&!o.includes(a.length))throw new Error(`Expected Uint8Array of length ${o}, not of length=${a.length}`)}function Q_(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jg(a.outputLen),jg(a.blockLen)}function Gu(a,o=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(o&&a.finished)throw new Error("Hash#digest() has already been called")}function X_(a,o){by(a);const l=o.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const wh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const wy=a=>a instanceof Uint8Array,xh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),di=(a,o)=>a<<32-o|a>>>o,I_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!I_)throw new Error("Non little-endian hardware is not supported");function J_(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function td(a){if(typeof a=="string"&&(a=J_(a)),!wy(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function F_(...a){const o=new Uint8Array(a.reduce((f,d)=>f+d.length,0));let l=0;return a.forEach(f=>{if(!wy(f))throw new Error("Uint8Array expected");o.set(f,l),l+=f.length}),o}let xy=class{clone(){return this._cloneInto()}};function W_(a){const o=f=>a().update(td(f)).digest(),l=a();return o.outputLen=l.outputLen,o.blockLen=l.blockLen,o.create=()=>a(),o}function Ey(a=32){if(wh&&typeof wh.getRandomValues=="function")return wh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function $_(a,o,l,f){if(typeof a.setBigUint64=="function")return a.setBigUint64(o,l,f);const d=BigInt(32),p=BigInt(4294967295),v=Number(l>>d&p),b=Number(l&p),_=f?4:0,x=f?0:4;a.setUint32(o+_,v,f),a.setUint32(o+x,b,f)}let tb=class extends xy{constructor(o,l,f,d){super(),this.blockLen=o,this.outputLen=l,this.padOffset=f,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=xh(this.buffer)}update(o){Gu(this);const{view:l,buffer:f,blockLen:d}=this;o=td(o);const p=o.length;for(let v=0;v<p;){const b=Math.min(d-this.pos,p-v);if(b===d){const _=xh(o);for(;d<=p-v;v+=d)this.process(_,v);continue}f.set(o.subarray(v,v+b),this.pos),this.pos+=b,v+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){Gu(this),X_(o,this),this.finished=!0;const{buffer:l,view:f,blockLen:d,isLE:p}=this;let{pos:v}=this;l[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>d-v&&(this.process(f,0),v=0);for(let S=v;S<d;S++)l[S]=0;$_(f,d-8,BigInt(this.length*8),p),this.process(f,0);const b=xh(o),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)b.setUint32(4*S,T[S],p)}digest(){const{buffer:o,outputLen:l}=this;this.digestInto(o);const f=o.slice(0,l);return this.destroy(),f}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:l,buffer:f,length:d,finished:p,destroyed:v,pos:b}=this;return o.length=d,o.pos=b,o.finished=p,o.destroyed=v,d%l&&o.buffer.set(f),o}};const eb=(a,o,l)=>a&o^~a&l,nb=(a,o,l)=>a&o^a&l^o&l,ib=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ka=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ha=new Uint32Array(64);let ab=class extends tb{constructor(){super(64,32,8,!1),this.A=ka[0]|0,this.B=ka[1]|0,this.C=ka[2]|0,this.D=ka[3]|0,this.E=ka[4]|0,this.F=ka[5]|0,this.G=ka[6]|0,this.H=ka[7]|0}get(){const{A:o,B:l,C:f,D:d,E:p,F:v,G:b,H:_}=this;return[o,l,f,d,p,v,b,_]}set(o,l,f,d,p,v,b,_){this.A=o|0,this.B=l|0,this.C=f|0,this.D=d|0,this.E=p|0,this.F=v|0,this.G=b|0,this.H=_|0}process(o,l){for(let S=0;S<16;S++,l+=4)Ha[S]=o.getUint32(l,!1);for(let S=16;S<64;S++){const R=Ha[S-15],q=Ha[S-2],H=di(R,7)^di(R,18)^R>>>3,M=di(q,17)^di(q,19)^q>>>10;Ha[S]=M+Ha[S-7]+H+Ha[S-16]|0}let{A:f,B:d,C:p,D:v,E:b,F:_,G:x,H:T}=this;for(let S=0;S<64;S++){const R=di(b,6)^di(b,11)^di(b,25),q=T+R+eb(b,_,x)+ib[S]+Ha[S]|0,M=(di(f,2)^di(f,13)^di(f,22))+nb(f,d,p)|0;T=x,x=_,_=b,b=v+q|0,v=p,p=d,d=f,f=q+M|0}f=f+this.A|0,d=d+this.B|0,p=p+this.C|0,v=v+this.D|0,b=b+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(f,d,p,v,b,_,x,T)}roundClean(){Ha.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Rh=W_(()=>new ab);const Sy=BigInt(0),Wu=BigInt(1),sb=BigInt(2),$u=a=>a instanceof Uint8Array,rb=Array.from({length:256},(a,o)=>o.toString(16).padStart(2,"0"));function Dr(a){if(!$u(a))throw new Error("Uint8Array expected");let o="";for(let l=0;l<a.length;l++)o+=rb[a[l]];return o}function Ty(a){const o=a.toString(16);return o.length&1?`0${o}`:o}function ed(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Ur(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const o=a.length;if(o%2)throw new Error("padded hex string expected, got unpadded hex of length "+o);const l=new Uint8Array(o/2);for(let f=0;f<l.length;f++){const d=f*2,p=a.slice(d,d+2),v=Number.parseInt(p,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");l[f]=v}return l}function hn(a){return ed(Dr(a))}function nd(a){if(!$u(a))throw new Error("Uint8Array expected");return ed(Dr(Uint8Array.from(a).reverse()))}function Ga(a,o){return Ur(a.toString(16).padStart(o*2,"0"))}function id(a,o){return Ga(a,o).reverse()}function ob(a){return Ur(Ty(a))}function Pe(a,o,l){let f;if(typeof o=="string")try{f=Ur(o)}catch(p){throw new Error(`${a} must be valid hex string, got "${o}". Cause: ${p}`)}else if($u(o))f=Uint8Array.from(o);else throw new Error(`${a} must be hex string or Uint8Array`);const d=f.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return f}function js(...a){const o=new Uint8Array(a.reduce((f,d)=>f+d.length,0));let l=0;return a.forEach(f=>{if(!$u(f))throw new Error("Uint8Array expected");o.set(f,l),l+=f.length}),o}function lb(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==o[l])return!1;return!0}function ub(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function cb(a){let o;for(o=0;a>Sy;a>>=Wu,o+=1);return o}function fb(a,o){return a>>BigInt(o)&Wu}const hb=(a,o,l)=>a|(l?Wu:Sy)<<BigInt(o),ad=a=>(sb<<BigInt(a-1))-Wu,Eh=a=>new Uint8Array(a),Zg=a=>Uint8Array.from(a);function Ay(a,o,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof o!="number"||o<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let f=Eh(a),d=Eh(a),p=0;const v=()=>{f.fill(1),d.fill(0),p=0},b=(...S)=>l(d,f,...S),_=(S=Eh())=>{d=b(Zg([0]),S),f=b(),S.length!==0&&(d=b(Zg([1]),S),f=b())},x=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let S=0;const R=[];for(;S<o;){f=b();const q=f.slice();R.push(q),S+=f.length}return js(...R)};return(S,R)=>{v(),_(S);let q;for(;!(q=R(x()));)_();return v(),q}}const db={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,o)=>o.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function rl(a,o,l={}){const f=(d,p,v)=>{const b=db[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const _=a[d];if(!(v&&_===void 0)&&!b(_,a))throw new Error(`Invalid param ${String(d)}=${_} (${typeof _}), expected ${p}`)};for(const[d,p]of Object.entries(o))f(d,p,!1);for(const[d,p]of Object.entries(l))f(d,p,!0);return a}const mb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:fb,bitLen:cb,bitMask:ad,bitSet:hb,bytesToHex:Dr,bytesToNumberBE:hn,bytesToNumberLE:nd,concatBytes:js,createHmacDrbg:Ay,ensureBytes:Pe,equalBytes:lb,hexToBytes:Ur,hexToNumber:ed,numberToBytesBE:Ga,numberToBytesLE:id,numberToHexUnpadded:Ty,numberToVarBytesBE:ob,utf8ToBytes:ub,validateObject:rl},Symbol.toStringTag,{value:"Module"}));const Oe=BigInt(0),ge=BigInt(1),Us=BigInt(2),pb=BigInt(3),Dh=BigInt(4),qg=BigInt(5),Pg=BigInt(8);BigInt(9);BigInt(16);function ke(a,o){const l=a%o;return l>=Oe?l:o+l}function gb(a,o,l){if(l<=Oe||o<Oe)throw new Error("Expected power/modulo > 0");if(l===ge)return Oe;let f=ge;for(;o>Oe;)o&ge&&(f=f*a%l),a=a*a%l,o>>=ge;return f}function Rn(a,o,l){let f=a;for(;o-- >Oe;)f*=f,f%=l;return f}function Uh(a,o){if(a===Oe||o<=Oe)throw new Error(`invert: expected positive integers, got n=${a} mod=${o}`);let l=ke(a,o),f=o,d=Oe,p=ge;for(;l!==Oe;){const b=f/l,_=f%l,x=d-p*b;f=l,l=_,d=p,p=x}if(f!==ge)throw new Error("invert: does not exist");return ke(d,o)}function yb(a){const o=(a-ge)/Us;let l,f,d;for(l=a-ge,f=0;l%Us===Oe;l/=Us,f++);for(d=Us;d<a&&gb(d,o,a)!==a-ge;d++);if(f===1){const v=(a+ge)/Dh;return function(_,x){const T=_.pow(x,v);if(!_.eql(_.sqr(T),x))throw new Error("Cannot find square root");return T}}const p=(l+ge)/Us;return function(b,_){if(b.pow(_,o)===b.neg(b.ONE))throw new Error("Cannot find square root");let x=f,T=b.pow(b.mul(b.ONE,d),l),S=b.pow(_,p),R=b.pow(_,l);for(;!b.eql(R,b.ONE);){if(b.eql(R,b.ZERO))return b.ZERO;let q=1;for(let M=b.sqr(R);q<x&&!b.eql(M,b.ONE);q++)M=b.sqr(M);const H=b.pow(T,ge<<BigInt(x-q-1));T=b.sqr(H),S=b.mul(S,H),R=b.mul(R,T),x=q}return S}}function vb(a){if(a%Dh===pb){const o=(a+ge)/Dh;return function(f,d){const p=f.pow(d,o);if(!f.eql(f.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%Pg===qg){const o=(a-qg)/Pg;return function(f,d){const p=f.mul(d,Us),v=f.pow(p,o),b=f.mul(d,v),_=f.mul(f.mul(b,Us),v),x=f.mul(b,f.sub(_,f.ONE));if(!f.eql(f.sqr(x),d))throw new Error("Cannot find square root");return x}}return yb(a)}const _b=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bb(a){const o={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=_b.reduce((f,d)=>(f[d]="function",f),o);return rl(a,l)}function wb(a,o,l){if(l<Oe)throw new Error("Expected power > 0");if(l===Oe)return a.ONE;if(l===ge)return o;let f=a.ONE,d=o;for(;l>Oe;)l&ge&&(f=a.mul(f,d)),d=a.sqr(d),l>>=ge;return f}function xb(a,o){const l=new Array(o.length),f=o.reduce((p,v,b)=>a.is0(v)?p:(l[b]=p,a.mul(p,v)),a.ONE),d=a.inv(f);return o.reduceRight((p,v,b)=>a.is0(v)?p:(l[b]=a.mul(p,l[b]),a.mul(p,v)),d),l}function zy(a,o){const l=o!==void 0?o:a.toString(2).length,f=Math.ceil(l/8);return{nBitLength:l,nByteLength:f}}function Eb(a,o,l=!1,f={}){if(a<=Oe)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=zy(a,o);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const v=vb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:ad(d),ZERO:Oe,ONE:ge,create:_=>ke(_,a),isValid:_=>{if(typeof _!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof _}`);return Oe<=_&&_<a},is0:_=>_===Oe,isOdd:_=>(_&ge)===ge,neg:_=>ke(-_,a),eql:(_,x)=>_===x,sqr:_=>ke(_*_,a),add:(_,x)=>ke(_+x,a),sub:(_,x)=>ke(_-x,a),mul:(_,x)=>ke(_*x,a),pow:(_,x)=>wb(b,_,x),div:(_,x)=>ke(_*Uh(x,a),a),sqrN:_=>_*_,addN:(_,x)=>_+x,subN:(_,x)=>_-x,mulN:(_,x)=>_*x,inv:_=>Uh(_,a),sqrt:f.sqrt||(_=>v(b,_)),invertBatch:_=>xb(b,_),cmov:(_,x,T)=>T?x:_,toBytes:_=>l?id(_,p):Ga(_,p),fromBytes:_=>{if(_.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${_.length}`);return l?nd(_):hn(_)}});return Object.freeze(b)}function Ly(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const o=a.toString(2).length;return Math.ceil(o/8)}function Cy(a){const o=Ly(a);return o+Math.ceil(o/2)}function Sb(a,o,l=!1){const f=a.length,d=Ly(o),p=Cy(o);if(f<16||f<p||f>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${f}`);const v=l?hn(a):nd(a),b=ke(v,o-ge)+ge;return l?id(b,d):Ga(b,d)}const Tb=BigInt(0),Sh=BigInt(1);function Ab(a,o){const l=(d,p)=>{const v=p.negate();return d?v:p},f=d=>{const p=Math.ceil(o/d)+1,v=2**(d-1);return{windows:p,windowSize:v}};return{constTimeNegate:l,unsafeLadder(d,p){let v=a.ZERO,b=d;for(;p>Tb;)p&Sh&&(v=v.add(b)),b=b.double(),p>>=Sh;return v},precomputeWindow(d,p){const{windows:v,windowSize:b}=f(p),_=[];let x=d,T=x;for(let S=0;S<v;S++){T=x,_.push(T);for(let R=1;R<b;R++)T=T.add(x),_.push(T);x=T.double()}return _},wNAF(d,p,v){const{windows:b,windowSize:_}=f(d);let x=a.ZERO,T=a.BASE;const S=BigInt(2**d-1),R=2**d,q=BigInt(d);for(let H=0;H<b;H++){const M=H*_;let U=Number(v&S);v>>=q,U>_&&(U-=R,v+=Sh);const V=M,it=M+Math.abs(U)-1,$=H%2!==0,mt=U<0;U===0?T=T.add(l($,p[V])):x=x.add(l(mt,p[it]))}return{p:x,f:T}},wNAFCached(d,p,v,b){const _=d._WINDOW_SIZE||1;let x=p.get(d);return x||(x=this.precomputeWindow(d,_),_!==1&&p.set(d,b(x))),this.wNAF(_,x,v)}}}function My(a){return bb(a.Fp),rl(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zy(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function zb(a){const o=My(a);rl(o,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:f,a:d}=o;if(l){if(!f.eql(d,f.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...o})}const{bytesToNumberBE:Lb,hexToBytes:Cb}=mb,Hs={Err:class extends Error{constructor(o=""){super(o)}},_parseInt(a){const{Err:o}=Hs;if(a.length<2||a[0]!==2)throw new o("Invalid signature integer tag");const l=a[1],f=a.subarray(2,l+2);if(!l||f.length!==l)throw new o("Invalid signature integer: wrong length");if(f[0]&128)throw new o("Invalid signature integer: negative");if(f[0]===0&&!(f[1]&128))throw new o("Invalid signature integer: unnecessary leading zero");return{d:Lb(f),l:a.subarray(l+2)}},toSig(a){const{Err:o}=Hs,l=typeof a=="string"?Cb(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let f=l.length;if(f<2||l[0]!=48)throw new o("Invalid signature tag");if(l[1]!==f-2)throw new o("Invalid signature: incorrect length");const{d,l:p}=Hs._parseInt(l.subarray(2)),{d:v,l:b}=Hs._parseInt(p);if(b.length)throw new o("Invalid signature: left bytes after parsing");return{r:d,s:v}},hexFromSig(a){const o=x=>Number.parseInt(x[0],16)&8?"00"+x:x,l=x=>{const T=x.toString(16);return T.length&1?`0${T}`:T},f=o(l(a.s)),d=o(l(a.r)),p=f.length/2,v=d.length/2,b=l(p),_=l(v);return`30${l(v+p+4)}02${_}${d}02${b}${f}`}},Ki=BigInt(0),Dn=BigInt(1);BigInt(2);const Gg=BigInt(3);BigInt(4);function Mb(a){const o=zb(a),{Fp:l}=o,f=o.toBytes||((H,M,U)=>{const V=M.toAffine();return js(Uint8Array.from([4]),l.toBytes(V.x),l.toBytes(V.y))}),d=o.fromBytes||(H=>{const M=H.subarray(1),U=l.fromBytes(M.subarray(0,l.BYTES)),V=l.fromBytes(M.subarray(l.BYTES,2*l.BYTES));return{x:U,y:V}});function p(H){const{a:M,b:U}=o,V=l.sqr(H),it=l.mul(V,H);return l.add(l.add(it,l.mul(H,M)),U)}if(!l.eql(l.sqr(o.Gy),p(o.Gx)))throw new Error("bad generator point: equation left != right");function v(H){return typeof H=="bigint"&&Ki<H&&H<o.n}function b(H){if(!v(H))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function _(H){const{allowedPrivateKeyLengths:M,nByteLength:U,wrapPrivateKey:V,n:it}=o;if(M&&typeof H!="bigint"){if(H instanceof Uint8Array&&(H=Dr(H)),typeof H!="string"||!M.includes(H.length))throw new Error("Invalid key");H=H.padStart(U*2,"0")}let $;try{$=typeof H=="bigint"?H:hn(Pe("private key",H,U))}catch{throw new Error(`private key must be ${U} bytes, hex or bigint, not ${typeof H}`)}return V&&($=ke($,it)),b($),$}const x=new Map;function T(H){if(!(H instanceof S))throw new Error("ProjectivePoint expected")}class S{constructor(M,U,V){if(this.px=M,this.py=U,this.pz=V,M==null||!l.isValid(M))throw new Error("x required");if(U==null||!l.isValid(U))throw new Error("y required");if(V==null||!l.isValid(V))throw new Error("z required")}static fromAffine(M){const{x:U,y:V}=M||{};if(!M||!l.isValid(U)||!l.isValid(V))throw new Error("invalid affine point");if(M instanceof S)throw new Error("projective point not allowed");const it=$=>l.eql($,l.ZERO);return it(U)&&it(V)?S.ZERO:new S(U,V,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const U=l.invertBatch(M.map(V=>V.pz));return M.map((V,it)=>V.toAffine(U[it])).map(S.fromAffine)}static fromHex(M){const U=S.fromAffine(d(Pe("pointHex",M)));return U.assertValidity(),U}static fromPrivateKey(M){return S.BASE.multiply(_(M))}_setWindowSize(M){this._WINDOW_SIZE=M,x.delete(this)}assertValidity(){if(this.is0()){if(o.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:M,y:U}=this.toAffine();if(!l.isValid(M)||!l.isValid(U))throw new Error("bad point: x or y not FE");const V=l.sqr(U),it=p(M);if(!l.eql(V,it))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:M}=this.toAffine();if(l.isOdd)return!l.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){T(M);const{px:U,py:V,pz:it}=this,{px:$,py:mt,pz:pt}=M,st=l.eql(l.mul(U,pt),l.mul($,it)),tt=l.eql(l.mul(V,pt),l.mul(mt,it));return st&&tt}negate(){return new S(this.px,l.neg(this.py),this.pz)}double(){const{a:M,b:U}=o,V=l.mul(U,Gg),{px:it,py:$,pz:mt}=this;let pt=l.ZERO,st=l.ZERO,tt=l.ZERO,at=l.mul(it,it),vt=l.mul($,$),yt=l.mul(mt,mt),lt=l.mul(it,$);return lt=l.add(lt,lt),tt=l.mul(it,mt),tt=l.add(tt,tt),pt=l.mul(M,tt),st=l.mul(V,yt),st=l.add(pt,st),pt=l.sub(vt,st),st=l.add(vt,st),st=l.mul(pt,st),pt=l.mul(lt,pt),tt=l.mul(V,tt),yt=l.mul(M,yt),lt=l.sub(at,yt),lt=l.mul(M,lt),lt=l.add(lt,tt),tt=l.add(at,at),at=l.add(tt,at),at=l.add(at,yt),at=l.mul(at,lt),st=l.add(st,at),yt=l.mul($,mt),yt=l.add(yt,yt),at=l.mul(yt,lt),pt=l.sub(pt,at),tt=l.mul(yt,vt),tt=l.add(tt,tt),tt=l.add(tt,tt),new S(pt,st,tt)}add(M){T(M);const{px:U,py:V,pz:it}=this,{px:$,py:mt,pz:pt}=M;let st=l.ZERO,tt=l.ZERO,at=l.ZERO;const vt=o.a,yt=l.mul(o.b,Gg);let lt=l.mul(U,$),_t=l.mul(V,mt),zt=l.mul(it,pt),Lt=l.add(U,V),nt=l.add($,mt);Lt=l.mul(Lt,nt),nt=l.add(lt,_t),Lt=l.sub(Lt,nt),nt=l.add(U,it);let O=l.add($,pt);return nt=l.mul(nt,O),O=l.add(lt,zt),nt=l.sub(nt,O),O=l.add(V,it),st=l.add(mt,pt),O=l.mul(O,st),st=l.add(_t,zt),O=l.sub(O,st),at=l.mul(vt,nt),st=l.mul(yt,zt),at=l.add(st,at),st=l.sub(_t,at),at=l.add(_t,at),tt=l.mul(st,at),_t=l.add(lt,lt),_t=l.add(_t,lt),zt=l.mul(vt,zt),nt=l.mul(yt,nt),_t=l.add(_t,zt),zt=l.sub(lt,zt),zt=l.mul(vt,zt),nt=l.add(nt,zt),lt=l.mul(_t,nt),tt=l.add(tt,lt),lt=l.mul(O,nt),st=l.mul(Lt,st),st=l.sub(st,lt),lt=l.mul(Lt,_t),at=l.mul(O,at),at=l.add(at,lt),new S(st,tt,at)}subtract(M){return this.add(M.negate())}is0(){return this.equals(S.ZERO)}wNAF(M){return q.wNAFCached(this,x,M,U=>{const V=l.invertBatch(U.map(it=>it.pz));return U.map((it,$)=>it.toAffine(V[$])).map(S.fromAffine)})}multiplyUnsafe(M){const U=S.ZERO;if(M===Ki)return U;if(b(M),M===Dn)return this;const{endo:V}=o;if(!V)return q.unsafeLadder(this,M);let{k1neg:it,k1:$,k2neg:mt,k2:pt}=V.splitScalar(M),st=U,tt=U,at=this;for(;$>Ki||pt>Ki;)$&Dn&&(st=st.add(at)),pt&Dn&&(tt=tt.add(at)),at=at.double(),$>>=Dn,pt>>=Dn;return it&&(st=st.negate()),mt&&(tt=tt.negate()),tt=new S(l.mul(tt.px,V.beta),tt.py,tt.pz),st.add(tt)}multiply(M){b(M);let U=M,V,it;const{endo:$}=o;if($){const{k1neg:mt,k1:pt,k2neg:st,k2:tt}=$.splitScalar(U);let{p:at,f:vt}=this.wNAF(pt),{p:yt,f:lt}=this.wNAF(tt);at=q.constTimeNegate(mt,at),yt=q.constTimeNegate(st,yt),yt=new S(l.mul(yt.px,$.beta),yt.py,yt.pz),V=at.add(yt),it=vt.add(lt)}else{const{p:mt,f:pt}=this.wNAF(U);V=mt,it=pt}return S.normalizeZ([V,it])[0]}multiplyAndAddUnsafe(M,U,V){const it=S.BASE,$=(pt,st)=>st===Ki||st===Dn||!pt.equals(it)?pt.multiplyUnsafe(st):pt.multiply(st),mt=$(this,U).add($(M,V));return mt.is0()?void 0:mt}toAffine(M){const{px:U,py:V,pz:it}=this,$=this.is0();M==null&&(M=$?l.ONE:l.inv(it));const mt=l.mul(U,M),pt=l.mul(V,M),st=l.mul(it,M);if($)return{x:l.ZERO,y:l.ZERO};if(!l.eql(st,l.ONE))throw new Error("invZ was invalid");return{x:mt,y:pt}}isTorsionFree(){const{h:M,isTorsionFree:U}=o;if(M===Dn)return!0;if(U)return U(S,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:U}=o;return M===Dn?this:U?U(S,this):this.multiplyUnsafe(o.h)}toRawBytes(M=!0){return this.assertValidity(),f(S,this,M)}toHex(M=!0){return Dr(this.toRawBytes(M))}}S.BASE=new S(o.Gx,o.Gy,l.ONE),S.ZERO=new S(l.ZERO,l.ONE,l.ZERO);const R=o.nBitLength,q=Ab(S,o.endo?Math.ceil(R/2):R);return{CURVE:o,ProjectivePoint:S,normPrivateKeyToScalar:_,weierstrassEquation:p,isWithinCurveOrder:v}}function Ob(a){const o=My(a);return rl(o,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...o})}function Nb(a){const o=Ob(a),{Fp:l,n:f}=o,d=l.BYTES+1,p=2*l.BYTES+1;function v(nt){return Ki<nt&&nt<l.ORDER}function b(nt){return ke(nt,f)}function _(nt){return Uh(nt,f)}const{ProjectivePoint:x,normPrivateKeyToScalar:T,weierstrassEquation:S,isWithinCurveOrder:R}=Mb({...o,toBytes(nt,O,Q){const X=O.toAffine(),ht=l.toBytes(X.x),et=js;return Q?et(Uint8Array.from([O.hasEvenY()?2:3]),ht):et(Uint8Array.from([4]),ht,l.toBytes(X.y))},fromBytes(nt){const O=nt.length,Q=nt[0],X=nt.subarray(1);if(O===d&&(Q===2||Q===3)){const ht=hn(X);if(!v(ht))throw new Error("Point is not on curve");const et=S(ht);let A=l.sqrt(et);const j=(A&Dn)===Dn;return(Q&1)===1!==j&&(A=l.neg(A)),{x:ht,y:A}}else if(O===p&&Q===4){const ht=l.fromBytes(X.subarray(0,l.BYTES)),et=l.fromBytes(X.subarray(l.BYTES,2*l.BYTES));return{x:ht,y:et}}else throw new Error(`Point of length ${O} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),q=nt=>Dr(Ga(nt,o.nByteLength));function H(nt){const O=f>>Dn;return nt>O}function M(nt){return H(nt)?b(-nt):nt}const U=(nt,O,Q)=>hn(nt.slice(O,Q));class V{constructor(O,Q,X){this.r=O,this.s=Q,this.recovery=X,this.assertValidity()}static fromCompact(O){const Q=o.nByteLength;return O=Pe("compactSignature",O,Q*2),new V(U(O,0,Q),U(O,Q,2*Q))}static fromDER(O){const{r:Q,s:X}=Hs.toSig(Pe("DER",O));return new V(Q,X)}assertValidity(){if(!R(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!R(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new V(this.r,this.s,O)}recoverPublicKey(O){const{r:Q,s:X,recovery:ht}=this,et=tt(Pe("msgHash",O));if(ht==null||![0,1,2,3].includes(ht))throw new Error("recovery id invalid");const A=ht===2||ht===3?Q+o.n:Q;if(A>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(ht&1)===0?"02":"03",rt=x.fromHex(j+q(A)),ot=_(A),ct=b(-et*ot),ft=b(X*ot),Tt=x.BASE.multiplyAndAddUnsafe(rt,ct,ft);if(!Tt)throw new Error("point at infinify");return Tt.assertValidity(),Tt}hasHighS(){return H(this.s)}normalizeS(){return this.hasHighS()?new V(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return Ur(this.toDERHex())}toDERHex(){return Hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ur(this.toCompactHex())}toCompactHex(){return q(this.r)+q(this.s)}}const it={isValidPrivateKey(nt){try{return T(nt),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const nt=Cy(o.n);return Sb(o.randomBytes(nt),o.n)},precompute(nt=8,O=x.BASE){return O._setWindowSize(nt),O.multiply(BigInt(3)),O}};function $(nt,O=!0){return x.fromPrivateKey(nt).toRawBytes(O)}function mt(nt){const O=nt instanceof Uint8Array,Q=typeof nt=="string",X=(O||Q)&&nt.length;return O?X===d||X===p:Q?X===2*d||X===2*p:nt instanceof x}function pt(nt,O,Q=!0){if(mt(nt))throw new Error("first arg must be private key");if(!mt(O))throw new Error("second arg must be public key");return x.fromHex(O).multiply(T(nt)).toRawBytes(Q)}const st=o.bits2int||function(nt){const O=hn(nt),Q=nt.length*8-o.nBitLength;return Q>0?O>>BigInt(Q):O},tt=o.bits2int_modN||function(nt){return b(st(nt))},at=ad(o.nBitLength);function vt(nt){if(typeof nt!="bigint")throw new Error("bigint expected");if(!(Ki<=nt&&nt<at))throw new Error(`bigint expected < 2^${o.nBitLength}`);return Ga(nt,o.nByteLength)}function yt(nt,O,Q=lt){if(["recovered","canonical"].some(qt=>qt in Q))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:ht}=o;let{lowS:et,prehash:A,extraEntropy:j}=Q;et==null&&(et=!0),nt=Pe("msgHash",nt),A&&(nt=Pe("prehashed msgHash",X(nt)));const rt=tt(nt),ot=T(O),ct=[vt(ot),vt(rt)];if(j!=null){const qt=j===!0?ht(l.BYTES):j;ct.push(Pe("extraEntropy",qt))}const ft=js(...ct),Tt=rt;function Ft(qt){const He=st(qt);if(!R(He))return;const kn=_(He),ye=x.BASE.multiply(He).toAffine(),dn=b(ye.x);if(dn===Ki)return;const We=b(kn*b(Tt+dn*ot));if(We===Ki)return;let vi=(ye.x===dn?0:2)|Number(ye.y&Dn),_i=We;return et&&H(We)&&(_i=M(We),vi^=1),new V(dn,_i,vi)}return{seed:ft,k2sig:Ft}}const lt={lowS:o.lowS,prehash:!1},_t={lowS:o.lowS,prehash:!1};function zt(nt,O,Q=lt){const{seed:X,k2sig:ht}=yt(nt,O,Q),et=o;return Ay(et.hash.outputLen,et.nByteLength,et.hmac)(X,ht)}x.BASE._setWindowSize(8);function Lt(nt,O,Q,X=_t){const ht=nt;if(O=Pe("msgHash",O),Q=Pe("publicKey",Q),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:et,prehash:A}=X;let j,rt;try{if(typeof ht=="string"||ht instanceof Uint8Array)try{j=V.fromDER(ht)}catch(ye){if(!(ye instanceof Hs.Err))throw ye;j=V.fromCompact(ht)}else if(typeof ht=="object"&&typeof ht.r=="bigint"&&typeof ht.s=="bigint"){const{r:ye,s:dn}=ht;j=new V(ye,dn)}else throw new Error("PARSE");rt=x.fromHex(Q)}catch(ye){if(ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(et&&j.hasHighS())return!1;A&&(O=o.hash(O));const{r:ot,s:ct}=j,ft=tt(O),Tt=_(ct),Ft=b(ft*Tt),qt=b(ot*Tt),He=x.BASE.multiplyAndAddUnsafe(rt,Ft,qt)?.toAffine();return He?b(He.x)===ot:!1}return{CURVE:o,getPublicKey:$,getSharedSecret:pt,sign:zt,verify:Lt,ProjectivePoint:x,Signature:V,utils:it}}let Oy=class extends xy{constructor(o,l){super(),this.finished=!1,this.destroyed=!1,Q_(o);const f=td(l);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(f.length>d?o.create().update(f).digest():f);for(let v=0;v<p.length;v++)p[v]^=54;this.iHash.update(p),this.oHash=o.create();for(let v=0;v<p.length;v++)p[v]^=106;this.oHash.update(p),p.fill(0)}update(o){return Gu(this),this.iHash.update(o),this}digestInto(o){Gu(this),by(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:f,finished:d,destroyed:p,blockLen:v,outputLen:b}=this;return o=o,o.finished=d,o.destroyed=p,o.blockLen=v,o.outputLen=b,o.oHash=l._cloneInto(o.oHash),o.iHash=f._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Ny=(a,o,l)=>new Oy(a,o).update(l).digest();Ny.create=(a,o)=>new Oy(a,o);function Bb(a){return{hash:a,hmac:(o,...l)=>Ny(a,o,F_(...l)),randomBytes:Ey}}function Rb(a,o){const l=f=>Nb({...a,...Bb(f)});return Object.freeze({...l(o),create:l})}const tc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),By=BigInt(1),Vu=BigInt(2),Yg=(a,o)=>(a+o/Vu)/o;function Ry(a){const o=tc,l=BigInt(3),f=BigInt(6),d=BigInt(11),p=BigInt(22),v=BigInt(23),b=BigInt(44),_=BigInt(88),x=a*a*a%o,T=x*x*a%o,S=Rn(T,l,o)*T%o,R=Rn(S,l,o)*T%o,q=Rn(R,Vu,o)*x%o,H=Rn(q,d,o)*q%o,M=Rn(H,p,o)*H%o,U=Rn(M,b,o)*M%o,V=Rn(U,_,o)*U%o,it=Rn(V,b,o)*M%o,$=Rn(it,l,o)*T%o,mt=Rn($,v,o)*H%o,pt=Rn(mt,f,o)*x%o,st=Rn(pt,Vu,o);if(!kh.eql(kh.sqr(st),a))throw new Error("Cannot find square root");return st}const kh=Eb(tc,void 0,void 0,{sqrt:Ry}),Hr=Rb({a:BigInt(0),b:BigInt(7),Fp:kh,n:Yu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const o=Yu,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),f=-By*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,v=BigInt("0x100000000000000000000000000000000"),b=Yg(p*a,o),_=Yg(-f*a,o);let x=ke(a-b*l-_*d,o),T=ke(-b*f-_*p,o);const S=x>v,R=T>v;if(S&&(x=o-x),R&&(T=o-T),x>v||T>v)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:S,k1:x,k2neg:R,k2:T}}}},Rh),ec=BigInt(0),Dy=a=>typeof a=="bigint"&&ec<a&&a<tc,Db=a=>typeof a=="bigint"&&ec<a&&a<Yu,Vg={};function Ku(a,...o){let l=Vg[a];if(l===void 0){const f=Rh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=js(f,f),Vg[a]=l}return Rh(js(l,...o))}const sd=a=>a.toRawBytes(!0).slice(1),Hh=a=>Ga(a,32),Th=a=>ke(a,tc),tl=a=>ke(a,Yu),rd=Hr.ProjectivePoint,Ub=(a,o,l)=>rd.BASE.multiplyAndAddUnsafe(a,o,l);function jh(a){let o=Hr.utils.normPrivateKeyToScalar(a),l=rd.fromPrivateKey(o);return{scalar:l.hasEvenY()?o:tl(-o),bytes:sd(l)}}function Uy(a){if(!Dy(a))throw new Error("bad x: need 0 < x < p");const o=Th(a*a),l=Th(o*a+BigInt(7));let f=Ry(l);f%Vu!==ec&&(f=Th(-f));const d=new rd(a,f,By);return d.assertValidity(),d}function ky(...a){return tl(hn(Ku("BIP0340/challenge",...a)))}function kb(a){return jh(a).bytes}function Hb(a,o,l=Ey(32)){const f=Pe("message",a),{bytes:d,scalar:p}=jh(o),v=Pe("auxRand",l,32),b=Hh(p^hn(Ku("BIP0340/aux",v))),_=Ku("BIP0340/nonce",b,d,f),x=tl(hn(_));if(x===ec)throw new Error("sign failed: k is zero");const{bytes:T,scalar:S}=jh(x),R=ky(T,d,f),q=new Uint8Array(64);if(q.set(T,0),q.set(Hh(tl(S+R*p)),32),!Hy(q,f,d))throw new Error("sign: Invalid signature produced");return q}function Hy(a,o,l){const f=Pe("signature",a,64),d=Pe("message",o),p=Pe("publicKey",l,32);try{const v=Uy(hn(p)),b=hn(f.subarray(0,32));if(!Dy(b))return!1;const _=hn(f.subarray(32,64));if(!Db(_))return!1;const x=ky(Hh(b),sd(v),d),T=Ub(v,_,tl(-x));return!(!T||!T.hasEvenY()||T.toAffine().x!==b)}catch{return!1}}const Jo={getPublicKey:kb,sign:Hb,verify:Hy,utils:{randomPrivateKey:Hr.utils.randomPrivateKey,lift_x:Uy,pointToBytes:sd,numberToBytesBE:Ga,bytesToNumberBE:hn,taggedHash:Ku,mod:ke}},Ah=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const od=a=>a instanceof Uint8Array,zh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),mi=(a,o)=>a<<32-o|a>>>o,jb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jb)throw new Error("Non little-endian hardware is not supported");const Zb=Array.from({length:256},(a,o)=>o.toString(16).padStart(2,"0"));function Ge(a){if(!od(a))throw new Error("Uint8Array expected");let o="";for(let l=0;l<a.length;l++)o+=Zb[a[l]];return o}function Zs(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const o=a.length;if(o%2)throw new Error("padded hex string expected, got unpadded hex of length "+o);const l=new Uint8Array(o/2);for(let f=0;f<l.length;f++){const d=f*2,p=a.slice(d,d+2),v=Number.parseInt(p,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");l[f]=v}return l}function qb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function el(a){if(typeof a=="string"&&(a=qb(a)),!od(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function nc(...a){const o=new Uint8Array(a.reduce((f,d)=>f+d.length,0));let l=0;return a.forEach(f=>{if(!od(f))throw new Error("Uint8Array expected");o.set(f,l),l+=f.length}),o}class jy{clone(){return this._cloneInto()}}function Zy(a){const o=f=>a().update(el(f)).digest(),l=a();return o.outputLen=l.outputLen,o.blockLen=l.blockLen,o.create=()=>a(),o}function qy(a=32){if(Ah&&typeof Ah.getRandomValues=="function")return Ah.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Zh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Pb(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function Py(a,...o){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(o.length>0&&!o.includes(a.length))throw new Error(`Expected Uint8Array of length ${o}, not of length=${a.length}`)}function Gb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zh(a.outputLen),Zh(a.blockLen)}function Yb(a,o=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(o&&a.finished)throw new Error("Hash#digest() has already been called")}function Vb(a,o){Py(a);const l=o.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const pi={number:Zh,bool:Pb,bytes:Py,hash:Gb,exists:Yb,output:Vb};function Kb(a,o,l,f){if(typeof a.setBigUint64=="function")return a.setBigUint64(o,l,f);const d=BigInt(32),p=BigInt(4294967295),v=Number(l>>d&p),b=Number(l&p),_=f?4:0,x=f?0:4;a.setUint32(o+_,v,f),a.setUint32(o+x,b,f)}class Qb extends jy{constructor(o,l,f,d){super(),this.blockLen=o,this.outputLen=l,this.padOffset=f,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=zh(this.buffer)}update(o){pi.exists(this);const{view:l,buffer:f,blockLen:d}=this;o=el(o);const p=o.length;for(let v=0;v<p;){const b=Math.min(d-this.pos,p-v);if(b===d){const _=zh(o);for(;d<=p-v;v+=d)this.process(_,v);continue}f.set(o.subarray(v,v+b),this.pos),this.pos+=b,v+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){pi.exists(this),pi.output(o,this),this.finished=!0;const{buffer:l,view:f,blockLen:d,isLE:p}=this;let{pos:v}=this;l[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>d-v&&(this.process(f,0),v=0);for(let S=v;S<d;S++)l[S]=0;Kb(f,d-8,BigInt(this.length*8),p),this.process(f,0);const b=zh(o),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)b.setUint32(4*S,T[S],p)}digest(){const{buffer:o,outputLen:l}=this;this.digestInto(o);const f=o.slice(0,l);return this.destroy(),f}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:l,buffer:f,length:d,finished:p,destroyed:v,pos:b}=this;return o.length=d,o.pos=b,o.finished=p,o.destroyed=v,d%l&&o.buffer.set(f),o}}const Xb=(a,o,l)=>a&o^~a&l,Ib=(a,o,l)=>a&o^a&l^o&l,Jb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ja=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Za=new Uint32Array(64);class Gy extends Qb{constructor(){super(64,32,8,!1),this.A=ja[0]|0,this.B=ja[1]|0,this.C=ja[2]|0,this.D=ja[3]|0,this.E=ja[4]|0,this.F=ja[5]|0,this.G=ja[6]|0,this.H=ja[7]|0}get(){const{A:o,B:l,C:f,D:d,E:p,F:v,G:b,H:_}=this;return[o,l,f,d,p,v,b,_]}set(o,l,f,d,p,v,b,_){this.A=o|0,this.B=l|0,this.C=f|0,this.D=d|0,this.E=p|0,this.F=v|0,this.G=b|0,this.H=_|0}process(o,l){for(let S=0;S<16;S++,l+=4)Za[S]=o.getUint32(l,!1);for(let S=16;S<64;S++){const R=Za[S-15],q=Za[S-2],H=mi(R,7)^mi(R,18)^R>>>3,M=mi(q,17)^mi(q,19)^q>>>10;Za[S]=M+Za[S-7]+H+Za[S-16]|0}let{A:f,B:d,C:p,D:v,E:b,F:_,G:x,H:T}=this;for(let S=0;S<64;S++){const R=mi(b,6)^mi(b,11)^mi(b,25),q=T+R+Xb(b,_,x)+Jb[S]+Za[S]|0,M=(mi(f,2)^mi(f,13)^mi(f,22))+Ib(f,d,p)|0;T=x,x=_,_=b,b=v+q|0,v=p,p=d,d=f,f=q+M|0}f=f+this.A|0,d=d+this.B|0,p=p+this.C|0,v=v+this.D|0,b=b+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(f,d,p,v,b,_,x,T)}roundClean(){Za.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Fb extends Gy{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const qs=Zy(()=>new Gy);Zy(()=>new Fb);function jr(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function Ji(...a){const o=(d,p)=>v=>d(p(v)),l=Array.from(a).reverse().reduce((d,p)=>d?o(d,p.encode):p.encode,void 0),f=a.reduce((d,p)=>d?o(d,p.decode):p.decode,void 0);return{encode:l,decode:f}}function Fi(a){return{encode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return o.map(l=>{if(jr(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="string")throw new Error("alphabet.decode input should be array of strings");return o.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const f=a.indexOf(l);if(f===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return f})}}}function Wi(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of o)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return o.join(a)},decode:o=>{if(typeof o!="string")throw new Error("join.decode input should be string");return o.split(a)}}}function ic(a,o="="){if(jr(a),typeof o!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let f of l)if(typeof f!="string")throw new Error(`padding.encode: non-string input=${f}`);for(;l.length*a%8;)l.push(o);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let f=l.length;if(f*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;f>0&&l[f-1]===o;f--)if(!((f-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,f)}}}function Yy(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:o=>o,decode:o=>a(o)}}function Kg(a,o,l){if(o<2)throw new Error(`convertRadix: wrong from=${o}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let f=0;const d=[],p=Array.from(a);for(p.forEach(v=>{if(jr(v),v<0||v>=o)throw new Error(`Wrong integer: ${v}`)});;){let v=0,b=!0;for(let _=f;_<p.length;_++){const x=p[_],T=o*v+x;if(!Number.isSafeInteger(T)||o*v/o!==v||T-x!==o*v)throw new Error("convertRadix: carry overflow");if(v=T%l,p[_]=Math.floor(T/l),!Number.isSafeInteger(p[_])||p[_]*l+v!==T)throw new Error("convertRadix: carry overflow");if(b)p[_]?b=!1:f=_;else continue}if(d.push(v),b)break}for(let v=0;v<a.length-1&&a[v]===0;v++)d.push(0);return d.reverse()}const Vy=(a,o)=>o?Vy(o,a%o):a,Qu=(a,o)=>a+(o-Vy(a,o));function qh(a,o,l,f){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(o<=0||o>32)throw new Error(`convertRadix2: wrong from=${o}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if(Qu(o,l)>32)throw new Error(`convertRadix2: carry overflow from=${o} to=${l} carryBits=${Qu(o,l)}`);let d=0,p=0;const v=2**l-1,b=[];for(const _ of a){if(jr(_),_>=2**o)throw new Error(`convertRadix2: invalid data word=${_} from=${o}`);if(d=d<<o|_,p+o>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${o}`);for(p+=o;p>=l;p-=l)b.push((d>>p-l&v)>>>0);d&=2**p-1}if(d=d<<l-p&v,!f&&p>=o)throw new Error("Excess padding");if(!f&&d)throw new Error(`Non-zero padding: ${d}`);return f&&p>0&&b.push(d>>>0),b}function Wb(a){return jr(a),{encode:o=>{if(!(o instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Kg(Array.from(o),2**8,a)},decode:o=>{if(!Array.isArray(o)||o.length&&typeof o[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Kg(o,a,2**8))}}}function Ya(a,o=!1){if(jr(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(Qu(8,a)>32||Qu(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return qh(Array.from(l),8,a,!o)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(qh(l,a,8,o))}}}function Qg(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...o){try{return a.apply(null,o)}catch{}}}const $b=Ji(Ya(4),Fi("0123456789ABCDEF"),Wi("")),t1=Ji(Ya(5),Fi("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ic(5),Wi(""));Ji(Ya(5),Fi("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ic(5),Wi(""));Ji(Ya(5),Fi("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Wi(""),Yy(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ii=Ji(Ya(6),Fi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ic(6),Wi("")),e1=Ji(Ya(6),Fi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ic(6),Wi("")),ld=a=>Ji(Wb(58),Fi(a),Wi("")),Ph=ld("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");ld("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");ld("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Xg=[0,2,3,5,6,7,9,10,11],n1={encode(a){let o="";for(let l=0;l<a.length;l+=8){const f=a.subarray(l,l+8);o+=Ph.encode(f).padStart(Xg[f.length],"1")}return o},decode(a){let o=[];for(let l=0;l<a.length;l+=11){const f=a.slice(l,l+11),d=Xg.indexOf(f.length),p=Ph.decode(f);for(let v=0;v<p.length-d;v++)if(p[v]!==0)throw new Error("base58xmr: wrong padding");o=o.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(o)}},Gh=Ji(Fi("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Wi("")),Ig=[996825010,642813549,513874426,1027748829,705979059];function Fo(a){const o=a>>25;let l=(a&33554431)<<5;for(let f=0;f<Ig.length;f++)(o>>f&1)===1&&(l^=Ig[f]);return l}function Jg(a,o,l=1){const f=a.length;let d=1;for(let p=0;p<f;p++){const v=a.charCodeAt(p);if(v<33||v>126)throw new Error(`Invalid prefix (${a})`);d=Fo(d)^v>>5}d=Fo(d);for(let p=0;p<f;p++)d=Fo(d)^a.charCodeAt(p)&31;for(let p of o)d=Fo(d)^p;for(let p=0;p<6;p++)d=Fo(d);return d^=l,Gh.encode(qh([d%2**30],30,5,!1))}function Ky(a){const o=a==="bech32"?1:734539939,l=Ya(5),f=l.decode,d=l.encode,p=Qg(f);function v(T,S,R=90){if(typeof T!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof T}`);if(!Array.isArray(S)||S.length&&typeof S[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof S}`);const q=T.length+7+S.length;if(R!==!1&&q>R)throw new TypeError(`Length ${q} exceeds limit ${R}`);return T=T.toLowerCase(),`${T}1${Gh.encode(S)}${Jg(T,S,o)}`}function b(T,S=90){if(typeof T!="string")throw new Error(`bech32.decode input should be string, not ${typeof T}`);if(T.length<8||S!==!1&&T.length>S)throw new TypeError(`Wrong string length: ${T.length} (${T}). Expected (8..${S})`);const R=T.toLowerCase();if(T!==R&&T!==T.toUpperCase())throw new Error("String must be lowercase or uppercase");T=R;const q=T.lastIndexOf("1");if(q===0||q===-1)throw new Error('Letter "1" must be present between prefix and data only');const H=T.slice(0,q),M=T.slice(q+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");const U=Gh.decode(M).slice(0,-6),V=Jg(H,U,o);if(!M.endsWith(V))throw new Error(`Invalid checksum in ${T}: expected "${V}"`);return{prefix:H,words:U}}const _=Qg(b);function x(T){const{prefix:S,words:R}=b(T,!1);return{prefix:S,words:R,bytes:f(R)}}return{encode:v,decode:b,decodeToBytes:x,decodeUnsafe:_,fromWords:f,fromWordsUnsafe:p,toWords:d}}const kr=Ky("bech32");Ky("bech32m");const i1={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},a1=Ji(Ya(4),Fi("0123456789abcdef"),Wi(""),Yy(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),s1={utf8:i1,hex:a1,base16:$b,base32:t1,base64:Ii,base64url:e1,base58:Ph,base58xmr:n1};`${Object.keys(s1).join(", ")}`;function Lh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function Fg(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function r1(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function gi(a,...o){if(!r1(a))throw new Error("Uint8Array expected");if(o.length>0&&!o.includes(a.length))throw new Error(`Uint8Array expected of length ${o}, not of length=${a.length}`)}const Ye=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),o1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!o1)throw new Error("Non little-endian hardware is not supported");const l1=Array.from({length:256},(a,o)=>o.toString(16).padStart(2,"0"));function Or(a){gi(a);let o="";for(let l=0;l<a.length;l++)o+=l1[a[l]];return o}const Yi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Wg(a){if(a>=Yi._0&&a<=Yi._9)return a-Yi._0;if(a>=Yi._A&&a<=Yi._F)return a-(Yi._A-10);if(a>=Yi._a&&a<=Yi._f)return a-(Yi._a-10)}function Qy(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const o=a.length,l=o/2;if(o%2)throw new Error("padded hex string expected, got unpadded hex of length "+o);const f=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const v=Wg(a.charCodeAt(p)),b=Wg(a.charCodeAt(p+1));if(v===void 0||b===void 0){const _=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+p)}f[d]=v*16+b}return f}function u1(a,o){if(o==null||typeof o!="object")throw new Error("options must be defined");return Object.assign(a,o)}function c1(a,o){if(a.length!==o.length)return!1;let l=0;for(let f=0;f<a.length;f++)l|=a[f]^o[f];return l===0}const f1=(a,o)=>(Object.assign(o,a),o),Pa=16,h1=283;function ud(a){return a<<1^h1&-(a>>7)}function Nr(a,o){let l=0;for(;o>0;o>>=1)l^=a&-(o&1),a=ud(a);return l}const Yh=(()=>{let a=new Uint8Array(256);for(let l=0,f=1;l<256;l++,f^=ud(f))a[l]=f;const o=new Uint8Array(256);o[0]=99;for(let l=0;l<255;l++){let f=a[255-l];f|=f<<8,o[a[l]]=(f^f>>4^f>>5^f>>6^f>>7^99)&255}return o})(),d1=Yh.map((a,o)=>Yh.indexOf(o)),m1=a=>a<<24|a>>>8,Ch=a=>a<<8|a>>>24;function Xy(a,o){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((x,T)=>o(a[T])),f=l.map(Ch),d=f.map(Ch),p=d.map(Ch),v=new Uint32Array(256*256),b=new Uint32Array(256*256),_=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let T=0;T<256;T++){const S=x*256+T;v[S]=l[x]^f[T],b[S]=d[x]^p[T],_[S]=a[x]<<8|a[T]}return{sbox:a,sbox2:_,T0:l,T1:f,T2:d,T3:p,T01:v,T23:b}}const cd=Xy(Yh,a=>Nr(a,3)<<24|a<<16|a<<8|Nr(a,2)),Iy=Xy(d1,a=>Nr(a,11)<<24|Nr(a,13)<<16|Nr(a,9)<<8|Nr(a,14)),p1=(()=>{const a=new Uint8Array(16);for(let o=0,l=1;o<16;o++,l=ud(l))a[o]=l;return a})();function Jy(a){gi(a);const o=a.length;if(![16,24,32].includes(o))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${o}`);const{sbox2:l}=cd,f=Ye(a),d=f.length,p=b=>yi(l,b,b,b,b),v=new Uint32Array(o+28);v.set(f);for(let b=d;b<v.length;b++){let _=v[b-1];b%d===0?_=p(m1(_))^p1[b/d-1]:d>6&&b%d===4&&(_=p(_)),v[b]=v[b-d]^_}return v}function g1(a){const o=Jy(a),l=o.slice(),f=o.length,{sbox2:d}=cd,{T0:p,T1:v,T2:b,T3:_}=Iy;for(let x=0;x<f;x+=4)for(let T=0;T<4;T++)l[x+T]=o[f-x-4+T];o.fill(0);for(let x=4;x<f-4;x++){const T=l[x],S=yi(d,T,T,T,T);l[x]=p[S&255]^v[S>>>8&255]^b[S>>>16&255]^_[S>>>24]}return l}function qa(a,o,l,f,d,p){return a[l<<8&65280|f>>>8&255]^o[d>>>8&65280|p>>>24&255]}function yi(a,o,l,f,d){return a[o&255|l&65280]|a[f>>>16&255|d>>>16&65280]<<16}function $g(a,o,l,f,d){const{sbox2:p,T01:v,T23:b}=cd;let _=0;o^=a[_++],l^=a[_++],f^=a[_++],d^=a[_++];const x=a.length/4-2;for(let H=0;H<x;H++){const M=a[_++]^qa(v,b,o,l,f,d),U=a[_++]^qa(v,b,l,f,d,o),V=a[_++]^qa(v,b,f,d,o,l),it=a[_++]^qa(v,b,d,o,l,f);o=M,l=U,f=V,d=it}const T=a[_++]^yi(p,o,l,f,d),S=a[_++]^yi(p,l,f,d,o),R=a[_++]^yi(p,f,d,o,l),q=a[_++]^yi(p,d,o,l,f);return{s0:T,s1:S,s2:R,s3:q}}function y1(a,o,l,f,d){const{sbox2:p,T01:v,T23:b}=Iy;let _=0;o^=a[_++],l^=a[_++],f^=a[_++],d^=a[_++];const x=a.length/4-2;for(let H=0;H<x;H++){const M=a[_++]^qa(v,b,o,d,f,l),U=a[_++]^qa(v,b,l,o,d,f),V=a[_++]^qa(v,b,f,l,o,d),it=a[_++]^qa(v,b,d,f,l,o);o=M,l=U,f=V,d=it}const T=a[_++]^yi(p,o,d,f,l),S=a[_++]^yi(p,l,o,d,f),R=a[_++]^yi(p,f,l,o,d),q=a[_++]^yi(p,d,f,l,o);return{s0:T,s1:S,s2:R,s3:q}}function Fy(a,o){if(!o)return new Uint8Array(a);if(gi(o),o.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${o.length}`);return o}function v1(a){if(gi(a),a.length%Pa!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Pa}`)}function _1(a,o,l){let f=a.length;const d=f%Pa;if(!o&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=Ye(a);if(o){let _=Pa-d;_||(_=Pa),f=f+_}const v=Fy(f,l),b=Ye(v);return{b:p,o:b,out:v}}function b1(a,o){if(!o)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const f=a[l-1];if(f<=0||f>16)throw new Error(`aes/pcks5: wrong padding byte: ${f}`);const d=a.subarray(0,-f);for(let p=0;p<f;p++)if(a[l-p-1]!==f)throw new Error("aes/pcks5: wrong padding");return d}function w1(a){const o=new Uint8Array(16),l=Ye(o);o.set(a);const f=Pa-a.length;for(let d=Pa-f;d<Pa;d++)o[d]=f;return l}const Wy=f1({blockSize:16,nonceLength:16},function(o,l,f={}){gi(o),gi(l,16);const d=!f.disablePadding;return{encrypt:(p,v)=>{const b=Jy(o),{b:_,o:x,out:T}=_1(p,d,v),S=Ye(l);let R=S[0],q=S[1],H=S[2],M=S[3],U=0;for(;U+4<=_.length;)R^=_[U+0],q^=_[U+1],H^=_[U+2],M^=_[U+3],{s0:R,s1:q,s2:H,s3:M}=$g(b,R,q,H,M),x[U++]=R,x[U++]=q,x[U++]=H,x[U++]=M;if(d){const V=w1(p.subarray(U*4));R^=V[0],q^=V[1],H^=V[2],M^=V[3],{s0:R,s1:q,s2:H,s3:M}=$g(b,R,q,H,M),x[U++]=R,x[U++]=q,x[U++]=H,x[U++]=M}return b.fill(0),T},decrypt:(p,v)=>{v1(p);const b=g1(o),_=Ye(l),x=Fy(p.length,v),T=Ye(p),S=Ye(x);let R=_[0],q=_[1],H=_[2],M=_[3];for(let U=0;U+4<=T.length;){const V=R,it=q,$=H,mt=M;R=T[U+0],q=T[U+1],H=T[U+2],M=T[U+3];const{s0:pt,s1:st,s2:tt,s3:at}=y1(b,R,q,H,M);S[U++]=pt^V,S[U++]=st^it,S[U++]=tt^$,S[U++]=at^mt}return b.fill(0),b1(x,d)}}}),$y=a=>Uint8Array.from(a.split("").map(o=>o.charCodeAt(0))),x1=$y("expand 16-byte k"),E1=$y("expand 32-byte k"),S1=Ye(x1),tv=Ye(E1);tv.slice();function Kt(a,o){return a<<o|a>>>32-o}function Vh(a){return a.byteOffset%4===0}const Uu=64,T1=16,ev=2**32-1,ty=new Uint32Array;function A1(a,o,l,f,d,p,v,b){const _=d.length,x=new Uint8Array(Uu),T=Ye(x),S=Vh(d)&&Vh(p),R=S?Ye(d):ty,q=S?Ye(p):ty;for(let H=0;H<_;v++){if(a(o,l,f,T,v,b),v>=ev)throw new Error("arx: counter overflow");const M=Math.min(Uu,_-H);if(S&&M===Uu){const U=H/4;if(H%4!==0)throw new Error("arx: invalid block position");for(let V=0,it;V<T1;V++)it=U+V,q[it]=R[it]^T[V];H+=Uu;continue}for(let U=0,V;U<M;U++)V=H+U,p[V]=d[V]^x[U];H+=M}}function z1(a,o){const{allowShortKeys:l,extendNonceFn:f,counterLength:d,counterRight:p,rounds:v}=u1({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},o);if(typeof a!="function")throw new Error("core must be a function");return Lh(d),Lh(v),Fg(p),Fg(l),(b,_,x,T,S=0)=>{gi(b),gi(_),gi(x);const R=x.length;if(T||(T=new Uint8Array(R)),gi(T),Lh(S),S<0||S>=ev)throw new Error("arx: counter overflow");if(T.length<R)throw new Error(`arx: output (${T.length}) is shorter than data (${R})`);const q=[];let H=b.length,M,U;if(H===32)M=b.slice(),q.push(M),U=tv;else if(H===16&&l)M=new Uint8Array(32),M.set(b),M.set(b,16),U=S1,q.push(M);else throw new Error(`arx: invalid 32-byte key, got length=${H}`);Vh(_)||(_=_.slice(),q.push(_));const V=Ye(M);if(f){if(_.length!==24)throw new Error("arx: extended nonce must be 24 bytes");f(U,V,Ye(_.subarray(0,16)),V),_=_.subarray(16)}const it=16-d;if(it!==_.length)throw new Error(`arx: nonce must be ${it} or 16 bytes`);if(it!==12){const mt=new Uint8Array(12);mt.set(_,p?0:12-_.length),_=mt,q.push(_)}const $=Ye(_);for(A1(a,U,V,$,x,T,S,v);q.length>0;)q.pop().fill(0);return T}}function L1(a,o,l,f,d,p=20){let v=a[0],b=a[1],_=a[2],x=a[3],T=o[0],S=o[1],R=o[2],q=o[3],H=o[4],M=o[5],U=o[6],V=o[7],it=d,$=l[0],mt=l[1],pt=l[2],st=v,tt=b,at=_,vt=x,yt=T,lt=S,_t=R,zt=q,Lt=H,nt=M,O=U,Q=V,X=it,ht=$,et=mt,A=pt;for(let rt=0;rt<p;rt+=2)st=st+yt|0,X=Kt(X^st,16),Lt=Lt+X|0,yt=Kt(yt^Lt,12),st=st+yt|0,X=Kt(X^st,8),Lt=Lt+X|0,yt=Kt(yt^Lt,7),tt=tt+lt|0,ht=Kt(ht^tt,16),nt=nt+ht|0,lt=Kt(lt^nt,12),tt=tt+lt|0,ht=Kt(ht^tt,8),nt=nt+ht|0,lt=Kt(lt^nt,7),at=at+_t|0,et=Kt(et^at,16),O=O+et|0,_t=Kt(_t^O,12),at=at+_t|0,et=Kt(et^at,8),O=O+et|0,_t=Kt(_t^O,7),vt=vt+zt|0,A=Kt(A^vt,16),Q=Q+A|0,zt=Kt(zt^Q,12),vt=vt+zt|0,A=Kt(A^vt,8),Q=Q+A|0,zt=Kt(zt^Q,7),st=st+lt|0,A=Kt(A^st,16),O=O+A|0,lt=Kt(lt^O,12),st=st+lt|0,A=Kt(A^st,8),O=O+A|0,lt=Kt(lt^O,7),tt=tt+_t|0,X=Kt(X^tt,16),Q=Q+X|0,_t=Kt(_t^Q,12),tt=tt+_t|0,X=Kt(X^tt,8),Q=Q+X|0,_t=Kt(_t^Q,7),at=at+zt|0,ht=Kt(ht^at,16),Lt=Lt+ht|0,zt=Kt(zt^Lt,12),at=at+zt|0,ht=Kt(ht^at,8),Lt=Lt+ht|0,zt=Kt(zt^Lt,7),vt=vt+yt|0,et=Kt(et^vt,16),nt=nt+et|0,yt=Kt(yt^nt,12),vt=vt+yt|0,et=Kt(et^vt,8),nt=nt+et|0,yt=Kt(yt^nt,7);let j=0;f[j++]=v+st|0,f[j++]=b+tt|0,f[j++]=_+at|0,f[j++]=x+vt|0,f[j++]=T+yt|0,f[j++]=S+lt|0,f[j++]=R+_t|0,f[j++]=q+zt|0,f[j++]=H+Lt|0,f[j++]=M+nt|0,f[j++]=U+O|0,f[j++]=V+Q|0,f[j++]=it+X|0,f[j++]=$+ht|0,f[j++]=mt+et|0,f[j++]=pt+A|0}const nv=z1(L1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class iv extends jy{constructor(o,l){super(),this.finished=!1,this.destroyed=!1,pi.hash(o);const f=el(l);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(f.length>d?o.create().update(f).digest():f);for(let v=0;v<p.length;v++)p[v]^=54;this.iHash.update(p),this.oHash=o.create();for(let v=0;v<p.length;v++)p[v]^=106;this.oHash.update(p),p.fill(0)}update(o){return pi.exists(this),this.iHash.update(o),this}digestInto(o){pi.exists(this),pi.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:f,finished:d,destroyed:p,blockLen:v,outputLen:b}=this;return o=o,o.finished=d,o.destroyed=p,o.blockLen=v,o.outputLen=b,o.oHash=l._cloneInto(o.oHash),o.iHash=f._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ac=(a,o,l)=>new iv(a,o).update(l).digest();ac.create=(a,o)=>new iv(a,o);function C1(a,o,l){return pi.hash(a),ac(a,el(l),el(o))}const Mh=new Uint8Array([0]),ey=new Uint8Array;function M1(a,o,l,f=32){if(pi.hash(a),pi.number(f),f>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(f/a.outputLen);l===void 0&&(l=ey);const p=new Uint8Array(d*a.outputLen),v=ac.create(a,o),b=v._cloneInto(),_=new Uint8Array(v.outputLen);for(let x=0;x<d;x++)Mh[0]=x+1,b.update(x===0?ey:_).update(l).update(Mh).digestInto(_),p.set(_,a.outputLen*x),v._cloneInto(b);return v.destroy(),b.destroy(),_.fill(0),Mh.fill(0),p.slice(0,f)}var O1=Object.defineProperty,re=(a,o)=>{for(var l in o)O1(a,l,{get:o[l],enumerable:!0})},Ds=Symbol("verified"),N1=a=>a instanceof Object;function fd(a){if(!N1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let o=0;o<a.tags.length;o++){let l=a.tags[o];if(!Array.isArray(l))return!1;for(let f=0;f<l.length;f++)if(typeof l[f]!="string")return!1}return!0}var B1={};re(B1,{Queue:()=>sv,QueueNode:()=>av,binarySearch:()=>hd,bytesToHex:()=>Ge,hexToBytes:()=>Zs,insertEventIntoAscendingList:()=>D1,insertEventIntoDescendingList:()=>R1,normalizeURL:()=>ks,utf8Decoder:()=>Xi,utf8Encoder:()=>Jn});var Xi=new TextDecoder("utf-8"),Jn=new TextEncoder;function ks(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let o=new URL(a);return o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),o.pathname=o.pathname.replace(/\/+/g,"/"),o.pathname.endsWith("/")&&(o.pathname=o.pathname.slice(0,-1)),(o.port==="80"&&o.protocol==="ws:"||o.port==="443"&&o.protocol==="wss:")&&(o.port=""),o.searchParams.sort(),o.hash="",o.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function R1(a,o){const[l,f]=hd(a,d=>o.id===d.id?0:o.created_at===d.created_at?-1:d.created_at-o.created_at);return f||a.splice(l,0,o),a}function D1(a,o){const[l,f]=hd(a,d=>o.id===d.id?0:o.created_at===d.created_at?-1:o.created_at-d.created_at);return f||a.splice(l,0,o),a}function hd(a,o){let l=0,f=a.length-1;for(;l<=f;){const d=Math.floor((l+f)/2),p=o(a[d]);if(p===0)return[d,!0];p<0?f=d-1:l=d+1}return[l,!1]}var av=class{value;next=null;prev=null;constructor(a){this.value=a}},sv=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const o=new av(a);return this.last?this.last===this.first?(this.last=o,this.last.prev=this.first,this.first.next=o):(o.prev=this.last,this.last.next=o,this.last=o):(this.first=o,this.last=o),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const o=this.first;return this.first=null,this.last=null,o.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},U1=class{generateSecretKey(){return Jo.utils.randomPrivateKey()}getPublicKey(a){return Ge(Jo.getPublicKey(a))}finalizeEvent(a,o){const l=a;return l.pubkey=Ge(Jo.getPublicKey(o)),l.id=ju(l),l.sig=Ge(Jo.sign(ju(l),o)),l[Ds]=!0,l}verifyEvent(a){if(typeof a[Ds]=="boolean")return a[Ds];const o=ju(a);if(o!==a.id)return a[Ds]=!1,!1;try{const l=Jo.verify(a.sig,o,a.pubkey);return a[Ds]=l,l}catch{return a[Ds]=!1,!1}}};function k1(a){if(!fd(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function ju(a){let o=qs(Jn.encode(k1(a)));return Ge(o)}var sc=new U1,rv=sc.generateSecretKey,nl=sc.getPublicKey,Un=sc.finalizeEvent,rc=sc.verifyEvent,H1={};re(H1,{Application:()=>Jw,BadgeAward:()=>K1,BadgeDefinition:()=>Gw,BlockedRelaysList:()=>Tw,BlossomServerList:()=>Nw,BookmarkList:()=>xw,Bookmarksets:()=>Zw,Calendar:()=>ix,CalendarEventRSVP:()=>ax,ChannelCreation:()=>hv,ChannelHideMessage:()=>pv,ChannelMessage:()=>mv,ChannelMetadata:()=>dv,ChannelMuteUser:()=>gv,ChatMessage:()=>Q1,ClassifiedListing:()=>$w,ClientAuth:()=>vv,Comment:()=>nw,CommunitiesList:()=>Ew,CommunityDefinition:()=>lx,CommunityPostApproval:()=>cw,Contacts:()=>G1,CreateOrUpdateProduct:()=>Kw,CreateOrUpdateStall:()=>Vw,Curationsets:()=>qw,Date:()=>ex,DirectMessageRelaysList:()=>Mw,DraftClassifiedListing:()=>tx,DraftLong:()=>Xw,Emojisets:()=>Iw,EncryptedDirectMessage:()=>Y1,EventDeletion:()=>V1,FavoriteRelays:()=>zw,FileMessage:()=>I1,FileMetadata:()=>ew,FileServerPreference:()=>Ow,Followsets:()=>kw,ForumThread:()=>X1,GenericRepost:()=>yd,Genericlists:()=>Hw,GiftWrap:()=>yv,GroupMetadata:()=>ux,HTTPAuth:()=>vd,Handlerinformation:()=>ox,Handlerrecommendation:()=>rx,Highlights:()=>yw,InterestsList:()=>Lw,Interestsets:()=>Yw,JobFeedback:()=>dw,JobRequest:()=>fw,JobResult:()=>hw,Label:()=>uw,LightningPubRPC:()=>Rw,LiveChatMessage:()=>iw,LiveEvent:()=>Fw,LongFormArticle:()=>Qw,Metadata:()=>q1,Mutelist:()=>_w,NWCWalletInfo:()=>Bw,NWCWalletRequest:()=>_v,NWCWalletResponse:()=>Dw,NormalVideo:()=>F1,NostrConnect:()=>Uw,OpenTimestamps:()=>$1,Photo:()=>J1,Pinlist:()=>bw,Poll:()=>tw,PollResponse:()=>vw,PrivateDirectMessage:()=>fv,ProblemTracker:()=>rw,ProfileBadges:()=>Pw,PublicChatsList:()=>Sw,Reaction:()=>gd,RecommendRelay:()=>P1,RelayList:()=>ww,RelayReview:()=>sx,Relaysets:()=>jw,Report:()=>ow,Reporting:()=>lw,Repost:()=>pd,Seal:()=>cv,SearchRelaysList:()=>Aw,ShortTextNote:()=>uv,ShortVideo:()=>W1,Time:()=>nx,UserEmojiList:()=>Cw,UserStatuses:()=>Ww,Voice:()=>aw,VoiceComment:()=>sw,Zap:()=>gw,ZapGoal:()=>mw,ZapRequest:()=>pw,classifyKind:()=>j1,isAddressableKind:()=>md,isEphemeralKind:()=>lv,isKind:()=>Z1,isRegularKind:()=>ov,isReplaceableKind:()=>dd});function ov(a){return a<1e4&&a!==0&&a!==3}function dd(a){return a===0||a===3||1e4<=a&&a<2e4}function lv(a){return 2e4<=a&&a<3e4}function md(a){return 3e4<=a&&a<4e4}function j1(a){return ov(a)?"regular":dd(a)?"replaceable":lv(a)?"ephemeral":md(a)?"parameterized":"unknown"}function Z1(a,o){const l=o instanceof Array?o:[o];return fd(a)&&l.includes(a.kind)||!1}var q1=0,uv=1,P1=2,G1=3,Y1=4,V1=5,pd=6,gd=7,K1=8,Q1=9,X1=11,cv=13,fv=14,I1=15,yd=16,J1=20,F1=21,W1=22,hv=40,dv=41,mv=42,pv=43,gv=44,$1=1040,yv=1059,tw=1068,ew=1063,nw=1111,iw=1311,aw=1222,sw=1244,rw=1971,ow=1984,lw=1984,uw=1985,cw=4550,fw=5999,hw=6999,dw=7e3,mw=9041,pw=9734,gw=9735,yw=9802,vw=1018,_w=1e4,bw=10001,ww=10002,xw=10003,Ew=10004,Sw=10005,Tw=10006,Aw=10007,zw=10012,Lw=10015,Cw=10030,Mw=10050,Ow=10096,Nw=10063,Bw=13194,Rw=21e3,vv=22242,_v=23194,Dw=23195,Uw=24133,vd=27235,kw=3e4,Hw=30001,jw=30002,Zw=30003,qw=30004,Pw=30008,Gw=30009,Yw=30015,Vw=30017,Kw=30018,Qw=30023,Xw=30024,Iw=30030,Jw=30078,Fw=30311,Ww=30315,$w=30402,tx=30403,ex=31922,nx=31923,ix=31924,ax=31925,sx=31987,rx=31989,ox=31990,lx=34550,ux=39e3;function cx(a,o){if(a.ids&&a.ids.indexOf(o.id)===-1||a.kinds&&a.kinds.indexOf(o.kind)===-1||a.authors&&a.authors.indexOf(o.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let f=l.slice(1),d=a[`#${f}`];if(d&&!o.tags.find(([p,v])=>p===l.slice(1)&&d.indexOf(v)!==-1))return!1}return!(a.since&&o.created_at<a.since||a.until&&o.created_at>a.until)}function fx(a,o){for(let l=0;l<a.length;l++)if(cx(a[l],o))return!0;return!1}var hx={};re(hx,{getHex64:()=>oc,getInt:()=>bv,getSubscriptionId:()=>wv,matchEventId:()=>dx,matchEventKind:()=>px,matchEventPubkey:()=>mx});function oc(a,o){let l=o.length+3,f=a.indexOf(`"${o}":`)+l,d=a.slice(f).indexOf('"')+f+1;return a.slice(d,d+64)}function bv(a,o){let l=o.length,f=a.indexOf(`"${o}":`)+l+3,d=a.slice(f),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function wv(a){let o=a.slice(0,22).indexOf('"EVENT"');if(o===-1)return null;let l=a.slice(o+7+1).indexOf('"');if(l===-1)return null;let f=o+7+1+l,d=a.slice(f+1,80).indexOf('"');if(d===-1)return null;let p=f+1+d;return a.slice(f+1,p)}function dx(a,o){return o===oc(a,"id")}function mx(a,o){return o===oc(a,"pubkey")}function px(a,o){return o===bv(a,"kind")}var gx={};re(gx,{makeAuthEvent:()=>xv});function xv(a,o){return{kind:vv,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",o]],content:""}}async function yx(){return new Promise((a,o)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,f=()=>{l.port1.removeEventListener("message",f),a()};l.port1.addEventListener("message",f),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),o(l)}})}var vx=a=>(a[Ds]=!0,!0),Ev=class extends Error{constructor(a,o){super(`Tried to send message '${a} on a closed connection to ${o}.`),this.name="SendingOnClosedConnection"}},Sv=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new sv;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,o){this.url=ks(a),this.verifyEvent=o.verifyEvent,this._WebSocket=o.websocketImplementation||WebSocket,this.enablePing=o.enablePing,this.enableReconnect=o.enableReconnect||!1}static async connect(a,o){const l=new Sv(a,o);return await l.connect(),l}closeAllSubscriptions(a){for(let[o,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[o,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[o,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const o=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!o?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,o)=>{this.connectionTimeoutHandle=setTimeout(()=>{o("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),o(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const f of this.openSubs.values()){if(f.eosed=!1,l)for(let d=0;d<f.filters.length;d++)f.lastEmitted&&(f.filters[d].since=f.lastEmitted+1);f.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),o(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),o(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,o)=>{if(!this.connectionPromise)return o(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){o(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(o=>setTimeout(()=>o(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await yx();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const o=wv(a);if(o){const l=this.openSubs.get(o);if(!l)return;const f=oc(a,"id"),d=l.alreadyHaveEvent?.(f);if(l.receivedEvent?.(this,f),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const f=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&fx(f.filters,d)&&f.onevent(d),(!f.lastEmitted||f.lastEmitted<d.created_at)&&(f.lastEmitted=d.created_at);return}case"COUNT":{const f=l[1],d=l[2],p=this.openCountRequests.get(f);p&&(p.resolve(d.count),this.openCountRequests.delete(f));return}case"EOSE":{const f=this.openSubs.get(l[1]);if(!f)return;f.receivedEose();return}case"OK":{const f=l[1],d=l[2],p=l[3],v=this.openEventPublishes.get(f);v&&(clearTimeout(v.timeout),d?v.resolve(p):v.reject(new Error(p)),this.openEventPublishes.delete(f));return}case"CLOSED":{const f=l[1],d=this.openSubs.get(f);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new Ev(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const o=this.challenge;if(!o)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,f)=>{try{let d=await a(xv(this.url,o)),p=setTimeout(()=>{let v=this.openEventPublishes.get(d.id);v&&(v.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:f,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const o=new Promise((l,f)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:f,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),o}async count(a,o){this.serial++;const l=o?.id||"count:"+this.serial,f=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),f}subscribe(a,o){const l=this.prepareSubscription(a,o);return l.fire(),l}prepareSubscription(a,o){this.serial++;const l=o.id||(o.label?o.label+":":"sub:")+this.serial,f=new _x(this,l,a,o);return this.openSubs.set(l,f),f}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},_x=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,o,l,f){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=o,this.alreadyHaveEvent=f.alreadyHaveEvent,this.receivedEvent=f.receivedEvent,this.eoseTimeout=f.eoseTimeout||a.baseEoseTimeout,this.oneose=f.oneose,this.onclose=f.onclose,this.onevent=f.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(o){if(!(o instanceof Ev))throw o}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},bx;try{bx=WebSocket}catch{}var wx=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,o){a=ks(a);let l=this.relays.get(a);if(l||(l=new Sv(a,{verifyEvent:this.trustedRelayURLs.has(a)?vx:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},o?.connectionTimeout&&(l.connectionTimeout=o.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const f=this.automaticallyAuth(a);f&&(l.onauth=f)}return await l.connect(),l}close(a){a.map(ks).forEach(o=>{this.relays.get(o)?.close(),this.relays.delete(o)})}subscribe(a,o,l){const f=[];for(let d=0;d<a.length;d++){const p=ks(a[d]);f.find(v=>v.url===p)||f.push({url:p,filter:o})}return this.subscribeMap(f,l)}subscribeMany(a,o,l){const f=[],d=[];for(let p=0;p<a.length;p++){const v=ks(a[p]);d.indexOf(v)===-1&&(d.push(v),f.push({url:v,filter:o}))}return this.subscribeMap(f,l)}subscribeMap(a,o){const l=new Map;for(const R of a){const{url:q,filter:H}=R;l.has(q)||l.set(q,[]),l.get(q).push(H)}const f=Array.from(l.entries()).map(([R,q])=>({url:R,filters:q}));this.trackRelays&&(o.receivedEvent=(R,q)=>{let H=this.seenOn.get(q);H||(H=new Set,this.seenOn.set(q,H)),H.add(R)});const d=new Set,p=[],v=[];let b=R=>{v[R]||(v[R]=!0,v.filter(q=>q).length===f.length&&(o.oneose?.(),b=()=>{}))};const _=[];let x=(R,q)=>{_[R]||(b(R),_[R]=q,_.filter(H=>H).length===f.length&&(o.onclose?.(_),x=()=>{}))};const T=R=>{if(o.alreadyHaveEvent?.(R))return!0;const q=d.has(R);return d.add(R),q},S=Promise.all(f.map(async({url:R,filters:q},H)=>{let M;try{M=await this.ensureRelay(R,{connectionTimeout:o.maxWait?Math.max(o.maxWait*.8,o.maxWait-1e3):void 0})}catch(V){x(H,V?.message||String(V));return}let U=M.subscribe(q,{...o,oneose:()=>b(H),onclose:V=>{V.startsWith("auth-required: ")&&o.onauth?M.auth(o.onauth).then(()=>{M.subscribe(q,{...o,oneose:()=>b(H),onclose:it=>{x(H,it)},alreadyHaveEvent:T,eoseTimeout:o.maxWait})}).catch(it=>{x(H,`auth was required and attempted, but failed with: ${it}`)}):x(H,V)},alreadyHaveEvent:T,eoseTimeout:o.maxWait});p.push(U)}));return{async close(R){await S,p.forEach(q=>{q.close(R)})}}}subscribeEose(a,o,l){const f=this.subscribe(a,o,{...l,oneose(){f.close("closed automatically on eose")}});return f}subscribeManyEose(a,o,l){const f=this.subscribeMany(a,o,{...l,oneose(){f.close("closed automatically on eose")}});return f}async querySync(a,o,l){return new Promise(async f=>{const d=[];this.subscribeEose(a,o,{...l,onevent(p){d.push(p)},onclose(p){f(d)}})})}async get(a,o,l){o.limit=1;const f=await this.querySync(a,o,l);return f.sort((d,p)=>p.created_at-d.created_at),f[0]||null}publish(a,o,l){return a.map(ks).map(async(f,d,p)=>{if(p.indexOf(f)!==d)return Promise.reject("duplicate url");let v=await this.ensureRelay(f);return v.publish(o).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await v.auth(l.onauth),v.publish(o);throw b}).then(b=>{if(this.trackRelays){let _=this.seenOn.get(o.id);_||(_=new Set,this.seenOn.set(o.id,_)),_.add(v)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((o,l)=>a.set(l,o.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},Tv;try{Tv=WebSocket}catch{}var xx=class extends wx{constructor(a){super({verifyEvent:rc,websocketImplementation:Tv,...a})}},$o={};re($o,{BECH32_REGEX:()=>Av,Bech32MaxSize:()=>_d,NostrTypeGuard:()=>Ex,decode:()=>lc,decodeNostrURI:()=>Tx,encodeBytes:()=>cc,naddrEncode:()=>Ox,neventEncode:()=>Mx,noteEncode:()=>Lx,nprofileEncode:()=>Cx,npubEncode:()=>zx,nsecEncode:()=>Ax});var Ex={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},_d=5e3,Av=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Sx(a){const o=new Uint8Array(4);return o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=a&255,o}function Tx(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),lc(a)}catch{return{type:"invalid",data:null}}}function lc(a){let{prefix:o,words:l}=kr.decode(a,_d),f=new Uint8Array(kr.fromWords(l));switch(o){case"nprofile":{let d=Oh(f);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ge(d[0][0]),relays:d[1]?d[1].map(p=>Xi.decode(p)):[]}}}case"nevent":{let d=Oh(f);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ge(d[0][0]),relays:d[1]?d[1].map(p=>Xi.decode(p)):[],author:d[2]?.[0]?Ge(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(Ge(d[3][0]),16):void 0}}}case"naddr":{let d=Oh(f);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Xi.decode(d[0][0]),pubkey:Ge(d[2][0]),kind:parseInt(Ge(d[3][0]),16),relays:d[1]?d[1].map(p=>Xi.decode(p)):[]}}}case"nsec":return{type:o,data:f};case"npub":case"note":return{type:o,data:Ge(f)};default:throw new Error(`unknown prefix ${o}`)}}function Oh(a){let o={},l=a;for(;l.length>0;){let f=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${f}`);o[f]=o[f]||[],o[f].push(p)}return o}function Ax(a){return cc("nsec",a)}function zx(a){return cc("npub",Zs(a))}function Lx(a){return cc("note",Zs(a))}function uc(a,o){let l=kr.toWords(o);return kr.encode(a,l,_d)}function cc(a,o){return uc(a,o)}function Cx(a){let o=bd({0:[Zs(a.pubkey)],1:(a.relays||[]).map(l=>Jn.encode(l))});return uc("nprofile",o)}function Mx(a){let o;a.kind!==void 0&&(o=Sx(a.kind));let l=bd({0:[Zs(a.id)],1:(a.relays||[]).map(f=>Jn.encode(f)),2:a.author?[Zs(a.author)]:[],3:o?[new Uint8Array(o)]:[]});return uc("nevent",l)}function Ox(a){let o=new ArrayBuffer(4);new DataView(o).setUint32(0,a.kind,!1);let l=bd({0:[Jn.encode(a.identifier)],1:(a.relays||[]).map(f=>Jn.encode(f)),2:[Zs(a.pubkey)],3:[new Uint8Array(o)]});return uc("naddr",l)}function bd(a){let o=[];return Object.entries(a).reverse().forEach(([l,f])=>{f.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),o.push(p)})}),nc(...o)}var Nx={};re(Nx,{decrypt:()=>Bx,encrypt:()=>zv});function zv(a,o,l){const f=a instanceof Uint8Array?Ge(a):a,d=Hr.getSharedSecret(f,"02"+o),p=Lv(d);let v=Uint8Array.from(qy(16)),b=Jn.encode(l),_=Wy(p,v).encrypt(b),x=Ii.encode(new Uint8Array(_)),T=Ii.encode(new Uint8Array(v.buffer));return`${x}?iv=${T}`}function Bx(a,o,l){const f=a instanceof Uint8Array?Ge(a):a;let[d,p]=l.split("?iv="),v=Hr.getSharedSecret(f,"02"+o),b=Lv(v),_=Ii.decode(p),x=Ii.decode(d),T=Wy(b,_).decrypt(x);return Xi.decode(T)}function Lv(a){return a.slice(1,33)}var Rx={};re(Rx,{NIP05_REGEX:()=>wd,isNip05:()=>Dx,isValid:()=>Hx,queryProfile:()=>Cv,searchDomain:()=>kx,useFetchImplementation:()=>Ux});var wd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Dx=a=>wd.test(a||""),fc;try{fc=fetch}catch{}function Ux(a){fc=a}async function kx(a,o=""){try{const l=`https://${a}/.well-known/nostr.json?name=${o}`,f=await fc(l,{redirect:"manual"});if(f.status!==200)throw Error("Wrong response code");return(await f.json()).names}catch{return{}}}async function Cv(a){const o=a.match(wd);if(!o)return null;const[,l="_",f]=o;try{const d=`https://${f}/.well-known/nostr.json?name=${l}`,p=await fc(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const v=await p.json(),b=v.names[l];return b?{pubkey:b,relays:v.relays?.[b]}:null}catch{return null}}async function Hx(a,o){const l=await Cv(o);return l?l.pubkey===a:!1}var jx={};re(jx,{parse:()=>Zx});function Zx(a){const o={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,f;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[v,b,_,x,T]=p,S={id:b,relays:_?[_]:[],author:T};if(x==="root"){o.root=S;continue}if(x==="reply"){o.reply=S;continue}if(x==="mention"){o.mentions.push(S);continue}l?f=S:l=S,o.mentions.push(S);continue}if(p[0]==="q"&&p[1]){const[v,b,_]=p;o.quotes.push({id:b,relays:_?[_]:[]})}if(p[0]==="p"&&p[1]){o.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return o.root||(o.root=f||l||o.reply),o.reply||(o.reply=l||o.root),[o.reply,o.root].forEach(d=>{if(!d)return;let p=o.mentions.indexOf(d);if(p!==-1&&o.mentions.splice(p,1),d.author){let v=o.profiles.find(b=>b.pubkey===d.author);v&&v.relays&&(d.relays||(d.relays=[]),v.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),v.relays=d.relays)}}),o.mentions.forEach(d=>{if(d.author){let p=o.profiles.find(v=>v.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(v=>{d.relays.indexOf(v)===-1&&d.relays.push(v)}),p.relays=d.relays)}}),o}var qx={};re(qx,{fetchRelayInformation:()=>Gx,useFetchImplementation:()=>Px});var Mv;try{Mv=fetch}catch{}function Px(a){Mv=a}async function Gx(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Yx={};re(Yx,{fastEventHash:()=>Nv,getPow:()=>Ov,minePow:()=>Vx});function Ov(a){let o=0;for(let l=0;l<64;l+=8){const f=parseInt(a.substring(l,l+8),16);if(f===0)o+=32;else{o+=Math.clz32(f);break}}return o}function Vx(a,o){let l=0;const f=a,d=["nonce",l.toString(),o.toString()];for(f.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==f.created_at&&(l=0,f.created_at=p),d[1]=(++l).toString(),f.id=Nv(f),Ov(f.id)>=o)break}return f}function Nv(a){return Ge(qs(Jn.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var Kx={};re(Kx,{unwrapEvent:()=>i2,unwrapManyEvents:()=>a2,wrapEvent:()=>Vv,wrapManyEvents:()=>n2});var Qx={};re(Qx,{createRumor:()=>qv,createSeal:()=>Pv,createWrap:()=>Gv,unwrapEvent:()=>Ad,unwrapManyEvents:()=>Yv,wrapEvent:()=>Xu,wrapManyEvents:()=>t2});var il={};re(il,{decrypt:()=>Td,encrypt:()=>Sd,getConversationKey:()=>xd,v2:()=>Wx});var Bv=1,Rv=65535;function xd(a,o){const l=Hr.getSharedSecret(a,"02"+o).subarray(1,33);return C1(qs,l,"nip44-v2")}function Dv(a,o){const l=M1(qs,a,o,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function Ed(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const o=1<<Math.floor(Math.log2(a-1))+1,l=o<=256?32:o/8;return l*(Math.floor((a-1)/l)+1)}function Xx(a){if(!Number.isSafeInteger(a)||a<Bv||a>Rv)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const o=new Uint8Array(2);return new DataView(o.buffer).setUint16(0,a,!1),o}function Ix(a){const o=Jn.encode(a),l=o.length,f=Xx(l),d=new Uint8Array(Ed(l)-l);return nc(f,o,d)}function Jx(a){const o=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+o);if(o<Bv||o>Rv||l.length!==o||a.length!==2+Ed(o))throw new Error("invalid padding");return Xi.decode(l)}function Uv(a,o,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const f=nc(l,o);return ac(qs,a,f)}function Fx(a){if(typeof a!="string")throw new Error("payload must be a valid string");const o=a.length;if(o<132||o>87472)throw new Error("invalid payload length: "+o);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=Ii.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const f=l.length;if(f<99||f>65603)throw new Error("invalid data length: "+f);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Sd(a,o,l=qy(32)){const{chacha_key:f,chacha_nonce:d,hmac_key:p}=Dv(o,l),v=Ix(a),b=nv(f,d,v),_=Uv(p,b,l);return Ii.encode(nc(new Uint8Array([2]),l,b,_))}function Td(a,o){const{nonce:l,ciphertext:f,mac:d}=Fx(a),{chacha_key:p,chacha_nonce:v,hmac_key:b}=Dv(o,l),_=Uv(b,f,l);if(!c1(_,d))throw new Error("invalid MAC");const x=nv(p,v,f);return Jx(x)}var Wx={utils:{getConversationKey:xd,calcPaddedLen:Ed},encrypt:Sd,decrypt:Td},$x=2880*60,kv=()=>Math.round(Date.now()/1e3),Hv=()=>Math.round(kv()-Math.random()*$x),jv=(a,o)=>xd(a,o),Zv=(a,o,l)=>Sd(JSON.stringify(a),jv(o,l)),ny=(a,o)=>JSON.parse(Td(a.content,jv(o,a.pubkey)));function qv(a,o){const l={created_at:kv(),content:"",tags:[],...a,pubkey:nl(o)};return l.id=ju(l),l}function Pv(a,o,l){return Un({kind:cv,content:Zv(a,o,l),created_at:Hv(),tags:[]},o)}function Gv(a,o){const l=rv();return Un({kind:yv,content:Zv(a,l,o),created_at:Hv(),tags:[["p",o]]},l)}function Xu(a,o,l){const f=qv(a,o),d=Pv(f,o,l);return Gv(d,l)}function t2(a,o,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const f=nl(o),d=[Xu(a,o,f)];return l.forEach(p=>{d.push(Xu(a,o,p))}),d}function Ad(a,o){const l=ny(a,o);return ny(l,o)}function Yv(a,o){let l=[];return a.forEach(f=>{l.push(Ad(f,o))}),l.sort((f,d)=>f.created_at-d.created_at),l}function e2(a,o,l,f){const d={created_at:Math.ceil(Date.now()/1e3),kind:fv,tags:[],content:o};return(Array.isArray(a)?a:[a]).forEach(({publicKey:v,relayUrl:b})=>{d.tags.push(b?["p",v,b]:["p",v])}),f&&d.tags.push(["e",f.eventId,f.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function Vv(a,o,l,f,d){const p=e2(o,l,f,d);return Xu(p,a,o.publicKey)}function n2(a,o,l,f,d){if(!o||o.length===0)throw new Error("At least one recipient is required.");return[{publicKey:nl(a)},...o].map(v=>Vv(a,v,l,f,d))}var i2=Ad,a2=Yv,s2={};re(s2,{finishRepostEvent:()=>r2,getRepostedEvent:()=>o2,getRepostedEventPointer:()=>Kv});function r2(a,o,l,f){let d;const p=[...a.tags??[],["e",o.id,l],["p",o.pubkey]];return o.kind===uv?d=pd:(d=yd,p.push(["k",String(o.kind)])),Un({kind:d,tags:p,content:a.content===""||o.tags?.find(v=>v[0]==="-")?"":JSON.stringify(o),created_at:a.created_at},f)}function Kv(a){if(![pd,yd].includes(a.kind))return;let o,l;for(let f=a.tags.length-1;f>=0&&(o===void 0||l===void 0);f--){const d=a.tags[f];d.length>=2&&(d[0]==="e"&&o===void 0?o=d:d[0]==="p"&&l===void 0&&(l=d))}if(o!==void 0)return{id:o[1],relays:[o[2],l?.[2]].filter(f=>typeof f=="string"),author:l?.[1]}}function o2(a,{skipVerification:o}={}){const l=Kv(a);if(l===void 0||a.content==="")return;let f;try{f=JSON.parse(a.content)}catch{return}if(f.id===l.id&&!(!o&&!rc(f)))return f}var l2={};re(l2,{NOSTR_URI_REGEX:()=>zd,parse:()=>c2,test:()=>u2});var zd=new RegExp(`nostr:(${Av.source})`);function u2(a){return typeof a=="string"&&new RegExp(`^${zd.source}$`).test(a)}function c2(a){const o=a.match(new RegExp(`^${zd.source}$`));if(!o)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:o[0],value:o[1],decoded:lc(o[1])}}var f2={};re(f2,{finishReactionEvent:()=>h2,getReactedEventPointer:()=>d2});function h2(a,o,l){const f=o.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return Un({...a,kind:gd,tags:[...a.tags??[],...f,["e",o.id],["p",o.pubkey]],content:a.content??"+"},l)}function d2(a){if(a.kind!==gd)return;let o,l;for(let f=a.tags.length-1;f>=0&&(o===void 0||l===void 0);f--){const d=a.tags[f];d.length>=2&&(d[0]==="e"&&o===void 0?o=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(o===void 0||l===void 0))return{id:o[1],relays:[o[2],l[2]].filter(f=>f!==void 0),author:l[1]}}var m2={};re(m2,{parse:()=>g2});var iy=/\W/m,ay=/[^\w\/] |[^\w\/]$|$|,| /m,p2=42;function*g2(a){let o=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const v=a.tags[p];v[0]==="emoji"&&v.length>=3&&o.push({type:"emoji",shortcode:v[1],url:v[2]})}a=a.content}const l=a.length;let f=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),v=a.indexOf("#",d);if(p===-1&&v===-1)break t;if(p===-1||v>=0&&v<p){if(v===0||a[v-1]===" "){const b=a.slice(v+1,v+p2).match(iy),_=b?v+1+b.index:l;yield{type:"text",text:a.slice(f,v)},yield{type:"hashtag",value:a.slice(v+1,_)},d=_,f=d;continue t}d=v+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(iy),_=b?p+60+b.index:l;try{let x,{data:T,type:S}=lc(a.slice(p+1,_));switch(S){case"npub":x={pubkey:T};break;case"note":x={id:T};break;case"nsec":d=_+1;continue;default:x=T}f!==p-5&&(yield{type:"text",text:a.slice(f,p-5)}),yield{type:"reference",pointer:x},d=_,f=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(ay),_=b?p+4+b.index:l,x=a[p-1]==="s"?5:4;try{let T=new URL(a.slice(p-x,_));if(T.hostname.indexOf(".")===-1)throw new Error("invalid url");if(f!==p-x&&(yield{type:"text",text:a.slice(f,p-x)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(T.pathname)){yield{type:"image",url:T.toString()},d=_,f=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(T.pathname)){yield{type:"video",url:T.toString()},d=_,f=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(T.pathname)){yield{type:"audio",url:T.toString()},d=_,f=d;continue t}yield{type:"url",url:T.toString()},d=_,f=d;continue t}catch{d=_+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(ay),_=b?p+4+b.index:l,x=a[p-1]==="s"?3:2;try{let T=new URL(a.slice(p-x,_));if(T.hostname.indexOf(".")===-1)throw new Error("invalid ws url");f!==p-x&&(yield{type:"text",text:a.slice(f,p-x)}),yield{type:"relay",url:T.toString()},d=_,f=d;continue t}catch{d=_+1;continue t}}else{for(let b=0;b<o.length;b++){const _=o[b];if(a[p+_.shortcode.length+1]===":"&&a.slice(p+1,p+_.shortcode.length+1)===_.shortcode){f!==p&&(yield{type:"text",text:a.slice(f,p)}),yield _,d=p+_.shortcode.length+2,f=d;continue t}}d=p+1;continue t}}f!==l&&(yield{type:"text",text:a.slice(f)})}var y2={};re(y2,{channelCreateEvent:()=>v2,channelHideMessageEvent:()=>w2,channelMessageEvent:()=>b2,channelMetadataEvent:()=>_2,channelMuteUserEvent:()=>x2});var v2=(a,o)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Un({kind:hv,tags:[...a.tags??[]],content:l,created_at:a.created_at},o)},_2=(a,o)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Un({kind:dv,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},o)},b2=(a,o)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),Un({kind:mv,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},o)},w2=(a,o)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Un({kind:pv,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},o)},x2=(a,o)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Un({kind:gv,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},o)},E2={};re(E2,{EMOJI_SHORTCODE_REGEX:()=>Qv,matchAll:()=>S2,regex:()=>Ld,replaceAll:()=>T2});var Qv=/:(\w+):/,Ld=()=>new RegExp(`\\B${Qv.source}\\B`,"g");function*S2(a){const o=a.matchAll(Ld());for(const l of o)try{const[f,d]=l;yield{shortcode:f,name:d,start:l.index,end:l.index+f.length}}catch{}}function T2(a,o){return a.replaceAll(Ld(),(l,f)=>o({shortcode:l,name:f}))}var A2={};re(A2,{useFetchImplementation:()=>z2,validateGithub:()=>L2});var Cd;try{Cd=fetch}catch{}function z2(a){Cd=a}async function L2(a,o,l){try{return await(await Cd(`https://gist.github.com/${o}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var C2={};re(C2,{makeNwcRequestEvent:()=>O2,parseConnectionString:()=>M2});function M2(a){const{host:o,pathname:l,searchParams:f}=new URL(a),d=l||o,p=f.get("relay"),v=f.get("secret");if(!d||!p||!v)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:v}}async function O2(a,o,l){const d=zv(o,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:_v,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return Un(p,o)}var N2={};re(N2,{normalizeIdentifier:()=>B2});function B2(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(o=>new RegExp("\\p{Letter}","u").test(o)||new RegExp("\\p{Number}","u").test(o)?o:"-").join("")}var R2={};re(R2,{getSatoshisAmountFromBolt11:()=>Z2,getZapEndpoint:()=>U2,makeZapReceipt:()=>j2,makeZapRequest:()=>k2,useFetchImplementation:()=>D2,validateZapRequest:()=>H2});var Md;try{Md=fetch}catch{}function D2(a){Md=a}async function U2(a){try{let o="",{lud06:l,lud16:f}=JSON.parse(a.content);if(f){let[v,b]=f.split("@");o=new URL(`/.well-known/lnurlp/${v}`,`https://${b}`).toString()}else if(l){let{words:v}=kr.decode(l,1e3),b=kr.fromWords(v);o=Xi.decode(b)}else return null;let p=await(await Md(o)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function k2(a){let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(o.tags.push(["e",a.event.id]),dd(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];o.tags.push(l)}else if(md(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const f=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];o.tags.push(f)}o.tags.push(["k",a.event.kind.toString()])}return o}function H2(a){let o;try{o=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!fd(o))return"Zap request is not a valid Nostr event.";if(!rc(o))return"Invalid signature on zap request.";let l=o.tags.find(([p,v])=>p==="p"&&v);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let f=o.tags.find(([p,v])=>p==="e"&&v);return f&&!f[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":o.tags.find(([p,v])=>p==="relays"&&v)?null:"Zap request doesn't have a 'relays' tag."}function j2({zapRequest:a,preimage:o,bolt11:l,paidAt:f}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),v={kind:9735,created_at:Math.round(f.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return o&&v.tags.push(["preimage",o]),v}function Z2(a){if(a.length<50)return 0;a=a.substring(0,50);const o=a.lastIndexOf("1");if(o===-1)return 0;const l=a.substring(0,o);if(!l.startsWith("lnbc"))return 0;const f=l.substring(4);if(f.length<1)return 0;const d=f[f.length-1],p=d.charCodeAt(0)-48,v=p>=0&&p<=9;let b=f.length-1;if(v&&b++,b<1)return 0;const _=parseInt(f.substring(0,b));switch(d){case"m":return _*1e5;case"u":return _*100;case"n":return _/10;case"p":return _/1e4;default:return _*1e8}}var q2={};re(q2,{Negentropy:()=>Iv,NegentropyStorageVector:()=>Y2,NegentropySync:()=>V2});var Nh=97,Rr=32,Xv=16,Rs={Skip:0,Fingerprint:1,IdList:2},Qi=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof Qi&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const o=a.length+this.length;if(this.capacity<o){const l=this._raw,f=Math.max(this.capacity*2,o);this._raw=new Uint8Array(f),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const o=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,o}};function ku(a){let o=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(o=o<<7|l&127,(l&128)===0)break}return o}function Vi(a){if(a===0)return new Qi(new Uint8Array([0]));let o=[];for(;a!==0;)o.push(a&127),a>>>=7;o.reverse();for(let l=0;l<o.length-1;l++)o[l]|=128;return new Qi(new Uint8Array(o))}function P2(a){return Zu(a,1)[0]}function Zu(a,o){if(a.length<o)throw Error("parse ends prematurely");return a.shiftN(o)}var G2=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(Rr)}add(a){let o=0,l=0,f=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let v=p*4,b=f.getUint32(v,!0),_=d.getUint32(v,!0),x=b;x+=o,x+=_,x>4294967295&&(l=1),f.setUint32(v,x&4294967295,!0),o=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let f=l*4;a.setUint32(f,~a.getUint32(f,!0))}let o=new Uint8Array(Rr);o[0]=1,this.add(o)}getFingerprint(a){let o=new Qi;return o.extend(this.buf),o.extend(Vi(a)),qs(o.unwrap()).subarray(0,Xv)}},Y2=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,o){if(this.sealed)throw Error("already sealed");const l=Qy(o);if(l.byteLength!==Rr)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Bh);for(let a=1;a<this.items.length;a++)if(Bh(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,o,l){this._checkSealed(),this._checkBounds(a,o);for(let f=a;f<o&&l(this.items[f],f);++f);}findLowerBound(a,o,l){return this._checkSealed(),this._checkBounds(a,o),this._binarySearch(this.items,a,o,f=>Bh(f,l)<0)}fingerprint(a,o){let l=new G2;return l.setToZero(),this.iterate(a,o,f=>(l.add(f.id),!0)),l.getFingerprint(o-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,o){if(a>o||o>this.items.length)throw Error("bad range")}_binarySearch(a,o,l,f){let d=l-o;for(;d>0;){let p=o,v=Math.floor(d/2);p+=v,f(a[p])?(o=++p,d-=v+1):d=v}return o}},Iv=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,o=6e4){if(o<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=o,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,o){return{timestamp:a,id:o||new Uint8Array(0)}}initiate(){let a=new Qi;return a.extend(new Uint8Array([Nh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),Or(a.unwrap())}reconcile(a,o,l){const f=new Qi(Qy(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new Qi;d.extend(new Uint8Array([Nh]));let p=P2(f);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==Nh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let v=this.storage.size(),b=this._bound(0),_=0,x=!1;for(;f.length!==0;){let T=new Qi,S=()=>{x&&(x=!1,T.extend(this.encodeBound(b)),T.extend(Vi(Rs.Skip)))},R=this.decodeBound(f),q=ku(f),H=_,M=this.storage.findLowerBound(_,v,R);if(q===Rs.Skip)x=!0;else if(q===Rs.Fingerprint){let U=Zu(f,Xv),V=this.storage.fingerprint(H,M);Jv(U,V)!==0?(S(),this.splitRange(H,M,R,T)):x=!0}else if(q===Rs.IdList){let U=ku(f),V={};for(let it=0;it<U;it++){let $=Zu(f,Rr);V[Or($)]=$}if(x=!0,this.storage.iterate(H,M,it=>{let $=it.id;const mt=Or($);return V[mt]?delete V[Or($)]:o?.(mt),!0}),l)for(let it of Object.values(V))l(Or(it))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+T.length)){let U=this.storage.fingerprint(M,v);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(Vi(Rs.Fingerprint)),d.extend(U);break}else d.extend(T);_=M,b=R}return d.length===1?null:Or(d.unwrap())}splitRange(a,o,l,f){let d=o-a,p=16;if(d<p*2)f.extend(this.encodeBound(l)),f.extend(Vi(Rs.IdList)),f.extend(Vi(d)),this.storage.iterate(a,o,v=>(f.extend(v.id),!0));else{let v=Math.floor(d/p),b=d%p,_=a;for(let x=0;x<p;x++){let T=v+(x<b?1:0),S=this.storage.fingerprint(_,_+T);_+=T;let R;if(_===o)R=l;else{let q,H;this.storage.iterate(_-1,_+1,(M,U)=>(U===_-1?q=M:H=M,!0)),R=this.getMinimalBound(q,H)}f.extend(this.encodeBound(R)),f.extend(Vi(Rs.Fingerprint)),f.extend(S)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let o=ku(a);return o=o===0?Number.MAX_VALUE:o-1,this.lastTimestampIn===Number.MAX_VALUE||o===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(o+=this.lastTimestampIn,this.lastTimestampIn=o,o)}decodeBound(a){let o=this.decodeTimestampIn(a),l=ku(a);if(l>Rr)throw Error("bound key too long");let f=Zu(a,l);return{timestamp:o,id:f}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,Vi(0);let o=a;return a-=this.lastTimestampOut,this.lastTimestampOut=o,Vi(a+1)}encodeBound(a){let o=new Qi;return o.extend(this.encodeTimestampOut(a.timestamp)),o.extend(Vi(a.id.length)),o.extend(a.id),o}getMinimalBound(a,o){if(o.timestamp!==a.timestamp)return this._bound(o.timestamp);{let l=0,f=o.id,d=a.id;for(let p=0;p<Rr&&f[p]===d[p];p++)l++;return this._bound(o.timestamp,o.id.subarray(0,l+1))}}};function Jv(a,o){for(let l=0;l<a.byteLength;l++){if(a[l]<o[l])return-1;if(a[l]>o[l])return 1}return a.byteLength>o.byteLength?1:a.byteLength<o.byteLength?-1:0}function Bh(a,o){return a.timestamp===o.timestamp?Jv(a.id,o.id):a.timestamp-o.timestamp}var V2=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,o,l,f={}){this.relay=a,this.storage=o,this.neg=new Iv(o),this.onhave=f.onhave,this.onneed=f.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:f.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),f.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),f?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),f.onclose?.(p);break}case"NEG-ERR":f.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},K2={};re(K2,{getToken:()=>Q2,hashPayload:()=>Od,unpackEventFromToken:()=>Wv,validateEvent:()=>a0,validateEventKind:()=>t0,validateEventMethodTag:()=>n0,validateEventPayloadTag:()=>i0,validateEventTimestamp:()=>$v,validateEventUrlTag:()=>e0,validateToken:()=>X2});var Fv="Nostr ";async function Q2(a,o,l,f=!1,d){const p={kind:vd,tags:[["u",a],["method",o]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",Od(d)]);const v=await l(p);return(f?Fv:"")+Ii.encode(Jn.encode(JSON.stringify(v)))}async function X2(a,o,l){const f=await Wv(a).catch(p=>{throw p});return await a0(f,o,l).catch(p=>{throw p})}async function Wv(a){if(!a)throw new Error("Missing token");a=a.replace(Fv,"");const o=Xi.decode(Ii.decode(a));if(!o||o.length===0||!o.startsWith("{"))throw new Error("Invalid token");return JSON.parse(o)}function $v(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function t0(a){return a.kind===vd}function e0(a,o){const l=a.tags.find(f=>f[0]==="u");return l?l.length>0&&l[1]===o:!1}function n0(a,o){const l=a.tags.find(f=>f[0]==="method");return l?l.length>0&&l[1].toLowerCase()===o.toLowerCase():!1}function Od(a){const o=qs(Jn.encode(JSON.stringify(a)));return Ge(o)}function i0(a,o){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const f=Od(o);return l.length>0&&l[1]===f}async function a0(a,o,l,f){if(!rc(a))throw new Error("Invalid nostr event, signature invalid");if(!t0(a))throw new Error("Invalid nostr event, kind invalid");if(!$v(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!e0(a,o))throw new Error("Invalid nostr event, url tag invalid");if(!n0(a,l))throw new Error("Invalid nostr event, method tag invalid");if(f&&typeof f=="object"&&Object.keys(f).length>0&&!i0(a,f))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const sy=a=>Array.from(a).map(o=>o.toString(16).padStart(2,"0")).join(""),s0=dt.createContext(null),I2=({children:a})=>{const[o,l]=dt.useState(localStorage.getItem("parlens_pubkey")),[f]=dt.useState(new xx),d=async(b,_,x)=>{let T="",S=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");T=await window.nostr.getPublicKey()}else if(b==="nsec"&&_)try{const R=$o.decode(_);if(R.type!=="nsec")throw new Error("Not an nsec");S=R.data,T=nl(S),localStorage.setItem("parlens_privkey",sy(S))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(S=rv(),T=nl(S),localStorage.setItem("parlens_privkey",sy(S)));if(l(T),localStorage.setItem("parlens_pubkey",T),b==="create"&&x&&S)try{const R=Un({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:x,display_name:x,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${T}`})},S);await Promise.any([f.publish(["wss://relay.damus.io","wss://nos.lol"],R)])}catch(R){console.warn("Failed to publish metadata:",R)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},v=async b=>{const _=localStorage.getItem("parlens_privkey");if(_){const x=new Uint8Array(_.match(/.{1,2}/g).map(T=>parseInt(T,16)));return Un(b,x)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return N.jsx(s0.Provider,{value:{pubkey:o,login:d,logout:p,pool:f,signEvent:v},children:a})},ol=()=>{const a=dt.useContext(s0);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const J2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,l,f)=>f?f.toUpperCase():l.toLowerCase()),ry=a=>{const o=F2(a);return o.charAt(0).toUpperCase()+o.slice(1)},r0=(...a)=>a.filter((o,l,f)=>!!o&&o.trim()!==""&&f.indexOf(o)===l).join(" ").trim(),W2=a=>{for(const o in a)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};var $2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tE=dt.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:f,className:d="",children:p,iconNode:v,...b},_)=>dt.createElement("svg",{ref:_,...$2,width:o,height:o,stroke:a,strokeWidth:f?Number(l)*24/Number(o):l,className:r0("lucide",d),...!p&&!W2(b)&&{"aria-hidden":"true"},...b},[...v.map(([x,T])=>dt.createElement(x,T)),...Array.isArray(p)?p:[p]]));const Ve=(a,o)=>{const l=dt.forwardRef(({className:f,...d},p)=>dt.createElement(tE,{ref:p,iconNode:o,className:r0(`lucide-${J2(ry(a))}`,`lucide-${a}`,f),...d}));return l.displayName=ry(a),l};const eE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nE=Ve("arrow-right",eE);const iE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kh=Ve("chevron-down",iE);const aE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oy=Ve("chevron-right",aE);const sE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rE=Ve("chevron-up",sE);const oE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ly=Ve("circle-question-mark",oE);const lE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],uE=Ve("clipboard-list",lE);const cE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fE=Ve("clock",cE);const hE=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dE=Ve("compass",hE);const mE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],o0=Ve("key",mE);const pE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qh=Ve("map-pin",pE);const gE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],yE=Ve("navigation",gE);const vE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_E=Ve("search",vE);const bE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wE=Ve("shield-check",bE);const xE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EE=Ve("shield",xE);const SE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TE=Ve("user-plus",SE);const AE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],l0=Ve("x",AE);function zE(a,o){const l=dt.useRef(o);dt.useEffect(function(){o!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),o!=null&&a.attributionControl.addAttribution(o)),l.current=o},[a,o])}_y();const LE=1;function CE(a){return Object.freeze({__version:LE,map:a})}function ME(a,o){return Object.freeze({...a,...o})}const Nd=dt.createContext(null);function u0(){const a=dt.use(Nd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function OE(a){function o(l,f){const{instance:d,context:p}=a(l).current;dt.useImperativeHandle(f,()=>d);const{children:v}=l;return v==null?null:Pu.createElement(Nd,{value:p},v)}return dt.forwardRef(o)}function NE(a){function o(l,f){const{instance:d}=a(l).current;return dt.useImperativeHandle(f,()=>d),null}return dt.forwardRef(o)}function BE(a,o){const l=dt.useRef(void 0);dt.useEffect(function(){return o!=null&&a.instance.on(o),l.current=o,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,o])}function c0(a,o){const l=a.pane??o.pane;return l?{...a,pane:l}:a}var Wo={exports:{}};var RE=Wo.exports,uy;function DE(){return uy||(uy=1,(function(a,o){(function(l,f){f(o)})(RE,(function(l){var f="1.9.4";function d(n){var s,u,m,g;for(u=1,m=arguments.length;u<m;u++){g=arguments[u];for(s in g)n[s]=g[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function v(n,s){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var m=u.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(u.call(arguments)):arguments)}}var b=0;function _(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function x(n,s,u){var m,g,w,z;return z=function(){m=!1,g&&(w.apply(u,g),g=!1)},w=function(){m?g=arguments:(n.apply(u,arguments),setTimeout(z,s),m=!0)},w}function T(n,s,u){var m=s[1],g=s[0],w=m-g;return n===m&&u?n:((n-g)%w+w)%w+g}function S(){return!1}function R(n,s){if(s===!1)return n;var u=Math.pow(10,s===void 0?6:s);return Math.round(n*u)/u}function q(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function H(n){return q(n).split(/\s+/)}function M(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var u in s)n.options[u]=s[u];return n.options}function U(n,s,u){var m=[];for(var g in n)m.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function it(n,s){return n.replace(V,function(u,m){var g=s[m];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(s)),g})}var $=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function mt(n,s){for(var u=0;u<n.length;u++)if(n[u]===s)return u;return-1}var pt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function st(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var tt=0;function at(n){var s=+new Date,u=Math.max(0,16-(s-tt));return tt=s+u,window.setTimeout(n,u)}var vt=window.requestAnimationFrame||st("RequestAnimationFrame")||at,yt=window.cancelAnimationFrame||st("CancelAnimationFrame")||st("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function lt(n,s,u){if(u&&vt===at)n.call(s);else return vt.call(window,v(n,s))}function _t(n){n&&yt.call(window,n)}var zt={__proto__:null,extend:d,create:p,bind:v,get lastId(){return b},stamp:_,throttle:x,wrapNum:T,falseFn:S,formatNum:R,trim:q,splitWords:H,setOptions:M,getParamString:U,template:it,isArray:$,indexOf:mt,emptyImageUrl:pt,requestFn:vt,cancelFn:yt,requestAnimFrame:lt,cancelAnimFrame:_t};function Lt(){}Lt.extend=function(n){var s=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,m=p(u);m.constructor=s,s.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return n.statics&&d(s,n.statics),n.includes&&(nt(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=u.options?p(u.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,z=m._initHooks.length;w<z;w++)m._initHooks[w].call(this)}},s},Lt.include=function(n){var s=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Lt.mergeOptions=function(n){return d(this.prototype.options,n),this},Lt.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function nt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=$(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var O={on:function(n,s,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=H(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],s,u)}return this},off:function(n,s,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=H(n);for(var g=arguments.length===1,w=0,z=n.length;w<z;w++)g?this._off(n[w]):this._off(n[w],s,u)}return this},_on:function(n,s,u,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,u)===!1){u===this&&(u=void 0);var g={fn:s,ctx:u};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,s,u){var m,g,w;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,w=m.length;g<w;g++)m[g].fn=S;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var z=this._listens(n,s,u);if(z!==!1){var k=m[z];this._firingCount&&(k.fn=S,this._events[n]=m=m.slice()),m.splice(z,1)}}},fire:function(n,s,u){if(!this.listens(n,u))return this;var m=d({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,z=g.length;w<z;w++){var k=g[w],G=k.fn;k.once&&this.off(n,G,k.ctx),G.call(k.ctx||this,m)}this._firingCount--}}return u&&this._propagateEvent(m),this},listens:function(n,s,u,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(m=!!s,g=void 0,u=void 0);var w=this._events&&this._events[n];if(w&&w.length&&this._listens(n,g,u)!==!1)return!0;if(m){for(var z in this._eventParents)if(this._eventParents[z].listens(n,s,u,m))return!0}return!1},_listens:function(n,s,u){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;u===this&&(u=void 0);for(var g=0,w=m.length;g<w;g++)if(m[g].fn===s&&m[g].ctx===u)return g;return!1},once:function(n,s,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=H(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],s,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[_(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[_(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var Q=Lt.extend(O);function X(n,s,u){this.x=u?Math.round(n):n,this.y=u?Math.round(s):s}var ht=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(n){return this.clone()._add(et(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(et(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new X(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new X(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ht(this.x),this.y=ht(this.y),this},distanceTo:function(n){n=et(n);var s=n.x-this.x,u=n.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(n){return n=et(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=et(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function et(n,s,u){return n instanceof X?n:$(n)?new X(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new X(n.x,n.y):new X(n,s,u)}function A(n,s){if(n)for(var u=s?[n,s]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}A.prototype={extend:function(n){var s,u;if(!n)return this;if(n instanceof X||typeof n[0]=="number"||"x"in n)s=u=et(n);else if(n=j(n),s=n.min,u=n.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return et(this.min.x,this.max.y)},getTopRight:function(){return et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,u;return typeof n[0]=="number"||n instanceof X?n=et(n):n=j(n),n instanceof A?(s=n.min,u=n.max):s=u=n,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=j(n);var s=this.min,u=this.max,m=n.min,g=n.max,w=g.x>=s.x&&m.x<=u.x,z=g.y>=s.y&&m.y<=u.y;return w&&z},overlaps:function(n){n=j(n);var s=this.min,u=this.max,m=n.min,g=n.max,w=g.x>s.x&&m.x<u.x,z=g.y>s.y&&m.y<u.y;return w&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,u=this.max,m=Math.abs(s.x-u.x)*n,g=Math.abs(s.y-u.y)*n;return j(et(s.x-m,s.y-g),et(u.x+m,u.y+g))},equals:function(n){return n?(n=j(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function j(n,s){return!n||n instanceof A?n:new A(n,s)}function rt(n,s){if(n)for(var u=s?[n,s]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}rt.prototype={extend:function(n){var s=this._southWest,u=this._northEast,m,g;if(n instanceof ct)m=n,g=n;else if(n instanceof rt){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(ft(n)||ot(n)):this;return!s&&!u?(this._southWest=new ct(m.lat,m.lng),this._northEast=new ct(g.lat,g.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(n){var s=this._southWest,u=this._northEast,m=Math.abs(s.lat-u.lat)*n,g=Math.abs(s.lng-u.lng)*n;return new rt(new ct(s.lat-m,s.lng-g),new ct(u.lat+m,u.lng+g))},getCenter:function(){return new ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ct||"lat"in n?n=ft(n):n=ot(n);var s=this._southWest,u=this._northEast,m,g;return n instanceof rt?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=s.lat&&g.lat<=u.lat&&m.lng>=s.lng&&g.lng<=u.lng},intersects:function(n){n=ot(n);var s=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>=s.lat&&m.lat<=u.lat,z=g.lng>=s.lng&&m.lng<=u.lng;return w&&z},overlaps:function(n){n=ot(n);var s=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>s.lat&&m.lat<u.lat,z=g.lng>s.lng&&m.lng<u.lng;return w&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=ot(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(n,s){return n instanceof rt?n:new rt(n,s)}function ct(n,s,u){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,u!==void 0&&(this.alt=+u)}ct.prototype={equals:function(n,s){if(!n)return!1;n=ft(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+R(this.lat,n)+", "+R(this.lng,n)+")"},distanceTo:function(n){return Ft.distance(this,ft(n))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,u=s/Math.cos(Math.PI/180*this.lat);return ot([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new ct(this.lat,this.lng,this.alt)}};function ft(n,s,u){return n instanceof ct?n:$(n)&&typeof n[0]!="object"?n.length===3?new ct(n[0],n[1],n[2]):n.length===2?new ct(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ct(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new ct(n,s,u)}var Tt={latLngToPoint:function(n,s){var u=this.projection.project(n),m=this.scale(s);return this.transformation._transform(u,m)},pointToLatLng:function(n,s){var u=this.scale(s),m=this.transformation.untransform(n,u);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(n),m=this.transformation.transform(s.min,u),g=this.transformation.transform(s.max,u);return new A(m,g)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?T(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?T(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ct(u,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),u=this.wrapLatLng(s),m=s.lat-u.lat,g=s.lng-u.lng;if(m===0&&g===0)return n;var w=n.getSouthWest(),z=n.getNorthEast(),k=new ct(w.lat-m,w.lng-g),G=new ct(z.lat-m,z.lng-g);return new rt(k,G)}},Ft=d({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var u=Math.PI/180,m=n.lat*u,g=s.lat*u,w=Math.sin((s.lat-n.lat)*u/2),z=Math.sin((s.lng-n.lng)*u/2),k=w*w+Math.cos(m)*Math.cos(g)*z*z,G=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*G}}),qt=6378137,He={R:qt,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,u=this.MAX_LATITUDE,m=Math.max(Math.min(u,n.lat),-u),g=Math.sin(m*s);return new X(this.R*n.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var s=180/Math.PI;return new ct((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=qt*Math.PI;return new A([-n,-n],[n,n])})()};function kn(n,s,u,m){if($(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=u,this._d=m}kn.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new X((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function ye(n,s,u,m){return new kn(n,s,u,m)}var dn=d({},Ft,{code:"EPSG:3857",projection:He,transformation:(function(){var n=.5/(Math.PI*He.R);return ye(n,.5,-n,.5)})()}),We=d({},dn,{code:"EPSG:900913"});function vi(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function _i(n,s){var u="",m,g,w,z,k,G;for(m=0,w=n.length;m<w;m++){for(k=n[m],g=0,z=k.length;g<z;g++)G=k[g],u+=(g?"L":"M")+G.x+" "+G.y;u+=s?wt.svg?"z":"x":""}return u||"M0 0"}var qr=document.documentElement.style,Va="ActiveXObject"in window,Pr=Va&&!document.addEventListener,Ps="msLaunchUri"in navigator&&!("documentMode"in document),Ka=$e("webkit"),ll=$e("android"),ul=$e("android 2")||$e("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),gc=ll&&$e("Google")&&Ke<537&&!("AudioNode"in window),Gs=!!window.opera,Gr=!Ps&&$e("chrome"),Qa=$e("gecko")&&!Ka&&!Gs&&!Va,yc=!Gr&&$e("safari"),Yr=$e("phantom"),cl="OTransition"in qr,vc=navigator.platform.indexOf("Win")===0,$i=Va&&"transition"in qr,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ul,Hn="MozPerspective"in qr,Qe=!window.L_DISABLE_3D&&($i||Ne||Hn)&&!cl&&!Yr,Xa=typeof orientation<"u"||$e("mobile"),_c=Xa&&Ka,bc=Xa&&Ne,Ia=!window.PointerEvent&&window.MSPointerEvent,Ja=!!(window.PointerEvent||Ia),Fa="ontouchstart"in window||!!window.TouchEvent,bi=!window.L_NO_TOUCH&&(Fa||Ja),Ys=Xa&&Gs,Wa=Xa&&Qa,wc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fl=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",S,s),window.removeEventListener("testPassiveEventSupport",S,s)}catch{}return n})(),Vr=(function(){return!!document.createElement("canvas").getContext})(),wi=!!(document.createElementNS&&vi("svg").createSVGRect),xc=!!wi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),hl=!wi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),dl=navigator.platform.indexOf("Mac")===0,ml=navigator.platform.indexOf("Linux")===0;function $e(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var wt={ie:Va,ielt9:Pr,edge:Ps,webkit:Ka,android:ll,android23:ul,androidStock:gc,opera:Gs,chrome:Gr,gecko:Qa,safari:yc,phantom:Yr,opera12:cl,win:vc,ie3d:$i,webkit3d:Ne,gecko3d:Hn,any3d:Qe,mobile:Xa,mobileWebkit:_c,mobileWebkit3d:bc,msPointer:Ia,pointer:Ja,touch:bi,touchNative:Fa,mobileOpera:Ys,mobileGecko:Wa,retina:wc,passiveEvents:fl,canvas:Vr,svg:wi,vml:hl,inlineSvg:xc,mac:dl,linux:ml},Kr=wt.msPointer?"MSPointerDown":"pointerdown",Qr=wt.msPointer?"MSPointerMove":"pointermove",jn=wt.msPointer?"MSPointerUp":"pointerup",ve=wt.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Kr,touchmove:Qr,touchend:jn,touchcancel:ve},xi={touchstart:ea,touchmove:Wn,touchend:Wn,touchcancel:Wn},Fn={},pl=!1;function Ec(n,s,u){return s==="touchstart"&&ta(),xi[s]?(u=xi[s].bind(this,u),n.addEventListener(ze[s],u,!1),u):(console.warn("wrong event specified:",s),S)}function gl(n,s,u){if(!ze[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(ze[s],u,!1)}function $a(n){Fn[n.pointerId]=n}function Xr(n){Fn[n.pointerId]&&(Fn[n.pointerId]=n)}function Ei(n){delete Fn[n.pointerId]}function ta(){pl||(document.addEventListener(Kr,$a,!0),document.addEventListener(Qr,Xr,!0),document.addEventListener(jn,Ei,!0),document.addEventListener(ve,Ei,!0),pl=!0)}function Wn(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in Fn)s.touches.push(Fn[u]);s.changedTouches=[s],n(s)}}function ea(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ce(s),Wn(n,s)}function _e(n){var s={},u,m;for(m in n)u=n[m],s[m]=u&&u.bind?u.bind(n):u;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var yl=200;function vl(n,s){n.addEventListener("dblclick",s);var u=0,m;function g(w){if(w.detail!==1){m=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var z=rs(w);if(!(z.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!z.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var k=Date.now();k-u<=yl?(m++,m===2&&s(_e(w))):m=1,u=k}}}return n.addEventListener("click",g),{dblclick:s,simDblclick:g}}function Si(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var $n=ns(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ts=ns(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ir=ts==="webkitTransition"||ts==="OTransition"?ts+"End":"transitionend";function Jr(n){return typeof n=="string"?document.getElementById(n):n}function es(n,s){var u=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);u=m?m[s]:null}return u==="auto"?null:u}function Rt(n,s,u){var m=document.createElement(n);return m.className=s||"",u&&u.appendChild(m),m}function Wt(n){var s=n.parentNode;s&&s.removeChild(n)}function tn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Se(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Ti(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Fr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var u=Vs(n);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function Ct(n,s){if(n.classList!==void 0)for(var u=H(s),m=0,g=u.length;m<g;m++)n.classList.add(u[m]);else if(!Fr(n,s)){var w=Vs(n);na(n,(w?w+" ":"")+s)}}function oe(n,s){n.classList!==void 0?n.classList.remove(s):na(n,q((" "+Vs(n)+" ").replace(" "+s+" "," ")))}function na(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Vs(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Wr(n,s)}function Wr(n,s){var u=!1,m="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function ns(n){for(var s=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in s)return n[u];return!1}function Zn(n,s,u){var m=s||new X(0,0);n.style[$n]=(wt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(u?" scale("+u+")":"")}function ne(n,s){n._leaflet_pos=s,wt.any3d?Zn(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function ti(n){return n._leaflet_pos||new X(0,0)}var ia,En,$r;if("onselectstart"in document)ia=function(){At(window,"selectstart",ce)},En=function(){Xt(window,"selectstart",ce)};else{var aa=ns(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ia=function(){if(aa){var n=document.documentElement.style;$r=n[aa],n[aa]="none"}},En=function(){aa&&(document.documentElement.style[aa]=$r,$r=void 0)}}function Ks(){At(window,"dragstart",ce)}function is(){Xt(window,"dragstart",ce)}var Qs,to;function sa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(en(),Qs=n,to=n.style.outlineStyle,n.style.outlineStyle="none",At(window,"keydown",en))}function en(){Qs&&(Qs.style.outlineStyle=to,Qs=void 0,to=void 0,Xt(window,"keydown",en))}function Xs(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function as(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var ra={__proto__:null,TRANSFORM:$n,TRANSITION:ts,TRANSITION_END:Ir,get:Jr,getStyle:es,create:Rt,remove:Wt,empty:tn,toFront:Se,toBack:Ti,hasClass:Fr,addClass:Ct,removeClass:oe,setClass:na,getClass:Vs,setOpacity:ae,testProp:ns,setTransform:Zn,setPosition:ne,getPosition:ti,get disableTextSelection(){return ia},get enableTextSelection(){return En},disableImageDrag:Ks,enableImageDrag:is,preventOutline:sa,restoreOutline:en,getSizedParentNode:Xs,getScale:as};function At(n,s,u,m){if(s&&typeof s=="object")for(var g in s)pn(n,g,s[g],u);else{s=H(s);for(var w=0,z=s.length;w<z;w++)pn(n,s[w],u,m)}return this}var mn="_leaflet_events";function Xt(n,s,u,m){if(arguments.length===1)eo(n),delete n[mn];else if(s&&typeof s=="object")for(var g in s)ss(n,g,s[g],u);else if(s=H(s),arguments.length===2)eo(n,function(k){return mt(s,k)!==-1});else for(var w=0,z=s.length;w<z;w++)ss(n,s[w],u,m);return this}function eo(n,s){for(var u in n[mn]){var m=u.split(/\d/)[0];(!s||s(m))&&ss(n,m,null,null,u)}}var Ai={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pn(n,s,u,m){var g=s+_(u)+(m?"_"+_(m):"");if(n[mn]&&n[mn][g])return this;var w=function(k){return u.call(m||n,k||window.event)},z=w;!wt.touchNative&&wt.pointer&&s.indexOf("touch")===0?w=Ec(n,s,w):wt.touch&&s==="dblclick"?w=vl(n,w):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Ai[s]||s,w,wt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(w=function(k){k=k||window.event,qn(n,k)&&z(k)},n.addEventListener(Ai[s],w,!1)):n.addEventListener(s,z,!1):n.attachEvent("on"+s,w),n[mn]=n[mn]||{},n[mn][g]=w}function ss(n,s,u,m,g){g=g||s+_(u)+(m?"_"+_(m):"");var w=n[mn]&&n[mn][g];if(!w)return this;!wt.touchNative&&wt.pointer&&s.indexOf("touch")===0?gl(n,s,w):wt.touch&&s==="dblclick"?Si(n,w):"removeEventListener"in n?n.removeEventListener(Ai[s]||s,w,!1):n.detachEvent("on"+s,w),n[mn][g]=null}function gn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Sn(n){return pn(n,"wheel",gn),this}function zi(n){return At(n,"mousedown touchstart dblclick contextmenu",gn),n._leaflet_disable_click=!0,this}function ce(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ei(n){return ce(n),gn(n),this}function rs(n){if(n.composedPath)return n.composedPath();for(var s=[],u=n.target;u;)s.push(u),u=u.parentNode;return s}function os(n,s){if(!s)return new X(n.clientX,n.clientY);var u=as(s),m=u.boundingClientRect;return new X((n.clientX-m.left)/u.x-s.clientLeft,(n.clientY-m.top)/u.y-s.clientTop)}var _l=wt.linux&&wt.chrome?window.devicePixelRatio:wt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Be(n){return wt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/_l:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function qn(n,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var Is={__proto__:null,on:At,off:Xt,stopPropagation:gn,disableScrollPropagation:Sn,disableClickPropagation:zi,preventDefault:ce,stop:ei,getPropagationPath:rs,getMousePosition:os,getWheelDelta:Be,isExternalTarget:qn,addListener:At,removeListener:Xt},oa=Q.extend({run:function(n,s,u,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ti(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=lt(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var u=this._startPos.add(this._offset.multiplyBy(n));s&&u._round(),ne(this._el,u),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ht=Q.extend({options:{crs:dn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=M(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ft(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ts&&wt.any3d&&!wt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),At(this._proxy,Ir,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(ft(n),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=d({animate:u.animate},u.zoom),u.pan=d({animate:u.animate,duration:u.duration},u.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,u.zoom):this._tryAnimatedPan(n,u.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,u){var m=this.getZoomScale(s),g=this.getSize().divideBy(2),w=n instanceof X?n:this.latLngToContainerPoint(n),z=w.subtract(g).multiplyBy(1-1/m),k=this.containerPointToLatLng(g.add(z));return this.setView(k,s,{zoom:u})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():ot(n);var u=et(s.paddingTopLeft||s.padding||[0,0]),m=et(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(n,!1,u.add(m));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var w=m.subtract(u).divideBy(2),z=this.project(n.getSouthWest(),g),k=this.project(n.getNorthEast(),g),G=this.unproject(z.add(k).divideBy(2).add(w),g);return{center:G,zoom:g}},fitBounds:function(n,s){if(n=ot(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=et(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,u){if(u=u||{},u.animate===!1||!wt.any3d)return this.setView(n,s,u);this._stop();var m=this.project(this.getCenter()),g=this.project(n),w=this.getSize(),z=this._zoom;n=ft(n),s=s===void 0?z:s;var k=Math.max(w.x,w.y),G=k*this.getZoomScale(z,s),F=g.distanceTo(m)||1,ut=1.42,xt=ut*ut;function Nt(ue){var Vn=ue?-1:1,Oi=ue?G:k,yo=G*G-k*k+Vn*xt*xt*F*F,Es=2*Oi*xt*F,Ss=yo/Es,ci=Math.sqrt(Ss*Ss+1)-Ss,Kn=ci<1e-9?-18:Math.log(ci);return Kn}function Te(ue){return(Math.exp(ue)-Math.exp(-ue))/2}function fe(ue){return(Math.exp(ue)+Math.exp(-ue))/2}function Ie(ue){return Te(ue)/fe(ue)}var Pt=Nt(0);function Gt(ue){return k*(fe(Pt)/fe(Pt+ut*ue))}function Dt(ue){return k*(fe(Pt)*Ie(Pt+ut*ue)-Te(Pt))/xt}function li(ue){return 1-Math.pow(1-ue,1.5)}var rn=Date.now(),ur=(Nt(1)-Pt)/ut,ui=u.duration?1e3*u.duration:1e3*ur*.8;function go(){var ue=(Date.now()-rn)/ui,Vn=li(ue)*ur;ue<=1?(this._flyToFrame=lt(go,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Dt(Vn)/F)),z),this.getScaleZoom(k/Gt(Vn),z),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),go.call(this),this},flyToBounds:function(n,s){var u=this._getBoundsCenterZoom(n,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(n){return n=ot(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var u=this.getCenter(),m=this._limitCenter(u,this._zoom,ot(n));return u.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var u=et(s.paddingTopLeft||s.padding||[0,0]),m=et(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(n),z=this.getPixelBounds(),k=j([z.min.add(u),z.max.subtract(m)]),G=k.getSize();if(!k.contains(w)){this._enforcingBounds=!0;var F=w.subtract(k.getCenter()),ut=k.extend(w).getSize().subtract(G);g.x+=F.x<0?-ut.x:ut.x,g.y+=F.y<0?-ut.y:ut.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),m=s.divideBy(2).round(),g=u.divideBy(2).round(),w=m.subtract(g);return!w.x&&!w.y?this:(n.animate&&n.pan?this.panBy(w):(n.pan&&this._rawPanBy(w),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=v(this._handleGeolocationResponse,this),u=v(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,n):navigator.geolocation.getCurrentPosition(s,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,u=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,u=n.coords.longitude,m=new ct(s,u),g=m.toBounds(n.coords.accuracy*2),w=this._locateOptions;if(w.setView){var z=this.getBoundsZoom(g);this.setView(m,w.maxZoom?Math.min(z,w.maxZoom):z)}var k={latlng:m,bounds:g,timestamp:n.timestamp};for(var G in n.coords)typeof n.coords[G]=="number"&&(k[G]=n.coords[G]);this.fire("locationfound",k)}},addHandler:function(n,s){if(!s)return this;var u=this[n]=new s(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Wt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Rt("div",u,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new rt(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,u){n=ot(n),u=et(u||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),z=n.getNorthWest(),k=n.getSouthEast(),G=this.getSize().subtract(u),F=j(this.project(k,m),this.project(z,m)).getSize(),ut=wt.any3d?this.options.zoomSnap:1,xt=G.x/F.x,Nt=G.y/F.y,Te=s?Math.max(xt,Nt):Math.min(xt,Nt);return m=this.getScaleZoom(Te,m),ut&&(m=Math.round(m/(ut/100))*(ut/100),m=s?Math.ceil(m/ut)*ut:Math.floor(m/ut)*ut),Math.max(g,Math.min(w,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var u=this._getTopLeftPoint(n,s);return new A(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(n)/u.scale(s)},getScaleZoom:function(n,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var m=u.zoom(n*u.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ft(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(et(n),s)},layerPointToLatLng:function(n){var s=et(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(ft(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ft(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ot(n))},distance:function(n,s){return this.options.crs.distance(ft(n),ft(s))},containerPointToLayerPoint:function(n){return et(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return et(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(et(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ft(n)))},mouseEventToContainerPoint:function(n){return os(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Jr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");At(s,"scroll",this._onScroll,this),this._containerId=_(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&wt.any3d,Ct(n,"leaflet-container"+(wt.touch?" leaflet-touch":"")+(wt.retina?" leaflet-retina":"")+(wt.ielt9?" leaflet-oldie":"")+(wt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=es(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(n.markerPane,"leaflet-zoom-hide"),Ct(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,u){ne(this._mapPane,new X(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,u)._move(n,s)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,u,m){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ne(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[_(this._container)]=this;var s=n?Xt:At;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),wt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=lt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var u=[],m,g=s==="mouseout"||s==="mouseover",w=n.target||n.srcElement,z=!1;w;){if(m=this._targets[_(w)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){z=!0;break}if(m&&m.listens(s,!0)&&(g&&!qn(w,n)||(u.push(m),g))||w===this._container)break;w=w.parentNode}return!u.length&&!z&&!g&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var u=n.type;u==="mousedown"&&sa(s),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,u){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,u)}var g=this._findEventTargets(n,s);if(u){for(var w=[],z=0;z<u.length;z++)u[z].listens(s,!0)&&w.push(u[z]);g=w.concat(g)}if(g.length){s==="contextmenu"&&ce(n);var k=g[0],G={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var F=k.getLatLng&&(!k._radius||k._radius<=10);G.containerPoint=F?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(n),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=F?k.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(z=0;z<g.length;z++)if(g[z].fire(s,G,!0),G.originalEvent._stopped||g[z].options.bubblingMouseEvents===!1&&mt(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return ti(this._mapPane)||new X(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var u=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var u=this.getSize()._divideBy(2);return this.project(n,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,u){var m=this._getNewPixelOrigin(u,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,u){var m=this._getNewPixelOrigin(u,s);return j([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,u){if(!u)return n;var m=this.project(n,s),g=this.getSize().divideBy(2),w=new A(m.subtract(g),m.add(g)),z=this._getBoundsOffset(w,u,s);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?n:this.unproject(m.add(z),s)},_limitOffset:function(n,s){if(!s)return n;var u=this.getPixelBounds(),m=new A(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,u){var m=j(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),g=m.min.subtract(n.min),w=m.max.subtract(n.max),z=this._rebound(g.x,-w.x),k=this._rebound(g.y,-w.y);return new X(z,k)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),u=this.getMaxZoom(),m=wt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var u=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var n=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var u=$n,m=this._proxy.style[u];Zn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Zn(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),g=this._getCenterOffset(n)._divideBy(1-1/m);return u.animate!==!0&&!this.getSize().contains(g)?!1:(lt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,u,m){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function no(n,s){return new Ht(n,s)}var Xe=Lt.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),u=this.getPosition(),m=n._controlCorners[u];return Ct(s,"leaflet-control"),u.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Pn=function(n){return new Xe(n)};Ht.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",u=this._controlContainer=Rt("div",s+"control-container",this._container);function m(g,w){var z=s+g+" "+s+w;n[g+w]=Rt("div",z,u)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Wt(this._controlCorners[n]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ls=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,u,m){return u<m?-1:m<u?1:0}},initialize:function(n,s,u){M(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Xe.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(_(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Rt("div",n),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),zi(s),Sn(s);var m=this._section=Rt("section",n+"-list");u&&(this._map.on("click",this.collapse,this),At(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Rt("a",n+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),At(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){ce(w),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Rt("div",n+"-base",m),this._separator=Rt("div",n+"-separator",m),this._overlaysList=Rt("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&_(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(v(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tn(this._baseLayersList),tn(this._overlaysList),this._layerControlInputs=[];var n,s,u,m,g=0;for(u=0;u<this._layers.length;u++)m=this._layers[u],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(_(n.target)),u=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(n,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=u,m.firstChild},_addItem:function(n){var s=document.createElement("label"),u=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=u):m=this._createRadioElement("leaflet-base-layers_"+_(this),u),this._layerControlInputs.push(m),m.layerId=_(n.layer),At(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var w=document.createElement("span");s.appendChild(w),w.appendChild(m),w.appendChild(g);var z=n.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,u,m=[],g=[];this._handlingClick=!0;for(var w=n.length-1;w>=0;w--)s=n[w],u=this._getLayer(s.layerId).layer,s.checked?m.push(u):s.checked||g.push(u);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<m.length;w++)this._map.hasLayer(m[w])||this._map.addLayer(m[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,u,m=this._map.getZoom(),g=n.length-1;g>=0;g--)s=n[g],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&m<u.options.minZoom||u.options.maxZoom!==void 0&&m>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,At(n,"click",ce),this.expand();var s=this;setTimeout(function(){Xt(n,"click",ce),s._preventClick=!1})}}),bl=function(n,s,u){return new ls(n,s,u)},io=Xe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",u=Rt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,u,m,g){var w=Rt("a",u,m);return w.innerHTML=n,w.href="#",w.title=s,w.setAttribute("role","button"),w.setAttribute("aria-label",s),zi(w),At(w,"click",ei),At(w,"click",g,this),At(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";oe(this._zoomInButton,s),oe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Ct(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Ct(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new io,this.addControl(this.zoomControl))});var Sc=function(n){return new io(n)},wl=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",u=Rt("div",s),m=this.options;return this._addScales(m,s+"-line",u),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,u){n.metric&&(this._mScale=Rt("div",s,u)),n.imperial&&(this._iScale=Rt("div",s,u))},_update:function(){var n=this._map,s=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/n)},_updateImperial:function(n){var s=n*3.2808399,u,m,g;s>5280?(u=s/5280,m=this._getRoundNum(u),this._updateScale(this._iScale,m+" mi",m/u)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(n,s,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),u=n/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),ao=function(n){return new wl(n)},Tc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',so=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(wt.inlineSvg?Tc+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),zi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook(function(){this.options.attributionControl&&new so().addTo(this)});var Ac=function(n){return new so(n)};Xe.Layers=ls,Xe.Zoom=io,Xe.Scale=wl,Xe.Attribution=so,Pn.layers=bl,Pn.zoom=Sc,Pn.scale=ao,Pn.attribution=Ac;var Tn=Lt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tn.addTo=function(n,s){return n.addHandler(s,this),this};var zc={Events:O},ro=wt.touch?"touchstart mousedown":"mousedown",ni=Q.extend({options:{clickTolerance:3},initialize:function(n,s,u,m){M(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=u},enable:function(){this._enabled||(At(this._dragStartTarget,ro,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,ro,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Fr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ni._dragging=this,this._preventOutline&&sa(this._element),Ks(),ia(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,u=Xs(this._element);this._startPoint=new X(s.clientX,s.clientY),this._startPos=ti(this._element),this._parentScale=as(u);var m=n.type==="mousedown";At(document,m?"mousemove":"touchmove",this._onMove,this),At(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,u=new X(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ce(n),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ne(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xt(document,"mousemove touchmove",this._onMove,this),Xt(document,"mouseup touchend touchcancel",this._onUp,this),is(),En();var s=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function xl(n,s,u){var m,g=[1,4,2,8],w,z,k,G,F,ut,xt,Nt;for(w=0,ut=n.length;w<ut;w++)n[w]._code=Li(n[w],s);for(k=0;k<4;k++){for(xt=g[k],m=[],w=0,ut=n.length,z=ut-1;w<ut;z=w++)G=n[w],F=n[z],G._code&xt?F._code&xt||(Nt=Js(F,G,xt,s,u),Nt._code=Li(Nt,s),m.push(Nt)):(F._code&xt&&(Nt=Js(F,G,xt,s,u),Nt._code=Li(Nt,s),m.push(Nt)),m.push(G));n=m}return n}function El(n,s){var u,m,g,w,z,k,G,F,ut;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var xt=ft([0,0]),Nt=ot(n),Te=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Te<1700&&(xt=oo(n));var fe=n.length,Ie=[];for(u=0;u<fe;u++){var Pt=ft(n[u]);Ie.push(s.project(ft([Pt.lat-xt.lat,Pt.lng-xt.lng])))}for(k=G=F=0,u=0,m=fe-1;u<fe;m=u++)g=Ie[u],w=Ie[m],z=g.y*w.x-w.y*g.x,G+=(g.x+w.x)*z,F+=(g.y+w.y)*z,k+=z*3;k===0?ut=Ie[0]:ut=[G/k,F/k];var Gt=s.unproject(et(ut));return ft([Gt.lat+xt.lat,Gt.lng+xt.lng])}function oo(n){for(var s=0,u=0,m=0,g=0;g<n.length;g++){var w=ft(n[g]);s+=w.lat,u+=w.lng,m++}return ft([s/m,u/m])}var lo={__proto__:null,clipPolygon:xl,polygonCenter:El,centroid:oo};function Sl(n,s){if(!s||!n.length)return n.slice();var u=s*s;return n=Cc(n,u),n=Al(n,u),n}function Tl(n,s,u){return Math.sqrt(us(n,s,u,!0))}function Lc(n,s,u){return us(n,s,u)}function Al(n,s){var u=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(u);g[0]=g[u-1]=1,uo(n,g,s,0,u-1);var w,z=[];for(w=0;w<u;w++)g[w]&&z.push(n[w]);return z}function uo(n,s,u,m,g){var w=0,z,k,G;for(k=m+1;k<=g-1;k++)G=us(n[k],n[m],n[g],!0),G>w&&(z=k,w=G);w>u&&(s[z]=1,uo(n,s,u,m,z),uo(n,s,u,z,g))}function Cc(n,s){for(var u=[n[0]],m=1,g=0,w=n.length;m<w;m++)Mc(n[m],n[g])>s&&(u.push(n[m]),g=m);return g<w-1&&u.push(n[w-1]),u}var zl;function Ll(n,s,u,m,g){var w=m?zl:Li(n,u),z=Li(s,u),k,G,F;for(zl=z;;){if(!(w|z))return[n,s];if(w&z)return!1;k=w||z,G=Js(n,s,k,u,g),F=Li(G,u),k===w?(n=G,w=F):(s=G,z=F)}}function Js(n,s,u,m,g){var w=s.x-n.x,z=s.y-n.y,k=m.min,G=m.max,F,ut;return u&8?(F=n.x+w*(G.y-n.y)/z,ut=G.y):u&4?(F=n.x+w*(k.y-n.y)/z,ut=k.y):u&2?(F=G.x,ut=n.y+z*(G.x-n.x)/w):u&1&&(F=k.x,ut=n.y+z*(k.x-n.x)/w),new X(F,ut,g)}function Li(n,s){var u=0;return n.x<s.min.x?u|=1:n.x>s.max.x&&(u|=2),n.y<s.min.y?u|=4:n.y>s.max.y&&(u|=8),u}function Mc(n,s){var u=s.x-n.x,m=s.y-n.y;return u*u+m*m}function us(n,s,u,m){var g=s.x,w=s.y,z=u.x-g,k=u.y-w,G=z*z+k*k,F;return G>0&&(F=((n.x-g)*z+(n.y-w)*k)/G,F>1?(g=u.x,w=u.y):F>0&&(g+=z*F,w+=k*F)),z=n.x-g,k=n.y-w,m?z*z+k*k:new X(g,w)}function nn(n){return!$(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Fs(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(n)}function la(n,s){var u,m,g,w,z,k,G,F;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ut=ft([0,0]),xt=ot(n),Nt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());Nt<1700&&(ut=oo(n));var Te=n.length,fe=[];for(u=0;u<Te;u++){var Ie=ft(n[u]);fe.push(s.project(ft([Ie.lat-ut.lat,Ie.lng-ut.lng])))}for(u=0,m=0;u<Te-1;u++)m+=fe[u].distanceTo(fe[u+1])/2;if(m===0)F=fe[0];else for(u=0,w=0;u<Te-1;u++)if(z=fe[u],k=fe[u+1],g=z.distanceTo(k),w+=g,w>m){G=(w-m)/g,F=[k.x-G*(k.x-z.x),k.y-G*(k.y-z.y)];break}var Pt=s.unproject(et(F));return ft([Pt.lat+ut.lat,Pt.lng+ut.lng])}var Oc={__proto__:null,simplify:Sl,pointToSegmentDistance:Tl,closestPointOnSegment:Lc,clipSegment:Ll,_getEdgeIntersection:Js,_getBitCode:Li,_sqClosestPointOnSegment:us,isFlat:nn,_flat:Fs,polylineCenter:la},Ws={project:function(n){return new X(n.lng,n.lat)},unproject:function(n){return new ct(n.y,n.x)},bounds:new A([-180,-90],[180,90])},$s={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,u=this.R,m=n.lat*s,g=this.R_MINOR/u,w=Math.sqrt(1-g*g),z=w*Math.sin(m),k=Math.tan(Math.PI/4-m/2)/Math.pow((1-z)/(1+z),w/2);return m=-u*Math.log(Math.max(k,1e-10)),new X(n.lng*s*u,m)},unproject:function(n){for(var s=180/Math.PI,u=this.R,m=this.R_MINOR/u,g=Math.sqrt(1-m*m),w=Math.exp(-n.y/u),z=Math.PI/2-2*Math.atan(w),k=0,G=.1,F;k<15&&Math.abs(G)>1e-7;k++)F=g*Math.sin(z),F=Math.pow((1-F)/(1+F),g/2),G=Math.PI/2-2*Math.atan(w*F)-z,z+=G;return new ct(z*s,n.x*s/u)}},Cl={__proto__:null,LonLat:Ws,Mercator:$s,SphericalMercator:He},Ml=d({},Ft,{code:"EPSG:3395",projection:$s,transformation:(function(){var n=.5/(Math.PI*$s.R);return ye(n,.5,-n,.5)})()}),co=d({},Ft,{code:"EPSG:4326",projection:Ws,transformation:ye(1/180,1,-1/180,.5)}),ua=d({},Tt,{projection:Ws,transformation:ye(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var u=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(u*u+m*m)},infinite:!0});Tt.Earth=Ft,Tt.EPSG3395=Ml,Tt.EPSG3857=dn,Tt.EPSG900913=We,Tt.EPSG4326=co,Tt.Simple=ua;var yn=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[_(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[_(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=_(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=_(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return _(n)in this._layers},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},_addLayers:function(n){n=n?$(n)?n:[n]:[];for(var s=0,u=n.length;s<u;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[_(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=_(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,u=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ca=yn.extend({initialize:function(n,s){M(this,s),this._layers={};var u,m;if(n)for(u=0,m=n.length;u<m;u++)this.addLayer(n[u])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),u,m;for(u in this._layers)m=this._layers[u],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return _(n)}}),Nc=function(n,s){return new ca(n,s)},An=ca.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ca.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ca.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new rt;for(var s in this._layers){var u=this._layers[s];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),Ol=function(n,s){return new An(n,s)},zn=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var u=this.options,m=u[s+"Size"];typeof m=="number"&&(m=[m,m]);var g=et(m),w=et(s==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(u.className||""),w&&(n.style.marginLeft=-w.x+"px",n.style.marginTop=-w.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return wt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function cs(n){return new zn(n)}var fs=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof fs.imagePath!="string"&&(fs.imagePath=this._detectIconPath()),(this.options.imagePath||fs.imagePath)+zn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(u,m,g){var w=m.exec(u);return w&&w[g]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Rt("div","leaflet-default-icon-path",document.body),s=es(n,"background-image")||es(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),hs=Tn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ni(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,u=s._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=ti(s._icon),z=u.getPixelBounds(),k=u.getPixelOrigin(),G=j(z.min._subtract(k).add(g),z.max._subtract(k).subtract(g));if(!G.contains(w)){var F=et((Math.max(G.max.x,w.x)-G.max.x)/(z.max.x-G.max.x)-(Math.min(G.min.x,w.x)-G.min.x)/(z.min.x-G.min.x),(Math.max(G.max.y,w.y)-G.max.y)/(z.max.y-G.max.y)-(Math.min(G.min.y,w.y)-G.min.y)/(z.min.y-G.min.y)).multiplyBy(m);u.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),ne(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=lt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=lt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,u=s._shadow,m=ti(s._icon),g=s._map.layerPointToLatLng(m);u&&ne(u,m),s._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ds=yn.extend({options:{icon:new fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){M(this,s),this._latlng=ft(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=ft(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),m=!1;u!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),Ct(u,s),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(u,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(Ct(g,s),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ne(this._icon,n),this._shadow&&ne(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hs)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hs(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,u=s.iconSize?et(s.iconSize):et(0,0),m=s.iconAnchor?et(s.iconAnchor):et(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:u.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nl(n,s){return new ds(n,s)}var Ln=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fa=Ln.extend({options:{fill:!0,radius:10},initialize:function(n,s){M(this,s),this._latlng=ft(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=ft(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Ln.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,u=this._clickTolerance(),m=[n+u,s+u];this._pxBounds=new A(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bl(n,s){return new fa(n,s)}var tr=fa.extend({initialize:function(n,s,u){if(typeof s=="number"&&(s=d({},u,{radius:s})),M(this,s),this._latlng=ft(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Ln.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,u=this._map,m=u.options.crs;if(m.distance===Ft.distance){var g=Math.PI/180,w=this._mRadius/Ft.R/g,z=u.project([s+w,n]),k=u.project([s-w,n]),G=z.add(k).divideBy(2),F=u.unproject(G).lat,ut=Math.acos((Math.cos(w*g)-Math.sin(s*g)*Math.sin(F*g))/(Math.cos(s*g)*Math.cos(F*g)))/g;(isNaN(ut)||ut===0)&&(ut=w/Math.cos(Math.PI/180*s)),this._point=G.subtract(u.getPixelOrigin()),this._radius=isNaN(ut)?0:G.x-u.project([F,n-ut]).x,this._radiusY=G.y-z.y}else{var xt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(xt).x}this._updateBounds()}});function Rl(n,s,u){return new tr(n,s,u)}var Gn=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){M(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,u=null,m=us,g,w,z=0,k=this._parts.length;z<k;z++)for(var G=this._parts[z],F=1,ut=G.length;F<ut;F++){g=G[F-1],w=G[F];var xt=m(n,g,w,!0);xt<s&&(s=xt,u=m(n,g,w))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return la(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=ft(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new rt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],u=nn(n),m=0,g=n.length;m<g;m++)u?(s[m]=ft(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new X(n,n);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,u){var m=n[0]instanceof ct,g=n.length,w,z;if(m){for(z=[],w=0;w<g;w++)z[w]=this._map.latLngToLayerPoint(n[w]),u.extend(z[w]);s.push(z)}else for(w=0;w<g;w++)this._projectLatlngs(n[w],s,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,m,g,w,z,k,G;for(u=0,g=0,w=this._rings.length;u<w;u++)for(G=this._rings[u],m=0,z=G.length;m<z-1;m++)k=Ll(G[m],G[m+1],n,m,!0),k&&(s[g]=s[g]||[],s[g].push(k[0]),(k[1]!==G[m+1]||m===z-2)&&(s[g].push(k[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,u=0,m=n.length;u<m;u++)n[u]=Sl(n[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var u,m,g,w,z,k,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,w=this._parts.length;u<w;u++)for(k=this._parts[u],m=0,z=k.length,g=z-1;m<z;g=m++)if(!(!s&&m===0)&&Tl(n,k[g],k[m])<=G)return!0;return!1}});function Bc(n,s){return new Gn(n,s)}Gn._flat=Fs;var ha=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return El(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Gn.prototype._convertLatLngs.call(this,n),u=s.length;return u>=2&&s[0]instanceof ct&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(n){Gn.prototype._setLatLngs.call(this,n),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,u=new X(s,s);if(n=new A(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,w;m<g;m++)w=xl(this._rings[m],n,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,u,m,g,w,z,k,G,F;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(w=0,G=this._parts.length;w<G;w++)for(u=this._parts[w],z=0,F=u.length,k=F-1;z<F;k=z++)m=u[z],g=u[k],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(s=!s);return s||Gn.prototype._containsPoint.call(this,n,!0)}});function Rc(n,s){return new ha(n,s)}var Yn=An.extend({initialize:function(n,s){M(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=$(n)?n:n.features,u,m,g;if(s){for(u=0,m=s.length;u<m;u++)g=s[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(n))return this;var z=Le(n,w);return z?(z.feature=ir(n),z.defaultOptions=z.options,this.resetStyle(z),w.onEachFeature&&w.onEachFeature(n,z),this.addLayer(z)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Le(n,s){var u=n.type==="Feature"?n.geometry:n,m=u?u.coordinates:null,g=[],w=s&&s.pointToLayer,z=s&&s.coordsToLatLng||er,k,G,F,ut;if(!m&&!u)return null;switch(u.type){case"Point":return k=z(m),da(w,n,k,s);case"MultiPoint":for(F=0,ut=m.length;F<ut;F++)k=z(m[F]),g.push(da(w,n,k,s));return new An(g);case"LineString":case"MultiLineString":return G=ms(m,u.type==="LineString"?0:1,z),new Gn(G,s);case"Polygon":case"MultiPolygon":return G=ms(m,u.type==="Polygon"?1:2,z),new ha(G,s);case"GeometryCollection":for(F=0,ut=u.geometries.length;F<ut;F++){var xt=Le({geometry:u.geometries[F],type:"Feature",properties:n.properties},s);xt&&g.push(xt)}return new An(g);case"FeatureCollection":for(F=0,ut=u.features.length;F<ut;F++){var Nt=Le(u.features[F],s);Nt&&g.push(Nt)}return new An(g);default:throw new Error("Invalid GeoJSON object.")}}function da(n,s,u,m){return n?n(s,u):new ds(u,m&&m.markersInheritOptions&&m)}function er(n){return new ct(n[1],n[0],n[2])}function ms(n,s,u){for(var m=[],g=0,w=n.length,z;g<w;g++)z=s?ms(n[g],s-1,u):(u||er)(n[g]),m.push(z);return m}function nr(n,s){return n=ft(n),n.alt!==void 0?[R(n.lng,s),R(n.lat,s),R(n.alt,s)]:[R(n.lng,s),R(n.lat,s)]}function ps(n,s,u,m){for(var g=[],w=0,z=n.length;w<z;w++)g.push(s?ps(n[w],nn(n[w])?0:s-1,u,m):nr(n[w],m));return!s&&u&&g.length>0&&g.push(g[0].slice()),g}function ii(n,s){return n.feature?d({},n.feature,{geometry:s}):ir(s)}function ir(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ai={toGeoJSON:function(n){return ii(this,{type:"Point",coordinates:nr(this.getLatLng(),n)})}};ds.include(ai),tr.include(ai),fa.include(ai),Gn.include({toGeoJSON:function(n){var s=!nn(this._latlngs),u=ps(this._latlngs,s?1:0,!1,n);return ii(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),ha.include({toGeoJSON:function(n){var s=!nn(this._latlngs),u=s&&!nn(this._latlngs[0]),m=ps(this._latlngs,u?2:s?1:0,!0,n);return s||(m=[m]),ii(this,{type:(u?"Multi":"")+"Polygon",coordinates:m})}}),ca.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(n).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var u=s==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(n);if(u)m.push(w.geometry);else{var z=ir(w);z.type==="FeatureCollection"?m.push.apply(m,z.features):m.push(z)}}}),u?ii(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function ar(n,s){return new Yn(n,s)}var gs=ar,ma=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,u){this._url=n,this._bounds=ot(s),M(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Se(this._image),this},bringToBack:function(){return this._map&&Ti(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ot(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Rt("img");if(Ct(s,"leaflet-image-layer"),this._zoomAnimated&&Ct(s,"leaflet-zoom-animated"),this.options.className&&Ct(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onload=v(this.fire,this,"load"),s.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Zn(this._image,u,s)},_reset:function(){var n=this._image,s=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();ne(n,s.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Dl=function(n,s,u){return new ma(n,s,u)},si=ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Rt("video");if(Ct(s,"leaflet-image-layer"),this._zoomAnimated&&Ct(s,"leaflet-zoom-animated"),this.options.className&&Ct(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onloadeddata=v(this.fire,this,"load"),n){for(var u=s.getElementsByTagName("source"),m=[],g=0;g<u.length;g++)m.push(u[g].src);this._url=u.length>0?m:[s.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var z=Rt("source");z.src=this._url[w],s.appendChild(z)}}});function pa(n,s,u){return new si(n,s,u)}var sr=ma.extend({_initImage:function(){var n=this._image=this._url;Ct(n,"leaflet-image-layer"),this._zoomAnimated&&Ct(n,"leaflet-zoom-animated"),this.options.className&&Ct(n,this.options.className),n.onselectstart=S,n.onmousemove=S}});function Ul(n,s,u){return new sr(n,s,u)}var Ce=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof ct||$(n))?(this._latlng=ft(n),M(this,s)):(M(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(v(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ft(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Se(this._container),this},bringToBack:function(){return this._map&&Ti(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof An){s=null;var u=this._source._layers;for(var m in u)if(u[m]._map){s=u[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=et(this.options.offset),u=this._getAnchor();this._zoomAnimated?ne(this._container,n.add(u)):s=s.add(n).add(u);var m=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(n,s,u,m){var g=s;return g instanceof n||(g=new n(m).setContent(s)),u&&g.setLatLng(u),g}}),yn.include({_initOverlay:function(n,s,u,m){var g=u;return g instanceof n?(M(g,m),g._source=this):(g=s&&!m?s:new n(m,this),g.setContent(u)),g}});var ys=Ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ce.prototype.openOn.call(this,n)},onAdd:function(n){Ce.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",gn))},onRemove:function(n){Ce.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",gn))},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Rt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Rt("div",n+"-content-wrapper",s);if(this._contentNode=Rt("div",n+"-content",u),zi(s),Sn(this._contentNode),At(s,"contextmenu",gn),this._tipContainer=Rt("div",n+"-tip-container",s),this._tip=Rt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Rt("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',At(m,"click",function(g){ce(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&m>g?(s.height=g+"px",Ct(n,w)):oe(n,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();ne(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(es(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,m=this._containerWidth,g=new X(this._containerLeft,-u-this._containerBottom);g._add(ti(this._container));var w=n.layerPointToContainerPoint(g),z=et(this.options.autoPanPadding),k=et(this.options.autoPanPaddingTopLeft||z),G=et(this.options.autoPanPaddingBottomRight||z),F=n.getSize(),ut=0,xt=0;w.x+m+G.x>F.x&&(ut=w.x+m-F.x+G.x),w.x-ut-k.x<0&&(ut=w.x-k.x),w.y+u+G.y>F.y&&(xt=w.y+u-F.y+G.y),w.y-xt-k.y<0&&(xt=w.y-k.y),(ut||xt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ut,xt]))}},_getAnchor:function(){return et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),kl=function(n,s){return new ys(n,s)};Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(n,s,u){return this._initOverlay(ys,n,s,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),yn.include({bindPopup:function(n,s){return this._popup=this._initOverlay(ys,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ei(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Ln)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var vs=Ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ce.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ce.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,u,m=this._map,g=this._container,w=m.latLngToContainerPoint(m.getCenter()),z=m.layerPointToContainerPoint(n),k=this.options.direction,G=g.offsetWidth,F=g.offsetHeight,ut=et(this.options.offset),xt=this._getAnchor();k==="top"?(s=G/2,u=F):k==="bottom"?(s=G/2,u=0):k==="center"?(s=G/2,u=F/2):k==="right"?(s=0,u=F/2):k==="left"?(s=G,u=F/2):z.x<w.x?(k="right",s=0,u=F/2):(k="left",s=G+(ut.x+xt.x)*2,u=F/2),n=n.subtract(et(s,u,!0)).add(ut).add(xt),oe(g,"leaflet-tooltip-right"),oe(g,"leaflet-tooltip-left"),oe(g,"leaflet-tooltip-top"),oe(g,"leaflet-tooltip-bottom"),Ct(g,"leaflet-tooltip-"+k),ne(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dc=function(n,s){return new vs(n,s)};Ht.include({openTooltip:function(n,s,u){return this._initOverlay(vs,n,s,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),yn.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vs,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(At(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),At(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,u,m;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Hl=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(tn(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var m=et(u.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Uc(n){return new Hl(n)}zn.Default=fs;var ga=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:wt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Wt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof X?n:new X(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,u=-n(-1/0,1/0),m=0,g=s.length,w;m<g;m++)w=s[m].style.zIndex,s[m]!==this._container&&w&&(u=n(u,+w));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!wt.ielt9){ae(this._container,this.options.opacity);var n=+new Date,s=!1,u=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var w=Math.min(1,(n-g.loaded)/200);ae(g.el,w),w<1?s=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(_t(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=s-Math.abs(n-u),this._onUpdateLevel(u)):(Wt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),S(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var n,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Wt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,u,m){var g=Math.floor(n/2),w=Math.floor(s/2),z=u-1,k=new X(+g,+w);k.z=+z;var G=this._tileCoordsToKey(k),F=this._tiles[G];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),z>m?this._retainParent(g,w,z,m):!1)},_retainChildren:function(n,s,u,m){for(var g=2*n;g<2*n+2;g++)for(var w=2*s;w<2*s+2;w++){var z=new X(g,w);z.z=u+1;var k=this._tileCoordsToKey(z),G=this._tiles[k];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);u+1<m&&this._retainChildren(g,w,u+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,u,m){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,s)},_setZoomTransform:function(n,s,u){var m=this._map.getZoomScale(u,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,u)).round();wt.any3d?Zn(n.el,g,m):ne(n.el,g)},_resetGrid:function(){var n=this._map,s=n.options.crs,u=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/u.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/u.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(u,this._tileZoom),g=s.project(n,this._tileZoom).floor(),w=s.getSize().divideBy(m*2);return new A(g.subtract(w),g.add(w))},_update:function(n){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),w=g.getCenter(),z=[],k=this.options.keepBuffer,G=new A(g.getBottomLeft().subtract([k,-k]),g.getTopRight().add([k,-k]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var ut=this._tiles[F].coords;(ut.z!==this._tileZoom||!G.contains(new X(ut.x,ut.y)))&&(this._tiles[F].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var xt=g.min.y;xt<=g.max.y;xt++)for(var Nt=g.min.x;Nt<=g.max.x;Nt++){var Te=new X(Nt,xt);if(Te.z=this._tileZoom,!!this._isValidTile(Te)){var fe=this._tiles[this._tileCoordsToKey(Te)];fe?fe.current=!0:z.push(Te)}}if(z.sort(function(Pt,Gt){return Pt.distanceTo(w)-Gt.distanceTo(w)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(Nt=0;Nt<z.length;Nt++)this._addTile(z[Nt],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!s.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return ot(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,u=this.getTileSize(),m=n.scaleBy(u),g=m.add(u),w=s.unproject(m,n.z),z=s.unproject(g,n.z);return[w,z]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),u=new rt(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),u=new X(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(n){var s=this._tiles[n];s&&(Wt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Ct(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=S,n.onmousemove=S,wt.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,s){var u=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),v(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&lt(v(this._tileReady,this,n,null,g)),ne(g,u),this._tiles[m]={el:g,coords:n,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:n});var m=this._tileCoordsToKey(n);u=this._tiles[m],u&&(u.loaded=+new Date,this._map._fadeAnimated?(ae(u.el,0),_t(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(Ct(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),wt.ielt9||!this._map._fadeAnimated?lt(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new X(this._wrapX?T(n.x,this._wrapX):n.x,this._wrapY?T(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new A(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function jl(n){return new ga(n)}var ri=ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=M(this,s),s.detectRetina&&wt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var u=document.createElement("img");return At(u,"load",v(this._tileOnLoad,this,s,u)),At(u,"error",v(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var s={r:wt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=u),s["-y"]=u}return it(this._url,d(s,this.options))},_tileOnLoad:function(n,s){wt.ielt9?setTimeout(v(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,u){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(u,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,m=this.options.zoomOffset;return u&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=S,s.onerror=S,!s.complete)){s.src=pt;var u=this._tiles[n].coords;Wt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",pt),ga.prototype._removeTile.call(this,n)},_tileReady:function(n,s,u){if(!(!this._map||u&&u.getAttribute("src")===pt))return ga.prototype._tileReady.call(this,n,s,u)}});function an(n,s){return new ri(n,s)}var _s=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var u=d({},this.defaultWmsParams);for(var m in s)m in this.options||(u[m]=s[m]);s=M(this,s);var g=s.detectRetina&&wt.retina?2:1,w=this.getTileSize();u.width=w.x*g,u.height=w.y*g,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ri.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),u=this._crs,m=j(u.project(s[0]),u.project(s[1])),g=m.min,w=m.max,z=(this._wmsVersion>=1.3&&this._crs===co?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),k=ri.prototype.getTileUrl.call(this,n);return k+U(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(n,s){return d(this.wmsParams,n),s||this.redraw(),this}});function sn(n,s){return new _s(n,s)}ri.WMS=_s,an.wms=sn;var je=yn.extend({options:{padding:.1},initialize:function(n){M(this,n),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var u=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),w=m.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(n,s));wt.any3d?Zn(this._container,w,u):ne(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new A(u,u.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rr=je.extend({options:{tolerance:0},getEvents:function(){var n=je.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");At(n,"mousemove",this._onMouseMove,this),At(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),At(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,Wt(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var n=this._bounds,s=this._container,u=n.getSize(),m=wt.retina?2:1;ne(s,n.min),s.width=m*u.x,s.height=m*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",wt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[_(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,u=s.next,m=s.prev;u?u.prev=m:this._drawLast=m,m?m.next=u:this._drawFirst=u,delete n._order,delete this._layers[_(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),u=[],m,g;for(g=0;g<s.length;g++){if(m=Number(s[g]),isNaN(m))return;u.push(m)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||lt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var u,m,g,w,z=n._parts,k=z.length,G=this._ctx;if(k){for(G.beginPath(),u=0;u<k;u++){for(m=0,g=z[u].length;m<g;m++)w=z[u][m],G[m?"lineTo":"moveTo"](w.x,w.y);s&&G.closePath()}this._fillStroke(G,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,u=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(s.x,s.y/g,m,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,s){var u=s.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(m=u);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(oe(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(s)&&(m=u);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,u){this._map._fireDOMEvent(s,u||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var u=s.next,m=s.prev;if(u)u.prev=m;else return;m?m.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var u=s.next,m=s.prev;if(m)m.next=u;else return;u?u.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function bs(n){return wt.canvas?new rr(n):null}var oi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fo={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(je.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=oi("shape");Ct(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=oi("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Wt(s),n.removeInteractiveTarget(s),delete this._layers[_(n)]},_updateStyle:function(n){var s=n._stroke,u=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(s||(s=n._stroke=oi("stroke")),g.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=$(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(g.removeChild(s),n._stroke=null),m.fill?(u||(u=n._fill=oi("fill")),g.appendChild(u),u.color=m.fillColor||m.color,u.opacity=m.fillOpacity):u&&(g.removeChild(u),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),u=Math.round(n._radius),m=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Se(n._container)},_bringToBack:function(n){Ti(n._container)}},Cn=wt.vml?oi:vi,ya=je.extend({_initContainer:function(){this._container=Cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var n=this._bounds,s=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),ne(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Cn("path");n.options.className&&Ct(s,n.options.className),n.options.interactive&&Ct(s,"leaflet-interactive"),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Wt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[_(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,u=n.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,_i(n._parts,s))},_updateCircle:function(n){var s=n._point,u=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||u,g="a"+u+","+m+" 0 1,0 ",w=n._empty()?"M0 0":"M"+(s.x-u)+","+s.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(n,w)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Se(n._path)},_bringToBack:function(n){Ti(n._path)}});wt.vml&&ya.include(fo);function ws(n){return wt.svg||wt.vml?new ya(n):null}Ht.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&bs(n)||ws(n)}});var Ci=ha.extend({initialize:function(n,s){ha.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ot(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function kc(n,s){return new Ci(n,s)}ya.create=Cn,ya.pointsToPath=_i,Yn.geometryToLayer=Le,Yn.coordsToLatLng=er,Yn.coordsToLatLngs=ms,Yn.latLngToCoords=nr,Yn.latLngsToCoords=ps,Yn.getFeature=ii,Yn.asFeature=ir,Ht.mergeOptions({boxZoom:!0});var Ze=Tn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ia(),Ks(),this._startPoint=this._map.mouseEventToContainerPoint(n),At(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new A(this._point,this._startPoint),u=s.getSize();ne(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Wt(this._box),oe(this._container,"leaflet-crosshair")),En(),is(),Xt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var s=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",Ze),Ht.mergeOptions({doubleClickZoom:!0});var or=Tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,u=s.getZoom(),m=s.options.zoomDelta,g=n.originalEvent.shiftKey?u-m:u+m;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(n.containerPoint,g)}});Ht.addInitHook("addHandler","doubleClickZoom",or),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mn=Tn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ni(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ot(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),u=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-s+u)%n+s-u,w=(m+s+u)%n-s-u,z=Math.abs(g+u)<Math.abs(w+u)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(n){var s=this._map,u=s.options,m=!u.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,z=u.easeLinearity,k=g.multiplyBy(z/w),G=k.distanceTo([0,0]),F=Math.min(u.inertiaMaxSpeed,G),ut=k.multiplyBy(F/G),xt=F/(u.inertiaDeceleration*z),Nt=ut.multiplyBy(-xt/2).round();!Nt.x&&!Nt.y?s.fire("moveend"):(Nt=s._limitOffset(Nt,s.options.maxBounds),lt(function(){s.panBy(Nt,{duration:xt,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Ht.addInitHook("addHandler","dragging",Mn),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ho=Tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),At(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,u=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},u=this.keyCodes,m,g;for(m=0,g=u.left.length;m<g;m++)s[u.left[m]]=[-1*n,0];for(m=0,g=u.right.length;m<g;m++)s[u.right[m]]=[n,0];for(m=0,g=u.down.length;m<g;m++)s[u.down[m]]=[0,n];for(m=0,g=u.up.length;m<g;m++)s[u.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},u=this.keyCodes,m,g;for(m=0,g=u.zoomIn.length;m<g;m++)s[u.zoomIn[m]]=n;for(m=0,g=u.zoomOut.length;m<g;m++)s[u.zoomOut[m]]=-n},_addHooks:function(){At(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,u=this._map,m;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=et(m).multiplyBy(3)),u.options.maxBounds&&(m=u._limitOffset(et(m),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(m)));u.panTo(g)}else u.panBy(m)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ei(n)}}});Ht.addInitHook("addHandler","keyboard",ho),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xs=Tn.extend({addHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Be(n),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),m),ei(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,w=u?Math.ceil(g/u)*u:g,z=n._limitZoom(s+(this._delta>0?w:-w))-s;this._delta=0,this._startTime=null,z&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+z):n.setZoomAround(this._lastMousePos,s+z))}});Ht.addInitHook("addHandler","scrollWheelZoom",xs);var Mi=600;Ht.mergeOptions({tapHold:wt.touchNative&&wt.safari&&wt.mobile,tapTolerance:15});var lr=Tn.extend({addHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new X(s.clientX,s.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(At(document,"touchend",ce),At(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Mi),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Xt(document,"touchend",ce),Xt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new X(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});Ht.addInitHook("addHandler","tapHold",lr),Ht.mergeOptions({touchZoom:wt.touch,bounceAtZoomLimits:!0});var mo=Tn.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(m)._divideBy(2))),this._startDist=u.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),ce(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),g=u.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=u._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var z=v(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=lt(z,this,!0),ce(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ht.addInitHook("addHandler","touchZoom",mo),Ht.BoxZoom=Ze,Ht.DoubleClickZoom=or,Ht.Drag=Mn,Ht.Keyboard=ho,Ht.ScrollWheelZoom=xs,Ht.TapHold=lr,Ht.TouchZoom=mo,l.Bounds=A,l.Browser=wt,l.CRS=Tt,l.Canvas=rr,l.Circle=tr,l.CircleMarker=fa,l.Class=Lt,l.Control=Xe,l.DivIcon=Hl,l.DivOverlay=Ce,l.DomEvent=Is,l.DomUtil=ra,l.Draggable=ni,l.Evented=Q,l.FeatureGroup=An,l.GeoJSON=Yn,l.GridLayer=ga,l.Handler=Tn,l.Icon=zn,l.ImageOverlay=ma,l.LatLng=ct,l.LatLngBounds=rt,l.Layer=yn,l.LayerGroup=ca,l.LineUtil=Oc,l.Map=Ht,l.Marker=ds,l.Mixin=zc,l.Path=Ln,l.Point=X,l.PolyUtil=lo,l.Polygon=ha,l.Polyline=Gn,l.Popup=ys,l.PosAnimation=oa,l.Projection=Cl,l.Rectangle=Ci,l.Renderer=je,l.SVG=ya,l.SVGOverlay=sr,l.TileLayer=ri,l.Tooltip=vs,l.Transformation=kn,l.Util=zt,l.VideoOverlay=si,l.bind=v,l.bounds=j,l.canvas=bs,l.circle=Rl,l.circleMarker=Bl,l.control=Pn,l.divIcon=Uc,l.extend=d,l.featureGroup=Ol,l.geoJSON=ar,l.geoJson=gs,l.gridLayer=jl,l.icon=cs,l.imageOverlay=Dl,l.latLng=ft,l.latLngBounds=ot,l.layerGroup=Nc,l.map=no,l.marker=Nl,l.point=et,l.polygon=Rc,l.polyline=Bc,l.popup=kl,l.rectangle=kc,l.setOptions=M,l.stamp=_,l.svg=ws,l.svgOverlay=Ul,l.tileLayer=an,l.tooltip=Dc,l.transformation=ye,l.version=f,l.videoOverlay=pa;var po=window.L;l.noConflict=function(){return window.L=po,this},window.L=l}))})(Wo,Wo.exports)),Wo.exports}var hc=DE();const Zr=Wh(hc);function f0(a,o,l){return Object.freeze({instance:a,context:o,container:l})}function h0(a,o){return o==null?function(f,d){const p=dt.useRef(void 0);return p.current||(p.current=a(f,d)),p}:function(f,d){const p=dt.useRef(void 0);p.current||(p.current=a(f,d));const v=dt.useRef(f),{instance:b}=p.current;return dt.useEffect(function(){v.current!==f&&(o(b,f,v.current),v.current=f)},[b,f,o]),p}}function UE(a,o){dt.useEffect(function(){return(o.layerContainer??o.map).addLayer(a.instance),function(){o.layerContainer?.removeLayer(a.instance),o.map.removeLayer(a.instance)}},[o,a])}function d0(a){return function(l){const f=u0(),d=a(c0(l,f),f);return zE(f.map,l.attribution),BE(d.current,l.eventHandlers),UE(d.current,f),d}}function kE(a,o){const l=h0(a,o),f=d0(l);return OE(f)}function HE(a,o){const l=h0(a,o),f=d0(l);return NE(f)}function jE(a,o,l){const{opacity:f,zIndex:d}=o;f!=null&&f!==l.opacity&&a.setOpacity(f),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function ZE(){return u0().map}function qE({bounds:a,boundsOptions:o,center:l,children:f,className:d,id:p,placeholder:v,style:b,whenReady:_,zoom:x,...T},S){const[R]=dt.useState({className:d,id:p,style:b}),[q,H]=dt.useState(null),M=dt.useRef(void 0);dt.useImperativeHandle(S,()=>q?.map??null,[q]);const U=dt.useCallback(it=>{if(it!==null&&!M.current){const $=new hc.Map(it,T);M.current=$,l!=null&&x!=null?$.setView(l,x):a!=null&&$.fitBounds(a,o),_!=null&&$.whenReady(_),H(CE($))}},[]);dt.useEffect(()=>()=>{q?.map.remove()},[q]);const V=q?Pu.createElement(Nd,{value:q},f):v??null;return Pu.createElement("div",{...R,ref:U},V)}const PE=dt.forwardRef(qE),dc=kE(function({position:o,...l},f){const d=new hc.Marker(o,l);return f0(d,ME(f,{overlayContainer:d}))},function(o,l,f){l.position!==f.position&&o.setLatLng(l.position),l.icon!=null&&l.icon!==f.icon&&o.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==f.zIndexOffset&&o.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==f.opacity&&o.setOpacity(l.opacity),o.dragging!=null&&l.draggable!==f.draggable&&(l.draggable===!0?o.dragging.enable():o.dragging.disable())}),GE=HE(function({url:o,...l},f){const d=new hc.TileLayer(o,c0(l,f));return f0(d,f)},function(o,l,f){jE(o,l,f);const{url:d}=l;d!=null&&d!==f.url&&o.setUrl(d)}),qu={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:21011},Br=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function cy(a,o,l=10){const f=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,v=-90,b=90,_=-180,x=180,T="",S=0,R=0;for(;T.length<l;){if(p){const q=(_+x)/2;o>q?(R|=f[S],_=q):x=q}else{const q=(v+b)/2;a>q?(R|=f[S],v=q):b=q}p=!p,S<4?S++:(T+=d[R],S=0,R=0)}return T}async function YE(a,o,l){const f=JSON.stringify(a);if(l){const d=il.getConversationKey(l,o);return il.encrypt(f,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(o,f);throw new Error("No encryption method available")}async function VE(a,o,l){let f;if(l){const d=il.getConversationKey(l,o);f=il.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)f=await window.nostr.nip44.decrypt(o,a);else throw new Error("No decryption method available");return JSON.parse(f)}const Iu={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function KE(a,o){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${o}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&Iu[d]?Iu[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),m0()}}function m0(){try{const o=window.navigator.language.split("-")[1]?.toUpperCase();return o&&Iu[o]?Iu[o]:"USD"}catch{return"USD"}}function Ju(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const QE={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function XE(a){return(QE[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}const IE=({status:a,setStatus:o,location:l,vehicleType:f,setOpenSpots:d,parkLocation:p,setParkLocation:v})=>{const{pubkey:b,pool:_,signEvent:x}=ol(),[T,S]=dt.useState(!1),[R,q]=dt.useState("0"),[H,M]=dt.useState("USD"),[U,V]=dt.useState("$"),[it,$]=dt.useState(null);dt.useEffect(()=>{if(a==="search"&&l){const st=cy(l[0],l[1],5),tt=_.subscribeMany(Br,[{kinds:[qu.OPEN_SPOT_BROADCAST],"#g":[st],"#type":[f],since:Math.floor(Date.now()/1e3)-3600}],{onevent(at){try{const vt=at.tags,yt=vt.find(zt=>zt[0]==="location"),lt=vt.find(zt=>zt[0]==="hourly_rate"),_t=vt.find(zt=>zt[0]==="currency");if(yt){const[zt,Lt]=yt[1].split(",").map(Number),nt={id:at.id,lat:zt,lon:Lt,price:lt?parseFloat(lt[1]):0,currency:_t?_t[1]:"USD",type:f};d(O=>O.find(Q=>Q.id===nt.id)?O:[...O,nt])}}catch(vt){console.warn("Error parsing spot:",vt)}}});return()=>{tt.close(),d([])}}},[a,l,f]),dt.useEffect(()=>{(async()=>{const tt=m0();if(M(tt),V(Ju(tt)),l)try{const at=await KE(l[0],l[1]);M(at),V(Ju(at))}catch{console.warn("GPS currency detection failed")}})()},[l]);const mt=async()=>{a==="idle"?o("search"):a==="search"?($(Math.floor(Date.now()/1e3)),v([l[0],l[1]]),o("parked")):a==="parked"&&S(!0)},pt=async()=>{o("idle"),S(!1);const st=p?p[0]:l[0],tt=p?p[1]:l[1],at=cy(st,tt,5),vt=Math.floor(Date.now()/1e3),yt=it||vt;try{const lt={status:"vacated",lat:st,lon:tt,geohash:at,fee:R,currency:H,started_at:yt,finished_at:vt},_t=localStorage.getItem("parlens_privkey"),zt=_t?new Uint8Array(_t.match(/.{1,2}/g).map(j=>parseInt(j,16))):void 0,Lt=await YE(lt,b,zt),nt={kind:qu.PARKING_LOG,content:Lt,tags:[["g",at],["client","parlens"],["type",f],["d",`session_${yt}`]],created_at:vt,pubkey:b},O=await x(nt);console.log("Publishing log:",O.id,"to",Br);const Q=_.publish(Br,O);await Promise.allSettled(Q),console.log("Log published");const X=Math.max((vt-yt)/3600,.1),ht=(parseFloat(R)/X).toFixed(2),et={kind:qu.OPEN_SPOT_BROADCAST,content:"",tags:[["g",at],["location",`${st},${tt}`],["hourly_rate",ht],["currency",H],["type",f],["client","parlens"]],created_at:vt,pubkey:b},A=await x(et);console.log("Broadcasting open spot:",A.id),_.publish(Br,A),$(null),v(null)}catch(lt){console.error("Persistence error:",lt),alert("Could not save to Nostr. Check relay connections.")}};return N.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&N.jsx("button",{onClick:()=>o("idle"),className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),N.jsxs("button",{onClick:mt,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&N.jsx(_E,{size:32,strokeWidth:2.5}),a==="search"&&N.jsx(Qh,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(f==="bicycle"?N.jsx("span",{className:"text-3xl",children:""}):f==="motorcycle"?N.jsx("span",{className:"text-3xl",children:""}):N.jsx("span",{className:"text-3xl",children:""}))]})]}),T&&N.jsx("div",{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:N.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in slide-in-from-bottom-10 sm:zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[N.jsxs("div",{className:"text-center space-y-1",children:[N.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),N.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[N.jsx("span",{className:"text-2xl font-bold text-blue-500",children:U}),N.jsx("input",{type:"number",value:R,onChange:st=>q(st.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),N.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:H})]}),N.jsxs("div",{className:"flex flex-col gap-1.5",children:[N.jsx("button",{onClick:()=>q(String(Math.max(0,parseFloat(R||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:N.jsx(rE,{size:22,className:"text-zinc-600 dark:text-white/70"})}),N.jsx("button",{onClick:()=>q(String(Math.max(0,parseFloat(R||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:N.jsx(Kh,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),N.jsxs("div",{className:"w-full space-y-3",children:[N.jsxs("button",{onClick:pt,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",N.jsx(nE,{size:20})]}),N.jsx("button",{onClick:()=>S(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function JE(){const{pool:a,pubkey:o}=ol(),[l,f]=dt.useState([]),[d,p]=dt.useState(!0),v=dt.useCallback(async()=>{if(o){p(!0),console.log("[useParkingLogs] Fetching logs for",o);try{const b=await a.querySync(Br,{kinds:[qu.PARKING_LOG],authors:[o],limit:50});console.log("[useParkingLogs] Fetched",b.length,"events");const _=b.sort((x,T)=>T.created_at-x.created_at);f(_)}catch(b){console.error("[useParkingLogs] Fetch error:",b)}finally{p(!1)}}},[a,o]);return dt.useEffect(()=>{v()},[v]),{logs:l,loading:d,refetch:v}}const FE=({setHistorySpots:a})=>{const{pubkey:o,logout:l,pool:f}=ol(),{logs:d,refetch:p}=JE(),[v,b]=dt.useState(!1),[_,x]=dt.useState(null),[T,S]=dt.useState([]),[R,q]=dt.useState(!1);dt.useEffect(()=>{o&&(async()=>{const U=await f.get(Br,{kinds:[0],authors:[o]});if(U)try{const V=JSON.parse(U.content);x({name:V.name||V.display_name||"Nostr User",npub:$o.npubEncode(o),picture:V.picture})}catch(V){console.error("Error parsing profile:",V)}else x({name:"Nostr User",npub:$o.npubEncode(o),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${o}`})})()},[o,f]),dt.useEffect(()=>{(async()=>{if(!o||!d.length)return;const U=localStorage.getItem("parlens_privkey"),V=U?new Uint8Array(U.match(/.{1,2}/g).map($=>parseInt($,16))):void 0,it=await Promise.all(d.map(async $=>{try{const mt=await VE($.content,o,V);return{...$,decryptedContent:mt}}catch{return{...$,decryptedContent:null}}}));S(it.filter($=>$.decryptedContent))})()},[d,o]),dt.useEffect(()=>{a&&a(R?T:[])},[R,T,a]);const H=()=>{const M=localStorage.getItem("parlens_privkey");if(M){const U=$o.nsecEncode(new Uint8Array(M.match(/.{1,2}/g).map(V=>parseInt(V,16))));navigator.clipboard.writeText(U),alert("Secret key copied to clipboard")}};return N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:()=>{p(),b(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Activity Log",children:N.jsx(uE,{size:20})}),v&&N.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-end sm:justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:[N.jsx("button",{onClick:()=>b(!1),className:"absolute inset-0 z-0 cursor-default"}),N.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-300 max-h-[85vh] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:_?.name||"Nostr User"}),N.jsx("button",{onClick:()=>b(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:N.jsx(l0,{size:20,className:"text-black/60 dark:text-white/60"})})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),N.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[N.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{navigator.clipboard.writeText(_?.npub),alert("Public key copied")},children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:N.jsx(o0,{size:20})}),N.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),N.jsx(oy,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),N.jsxs("div",{onClick:H,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:N.jsx(EE,{size:20})}),N.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),N.jsx(oy,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&N.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:N.jsx(Qh,{size:20})}),N.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),N.jsx("button",{onClick:()=>q(!R),className:`w-12 h-7 rounded-full transition-colors relative ${R?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:N.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${R?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),N.jsx("div",{className:"space-y-2",children:T.length>0?T.map(M=>{const U=M.decryptedContent,V=Ju(U.currency||"USD"),it=U.started_at?new Date(U.started_at*1e3):null,$=U.finished_at?new Date(U.finished_at*1e3):new Date(M.created_at*1e3),mt=U.lat&&U.lon?`${U.lat.toFixed(5)}, ${U.lon.toFixed(5)}`:null,pt=M.tags?.find(tt=>tt[0]==="type")?.[1]||"car",st=pt==="bicycle"?"":pt==="motorcycle"?"":"";return N.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"text-2xl",children:st}),N.jsx("p",{className:"font-bold text-xl",children:U.fee?`${V}${U.fee}`:"Free"})]}),N.jsx("span",{className:"text-2xl",children:XE(U.currency||"USD")})]}),mt&&N.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[N.jsx(Qh,{size:12,className:"text-blue-500 dark:text-blue-400"}),N.jsx("span",{className:"font-mono",children:mt})]}),N.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[N.jsx(fE,{size:12,className:"text-green-500 dark:text-green-400"}),N.jsxs("div",{className:"space-x-1",children:[it&&N.jsxs("span",{children:["Start: ",it.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",it.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),N.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),N.jsxs("span",{children:["End: ",$.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",$.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},M.id)}):N.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:N.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),N.jsx("button",{onClick:()=>{l(),b(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout Session"})]})]})]})},WE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",$E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",tS=Zr.icon({iconUrl:WE,shadowUrl:$E,iconSize:[25,41],iconAnchor:[12,41]});Zr.Marker.prototype.options.icon=tS;const eS=({location:a,bearing:o})=>{const l=`
           <div style="transform: rotate(${o}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,f=Zr.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return N.jsx(dc,{position:a,icon:f})},nS=({location:a,vehicleType:o})=>{const f=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));">${o==="bicycle"?"":o==="motorcycle"?"":""}</div>`,d=Zr.divIcon({className:"active-session-marker",html:f,iconSize:[40,40],iconAnchor:[20,20]});return N.jsx(dc,{position:a,icon:d})},iS=({spot:a})=>{const o=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px;">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                ${a.type==="bicycle"?"":a.type==="motorcycle"?"":""}
             </div>
             <div style="background: white; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: black; border: 1px solid rgba(0,0,0,0.1);">
                ${a.price>0?`${a.currency==="USD"?"$":a.currency}${a.price.toFixed(2)}`:"Free"}
             </div>
        </div>
    `,l=Zr.divIcon({className:"spot-marker",html:o,iconSize:[60,60],iconAnchor:[30,45]});return N.jsx(dc,{position:[a.lat,a.lon],icon:l})},aS=({spot:a})=>{const o=a.decryptedContent;if(!o||!o.lat||!o.lon)return null;const l=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px;">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); grayscale: 100%;">
                
             </div>
             <div style="background: white; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: black; border: 1px solid rgba(0,0,0,0.1);">
                ${o.fee?`${Ju(o.currency||"USD")}${o.fee}`:"Free"}
             </div>
        </div>
    `,f=Zr.divIcon({className:"history-marker",html:l,iconSize:[60,60],iconAnchor:[30,45]});return N.jsx(dc,{position:[o.lat,o.lon],icon:f})},sS=({location:a,bearing:o,orientationMode:l,shouldRecenter:f,setShouldRecenter:d})=>{const p=ZE();return dt.useEffect(()=>{f&&a&&(p.setView(a,16,{animate:!0}),d(!1))},[f,a,p,d]),dt.useEffect(()=>{if(a){l==="auto"&&p.setView(a,p.getZoom(),{animate:!0});const v=p.getContainer();v.style.transition="transform 0.5s cubic-bezier(0.1, 0, 0.3, 1)",v.style.transformOrigin="center center",l==="auto"?(v.style.transform=`rotate(${-o}deg)`,v.style.width="200%",v.style.height="200%",v.style.top="-50%",v.style.left="-50%"):(v.style.transform="rotate(0deg)",v.style.width="100%",v.style.height="100%",v.style.top="0",v.style.left="0"),v.style.position="absolute",p.invalidateSize()}},[a,o,l,p]),null},rS=()=>{const[a,o]=dt.useState(null),[l,f]=dt.useState(0),[d,p]=dt.useState("idle"),[v,b]=dt.useState("auto"),[_,x]=dt.useState(!1),[T,S]=dt.useState("car"),[R,q]=dt.useState([]),[H,M]=dt.useState([]),[U,V]=dt.useState(null),[it,$]=dt.useState(!1),[mt,pt]=dt.useState(!1);dt.useEffect(()=>{const at=window.matchMedia("(prefers-color-scheme: dark)");pt(at.matches);const vt=yt=>pt(yt.matches);return at.addEventListener("change",vt),()=>at.removeEventListener("change",vt)},[]);const st=dt.useRef(null);dt.useEffect(()=>("geolocation"in navigator&&(st.current=navigator.geolocation.watchPosition(at=>{const{latitude:vt,longitude:yt,heading:lt}=at.coords;o([vt,yt]),lt!==null&&f(lt)},at=>console.error("Location error:",at),{enableHighAccuracy:!0,maximumAge:0,timeout:5e3})),()=>{st.current!==null&&navigator.geolocation.clearWatch(st.current)}),[]),dt.useEffect(()=>{const vt=setTimeout(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()!=="granted"){console.warn("Device orientation permission denied");return}}catch(lt){console.error("Error requesting device orientation permission:",lt);return}const yt=lt=>{lt.webkitCompassHeading!==void 0?f(lt.webkitCompassHeading):lt.alpha!==null&&f(360-lt.alpha)};return window.addEventListener("deviceorientation",yt,!0),()=>window.removeEventListener("deviceorientation",yt,!0)},500);return()=>clearTimeout(vt)},[]);const tt=at=>{if(d!=="idle"){alert("Please end your current session before changing vehicle type.");return}S(at)};return a?N.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[N.jsx("div",{className:"absolute inset-0",children:N.jsxs(PE,{center:a,zoom:16,zoomControl:!1,className:"h-full w-full",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[N.jsx(GE,{url:mt?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO"}),N.jsx(eS,{location:a,bearing:l}),d==="parked"&&U&&N.jsx(nS,{location:U,vehicleType:T}),d==="search"&&R.map(at=>N.jsx(iS,{spot:at},at.id)),H.length>0&&H.filter(at=>(at.tags?.find(yt=>yt[0]==="type")?.[1]||"car")===T).map(at=>N.jsx(aS,{spot:at},at.id)),N.jsx(sS,{location:a,bearing:l,orientationMode:v,shouldRecenter:it,setShouldRecenter:$})]})}),N.jsxs("div",{className:"absolute bottom-10 left-6 z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",children:[N.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[N.jsx("button",{onClick:()=>tt("bicycle"),className:`p-2.5 rounded-full transition-all ${T==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:N.jsx("span",{className:"text-xl",children:""})}),N.jsx("button",{onClick:()=>tt("motorcycle"),className:`p-2.5 rounded-full transition-all ${T==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:N.jsx("span",{className:"text-xl",children:""})}),N.jsx("button",{onClick:()=>tt("car"),className:`p-2.5 rounded-full transition-all ${T==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:N.jsx("span",{className:"text-xl",children:""})})]}),N.jsx("button",{onClick:()=>x(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:N.jsx(ly,{size:20})})]}),N.jsxs("div",{className:"absolute bottom-10 right-6 z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",children:[N.jsx("button",{onClick:()=>{b(at=>at==="auto"?"fixed":"auto"),$(!0)},className:`h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg ${v==="auto"?"bg-blue-500/20 border-blue-500/50 text-blue-500 dark:text-blue-400":"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70"}`,children:v==="auto"?N.jsx(yE,{size:20,className:"fill-current"}):N.jsx(dE,{size:20})}),N.jsx(FE,{setHistorySpots:M}),N.jsx(IE,{status:d,setStatus:p,location:a,vehicleType:T,setOpenSpots:q,parkLocation:U,setParkLocation:V})]}),_&&N.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/40 dark:bg-black/80 backdrop-blur-xl p-6 animate-in fade-in",children:N.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2.5rem] border border-black/5 dark:border-white/10 shadow-2xl p-8 space-y-8 animate-in zoom-in-95 max-h-[85vh] overflow-y-auto no-scrollbar relative transition-colors",children:[N.jsx("button",{onClick:()=>x(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:N.jsx(l0,{size:20,className:"text-black/60 dark:text-white/60"})}),N.jsxs("div",{className:"text-center space-y-2 pt-4",children:[N.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:N.jsx(ly,{size:32})}),N.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),N.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[N.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",children:[N.jsx("span",{children:"Using Browser Menu (Android)"}),N.jsx(Kh,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),N.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[N.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),N.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[N.jsx("li",{children:"Tap menu button (three dots)"}),N.jsx("li",{children:'Tap "Add to Home screen"'}),N.jsx("li",{children:'Tap "Add" to confirm'})]}),N.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),N.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[N.jsx("li",{children:"Tap menu button (three dots)"}),N.jsx("li",{children:'Tap "Install"'})]})]})]}),N.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[N.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",children:[N.jsx("span",{children:"Using Share Button (iOS)"}),N.jsx(Kh,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),N.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:N.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[N.jsxs("li",{children:["Tap the ",N.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),N.jsxs("li",{children:["Scroll down and tap ",N.jsx("strong",{children:"Add to Home Screen"}),"."]}),N.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),N.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[N.jsxs("p",{children:[N.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),N.jsxs("p",{children:[N.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Search for spots"}),"Click the main button once to see open spots reported by others."]}),N.jsxs("p",{children:[N.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Park & End Session"}),"Click again to mark your location. When leaving, click once more to end the session and report the fee."]}),N.jsxs("p",{children:[N.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. View History"}),"Use the log button (clipboard icon) to see your parking history."]})]})]})}),d==="search"&&N.jsx("div",{className:"absolute top-12 left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",children:N.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5",children:[N.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),N.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),d==="parked"&&N.jsx("div",{className:"absolute top-12 left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",children:N.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[N.jsx("span",{className:"text-lg",children:T==="bicycle"?"":T==="motorcycle"?"":""}),N.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):N.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-black",children:N.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700",children:[N.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),N.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})},oS=()=>{const{login:a}=ol(),[o,l]=dt.useState(""),[f,d]=dt.useState(""),[p,v]=dt.useState(!1),[b,_]=dt.useState("landing"),[x,T]=dt.useState(""),S=async H=>{v(!0),d("");try{await a(H,H==="nsec"?o:void 0)}catch(M){d(M.message)}finally{v(!1)}},R=()=>{_("setup")},q=async()=>{if(!x.trim()){d("Please enter a username");return}v(!0);try{await a("create",void 0,x)}catch(H){d(H.message)}finally{v(!1)}};return N.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-black p-6 text-white text-center",children:N.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsx("div",{className:"mx-auto flex h-24 w-24 items-center justify-center rounded-[2.5rem] bg-blue-500 shadow-2xl shadow-blue-500/20",children:N.jsx("span",{className:"text-5xl font-black text-white",children:"P"})}),N.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),N.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Public Parking Management"})]}),N.jsxs("div",{className:"space-y-4",children:[b==="landing"?N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:R,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":N.jsxs(N.Fragment,{children:[N.jsx(TE,{size:20,strokeWidth:3}),"Create a Nostr Account"]})}),N.jsx("div",{className:"pt-4 pb-2",children:N.jsx("h2",{className:"text-lg font-bold text-white/50 uppercase tracking-widest text-center",children:"Login"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsxs("button",{onClick:()=>_("nsec"),disabled:p,className:"h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[N.jsx(o0,{size:18}),"Secret Key"]}),N.jsxs("button",{onClick:()=>S("extension"),disabled:p,className:"h-16 rounded-3xl bg-zinc-900 border border-white/10 text-white font-bold active:scale-95 transition-all flex items-center justify-center gap-2",children:[N.jsx(wE,{size:18,className:"text-blue-400"}),"Browser"]})]})]}):b==="setup"?N.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[N.jsxs("div",{className:"text-center pb-2",children:[N.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),N.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),N.jsx("input",{type:"text",placeholder:"Username",value:x,onChange:H=>T(H.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-white/20",autoFocus:!0}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx("button",{onClick:()=>_("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),N.jsx("button",{onClick:q,disabled:p||!x,className:"flex-1 h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):N.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[N.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:o,onChange:H=>l(H.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-white/20",autoFocus:!0}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx("button",{onClick:()=>_("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),N.jsx("button",{onClick:()=>S("nsec"),disabled:p||!o,className:"flex-1 h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),f&&N.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:f})]})]})})},lS=()=>{const{pubkey:a}=ol();return a?N.jsx(rS,{}):N.jsx(oS,{})};var mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uS={setTimeout:(a,o)=>setTimeout(a,o),clearTimeout:a=>clearTimeout(a),setInterval:(a,o)=>setInterval(a,o),clearInterval:a=>clearInterval(a)},cS=class{#t=uS;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,o){return this.#t.setTimeout(a,o)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,o){return this.#t.setInterval(a,o)}clearInterval(a){this.#t.clearInterval(a)}},Xh=new cS;function fS(a){setTimeout(a,0)}var pc=typeof window>"u"||"Deno"in globalThis;function In(){}function hS(a,o){return typeof a=="function"?a(o):a}function dS(a){return typeof a=="number"&&a>=0&&a!==1/0}function mS(a,o){return Math.max(a+(o||0)-Date.now(),0)}function Ih(a,o){return typeof a=="function"?a(o):a}function pS(a,o){return typeof a=="function"?a(o):a}function fy(a,o){const{type:l="all",exact:f,fetchStatus:d,predicate:p,queryKey:v,stale:b}=a;if(v){if(f){if(o.queryHash!==Bd(v,o.options))return!1}else if(!sl(o.queryKey,v))return!1}if(l!=="all"){const _=o.isActive();if(l==="active"&&!_||l==="inactive"&&_)return!1}return!(typeof b=="boolean"&&o.isStale()!==b||d&&d!==o.state.fetchStatus||p&&!p(o))}function hy(a,o){const{exact:l,status:f,predicate:d,mutationKey:p}=a;if(p){if(!o.options.mutationKey)return!1;if(l){if(al(o.options.mutationKey)!==al(p))return!1}else if(!sl(o.options.mutationKey,p))return!1}return!(f&&o.state.status!==f||d&&!d(o))}function Bd(a,o){return(o?.queryKeyHashFn||al)(a)}function al(a){return JSON.stringify(a,(o,l)=>Jh(l)?Object.keys(l).sort().reduce((f,d)=>(f[d]=l[d],f),{}):l)}function sl(a,o){return a===o?!0:typeof a!=typeof o?!1:a&&o&&typeof a=="object"&&typeof o=="object"?Object.keys(o).every(l=>sl(a[l],o[l])):!1}var gS=Object.prototype.hasOwnProperty;function p0(a,o){if(a===o)return a;const l=dy(a)&&dy(o);if(!l&&!(Jh(a)&&Jh(o)))return o;const d=(l?a:Object.keys(a)).length,p=l?o:Object.keys(o),v=p.length,b=l?new Array(v):{};let _=0;for(let x=0;x<v;x++){const T=l?x:p[x],S=a[T],R=o[T];if(S===R){b[T]=S,(l?x<d:gS.call(a,T))&&_++;continue}if(S===null||R===null||typeof S!="object"||typeof R!="object"){b[T]=R;continue}const q=p0(S,R);b[T]=q,q===S&&_++}return d===v&&_===d?a:b}function dy(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Jh(a){if(!my(a))return!1;const o=a.constructor;if(o===void 0)return!0;const l=o.prototype;return!(!my(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function my(a){return Object.prototype.toString.call(a)==="[object Object]"}function yS(a){return new Promise(o=>{Xh.setTimeout(o,a)})}function vS(a,o,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,o):l.structuralSharing!==!1?p0(a,o):o}function _S(a,o,l=0){const f=[...a,o];return l&&f.length>l?f.slice(1):f}function bS(a,o,l=0){const f=[o,...a];return l&&f.length>l?f.slice(0,-1):f}var Rd=Symbol();function g0(a,o){return!a.queryFn&&o?.initialPromise?()=>o.initialPromise:!a.queryFn||a.queryFn===Rd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var wS=class extends mc{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!pc&&window.addEventListener){const o=()=>a();return window.addEventListener("visibilitychange",o,!1),()=>{window.removeEventListener("visibilitychange",o)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(o=>{o(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},y0=new wS;function xS(){let a,o;const l=new Promise((d,p)=>{a=d,o=p});l.status="pending",l.catch(()=>{});function f(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{f({status:"fulfilled",value:d}),a(d)},l.reject=d=>{f({status:"rejected",reason:d}),o(d)},l}var ES=fS;function SS(){let a=[],o=0,l=b=>{b()},f=b=>{b()},d=ES;const p=b=>{o?a.push(b):d(()=>{l(b)})},v=()=>{const b=a;a=[],b.length&&d(()=>{f(()=>{b.forEach(_=>{l(_)})})})};return{batch:b=>{let _;o++;try{_=b()}finally{o--,o||v()}return _},batchCalls:b=>(..._)=>{p(()=>{b(..._)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{f=b},setScheduler:b=>{d=b}}}var Fe=SS(),TS=class extends mc{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!pc&&window.addEventListener){const o=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",o,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},Fu=new TS;function AS(a){return Math.min(1e3*2**a,3e4)}function v0(a){return(a??"online")==="online"?Fu.isOnline():!0}var Fh=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function _0(a){let o=!1,l=0,f;const d=xS(),p=()=>d.status!=="pending",v=M=>{if(!p()){const U=new Fh(M);R(U),a.onCancel?.(U)}},b=()=>{o=!0},_=()=>{o=!1},x=()=>y0.isFocused()&&(a.networkMode==="always"||Fu.isOnline())&&a.canRun(),T=()=>v0(a.networkMode)&&a.canRun(),S=M=>{p()||(f?.(),d.resolve(M))},R=M=>{p()||(f?.(),d.reject(M))},q=()=>new Promise(M=>{f=U=>{(p()||x())&&M(U)},a.onPause?.()}).then(()=>{f=void 0,p()||a.onContinue?.()}),H=()=>{if(p())return;let M;const U=l===0?a.initialPromise:void 0;try{M=U??a.fn()}catch(V){M=Promise.reject(V)}Promise.resolve(M).then(S).catch(V=>{if(p())return;const it=a.retry??(pc?0:3),$=a.retryDelay??AS,mt=typeof $=="function"?$(l,V):$,pt=it===!0||typeof it=="number"&&l<it||typeof it=="function"&&it(l,V);if(o||!pt){R(V);return}l++,a.onFail?.(l,V),yS(mt).then(()=>x()?void 0:q()).then(()=>{o?R(V):H()})})};return{promise:d,status:()=>d.status,cancel:v,continue:()=>(f?.(),d),cancelRetry:b,continueRetry:_,canStart:T,start:()=>(T()?H():q().then(H),d)}}var b0=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dS(this.gcTime)&&(this.#t=Xh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(pc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Xh.clearTimeout(this.#t),this.#t=void 0)}},zS=class extends b0{#t;#e;#n;#a;#i;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=gy(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const o=gy(this.options);o.data!==void 0&&(this.setState(py(o.data,o.dataUpdatedAt)),this.#t=o)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,o){const l=vS(this.state.data,a,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:o?.updatedAt,manual:o?.manual}),l}setState(a,o){this.#s({type:"setState",state:a,setStateOptions:o})}cancel(a){const o=this.#i?.promise;return this.#i?.cancel(a),o?o.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>pS(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>Ih(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!mS(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(o=>o.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(o=>o.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(o=>o!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(a,o){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&o?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=g0(this.options,o),x=(()=>{const T={client:this.#a,queryKey:this.queryKey,meta:this.meta};return f(T),T})();return this.#o=!1,this.options.persister?this.options.persister(b,x,this):b(x)},v=(()=>{const b={fetchOptions:o,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return f(b),b})();this.options.behavior?.onFetch(v,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==v.fetchOptions?.meta)&&this.#s({type:"fetch",meta:v.fetchOptions?.meta}),this.#i=_0({initialPromise:o?.initialPromise,fn:v.fetchFn,onCancel:b=>{b instanceof Fh&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,_)=>{this.#s({type:"failed",failureCount:b,error:_})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay,networkMode:v.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof Fh){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#s({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#s(a){const o=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...LS(l.data,this.options),fetchMeta:a.meta??null};case"success":const f={...l,...py(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?f:void 0,f;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=o(this.state),Fe.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function LS(a,o){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v0(o.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function py(a,o){return{data:a,dataUpdatedAt:o??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gy(a){const o=typeof a.initialData=="function"?a.initialData():a.initialData,l=o!==void 0,f=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:o,dataUpdateCount:0,dataUpdatedAt:l?f??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function yy(a){return{onFetch:(o,l)=>{const f=o.options,d=o.fetchOptions?.meta?.fetchMore?.direction,p=o.state.data?.pages||[],v=o.state.data?.pageParams||[];let b={pages:[],pageParams:[]},_=0;const x=async()=>{let T=!1;const S=H=>{Object.defineProperty(H,"signal",{enumerable:!0,get:()=>(o.signal.aborted?T=!0:o.signal.addEventListener("abort",()=>{T=!0}),o.signal)})},R=g0(o.options,o.fetchOptions),q=async(H,M,U)=>{if(T)return Promise.reject();if(M==null&&H.pages.length)return Promise.resolve(H);const it=(()=>{const st={client:o.client,queryKey:o.queryKey,pageParam:M,direction:U?"backward":"forward",meta:o.options.meta};return S(st),st})(),$=await R(it),{maxPages:mt}=o.options,pt=U?bS:_S;return{pages:pt(H.pages,$,mt),pageParams:pt(H.pageParams,M,mt)}};if(d&&p.length){const H=d==="backward",M=H?CS:vy,U={pages:p,pageParams:v},V=M(f,U);b=await q(U,V,H)}else{const H=a??p.length;do{const M=_===0?v[0]??f.initialPageParam:vy(f,b);if(_>0&&M==null)break;b=await q(b,M),_++}while(_<H)}return b};o.options.persister?o.fetchFn=()=>o.options.persister?.(x,{client:o.client,queryKey:o.queryKey,meta:o.options.meta,signal:o.signal},l):o.fetchFn=x}}}function vy(a,{pages:o,pageParams:l}){const f=o.length-1;return o.length>0?a.getNextPageParam(o[f],o,l[f],l):void 0}function CS(a,{pages:o,pageParams:l}){return o.length>0?a.getPreviousPageParam?.(o[0],o,l[0],l):void 0}var MS=class extends b0{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||OS(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(o=>o!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const o=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=_0({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,v)=>{this.#i({type:"failed",failureCount:p,error:v})},onPause:()=>{this.#i({type:"pause"})},onContinue:o,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const f=this.state.status==="pending",d=!this.#a.canStart();try{if(f)o();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const v=await this.options.onMutate?.(a,l);v!==this.state.context&&this.#i({type:"pending",context:v,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const o=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=o(this.state),Fe.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function OS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var NS=class extends mc{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,o,l){const f=new MS({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(o),state:l});return this.add(f),f}add(a){this.#t.add(a);const o=Hu(a);if(typeof o=="string"){const l=this.#e.get(o);l?l.push(a):this.#e.set(o,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const o=Hu(a);if(typeof o=="string"){const l=this.#e.get(o);if(l)if(l.length>1){const f=l.indexOf(a);f!==-1&&l.splice(f,1)}else l[0]===a&&this.#e.delete(o)}}this.notify({type:"removed",mutation:a})}canRun(a){const o=Hu(a);if(typeof o=="string"){const f=this.#e.get(o)?.find(d=>d.state.status==="pending");return!f||f===a}else return!0}runNext(a){const o=Hu(a);return typeof o=="string"?this.#e.get(o)?.find(f=>f!==a&&f.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fe.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const o={exact:!0,...a};return this.getAll().find(l=>hy(o,l))}findAll(a={}){return this.getAll().filter(o=>hy(a,o))}notify(a){Fe.batch(()=>{this.listeners.forEach(o=>{o(a)})})}resumePausedMutations(){const a=this.getAll().filter(o=>o.state.isPaused);return Fe.batch(()=>Promise.all(a.map(o=>o.continue().catch(In))))}};function Hu(a){return a.options.scope?.id}var BS=class extends mc{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,o,l){const f=o.queryKey,d=o.queryHash??Bd(f,o);let p=this.get(d);return p||(p=new zS({client:a,queryKey:f,queryHash:d,options:a.defaultQueryOptions(o),state:l,defaultOptions:a.getQueryDefaults(f)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const o=this.#t.get(a.queryHash);o&&(a.destroy(),o===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Fe.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const o={exact:!0,...a};return this.getAll().find(l=>fy(o,l))}findAll(a={}){const o=this.getAll();return Object.keys(a).length>0?o.filter(l=>fy(a,l)):o}notify(a){Fe.batch(()=>{this.listeners.forEach(o=>{o(a)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},RS=class{#t;#e;#n;#a;#i;#r;#o;#s;constructor(a={}){this.#t=a.queryCache||new BS,this.#e=a.mutationCache||new NS,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=y0.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Fu.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const o=this.defaultQueryOptions({queryKey:a});return this.#t.get(o.queryHash)?.state.data}ensureQueryData(a){const o=this.defaultQueryOptions(a),l=this.#t.build(this,o),f=l.state.data;return f===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(Ih(o.staleTime,l))&&this.prefetchQuery(o),Promise.resolve(f))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:o,state:l})=>{const f=l.data;return[o,f]})}setQueryData(a,o,l){const f=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(f.queryHash)?.state.data,v=hS(o,p);if(v!==void 0)return this.#t.build(this,f).setData(v,{...l,manual:!0})}setQueriesData(a,o,l){return Fe.batch(()=>this.#t.findAll(a).map(({queryKey:f})=>[f,this.setQueryData(f,o,l)]))}getQueryState(a){const o=this.defaultQueryOptions({queryKey:a});return this.#t.get(o.queryHash)?.state}removeQueries(a){const o=this.#t;Fe.batch(()=>{o.findAll(a).forEach(l=>{o.remove(l)})})}resetQueries(a,o){const l=this.#t;return Fe.batch(()=>(l.findAll(a).forEach(f=>{f.reset()}),this.refetchQueries({type:"active",...a},o)))}cancelQueries(a,o={}){const l={revert:!0,...o},f=Fe.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(f).then(In).catch(In)}invalidateQueries(a,o={}){return Fe.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},o)))}refetchQueries(a,o={}){const l={...o,cancelRefetch:o.cancelRefetch??!0},f=Fe.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(In)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(f).then(In)}fetchQuery(a){const o=this.defaultQueryOptions(a);o.retry===void 0&&(o.retry=!1);const l=this.#t.build(this,o);return l.isStaleByTime(Ih(o.staleTime,l))?l.fetch(o):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(In).catch(In)}fetchInfiniteQuery(a){return a.behavior=yy(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(In).catch(In)}ensureInfiniteQueryData(a){return a.behavior=yy(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return Fu.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,o){this.#a.set(al(a),{queryKey:a,defaultOptions:o})}getQueryDefaults(a){const o=[...this.#a.values()],l={};return o.forEach(f=>{sl(a,f.queryKey)&&Object.assign(l,f.defaultOptions)}),l}setMutationDefaults(a,o){this.#i.set(al(a),{mutationKey:a,defaultOptions:o})}getMutationDefaults(a){const o=[...this.#i.values()],l={};return o.forEach(f=>{sl(a,f.mutationKey)&&Object.assign(l,f.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const o={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return o.queryHash||(o.queryHash=Bd(o.queryKey,o)),o.refetchOnReconnect===void 0&&(o.refetchOnReconnect=o.networkMode!=="always"),o.throwOnError===void 0&&(o.throwOnError=!!o.suspense),!o.networkMode&&o.persister&&(o.networkMode="offlineFirst"),o.queryFn===Rd&&(o.enabled=!1),o}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},DS=dt.createContext(void 0),US=({client:a,children:o})=>(dt.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),N.jsx(DS.Provider,{value:a,children:o}));const kS=new RS;K_.createRoot(document.getElementById("root")).render(N.jsx(Pu.StrictMode,{children:N.jsx(US,{client:kS,children:N.jsx(I2,{children:N.jsx(lS,{})})})}));
