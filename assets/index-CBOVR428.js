(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function rd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wh={exports:{}},ml={};var Gg;function ob(){if(Gg)return ml;Gg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(u,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:u,key:_,ref:d!==void 0?d:null,props:p}}return ml.Fragment=s,ml.jsx=l,ml.jsxs=l,ml}var Ig;function lb(){return Ig||(Ig=1,wh.exports=ob()),wh.exports}var w=lb(),Sh={exports:{}},Bt={};var Vg;function ub(){if(Vg)return Bt;Vg=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),k=Symbol.iterator;function R(z){return z===null||typeof z!="object"?null:(z=k&&z[k]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,Z={};function P(z,q,st){this.props=z,this.context=q,this.refs=Z,this.updater=st||D}P.prototype.isReactComponent={},P.prototype.setState=function(z,q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,q,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=P.prototype;function tt(z,q,st){this.props=z,this.context=q,this.refs=Z,this.updater=st||D}var yt=tt.prototype=new j;yt.constructor=tt,M(yt,P.prototype),yt.isPureReactComponent=!0;var ut=Array.isArray;function W(){}var X={H:null,A:null,T:null,S:null},ot=Object.prototype.hasOwnProperty;function ct(z,q,st){var lt=st.ref;return{$$typeof:a,type:z,key:q,ref:lt!==void 0?lt:null,props:st}}function gt(z,q){return ct(z.type,q,z.props)}function ft(z){return typeof z=="object"&&z!==null&&z.$$typeof===a}function vt(z){var q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(st){return q[st]})}var Ct=/\/+/g;function zt(z,q){return typeof z=="object"&&z!==null&&z.key!=null?vt(""+z.key):q.toString(36)}function rt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(W,W):(z.status="pending",z.then(function(q){z.status==="pending"&&(z.status="fulfilled",z.value=q)},function(q){z.status==="pending"&&(z.status="rejected",z.reason=q)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function N(z,q,st,lt,dt){var ht=typeof z;(ht==="undefined"||ht==="boolean")&&(z=null);var bt=!1;if(z===null)bt=!0;else switch(ht){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(z.$$typeof){case a:case s:bt=!0;break;case A:return bt=z._init,N(bt(z._payload),q,st,lt,dt)}}if(bt)return dt=dt(z),bt=lt===""?"."+zt(z,0):lt,ut(dt)?(st="",bt!=null&&(st=bt.replace(Ct,"$&/")+"/"),N(dt,q,st,"",function(Ce){return Ce})):dt!=null&&(ft(dt)&&(dt=gt(dt,st+(dt.key==null||z&&z.key===dt.key?"":(""+dt.key).replace(Ct,"$&/")+"/")+bt)),q.push(dt)),1;bt=0;var Zt=lt===""?".":lt+":";if(ut(z))for(var Vt=0;Vt<z.length;Vt++)lt=z[Vt],ht=Zt+zt(lt,Vt),bt+=N(lt,q,st,ht,dt);else if(Vt=R(z),typeof Vt=="function")for(z=Vt.call(z),Vt=0;!(lt=z.next()).done;)lt=lt.value,ht=Zt+zt(lt,Vt++),bt+=N(lt,q,st,ht,dt);else if(ht==="object"){if(typeof z.then=="function")return N(rt(z),q,st,lt,dt);throw q=String(z),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Q(z,q,st){if(z==null)return z;var lt=[],dt=0;return N(z,lt,"","",function(ht){return q.call(st,ht,dt++)}),lt}function F(z){if(z._status===-1){var q=z._result;q=q(),q.then(function(st){(z._status===0||z._status===-1)&&(z._status=1,z._result=st)},function(st){(z._status===0||z._status===-1)&&(z._status=2,z._result=st)}),z._status===-1&&(z._status=0,z._result=q)}if(z._status===1)return z._result.default;throw z._result}var mt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},nt={map:Q,forEach:function(z,q,st){Q(z,function(){q.apply(this,arguments)},st)},count:function(z){var q=0;return Q(z,function(){q++}),q},toArray:function(z){return Q(z,function(q){return q})||[]},only:function(z){if(!ft(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Bt.Activity=T,Bt.Children=nt,Bt.Component=P,Bt.Fragment=l,Bt.Profiler=d,Bt.PureComponent=tt,Bt.StrictMode=u,Bt.Suspense=y,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return X.H.useMemoCache(z)}},Bt.cache=function(z){return function(){return z.apply(null,arguments)}},Bt.cacheSignal=function(){return null},Bt.cloneElement=function(z,q,st){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var lt=M({},z.props),dt=z.key;if(q!=null)for(ht in q.key!==void 0&&(dt=""+q.key),q)!ot.call(q,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&q.ref===void 0||(lt[ht]=q[ht]);var ht=arguments.length-2;if(ht===1)lt.children=st;else if(1<ht){for(var bt=Array(ht),Zt=0;Zt<ht;Zt++)bt[Zt]=arguments[Zt+2];lt.children=bt}return ct(z.type,dt,lt)},Bt.createContext=function(z){return z={$$typeof:_,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:p,_context:z},z},Bt.createElement=function(z,q,st){var lt,dt={},ht=null;if(q!=null)for(lt in q.key!==void 0&&(ht=""+q.key),q)ot.call(q,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(dt[lt]=q[lt]);var bt=arguments.length-2;if(bt===1)dt.children=st;else if(1<bt){for(var Zt=Array(bt),Vt=0;Vt<bt;Vt++)Zt[Vt]=arguments[Vt+2];dt.children=Zt}if(z&&z.defaultProps)for(lt in bt=z.defaultProps,bt)dt[lt]===void 0&&(dt[lt]=bt[lt]);return ct(z,ht,dt)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(z){return{$$typeof:b,render:z}},Bt.isValidElement=ft,Bt.lazy=function(z){return{$$typeof:A,_payload:{_status:-1,_result:z},_init:F}},Bt.memo=function(z,q){return{$$typeof:x,type:z,compare:q===void 0?null:q}},Bt.startTransition=function(z){var q=X.T,st={};X.T=st;try{var lt=z(),dt=X.S;dt!==null&&dt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(W,mt)}catch(ht){mt(ht)}finally{q!==null&&st.types!==null&&(q.types=st.types),X.T=q}},Bt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Bt.use=function(z){return X.H.use(z)},Bt.useActionState=function(z,q,st){return X.H.useActionState(z,q,st)},Bt.useCallback=function(z,q){return X.H.useCallback(z,q)},Bt.useContext=function(z){return X.H.useContext(z)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(z,q){return X.H.useDeferredValue(z,q)},Bt.useEffect=function(z,q){return X.H.useEffect(z,q)},Bt.useEffectEvent=function(z){return X.H.useEffectEvent(z)},Bt.useId=function(){return X.H.useId()},Bt.useImperativeHandle=function(z,q,st){return X.H.useImperativeHandle(z,q,st)},Bt.useInsertionEffect=function(z,q){return X.H.useInsertionEffect(z,q)},Bt.useLayoutEffect=function(z,q){return X.H.useLayoutEffect(z,q)},Bt.useMemo=function(z,q){return X.H.useMemo(z,q)},Bt.useOptimistic=function(z,q){return X.H.useOptimistic(z,q)},Bt.useReducer=function(z,q,st){return X.H.useReducer(z,q,st)},Bt.useRef=function(z){return X.H.useRef(z)},Bt.useState=function(z){return X.H.useState(z)},Bt.useSyncExternalStore=function(z,q,st){return X.H.useSyncExternalStore(z,q,st)},Bt.useTransition=function(){return X.H.useTransition()},Bt.version="19.2.3",Bt}var Yg;function od(){return Yg||(Yg=1,Sh.exports=ub()),Sh.exports}var K=od();const to=rd(K);var Eh={exports:{}},pl={},Th={exports:{}},Ah={};var Kg;function cb(){return Kg||(Kg=1,(function(a){function s(N,Q){var F=N.length;N.push(Q);t:for(;0<F;){var mt=F-1>>>1,nt=N[mt];if(0<d(nt,Q))N[mt]=Q,N[F]=nt,F=mt;else break t}}function l(N){return N.length===0?null:N[0]}function u(N){if(N.length===0)return null;var Q=N[0],F=N.pop();if(F!==Q){N[0]=F;t:for(var mt=0,nt=N.length,z=nt>>>1;mt<z;){var q=2*(mt+1)-1,st=N[q],lt=q+1,dt=N[lt];if(0>d(st,F))lt<nt&&0>d(dt,st)?(N[mt]=dt,N[lt]=F,mt=lt):(N[mt]=st,N[q]=F,mt=q);else if(lt<nt&&0>d(dt,F))N[mt]=dt,N[lt]=F,mt=lt;else break t}}return Q}function d(N,Q){var F=N.sortIndex-Q.sortIndex;return F!==0?F:N.id-Q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var _=Date,b=_.now();a.unstable_now=function(){return _.now()-b}}var y=[],x=[],A=1,T=null,k=3,R=!1,D=!1,M=!1,Z=!1,P=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function yt(N){for(var Q=l(x);Q!==null;){if(Q.callback===null)u(x);else if(Q.startTime<=N)u(x),Q.sortIndex=Q.expirationTime,s(y,Q);else break;Q=l(x)}}function ut(N){if(M=!1,yt(N),!D)if(l(y)!==null)D=!0,W||(W=!0,vt());else{var Q=l(x);Q!==null&&rt(ut,Q.startTime-N)}}var W=!1,X=-1,ot=5,ct=-1;function gt(){return Z?!0:!(a.unstable_now()-ct<ot)}function ft(){if(Z=!1,W){var N=a.unstable_now();ct=N;var Q=!0;try{t:{D=!1,M&&(M=!1,j(X),X=-1),R=!0;var F=k;try{e:{for(yt(N),T=l(y);T!==null&&!(T.expirationTime>N&&gt());){var mt=T.callback;if(typeof mt=="function"){T.callback=null,k=T.priorityLevel;var nt=mt(T.expirationTime<=N);if(N=a.unstable_now(),typeof nt=="function"){T.callback=nt,yt(N),Q=!0;break e}T===l(y)&&u(y),yt(N)}else u(y);T=l(y)}if(T!==null)Q=!0;else{var z=l(x);z!==null&&rt(ut,z.startTime-N),Q=!1}}break t}finally{T=null,k=F,R=!1}Q=void 0}}finally{Q?vt():W=!1}}}var vt;if(typeof tt=="function")vt=function(){tt(ft)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,zt=Ct.port2;Ct.port1.onmessage=ft,vt=function(){zt.postMessage(null)}}else vt=function(){P(ft,0)};function rt(N,Q){X=P(function(){N(a.unstable_now())},Q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return k},a.unstable_next=function(N){switch(k){case 1:case 2:case 3:var Q=3;break;default:Q=k}var F=k;k=Q;try{return N()}finally{k=F}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(N,Q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=k;k=N;try{return Q()}finally{k=F}},a.unstable_scheduleCallback=function(N,Q,F){var mt=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?mt+F:mt):F=mt,N){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=F+nt,N={id:A++,callback:Q,priorityLevel:N,startTime:F,expirationTime:nt,sortIndex:-1},F>mt?(N.sortIndex=F,s(x,N),l(y)===null&&N===l(x)&&(M?(j(X),X=-1):M=!0,rt(ut,F-mt))):(N.sortIndex=nt,s(y,N),D||R||(D=!0,W||(W=!0,vt()))),N},a.unstable_shouldYield=gt,a.unstable_wrapCallback=function(N){var Q=k;return function(){var F=k;k=Q;try{return N.apply(this,arguments)}finally{k=F}}}})(Ah)),Ah}var Qg;function fb(){return Qg||(Qg=1,Th.exports=cb()),Th.exports}var zh={exports:{}},un={};var Xg;function hb(){if(Xg)return un;Xg=1;var a=od();function s(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(y,x,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:T==null?null:""+T,children:y,containerInfo:x,implementation:A}}var _=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,un.createPortal=function(y,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(s(299));return p(y,x,null,A)},un.flushSync=function(y){var x=_.T,A=u.p;try{if(_.T=null,u.p=2,y)return y()}finally{_.T=x,u.p=A,u.d.f()}},un.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,u.d.C(y,x))},un.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},un.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var A=x.as,T=b(A,x.crossOrigin),k=typeof x.integrity=="string"?x.integrity:void 0,R=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;A==="style"?u.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:T,integrity:k,fetchPriority:R}):A==="script"&&u.d.X(y,{crossOrigin:T,integrity:k,fetchPriority:R,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},un.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var A=b(x.as,x.crossOrigin);u.d.M(y,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&u.d.M(y)},un.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var A=x.as,T=b(A,x.crossOrigin);u.d.L(y,A,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},un.preloadModule=function(y,x){if(typeof y=="string")if(x){var A=b(x.as,x.crossOrigin);u.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else u.d.m(y)},un.requestFormReset=function(y){u.d.r(y)},un.unstable_batchedUpdates=function(y,x){return y(x)},un.useFormState=function(y,x,A){return _.H.useFormState(y,x,A)},un.useFormStatus=function(){return _.H.useHostTransitionStatus()},un.version="19.2.3",un}var Fg;function D0(){if(Fg)return zh.exports;Fg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),zh.exports=hb(),zh.exports}var Jg;function db(){if(Jg)return pl;Jg=1;var a=fb(),s=od(),l=D0();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(p(t)!==t)throw Error(u(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,o=e;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return y(f),t;if(h===o)return y(f),e;h=h.sibling}throw Error(u(188))}if(i.return!==o.return)i=f,o=h;else{for(var v=!1,E=f.child;E;){if(E===i){v=!0,i=f,o=h;break}if(E===o){v=!0,o=f,i=h;break}E=E.sibling}if(!v){for(E=h.child;E;){if(E===i){v=!0,i=h,o=f;break}if(E===o){v=!0,o=h,i=f;break}E=E.sibling}if(!v)throw Error(u(189))}}if(i.alternate!==o)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var T=Object.assign,k=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),ct=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function vt(t){return t===null||typeof t!="object"?null:(t=ft&&t[ft]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ct?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case P:return"Profiler";case Z:return"StrictMode";case ut:return"Suspense";case W:return"SuspenseList";case ct:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case tt:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case yt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return e=t.displayName||null,e!==null?e:zt(t.type)||"Memo";case ot:e=t._payload,t=t._init;try{return zt(t(e))}catch{}}return null}var rt=Array.isArray,N=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},mt=[],nt=-1;function z(t){return{current:t}}function q(t){0>nt||(t.current=mt[nt],mt[nt]=null,nt--)}function st(t,e){nt++,mt[nt]=t.current,t.current=e}var lt=z(null),dt=z(null),ht=z(null),bt=z(null);function Zt(t,e){switch(st(ht,e),st(dt,t),st(lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hg(e),t=dg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(lt),st(lt,t)}function Vt(){q(lt),q(dt),q(ht)}function Ce(t){t.memoizedState!==null&&st(bt,t);var e=lt.current,i=dg(e,t.type);e!==i&&(st(dt,t),st(lt,i))}function $e(t){dt.current===t&&(q(lt),q(dt)),bt.current===t&&(q(bt),cl._currentValue=F)}var _e,Ze;function qe(t){if(_e===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);_e=e&&e[1]||"",Ze=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+t+Ze}var hn=!1;function dn(t,e){if(!t||hn)return"";hn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(J){var Y=J}Reflect.construct(t,[],at)}else{try{at.call()}catch(J){Y=J}t.call(at.prototype)}}else{try{throw Error()}catch(J){Y=J}(at=t())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],E=h[1];if(v&&E){var O=v.split(`
`),I=E.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===I.length)for(o=O.length-1,f=I.length-1;1<=o&&0<=f&&O[o]!==I[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==I[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==I[f]){var $=`
`+O[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=f);break}}}finally{hn=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?qe(i):""}function vi(t,e){switch(t.tag){case 26:case 27:case 5:return qe(t.type);case 16:return qe("Lazy");case 13:return t.child!==e&&e!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return dn(t.type,!1);case 11:return dn(t.type.render,!1);case 1:return dn(t.type,!0);case 31:return qe("Activity");default:return""}}function qn(t){try{var e="",i=null;do e+=vi(t,i),i=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _i=Object.prototype.hasOwnProperty,_t=a.unstable_scheduleCallback,Mt=a.unstable_cancelCallback,kt=a.unstable_shouldYield,qt=a.unstable_requestPaint,Dt=a.unstable_now,Ge=a.unstable_getCurrentPriorityLevel,Ut=a.unstable_ImmediatePriority,At=a.unstable_UserBlockingPriority,Gt=a.unstable_NormalPriority,pe=a.unstable_LowPriority,Et=a.unstable_IdlePriority,It=a.log,On=a.unstable_setDisableYieldValue,Ee=null,he=null;function ke(t){if(typeof It=="function"&&On(t),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(Ee,t)}catch{}}var Ie=Math.clz32?Math.clz32:uo,Gn=Math.log,bi=Math.LN2;function uo(t){return t>>>=0,t===0?32:31-(Gn(t)/bi|0)|0}var Yi=256,xi=262144,wi=4194304;function si(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ta(t,e,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~h,o!==0?f=si(o):(v&=E,v!==0?f=si(v):i||(i=E&~t,i!==0&&(f=si(i))))):(E=o&~h,E!==0?f=si(E):v!==0?f=si(v):i||(i=o&~t,i!==0&&(f=si(i)))),f===0?0:e!==0&&e!==f&&(e&h)===0&&(h=f&-f,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:f}function Aa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function co(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var t=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),t}function rn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function vn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fo(t,e,i,o,f,h){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,I=t.hiddenUpdates;for(i=v&~i;0<i;){var $=31-Ie(i),at=1<<$;E[$]=0,O[$]=-1;var Y=I[$];if(Y!==null)for(I[$]=null,$=0;$<Y.length;$++){var J=Y[$];J!==null&&(J.lane&=-536870913)}i&=~at}o!==0&&cr(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~e))}function cr(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Ie(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function Ll(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-Ie(i),f=1<<o;f&e|t[o]&e&&(t[o]|=e),i&=~f}}function Cl(t,e){var i=e&-e;return i=(i&42)!==0?1:_n(i),(i&(t.suspendedLanes|e))!==0?0:i}function _n(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function St(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ho(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Dg(t.type))}function mo(t,e){var i=Q.p;try{return Q.p=t,e()}finally{Q.p=i}}var ri=Math.random().toString(36).slice(2),Re="__reactFiber$"+ri,Qe="__reactProps$"+ri,Ki="__reactContainer$"+ri,Si="__reactEvents$"+ri,Ml="__reactListeners$"+ri,Mc="__reactHandles$"+ri,Nl="__reactResources$"+ri,_s="__reactMarker$"+ri;function po(t){delete t[Re],delete t[Qe],delete t[Si],delete t[Ml],delete t[Mc]}function Qi(t){var e=t[Re];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ki]||i[Re]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=bg(t);t!==null;){if(i=t[Re])return i;t=bg(t)}return e}t=i,i=t.parentNode}return null}function za(t){if(t=t[Re]||t[Ki]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ei(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function La(t){var e=t[Nl];return e||(e=t[Nl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Be(t){t[_s]=!0}var Ol=new Set,kl={};function Xi(t,e){Ti(t,e),Ti(t+"Capture",e)}function Ti(t,e){for(kl[t]=e,t=0;t<e.length;t++)Ol.add(e[t])}var bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function xs(t){return _i.call(yo,t)?!0:_i.call(go,t)?!1:bs.test(t)?yo[t]=!0:(go[t]=!0,!1)}function Yt(t,e,i){if(xs(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function le(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function bn(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function Ve(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vo(t,e,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rt(t){if(!t._valueTracker){var e=Fi(t)?"checked":"value";t._valueTracker=vo(t,e,""+t[e])}}function be(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=Fi(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function Ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fr=/[\n"\\]/g;function ge(t){return t.replace(fr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _o(t,e,i,o,f,h,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ve(e)):t.value!==""+Ve(e)&&(t.value=""+Ve(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?oi(t,v,Ve(e)):i!=null?oi(t,v,Ve(i)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ve(E):t.removeAttribute("name")}function ws(t,e,i,o,f,h,v,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Rt(t);return}i=i!=null?""+Ve(i):"",e=e!=null?""+Ve(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Rt(t)}function oi(t,e,i){e==="number"&&Ca(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function de(t,e,i,o){if(t=t.options,e){e={};for(var f=0;f<i.length;f++)e["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=e.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Ve(i),e=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function Ai(t,e,i){if(e!=null&&(e=""+Ve(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ve(i):""}function Ma(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(u(92));if(rt(o)){if(1<o.length)throw Error(u(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=Ve(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Rt(t)}function In(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Na(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||bo.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function hr(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in e)o=e[f],e.hasOwnProperty(f)&&i[f]!==o&&Na(t,f,o)}else for(var h in e)e.hasOwnProperty(h)&&Na(t,h,e[h])}function Ss(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return xo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var mr=null;function Es(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ka=null,Ot=null;function kn(t){var e=za(t);if(e&&(t=e.stateNode)){var i=t[Qe]||null;t:switch(t=e.stateNode,e.type){case"input":if(_o(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ge(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var f=o[Qe]||null;if(!f)throw Error(u(90));_o(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&be(o)}break t;case"textarea":Ai(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&de(t,!!i.multiple,e,!1)}}}var se=!1;function wo(t,e,i){if(se)return t(e,i);se=!0;try{var o=t(e);return o}finally{if(se=!1,(ka!==null||Ot!==null)&&(Cu(),ka&&(e=ka,t=Ot,Ot=ka=null,kn(e),t)))for(e=0;e<t.length;e++)kn(t[e])}}function Ji(t,e){var i=t.stateNode;if(i===null)return null;var o=i[Qe]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Rn)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Ts=!1}var Vn=null,Wi=null,Te=null;function zi(){if(Te)return Te;var t,e=Wi,i=e.length,o,f="value"in Vn?Vn.value:Vn.textContent,h=f.length;for(t=0;t<i&&e[t]===f[t];t++);var v=i-t;for(o=1;o<=v&&e[i-o]===f[h-o];o++);return Te=f.slice(t,1<o?1-o:void 0)}function As(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zs(){return!0}function Rl(){return!1}function tn(t){function e(i,o,f,h,v){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?zs:Rl,this.isPropagationStopped=Rl,this}return T(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=tn(li),Ra=T({},li,{view:0,detail:0}),Ft=tn(Ra),So,mn,ui,Ls=T({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(So=t.screenX-ui.screenX,mn=t.screenY-ui.screenY):mn=So=0,ui=t),So)},movementY:function(t){return"movementY"in t?t.movementY:mn}}),Bl=tn(Ls),Eo=T({},Ls,{dataTransfer:0}),Nc=tn(Eo),Dl=T({},Ra,{relatedTarget:0}),To=tn(Dl),Oc=T({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Ao=tn(Oc),kc=T({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yn=tn(kc),Rc=T({},li,{data:0}),zo=tn(Rc),Li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ul[t])?!!e[t]:!1}function Co(){return Lo}var Hl=T({},Ra,{key:function(t){if(t.key){var e=Li[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pl=tn(Hl),Bc=T({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=tn(Bc),Mo=T({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),Dc=tn(Mo),ql=T({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=tn(ql),gr=T({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$i=tn(gr),jc=T({},li,{newState:0,oldState:0}),Cs=tn(jc),wn=[9,13,27,32],yr=Rn&&"CompositionEvent"in window,Ba=null;Rn&&"documentMode"in document&&(Ba=document.documentMode);var Uc=Rn&&"TextEvent"in window&&!Ba,vr=Rn&&(!yr||Ba&&8<Ba&&11>=Ba),_r=" ",Il=!1;function Vl(t,e){switch(t){case"keyup":return wn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function No(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function Dn(t,e){switch(t){case"compositionend":return No(e);case"keypress":return e.which!==32?null:(Il=!0,_r);case"textInput":return t=e.data,t===_r&&Il?null:t;default:return null}}function ja(t,e){if(Da)return t==="compositionend"||!yr&&Vl(t,e)?(t=zi(),Te=Wi=Vn=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vr&&e.locale!=="ko"?null:e.data;default:return null}}var Hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hc[t.type]:e==="textarea"}function Yl(t,e,i,o){ka?Ot?Ot.push(o):Ot=[o]:ka=o,e=Du(e,"onChange"),0<e.length&&(i=new pr("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var Qn=null,Ms=null;function Ns(t){rg(t,0)}function Os(t){var e=Ei(t);if(be(e))return t}function ks(t,e){if(t==="change")return e}var Kl=!1;if(Rn){var Xn;if(Rn){var Ua="oninput"in document;if(!Ua){var Ql=document.createElement("div");Ql.setAttribute("oninput","return;"),Ua=typeof Ql.oninput=="function"}Xn=Ua}else Xn=!1;Kl=Xn&&(!document.documentMode||9<document.documentMode)}function br(){Qn&&(Qn.detachEvent("onpropertychange",Xl),Ms=Qn=null)}function Xl(t){if(t.propertyName==="value"&&Os(Ms)){var e=[];Yl(e,Ms,t,Es(t)),wo(Ns,e)}}function ci(t,e,i){t==="focusin"?(br(),Qn=e,Ms=i,Qn.attachEvent("onpropertychange",Xl)):t==="focusout"&&br()}function Pc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Os(Ms)}function Ha(t,e){if(t==="click")return Os(e)}function Zc(t,e){if(t==="input"||t==="change")return Os(e)}function fi(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:fi;function Pa(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!_i.call(e,f)||!Xe(t[f],e[f]))return!1}return!0}function xr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rs(t,e){var i=xr(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=xr(i)}}function wr(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wr(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bs(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ca(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ca(t.document)}return e}function Ci(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Sr=Rn&&"documentMode"in document&&11>=document.documentMode,Mi=null,Er=null,Ds=null,Za=!1;function Fl(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Za||Mi==null||Mi!==Ca(o)||(o=Mi,"selectionStart"in o&&Ci(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ds&&Pa(Ds,o)||(Ds=o,o=Du(Er,"onSelect"),0<o.length&&(e=new pr("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=Mi)))}function Ni(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var qa={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},Tr={},Jl={};Rn&&(Jl=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Fe(t){if(Tr[t])return Tr[t];if(!qa[t])return t;var e=qa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Jl)return Tr[t]=e[i];return t}var js=Fe("animationend"),Wl=Fe("animationiteration"),Us=Fe("animationstart"),qc=Fe("transitionrun"),$l=Fe("transitionstart"),Gc=Fe("transitioncancel"),Ga=Fe("transitionend"),tu=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function Sn(t,e){tu.set(t,e),Xi(e,[t])}var Hs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},En=[],on=0,Ar=0;function Ps(){for(var t=on,e=Ar=on=0;e<t;){var i=En[e];En[e++]=null;var o=En[e];En[e++]=null;var f=En[e];En[e++]=null;var h=En[e];if(En[e++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&Ia(i,f,h)}}function ki(t,e,i,o){En[on++]=t,En[on++]=e,En[on++]=i,En[on++]=o,Ar|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Oo(t,e,i,o){return ki(t,e,i,o),Zs(t)}function Fn(t,e){return ki(t,null,null,e),Zs(t)}function Ia(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&e!==null&&(f=31-Ie(i),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[e]:o.push(e),e.lane=i|536870912),h):null}function Zs(t){if(50<il)throw il=0,Yf=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ta={};function Ic(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,i,o){return new Ic(t,e,i,o)}function zr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jn(t,e){var i=t.alternate;return i===null?(i=ln(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ko(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function qs(t,e,i,o,f,h){var v=0;if(o=t,typeof t=="function")zr(t)&&(v=1);else if(typeof t=="string")v=X_(t,i,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ct:return t=ln(31,i,e,f),t.elementType=ct,t.lanes=h,t;case M:return ea(i.children,f,h,e);case Z:v=8,f|=24;break;case P:return t=ln(12,i,e,f|2),t.elementType=P,t.lanes=h,t;case ut:return t=ln(13,i,e,f),t.elementType=ut,t.lanes=h,t;case W:return t=ln(19,i,e,f),t.elementType=W,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:v=10;break t;case j:v=9;break t;case yt:v=11;break t;case X:v=14;break t;case ot:v=16,o=null;break t}v=29,i=Error(u(130,t===null?"null":typeof t,"")),o=null}return e=ln(v,i,e,f),e.elementType=t,e.type=o,e.lanes=h,e}function ea(t,e,i,o){return t=ln(7,t,o,e),t.lanes=i,t}function Lr(t,e,i){return t=ln(6,t,null,e),t.lanes=i,t}function Ro(t){var e=ln(18,null,null,0);return e.stateNode=t,e}function Bo(t,e,i){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function r(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:qn(e)},n.set(t,e),e)}return{value:t,source:e,stack:qn(e)}}var c=[],m=0,g=null,S=0,C=[],H=0,V=null,it=1,pt="";function Tt(t,e){c[m++]=S,c[m++]=g,g=t,S=e}function Ht(t,e,i){C[H++]=it,C[H++]=pt,C[H++]=V,V=t;var o=it;t=pt;var f=32-Ie(o)-1;o&=~(1<<f),i+=1;var h=32-Ie(e)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,it=1<<32-Ie(e)+f|i<<f|o,pt=h+t}else it=1<<h|i<<f|o,pt=t}function Ye(t){t.return!==null&&(Tt(t,1),Ht(t,1,0))}function Ae(t){for(;t===g;)g=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===V;)V=C[--H],C[H]=null,pt=C[--H],C[H]=null,it=C[--H],C[H]=null}function pn(t,e){C[H++]=it,C[H++]=pt,C[H++]=V,it=e.id,pt=e.overflow,V=t}var $t=null,te=null,Kt=!1,Ri=null,Tn=!1,Cr=Error(u(519));function Bi(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gs(r(e,t)),Cr}function Do(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[Re]=t,e[Qe]=o,i){case"dialog":Xt("cancel",e),Xt("close",e);break;case"iframe":case"object":case"embed":Xt("load",e);break;case"video":case"audio":for(i=0;i<sl.length;i++)Xt(sl[i],e);break;case"source":Xt("error",e);break;case"img":case"image":case"link":Xt("error",e),Xt("load",e);break;case"details":Xt("toggle",e);break;case"input":Xt("invalid",e),ws(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Xt("invalid",e);break;case"textarea":Xt("invalid",e),Ma(e,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||cg(e.textContent,i)?(o.popover!=null&&(Xt("beforetoggle",e),Xt("toggle",e)),o.onScroll!=null&&Xt("scroll",e),o.onScrollEnd!=null&&Xt("scrollend",e),o.onClick!=null&&(e.onclick=xn),e=!0):e=!1,e||Bi(t,!0)}function Se(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:$t=$t.return}}function hi(t){if(t!==$t)return!1;if(!Kt)return Se(t),Kt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||oh(t.type,t.memoizedProps)),i=!i),i&&te&&Bi(t),Se(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));te=_g(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));te=_g(t)}else e===27?(e=te,as(t.type)?(t=hh,hh=null,te=t):te=e):te=$t?$n(t.stateNode.nextSibling):null;return!0}function na(){te=$t=null,Kt=!1}function jo(){var t=Ri;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Ri=null),t}function Gs(t){Ri===null?Ri=[t]:Ri.push(t)}var Is=z(null),Di=null,di=null;function Va(t,e,i){st(Is,e._currentValue),e._currentValue=i}function ia(t){t._currentValue=Is.current,q(Is)}function Vc(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Yc(t,e,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=f;for(var O=0;O<e.length;O++)if(E.context===e[O]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Vc(h.return,i,t),o||(v=null);break t}h=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(u(341));v.lanes|=i,h=v.alternate,h!==null&&(h.lanes|=i),Vc(v,i,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Mr(t,e,i,o){t=null;for(var f=e,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var E=f.type;Xe(f.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(f===bt.current){if(v=f.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(cl):t=[cl])}f=f.return}t!==null&&Yc(e,t,i,o),e.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!Xe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Di=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Xd(Di,t)}function nu(t,e){return Di===null&&Vs(t),Xd(t,e)}function Xd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},di===null){if(t===null)throw Error(u(308));di=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else di=di.next=e;return i}var Vv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Yv=a.unstable_scheduleCallback,Kv=a.unstable_NormalPriority,De={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Vv,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&Yv(Kv,function(){t.controller.abort()})}var Ho=null,Qc=0,Nr=0,Or=null;function Qv(t,e){if(Ho===null){var i=Ho=[];Qc=0,Nr=Wf(),Or={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Qc++,e.then(Fd,Fd),e}function Fd(){if(--Qc===0&&Ho!==null){Or!==null&&(Or.status="fulfilled");var t=Ho;Ho=null,Nr=0,Or=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Xv(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var f=0;f<i.length;f++)(0,i[f])(e)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Jd=N.S;N.S=function(t,e){Rp=Dt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Qv(t,e),Jd!==null&&Jd(t,e)};var Ys=z(null);function Xc(){var t=Ys.current;return t!==null?t:me.pooledCache}function iu(t,e){e===null?st(Ys,Ys.current):st(Ys,e.pool)}function Wd(){var t=Xc();return t===null?null:{parent:De._currentValue,pool:t}}var kr=Error(u(460)),Fc=Error(u(474)),au=Error(u(542)),su={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tm(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(xn,xn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,nm(t),t;default:if(typeof e.status=="string")e.then(xn,xn);else{if(t=me,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=o}},function(o){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,nm(t),t}throw Qs=e,kr}}function Ks(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Qs=i,kr):i}}var Qs=null;function em(){if(Qs===null)throw Error(u(459));var t=Qs;return Qs=null,t}function nm(t){if(t===kr||t===au)throw Error(u(483))}var Rr=null,Po=0;function ru(t){var e=Po;return Po+=1,Rr===null&&(Rr=[]),tm(Rr,t,e)}function Zo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ou(t,e){throw e.$$typeof===k?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function im(t){function e(U,B){if(t){var G=U.deletions;G===null?(U.deletions=[B],U.flags|=16):G.push(B)}}function i(U,B){if(!t)return null;for(;B!==null;)e(U,B),B=B.sibling;return null}function o(U){for(var B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function f(U,B){return U=Jn(U,B),U.index=0,U.sibling=null,U}function h(U,B,G){return U.index=G,t?(G=U.alternate,G!==null?(G=G.index,G<B?(U.flags|=67108866,B):G):(U.flags|=67108866,B)):(U.flags|=1048576,B)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,B,G,et){return B===null||B.tag!==6?(B=Lr(G,U.mode,et),B.return=U,B):(B=f(B,G),B.return=U,B)}function O(U,B,G,et){var Lt=G.type;return Lt===M?$(U,B,G.props.children,et,G.key):B!==null&&(B.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===ot&&Ks(Lt)===B.type)?(B=f(B,G.props),Zo(B,G),B.return=U,B):(B=qs(G.type,G.key,G.props,null,U.mode,et),Zo(B,G),B.return=U,B)}function I(U,B,G,et){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Bo(G,U.mode,et),B.return=U,B):(B=f(B,G.children||[]),B.return=U,B)}function $(U,B,G,et,Lt){return B===null||B.tag!==7?(B=ea(G,U.mode,et,Lt),B.return=U,B):(B=f(B,G),B.return=U,B)}function at(U,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Lr(""+B,U.mode,G),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return G=qs(B.type,B.key,B.props,null,U.mode,G),Zo(G,B),G.return=U,G;case D:return B=Bo(B,U.mode,G),B.return=U,B;case ot:return B=Ks(B),at(U,B,G)}if(rt(B)||vt(B))return B=ea(B,U.mode,G,null),B.return=U,B;if(typeof B.then=="function")return at(U,ru(B),G);if(B.$$typeof===tt)return at(U,nu(U,B),G);ou(U,B)}return null}function Y(U,B,G,et){var Lt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Lt!==null?null:E(U,B,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===Lt?O(U,B,G,et):null;case D:return G.key===Lt?I(U,B,G,et):null;case ot:return G=Ks(G),Y(U,B,G,et)}if(rt(G)||vt(G))return Lt!==null?null:$(U,B,G,et,null);if(typeof G.then=="function")return Y(U,B,ru(G),et);if(G.$$typeof===tt)return Y(U,B,nu(U,G),et);ou(U,G)}return null}function J(U,B,G,et,Lt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return U=U.get(G)||null,E(B,U,""+et,Lt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case R:return U=U.get(et.key===null?G:et.key)||null,O(B,U,et,Lt);case D:return U=U.get(et.key===null?G:et.key)||null,I(B,U,et,Lt);case ot:return et=Ks(et),J(U,B,G,et,Lt)}if(rt(et)||vt(et))return U=U.get(G)||null,$(B,U,et,Lt,null);if(typeof et.then=="function")return J(U,B,G,ru(et),Lt);if(et.$$typeof===tt)return J(U,B,G,nu(B,et),Lt);ou(B,et)}return null}function xt(U,B,G,et){for(var Lt=null,ee=null,wt=B,Pt=B=0,Wt=null;wt!==null&&Pt<G.length;Pt++){wt.index>Pt?(Wt=wt,wt=null):Wt=wt.sibling;var ne=Y(U,wt,G[Pt],et);if(ne===null){wt===null&&(wt=Wt);break}t&&wt&&ne.alternate===null&&e(U,wt),B=h(ne,B,Pt),ee===null?Lt=ne:ee.sibling=ne,ee=ne,wt=Wt}if(Pt===G.length)return i(U,wt),Kt&&Tt(U,Pt),Lt;if(wt===null){for(;Pt<G.length;Pt++)wt=at(U,G[Pt],et),wt!==null&&(B=h(wt,B,Pt),ee===null?Lt=wt:ee.sibling=wt,ee=wt);return Kt&&Tt(U,Pt),Lt}for(wt=o(wt);Pt<G.length;Pt++)Wt=J(wt,U,Pt,G[Pt],et),Wt!==null&&(t&&Wt.alternate!==null&&wt.delete(Wt.key===null?Pt:Wt.key),B=h(Wt,B,Pt),ee===null?Lt=Wt:ee.sibling=Wt,ee=Wt);return t&&wt.forEach(function(us){return e(U,us)}),Kt&&Tt(U,Pt),Lt}function Nt(U,B,G,et){if(G==null)throw Error(u(151));for(var Lt=null,ee=null,wt=B,Pt=B=0,Wt=null,ne=G.next();wt!==null&&!ne.done;Pt++,ne=G.next()){wt.index>Pt?(Wt=wt,wt=null):Wt=wt.sibling;var us=Y(U,wt,ne.value,et);if(us===null){wt===null&&(wt=Wt);break}t&&wt&&us.alternate===null&&e(U,wt),B=h(us,B,Pt),ee===null?Lt=us:ee.sibling=us,ee=us,wt=Wt}if(ne.done)return i(U,wt),Kt&&Tt(U,Pt),Lt;if(wt===null){for(;!ne.done;Pt++,ne=G.next())ne=at(U,ne.value,et),ne!==null&&(B=h(ne,B,Pt),ee===null?Lt=ne:ee.sibling=ne,ee=ne);return Kt&&Tt(U,Pt),Lt}for(wt=o(wt);!ne.done;Pt++,ne=G.next())ne=J(wt,U,Pt,ne.value,et),ne!==null&&(t&&ne.alternate!==null&&wt.delete(ne.key===null?Pt:ne.key),B=h(ne,B,Pt),ee===null?Lt=ne:ee.sibling=ne,ee=ne);return t&&wt.forEach(function(rb){return e(U,rb)}),Kt&&Tt(U,Pt),Lt}function fe(U,B,G,et){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:t:{for(var Lt=G.key;B!==null;){if(B.key===Lt){if(Lt=G.type,Lt===M){if(B.tag===7){i(U,B.sibling),et=f(B,G.props.children),et.return=U,U=et;break t}}else if(B.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===ot&&Ks(Lt)===B.type){i(U,B.sibling),et=f(B,G.props),Zo(et,G),et.return=U,U=et;break t}i(U,B);break}else e(U,B);B=B.sibling}G.type===M?(et=ea(G.props.children,U.mode,et,G.key),et.return=U,U=et):(et=qs(G.type,G.key,G.props,null,U.mode,et),Zo(et,G),et.return=U,U=et)}return v(U);case D:t:{for(Lt=G.key;B!==null;){if(B.key===Lt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){i(U,B.sibling),et=f(B,G.children||[]),et.return=U,U=et;break t}else{i(U,B);break}else e(U,B);B=B.sibling}et=Bo(G,U.mode,et),et.return=U,U=et}return v(U);case ot:return G=Ks(G),fe(U,B,G,et)}if(rt(G))return xt(U,B,G,et);if(vt(G)){if(Lt=vt(G),typeof Lt!="function")throw Error(u(150));return G=Lt.call(G),Nt(U,B,G,et)}if(typeof G.then=="function")return fe(U,B,ru(G),et);if(G.$$typeof===tt)return fe(U,B,nu(U,G),et);ou(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(i(U,B.sibling),et=f(B,G),et.return=U,U=et):(i(U,B),et=Lr(G,U.mode,et),et.return=U,U=et),v(U)):i(U,B)}return function(U,B,G,et){try{Po=0;var Lt=fe(U,B,G,et);return Rr=null,Lt}catch(wt){if(wt===kr||wt===au)throw wt;var ee=ln(29,wt,null,U.mode);return ee.lanes=et,ee.return=U,ee}}}var Xs=im(!0),am=im(!1),Ya=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ka(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ae&2)!==0){var f=o.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),o.pending=e,e=Zs(t),Ia(t,null,i),e}return ki(t,o,e,i),Zs(t)}function qo(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,Ll(t,i)}}function $c(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?f=h=e:h=h.next=e}else f=h=e;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var tf=!1;function Go(){if(tf){var t=Or;if(t!==null)throw t}}function Io(t,e,i,o){tf=!1;var f=t.updateQueue;Ya=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,I=O.next;O.next=null,v===null?h=I:v.next=I,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==v&&(E===null?$.firstBaseUpdate=I:E.next=I,$.lastBaseUpdate=O))}if(h!==null){var at=f.baseState;v=0,$=I=O=null,E=h;do{var Y=E.lane&-536870913,J=Y!==E.lane;if(J?(Jt&Y)===Y:(o&Y)===Y){Y!==0&&Y===Nr&&(tf=!0),$!==null&&($=$.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var xt=t,Nt=E;Y=e;var fe=i;switch(Nt.tag){case 1:if(xt=Nt.payload,typeof xt=="function"){at=xt.call(fe,at,Y);break t}at=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Nt.payload,Y=typeof xt=="function"?xt.call(fe,at,Y):xt,Y==null)break t;at=T({},at,Y);break t;case 2:Ya=!0}}Y=E.callback,Y!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(I=$=J,O=at):$=$.next=J,v|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;J=E,E=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);$===null&&(O=at),f.baseState=O,f.firstBaseUpdate=I,f.lastBaseUpdate=$,h===null&&(f.shared.lanes=0),$a|=v,t.lanes=v,t.memoizedState=at}}function sm(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function rm(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)sm(i[t],e)}var Br=z(null),lu=z(0);function om(t,e){t=ha,st(lu,t),st(Br,e),ha=t|e.baseLanes}function ef(){st(lu,ha),st(Br,Br.current)}function nf(){ha=lu.current,q(Br),q(lu)}var jn=z(null),Wn=null;function Xa(t){var e=t.alternate;st(Me,Me.current&1),st(jn,t),Wn===null&&(e===null||Br.current!==null||e.memoizedState!==null)&&(Wn=t)}function af(t){st(Me,Me.current),st(jn,t),Wn===null&&(Wn=t)}function lm(t){t.tag===22?(st(Me,Me.current),st(jn,t),Wn===null&&(Wn=t)):Fa()}function Fa(){st(Me,Me.current),st(jn,jn.current)}function Un(t){q(jn),Wn===t&&(Wn=null),q(Me)}var Me=z(0);function uu(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ch(i)||fh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aa=0,jt=null,ue=null,je=null,cu=!1,Dr=!1,Fs=!1,fu=0,Vo=0,jr=null,Fv=0;function ze(){throw Error(u(321))}function sf(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Xe(t[i],e[i]))return!1;return!0}function rf(t,e,i,o,f,h){return aa=h,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=t===null||t.memoizedState===null?Vm:xf,Fs=!1,h=i(o,f),Fs=!1,Dr&&(h=cm(e,i,o,f)),um(t),h}function um(t){N.H=Qo;var e=ue!==null&&ue.next!==null;if(aa=0,je=ue=jt=null,cu=!1,Vo=0,jr=null,e)throw Error(u(300));t===null||Ue||(t=t.dependencies,t!==null&&eu(t)&&(Ue=!0))}function cm(t,e,i,o){jt=t;var f=0;do{if(Dr&&(jr=null),Vo=0,Dr=!1,25<=f)throw Error(u(301));if(f+=1,je=ue=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}N.H=Ym,h=e(i,o)}while(Dr);return h}function Jv(){var t=N.H,e=t.useState()[0];return e=typeof e.then=="function"?Yo(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(jt.flags|=1024),e}function of(){var t=fu!==0;return fu=0,t}function lf(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function uf(t){if(cu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}cu=!1}aa=0,je=ue=jt=null,Dr=!1,Vo=fu=0,jr=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?jt.memoizedState=je=t:je=je.next=t,je}function Ne(){if(ue===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=je===null?jt.memoizedState:je.next;if(e!==null)je=e,ue=t;else{if(t===null)throw jt.alternate===null?Error(u(467)):Error(u(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},je===null?jt.memoizedState=je=t:je=je.next=t}return je}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var e=Vo;return Vo+=1,jr===null&&(jr=[]),t=tm(jr,t,e),e=jt,(je===null?e.memoizedState:je.next)===null&&(e=e.alternate,N.H=e===null||e.memoizedState===null?Vm:xf),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===tt)return en(t)}throw Error(u(438,String(t)))}function cf(t){var e=null,i=jt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=jt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=hu(),jt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=gt;return e.index++,i}function sa(t,e){return typeof e=="function"?e(t):e}function mu(t){var e=Ne();return ff(e,ue,t)}function ff(t,e,i){var o=t.queue;if(o===null)throw Error(u(311));o.lastRenderedReducer=i;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}e.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{e=f.next;var E=v=null,O=null,I=e,$=!1;do{var at=I.lane&-536870913;if(at!==I.lane?(Jt&at)===at:(aa&at)===at){var Y=I.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),at===Nr&&($=!0);else if((aa&Y)===Y){I=I.next,Y===Nr&&($=!0);continue}else at={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},O===null?(E=O=at,v=h):O=O.next=at,jt.lanes|=Y,$a|=Y;at=I.action,Fs&&i(h,at),h=I.hasEagerState?I.eagerState:i(h,at)}else Y={lane:at,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},O===null?(E=O=Y,v=h):O=O.next=Y,jt.lanes|=at,$a|=at;I=I.next}while(I!==null&&I!==e);if(O===null?v=h:O.next=E,!Xe(h,t.memoizedState)&&(Ue=!0,$&&(i=Or,i!==null)))throw i;t.memoizedState=h,t.baseState=v,t.baseQueue=O,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function hf(t){var e=Ne(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,h=e.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);Xe(h,e.memoizedState)||(Ue=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,o]}function fm(t,e,i){var o=jt,f=Ne(),h=Kt;if(h){if(i===void 0)throw Error(u(407));i=i()}else i=e();var v=!Xe((ue||f).memoizedState,i);if(v&&(f.memoizedState=i,Ue=!0),f=f.queue,pf(mm.bind(null,o,f,t),[t]),f.getSnapshot!==e||v||je!==null&&je.memoizedState.tag&1){if(o.flags|=2048,Ur(9,{destroy:void 0},dm.bind(null,o,f,i,e),null),me===null)throw Error(u(349));h||(aa&127)!==0||hm(o,e,i)}return i}function hm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=jt.updateQueue,e===null?(e=hu(),jt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function dm(t,e,i,o){e.value=i,e.getSnapshot=o,pm(e)&&gm(t)}function mm(t,e,i){return i(function(){pm(e)&&gm(t)})}function pm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Xe(t,i)}catch{return!0}}function gm(t){var e=Fn(t,2);e!==null&&Mn(e,t,2)}function df(t){var e=gn();if(typeof t=="function"){var i=t;if(t=i(),Fs){ke(!0);try{i()}finally{ke(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},e}function ym(t,e,i,o){return t.baseState=i,ff(t,ue,typeof o=="function"?o:sa)}function Wv(t,e,i,o,f){if(yu(t))throw Error(u(485));if(t=e.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};N.T!==null?i(!0):h.isTransition=!1,o(h),i=e.pending,i===null?(h.next=e.pending=h,vm(e,h)):(h.next=i.next,e.pending=i.next=h)}}function vm(t,e){var i=e.action,o=e.payload,f=t.state;if(e.isTransition){var h=N.T,v={};N.T=v;try{var E=i(f,o),O=N.S;O!==null&&O(v,E),_m(t,e,E)}catch(I){mf(t,e,I)}finally{h!==null&&v.types!==null&&(h.types=v.types),N.T=h}}else try{h=i(f,o),_m(t,e,h)}catch(I){mf(t,e,I)}}function _m(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){bm(t,e,o)},function(o){return mf(t,e,o)}):bm(t,e,i)}function bm(t,e,i){e.status="fulfilled",e.value=i,xm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,vm(t,i)))}function mf(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,xm(e),e=e.next;while(e!==o)}t.action=null}function xm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function wm(t,e){return e}function Sm(t,e){if(Kt){var i=me.formState;if(i!==null){t:{var o=jt;if(Kt){if(te){e:{for(var f=te,h=Tn;f.nodeType!==8;){if(!h){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){te=$n(f.nextSibling),o=f.data==="F!";break t}}Bi(o)}o=!1}o&&(e=i[0])}}return i=gn(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:e},i.queue=o,i=qm.bind(null,jt,o),o.dispatch=i,o=df(!1),h=bf.bind(null,jt,!1,o.queue),o=gn(),f={state:e,dispatch:null,action:t,pending:null},o.queue=f,i=Wv.bind(null,jt,f,h,i),f.dispatch=i,o.memoizedState=t,[e,i,!1]}function Em(t){var e=Ne();return Tm(e,ue,t)}function Tm(t,e,i){if(e=ff(t,e,wm)[0],t=mu(sa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=Yo(e)}catch(v){throw v===kr?au:v}else o=e;e=Ne();var f=e.queue,h=f.dispatch;return i!==e.memoizedState&&(jt.flags|=2048,Ur(9,{destroy:void 0},$v.bind(null,f,i),null)),[o,h,t]}function $v(t,e){t.action=e}function Am(t){var e=Ne(),i=ue;if(i!==null)return Tm(e,i,t);Ne(),e=e.memoizedState,i=Ne();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function Ur(t,e,i,o){return t={tag:t,create:i,deps:o,inst:e,next:null},e=jt.updateQueue,e===null&&(e=hu(),jt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function zm(){return Ne().memoizedState}function pu(t,e,i,o){var f=gn();jt.flags|=t,f.memoizedState=Ur(1|e,{destroy:void 0},i,o===void 0?null:o)}function gu(t,e,i,o){var f=Ne();o=o===void 0?null:o;var h=f.memoizedState.inst;ue!==null&&o!==null&&sf(o,ue.memoizedState.deps)?f.memoizedState=Ur(e,h,i,o):(jt.flags|=t,f.memoizedState=Ur(1|e,h,i,o))}function Lm(t,e){pu(8390656,8,t,e)}function pf(t,e){gu(2048,8,t,e)}function t_(t){jt.flags|=4;var e=jt.updateQueue;if(e===null)e=hu(),jt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Cm(t){var e=Ne().memoizedState;return t_({ref:e,nextImpl:t}),function(){if((ae&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function Mm(t,e){return gu(4,2,t,e)}function Nm(t,e){return gu(4,4,t,e)}function Om(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function km(t,e,i){i=i!=null?i.concat([t]):null,gu(4,4,Om.bind(null,e,t),i)}function gf(){}function Rm(t,e){var i=Ne();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&sf(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function Bm(t,e){var i=Ne();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&sf(e,o[1]))return o[0];if(o=t(),Fs){ke(!0);try{t()}finally{ke(!1)}}return i.memoizedState=[o,e],o}function yf(t,e,i){return i===void 0||(aa&1073741824)!==0&&(Jt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Dp(),jt.lanes|=t,$a|=t,i)}function Dm(t,e,i,o){return Xe(i,e)?i:Br.current!==null?(t=yf(t,i,o),Xe(t,e)||(Ue=!0),t):(aa&42)===0||(aa&1073741824)!==0&&(Jt&261930)===0?(Ue=!0,t.memoizedState=i):(t=Dp(),jt.lanes|=t,$a|=t,e)}function jm(t,e,i,o,f){var h=Q.p;Q.p=h!==0&&8>h?h:8;var v=N.T,E={};N.T=E,bf(t,!1,e,i);try{var O=f(),I=N.S;if(I!==null&&I(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=Xv(O,o);Ko(t,e,$,Zn(t))}else Ko(t,e,o,Zn(t))}catch(at){Ko(t,e,{then:function(){},status:"rejected",reason:at},Zn())}finally{Q.p=h,v!==null&&E.types!==null&&(v.types=E.types),N.T=v}}function e_(){}function vf(t,e,i,o){if(t.tag!==5)throw Error(u(476));var f=Um(t).queue;jm(t,f,e,F,i===null?e_:function(){return Hm(t),i(o)})}function Um(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:F},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Hm(t){var e=Um(t);e.next===null&&(e=t.alternate.memoizedState),Ko(t,e.next.queue,{},Zn())}function _f(){return en(cl)}function Pm(){return Ne().memoizedState}function Zm(){return Ne().memoizedState}function n_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Zn();t=Ka(i);var o=Qa(e,t,i);o!==null&&(Mn(o,e,i),qo(o,e,i)),e={cache:Kc()},t.payload=e;return}e=e.return}}function i_(t,e,i){var o=Zn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yu(t)?Gm(e,i):(i=Oo(t,e,i,o),i!==null&&(Mn(i,t,o),Im(i,e,o)))}function qm(t,e,i){var o=Zn();Ko(t,e,i,o)}function Ko(t,e,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(yu(t))Gm(e,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var v=e.lastRenderedState,E=h(v,i);if(f.hasEagerState=!0,f.eagerState=E,Xe(E,v))return ki(t,e,f,0),me===null&&Ps(),!1}catch{}if(i=Oo(t,e,f,o),i!==null)return Mn(i,t,o),Im(i,e,o),!0}return!1}function bf(t,e,i,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yu(t)){if(e)throw Error(u(479))}else e=Oo(t,i,o,2),e!==null&&Mn(e,t,2)}function yu(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function Gm(t,e){Dr=cu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Im(t,e,i){if((i&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,Ll(t,i)}}var Qo={readContext:en,use:du,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Qo.useEffectEvent=ze;var Vm={readContext:en,use:du,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:Lm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,pu(4194308,4,Om.bind(null,e,t),i)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){pu(4,2,t,e)},useMemo:function(t,e){var i=gn();e=e===void 0?null:e;var o=t();if(Fs){ke(!0);try{t()}finally{ke(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=gn();if(i!==void 0){var f=i(e);if(Fs){ke(!0);try{i(e)}finally{ke(!1)}}}else f=e;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=i_.bind(null,jt,t),[o.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:function(t){t=df(t);var e=t.queue,i=qm.bind(null,jt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:gf,useDeferredValue:function(t,e){var i=gn();return yf(i,t,e)},useTransition:function(){var t=df(!1);return t=jm.bind(null,jt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=jt,f=gn();if(Kt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),me===null)throw Error(u(349));(Jt&127)!==0||hm(o,e,i)}f.memoizedState=i;var h={value:i,getSnapshot:e};return f.queue=h,Lm(mm.bind(null,o,h,t),[t]),o.flags|=2048,Ur(9,{destroy:void 0},dm.bind(null,o,h,i,e),null),i},useId:function(){var t=gn(),e=me.identifierPrefix;if(Kt){var i=pt,o=it;i=(o&~(1<<32-Ie(o)-1)).toString(32)+i,e="_"+e+"R_"+i,i=fu++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=Fv++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:_f,useFormState:Sm,useActionState:Sm,useOptimistic:function(t){var e=gn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=bf.bind(null,jt,!0,i),i.dispatch=e,[t,e]},useMemoCache:cf,useCacheRefresh:function(){return gn().memoizedState=n_.bind(null,jt)},useEffectEvent:function(t){var e=gn(),i={impl:t};return e.memoizedState=i,function(){if((ae&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},xf={readContext:en,use:du,useCallback:Rm,useContext:en,useEffect:pf,useImperativeHandle:km,useInsertionEffect:Mm,useLayoutEffect:Nm,useMemo:Bm,useReducer:mu,useRef:zm,useState:function(){return mu(sa)},useDebugValue:gf,useDeferredValue:function(t,e){var i=Ne();return Dm(i,ue.memoizedState,t,e)},useTransition:function(){var t=mu(sa)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:Yo(t),e]},useSyncExternalStore:fm,useId:Pm,useHostTransitionStatus:_f,useFormState:Em,useActionState:Em,useOptimistic:function(t,e){var i=Ne();return ym(i,ue,t,e)},useMemoCache:cf,useCacheRefresh:Zm};xf.useEffectEvent=Cm;var Ym={readContext:en,use:du,useCallback:Rm,useContext:en,useEffect:pf,useImperativeHandle:km,useInsertionEffect:Mm,useLayoutEffect:Nm,useMemo:Bm,useReducer:hf,useRef:zm,useState:function(){return hf(sa)},useDebugValue:gf,useDeferredValue:function(t,e){var i=Ne();return ue===null?yf(i,t,e):Dm(i,ue.memoizedState,t,e)},useTransition:function(){var t=hf(sa)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:Yo(t),e]},useSyncExternalStore:fm,useId:Pm,useHostTransitionStatus:_f,useFormState:Am,useActionState:Am,useOptimistic:function(t,e){var i=Ne();return ue!==null?ym(i,ue,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Zm};Ym.useEffectEvent=Cm;function wf(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:T({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Sf={enqueueSetState:function(t,e,i){t=t._reactInternals;var o=Zn(),f=Ka(o);f.payload=e,i!=null&&(f.callback=i),e=Qa(t,f,o),e!==null&&(Mn(e,t,o),qo(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=Zn(),f=Ka(o);f.tag=1,f.payload=e,i!=null&&(f.callback=i),e=Qa(t,f,o),e!==null&&(Mn(e,t,o),qo(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Zn(),o=Ka(i);o.tag=2,e!=null&&(o.callback=e),e=Qa(t,o,i),e!==null&&(Mn(e,t,i),qo(e,t,i))}};function Km(t,e,i,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):e.prototype&&e.prototype.isPureReactComponent?!Pa(i,o)||!Pa(f,h):!0}function Qm(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Js(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=T({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function Xm(t){Hs(t)}function Fm(t){console.error(t)}function Jm(t){Hs(t)}function vu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function Wm(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ef(t,e,i){return i=Ka(i),i.tag=3,i.payload={element:null},i.callback=function(){vu(t,e)},i}function $m(t){return t=Ka(t),t.tag=3,t}function tp(t,e,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Wm(e,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Wm(e,i,o),typeof f!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function a_(t,e,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&Mr(e,i,f,!0),i=jn.current,i!==null){switch(i.tag){case 31:case 13:return Wn===null?Mu():i.alternate===null&&Le===0&&(Le=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===su?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),Xf(t,o,f)),!1;case 22:return i.flags|=65536,o===su?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),Xf(t,o,f)),!1}throw Error(u(435,i.tag))}return Xf(t,o,f),Mu(),!1}if(Kt)return e=jn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,o!==Cr&&(t=Error(u(422),{cause:o}),Gs(r(t,i)))):(o!==Cr&&(e=Error(u(423),{cause:o}),Gs(r(e,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=r(o,i),f=Ef(t.stateNode,o,f),$c(t,f),Le!==4&&(Le=2)),!1;var h=Error(u(520),{cause:o});if(h=r(h,i),nl===null?nl=[h]:nl.push(h),Le!==4&&(Le=2),e===null)return!0;o=r(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Ef(i.stateNode,o,t),$c(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ts===null||!ts.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=$m(f),tp(f,t,i,o),$c(i,f),!1}i=i.return}while(i!==null);return!1}var Tf=Error(u(461)),Ue=!1;function nn(t,e,i,o){e.child=t===null?am(e,null,i,o):Xs(e,t.child,i,o)}function ep(t,e,i,o,f){i=i.render;var h=e.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Vs(e),o=rf(t,e,i,v,h,f),E=of(),t!==null&&!Ue?(lf(t,e,f),ra(t,e,f)):(Kt&&E&&Ye(e),e.flags|=1,nn(t,e,o,f),e.child)}function np(t,e,i,o,f){if(t===null){var h=i.type;return typeof h=="function"&&!zr(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,ip(t,e,h,o,f)):(t=qs(i.type,null,o,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!kf(t,f)){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:Pa,i(v,o)&&t.ref===e.ref)return ra(t,e,f)}return e.flags|=1,t=Jn(h,o),t.ref=e.ref,t.return=e,e.child=t}function ip(t,e,i,o,f){if(t!==null){var h=t.memoizedProps;if(Pa(h,o)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=o=h,kf(t,f))(t.flags&131072)!==0&&(Ue=!0);else return e.lanes=t.lanes,ra(t,e,f)}return Af(t,e,i,o,f)}function ap(t,e,i,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,e.child=null;return sp(t,e,h,i,o)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(e,h!==null?h.cachePool:null),h!==null?om(e,h):ef(),lm(e);else return o=e.lanes=536870912,sp(t,e,h!==null?h.baseLanes|i:i,i,o)}else h!==null?(iu(e,h.cachePool),om(e,h),Fa(),e.memoizedState=null):(t!==null&&iu(e,null),ef(),Fa());return nn(t,e,f,i),e.child}function Xo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function sp(t,e,i,o,f){var h=Xc();return h=h===null?null:{parent:De._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&iu(e,null),ef(),lm(e),t!==null&&Mr(t,e,o,!0),e.childLanes=f,null}function _u(t,e){return e=xu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function rp(t,e,i){return Xs(e,t.child,null,i),t=_u(e,e.pendingProps),t.flags|=2,Un(e),e.memoizedState=null,t}function s_(t,e,i){var o=e.pendingProps,f=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Kt){if(o.mode==="hidden")return t=_u(e,o),e.lanes=536870912,Xo(null,t);if(af(e),(t=te)?(t=vg(t,Tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:V!==null?{id:it,overflow:pt}:null,retryLane:536870912,hydrationErrors:null},i=Ro(t),i.return=e,e.child=i,$t=e,te=null)):t=null,t===null)throw Bi(e);return e.lanes=536870912,null}return _u(e,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(af(e),f)if(e.flags&256)e.flags&=-257,e=rp(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Ue||Mr(t,e,i,!1),f=(i&t.childLanes)!==0,Ue||f){if(o=me,o!==null&&(v=Cl(o,i),v!==0&&v!==h.retryLane))throw h.retryLane=v,Fn(t,v),Mn(o,t,v),Tf;Mu(),e=rp(t,e,i)}else t=h.treeContext,te=$n(v.nextSibling),$t=e,Kt=!0,Ri=null,Tn=!1,t!==null&&pn(e,t),e=_u(e,o),e.flags|=4096;return e}return t=Jn(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function bu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Af(t,e,i,o,f){return Vs(e),i=rf(t,e,i,o,void 0,f),o=of(),t!==null&&!Ue?(lf(t,e,f),ra(t,e,f)):(Kt&&o&&Ye(e),e.flags|=1,nn(t,e,i,f),e.child)}function op(t,e,i,o,f,h){return Vs(e),e.updateQueue=null,i=cm(e,o,i,f),um(t),o=of(),t!==null&&!Ue?(lf(t,e,h),ra(t,e,h)):(Kt&&o&&Ye(e),e.flags|=1,nn(t,e,i,h),e.child)}function lp(t,e,i,o,f){if(Vs(e),e.stateNode===null){var h=ta,v=i.contextType;typeof v=="object"&&v!==null&&(h=en(v)),h=new i(o,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=o,h.state=e.memoizedState,h.refs={},Jc(e),v=i.contextType,h.context=typeof v=="object"&&v!==null?en(v):ta,h.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(wf(e,i,v,o),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Sf.enqueueReplaceState(h,h.state,null),Io(e,o,h,f),Go(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,O=Js(i,E);h.props=O;var I=h.context,$=i.contextType;v=ta,typeof $=="object"&&$!==null&&(v=en($));var at=i.getDerivedStateFromProps;$=typeof at=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||I!==v)&&Qm(e,h,o,v),Ya=!1;var Y=e.memoizedState;h.state=Y,Io(e,o,h,f),Go(),I=e.memoizedState,E||Y!==I||Ya?(typeof at=="function"&&(wf(e,i,at,o),I=e.memoizedState),(O=Ya||Km(e,i,O,o,Y,I,v))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=I),h.props=o,h.state=I,h.context=v,o=O):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,Wc(t,e),v=e.memoizedProps,$=Js(i,v),h.props=$,at=e.pendingProps,Y=h.context,I=i.contextType,O=ta,typeof I=="object"&&I!==null&&(O=en(I)),E=i.getDerivedStateFromProps,(I=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==at||Y!==O)&&Qm(e,h,o,O),Ya=!1,Y=e.memoizedState,h.state=Y,Io(e,o,h,f),Go();var J=e.memoizedState;v!==at||Y!==J||Ya||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof E=="function"&&(wf(e,i,E,o),J=e.memoizedState),($=Ya||Km(e,i,$,o,Y,J,O)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,J,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,J,O)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=J),h.props=o,h.state=J,h.context=O,o=$):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),o=!1)}return h=o,bu(t,e),o=(e.flags&128)!==0,h||o?(h=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,f),e.child=Xs(e,null,i,f)):nn(t,e,i,f),e.memoizedState=h.state,t=e.child):t=ra(t,e,f),t}function up(t,e,i,o){return na(),e.flags|=256,nn(t,e,i,o),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Wd()}}function Cf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Pn),t}function cp(t,e,i){var o=e.pendingProps,f=!1,h=(e.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Me.current&2)!==0),v&&(f=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Kt){if(f?Xa(e):Fa(),(t=te)?(t=vg(t,Tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:V!==null?{id:it,overflow:pt}:null,retryLane:536870912,hydrationErrors:null},i=Ro(t),i.return=e,e.child=i,$t=e,te=null)):t=null,t===null)throw Bi(e);return fh(t)?e.lanes=32:e.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Fa(),f=e.mode,E=xu({mode:"hidden",children:E},f),o=ea(o,f,i,null),E.return=e,o.return=e,E.sibling=o,e.child=E,o=e.child,o.memoizedState=Lf(i),o.childLanes=Cf(t,v,i),e.memoizedState=zf,Xo(null,o)):(Xa(e),Mf(e,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(h)e.flags&256?(Xa(e),e.flags&=-257,e=Nf(t,e,i)):e.memoizedState!==null?(Fa(),e.child=t.child,e.flags|=128,e=null):(Fa(),E=o.fallback,f=e.mode,o=xu({mode:"visible",children:o.children},f),E=ea(E,f,i,null),E.flags|=2,o.return=e,E.return=e,o.sibling=E,e.child=o,Xs(e,t.child,null,i),o=e.child,o.memoizedState=Lf(i),o.childLanes=Cf(t,v,i),e.memoizedState=zf,e=Xo(null,o));else if(Xa(e),fh(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var I=v.dgst;v=I,o=Error(u(419)),o.stack="",o.digest=v,Gs({value:o,source:null,stack:null}),e=Nf(t,e,i)}else if(Ue||Mr(t,e,i,!1),v=(i&t.childLanes)!==0,Ue||v){if(v=me,v!==null&&(o=Cl(v,i),o!==0&&o!==O.retryLane))throw O.retryLane=o,Fn(t,o),Mn(v,t,o),Tf;ch(E)||Mu(),e=Nf(t,e,i)}else ch(E)?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,te=$n(E.nextSibling),$t=e,Kt=!0,Ri=null,Tn=!1,t!==null&&pn(e,t),e=Mf(e,o.children),e.flags|=4096);return e}return f?(Fa(),E=o.fallback,f=e.mode,O=t.child,I=O.sibling,o=Jn(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,I!==null?E=Jn(I,E):(E=ea(E,f,i,null),E.flags|=2),E.return=e,o.return=e,o.sibling=E,e.child=o,Xo(null,o),o=e.child,E=t.child.memoizedState,E===null?E=Lf(i):(f=E.cachePool,f!==null?(O=De._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Wd(),E={baseLanes:E.baseLanes|i,cachePool:f}),o.memoizedState=E,o.childLanes=Cf(t,v,i),e.memoizedState=zf,Xo(t.child,o)):(Xa(e),i=t.child,t=i.sibling,i=Jn(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Mf(t,e){return e=xu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function xu(t,e){return t=ln(22,t,null,e),t.lanes=0,t}function Nf(t,e,i){return Xs(e,t.child,null,i),t=Mf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fp(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Vc(t.return,e,i)}function Of(t,e,i,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:h}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=f,v.treeForkCount=h)}function hp(t,e,i){var o=e.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=Me.current,E=(v&2)!==0;if(E?(v=v&1|2,e.flags|=128):v&=1,st(Me,v),nn(t,e,o,i),o=Kt?S:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fp(t,i,e);else if(t.tag===19)fp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=e.child,f=null;i!==null;)t=i.alternate,t!==null&&uu(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=e.child,e.child=null):(f=i.sibling,i.sibling=null),Of(e,!1,f,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&uu(t)===null){e.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Of(e,!0,i,null,h,o);break;case"together":Of(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function ra(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),$a|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Mr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=Jn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Jn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function kf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function r_(t,e,i){switch(e.tag){case 3:Zt(e,e.stateNode.containerInfo),Va(e,De,t.memoizedState.cache),na();break;case 27:case 5:Ce(e);break;case 4:Zt(e,e.stateNode.containerInfo);break;case 10:Va(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,af(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(Xa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?cp(t,e,i):(Xa(e),t=ra(t,e,i),t!==null?t.sibling:null);Xa(e);break;case 19:var f=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(Mr(t,e,i,!1),o=(i&e.childLanes)!==0),f){if(o)return hp(t,e,i);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Me,Me.current),o)break;return null;case 22:return e.lanes=0,ap(t,e,i,e.pendingProps);case 24:Va(e,De,t.memoizedState.cache)}return ra(t,e,i)}function dp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ue=!0;else{if(!kf(t,i)&&(e.flags&128)===0)return Ue=!1,r_(t,e,i);Ue=(t.flags&131072)!==0}else Ue=!1,Kt&&(e.flags&1048576)!==0&&Ht(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=Ks(e.elementType),e.type=t,typeof t=="function")zr(t)?(o=Js(t,o),e.tag=1,e=lp(null,e,t,o,i)):(e.tag=0,e=Af(null,e,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===yt){e.tag=11,e=ep(null,e,t,o,i);break t}else if(f===X){e.tag=14,e=np(null,e,t,o,i);break t}}throw e=zt(t)||t,Error(u(306,e,""))}}return e;case 0:return Af(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,f=Js(o,e.pendingProps),lp(t,e,o,f,i);case 3:t:{if(Zt(e,e.stateNode.containerInfo),t===null)throw Error(u(387));o=e.pendingProps;var h=e.memoizedState;f=h.element,Wc(t,e),Io(e,o,null,i);var v=e.memoizedState;if(o=v.cache,Va(e,De,o),o!==h.cache&&Yc(e,[De],i,!0),Go(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=up(t,e,o,i);break t}else if(o!==f){f=r(Error(u(424)),e),Gs(f),e=up(t,e,o,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,te=$n(t.firstChild),$t=e,Kt=!0,Ri=null,Tn=!0,i=am(e,null,o,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(na(),o===f){e=ra(t,e,i);break t}nn(t,e,o,i)}e=e.child}return e;case 26:return bu(t,e),t===null?(i=Eg(e.type,null,e.pendingProps,null))?e.memoizedState=i:Kt||(i=e.type,t=e.pendingProps,o=ju(ht.current).createElement(i),o[Re]=e,o[Qe]=t,an(o,i,t),Be(o),e.stateNode=o):e.memoizedState=Eg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ce(e),t===null&&Kt&&(o=e.stateNode=xg(e.type,e.pendingProps,ht.current),$t=e,Tn=!0,f=te,as(e.type)?(hh=f,te=$n(o.firstChild)):te=f),nn(t,e,e.pendingProps.children,i),bu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Kt&&((f=o=te)&&(o=D_(o,e.type,e.pendingProps,Tn),o!==null?(e.stateNode=o,$t=e,te=$n(o.firstChild),Tn=!1,f=!0):f=!1),f||Bi(e)),Ce(e),f=e.type,h=e.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,oh(f,h)?o=null:v!==null&&oh(f,v)&&(e.flags|=32),e.memoizedState!==null&&(f=rf(t,e,Jv,null,null,i),cl._currentValue=f),bu(t,e),nn(t,e,o,i),e.child;case 6:return t===null&&Kt&&((t=i=te)&&(i=j_(i,e.pendingProps,Tn),i!==null?(e.stateNode=i,$t=e,te=null,t=!0):t=!1),t||Bi(e)),null;case 13:return cp(t,e,i);case 4:return Zt(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Xs(e,null,o,i):nn(t,e,o,i),e.child;case 11:return ep(t,e,e.type,e.pendingProps,i);case 7:return nn(t,e,e.pendingProps,i),e.child;case 8:return nn(t,e,e.pendingProps.children,i),e.child;case 12:return nn(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,Va(e,e.type,o.value),nn(t,e,o.children,i),e.child;case 9:return f=e.type._context,o=e.pendingProps.children,Vs(e),f=en(f),o=o(f),e.flags|=1,nn(t,e,o,i),e.child;case 14:return np(t,e,e.type,e.pendingProps,i);case 15:return ip(t,e,e.type,e.pendingProps,i);case 19:return hp(t,e,i);case 31:return s_(t,e,i);case 22:return ap(t,e,i,e.pendingProps);case 24:return Vs(e),o=en(De),t===null?(f=Xc(),f===null&&(f=me,h=Kc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),e.memoizedState={parent:o,cache:f},Jc(e),Va(e,De,f)):((t.lanes&i)!==0&&(Wc(t,e),Io(e,null,null,i),Go()),f=t.memoizedState,h=e.memoizedState,f.parent!==o?(f={parent:o,cache:o},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),Va(e,De,o)):(o=h.cache,Va(e,De,o),o!==f.cache&&Yc(e,[De],i,!0))),nn(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function oa(t){t.flags|=4}function Rf(t,e,i,o,f){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Pp())t.flags|=8192;else throw Qs=su,Fc}else t.flags&=-16777217}function mp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cg(e))if(Pp())t.flags|=8192;else throw Qs=su,Fc}function wu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ur():536870912,t.lanes|=e,qr|=e)}function Fo(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function o_(t,e,i){var o=e.pendingProps;switch(Ae(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return ye(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),ia(De),Vt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(hi(e)?oa(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,jo())),ye(e),null;case 26:var f=e.type,h=e.memoizedState;return t===null?(oa(e),h!==null?(ye(e),mp(e,h)):(ye(e),Rf(e,f,null,o,i))):h?h!==t.memoizedState?(oa(e),ye(e),mp(e,h)):(ye(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&oa(e),ye(e),Rf(e,f,t,o,i)),null;case 27:if($e(e),i=ht.current,f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&oa(e);else{if(!o){if(e.stateNode===null)throw Error(u(166));return ye(e),null}t=lt.current,hi(e)?Do(e):(t=xg(f,o,i),e.stateNode=t,oa(e))}return ye(e),null;case 5:if($e(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&oa(e);else{if(!o){if(e.stateNode===null)throw Error(u(166));return ye(e),null}if(h=lt.current,hi(e))Do(e);else{var v=ju(ht.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[Re]=e,h[Qe]=o;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=h;t:switch(an(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&oa(e)}}return ye(e),Rf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&oa(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(u(166));if(t=ht.current,hi(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,f=$t,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Re]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||cg(t.nodeValue,i)),t||Bi(e,!0)}else t=ju(t).createTextNode(o),t[Re]=e,e.stateNode=t}return ye(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(o=hi(e),i!==null){if(t===null){if(!o)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[Re]=e}else na(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ye(e),t=!1}else i=jo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(Un(e),e):(Un(e),null);if((e.flags&128)!==0)throw Error(u(558))}return ye(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=hi(e),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(u(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(u(317));f[Re]=e}else na(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ye(e),f=!1}else f=jo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(Un(e),e):(Un(e),null)}return Un(e),(e.flags&128)!==0?(e.lanes=i,e):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=e.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),wu(e,e.updateQueue),ye(e),null);case 4:return Vt(),t===null&&nh(e.stateNode.containerInfo),ye(e),null;case 10:return ia(e.type),ye(e),null;case 19:if(q(Me),o=e.memoizedState,o===null)return ye(e),null;if(f=(e.flags&128)!==0,h=o.rendering,h===null)if(f)Fo(o,!1);else{if(Le!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=uu(t),h!==null){for(e.flags|=128,Fo(o,!1),t=h.updateQueue,e.updateQueue=t,wu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)ko(i,t),i=i.sibling;return st(Me,Me.current&1|2),Kt&&Tt(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Dt()>zu&&(e.flags|=128,f=!0,Fo(o,!1),e.lanes=4194304)}else{if(!f)if(t=uu(h),t!==null){if(e.flags|=128,f=!0,t=t.updateQueue,e.updateQueue=t,wu(e,t),Fo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Kt)return ye(e),null}else 2*Dt()-o.renderingStartTime>zu&&i!==536870912&&(e.flags|=128,f=!0,Fo(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Dt(),t.sibling=null,i=Me.current,st(Me,f?i&1|2:i&1),Kt&&Tt(e,o.treeForkCount),t):(ye(e),null);case 22:case 23:return Un(e),nf(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(i&536870912)!==0&&(e.flags&128)===0&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),i=e.updateQueue,i!==null&&wu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&q(Ys),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ia(De),ye(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function l_(t,e){switch(Ae(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ia(De),Vt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $e(e),null;case 31:if(e.memoizedState!==null){if(Un(e),e.alternate===null)throw Error(u(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(Me),null;case 4:return Vt(),null;case 10:return ia(e.type),null;case 22:case 23:return Un(e),nf(),t!==null&&q(Ys),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ia(De),null;case 25:return null;default:return null}}function pp(t,e){switch(Ae(e),e.tag){case 3:ia(De),Vt();break;case 26:case 27:case 5:$e(e);break;case 4:Vt();break;case 31:e.memoizedState!==null&&Un(e);break;case 13:Un(e);break;case 19:q(Me);break;case 10:ia(e.type);break;case 22:case 23:Un(e),nf(),t!==null&&q(Ys);break;case 24:ia(De)}}function Jo(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var h=i.create,v=i.inst;o=h(),v.destroy=o}i=i.next}while(i!==f)}}catch(E){oe(e,e.return,E)}}function Ja(t,e,i){try{var o=e.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=e;var O=i,I=E;try{I()}catch($){oe(f,O,$)}}}o=o.next}while(o!==h)}}catch($){oe(e,e.return,$)}}function gp(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{rm(e,i)}catch(o){oe(t,t.return,o)}}}function yp(t,e,i){i.props=Js(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){oe(t,e,o)}}function Wo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){oe(t,e,f)}}function ji(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){oe(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){oe(t,e,f)}else i.current=null}function vp(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){oe(t,t.return,f)}}function Bf(t,e,i){try{var o=t.stateNode;M_(o,t.type,i,e),o[Qe]=e}catch(f){oe(t,t.return,f)}}function _p(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function Df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=xn));else if(o!==4&&(o===27&&as(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(jf(t,e,i),t=t.sibling;t!==null;)jf(t,e,i),t=t.sibling}function Su(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&(o===27&&as(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Su(t,e,i),t=t.sibling;t!==null;)Su(t,e,i),t=t.sibling}function bp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);an(e,o,i),e[Re]=t,e[Qe]=i}catch(h){oe(t,t.return,h)}}var la=!1,He=!1,Uf=!1,xp=typeof WeakSet=="function"?WeakSet:Set,Je=null;function u_(t,e){if(t=t.containerInfo,sh=Iu,t=Bs(t),Ci(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var v=0,E=-1,O=-1,I=0,$=0,at=t,Y=null;e:for(;;){for(var J;at!==i||f!==0&&at.nodeType!==3||(E=v+f),at!==h||o!==0&&at.nodeType!==3||(O=v+o),at.nodeType===3&&(v+=at.nodeValue.length),(J=at.firstChild)!==null;)Y=at,at=J;for(;;){if(at===t)break e;if(Y===i&&++I===f&&(E=v),Y===h&&++$===o&&(O=v),(J=at.nextSibling)!==null)break;at=Y,Y=at.parentNode}at=J}i=E===-1||O===-1?null:{start:E,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(rh={focusedElem:t,selectionRange:i},Iu=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){switch(e=Je,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,f=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var xt=Js(i.type,f);t=o.getSnapshotBeforeUpdate(xt,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Nt){oe(i,i.return,Nt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)uh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function wp(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ca(t,i),o&4&&Jo(5,i);break;case 1:if(ca(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){oe(i,i.return,v)}else{var f=Js(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){oe(i,i.return,v)}}o&64&&gp(i),o&512&&Wo(i,i.return);break;case 3:if(ca(t,i),o&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{rm(t,e)}catch(v){oe(i,i.return,v)}}break;case 27:e===null&&o&4&&bp(i);case 26:case 5:ca(t,i),e===null&&o&4&&vp(i),o&512&&Wo(i,i.return);break;case 12:ca(t,i);break;case 31:ca(t,i),o&4&&Tp(t,i);break;case 13:ca(t,i),o&4&&Ap(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=v_.bind(null,i),U_(t,i))));break;case 22:if(o=i.memoizedState!==null||la,!o){e=e!==null&&e.memoizedState!==null||He,f=la;var h=He;la=o,(He=e)&&!h?fa(t,i,(i.subtreeFlags&8772)!==0):ca(t,i),la=f,He=h}break;case 30:break;default:ca(t,i)}}function Sp(t){var e=t.alternate;e!==null&&(t.alternate=null,Sp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&po(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xe=null,An=!1;function ua(t,e,i){for(i=i.child;i!==null;)Ep(t,e,i),i=i.sibling}function Ep(t,e,i){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(Ee,i)}catch{}switch(i.tag){case 26:He||ji(i,e),ua(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||ji(i,e);var o=xe,f=An;as(i.type)&&(xe=i.stateNode,An=!1),ua(t,e,i),ol(i.stateNode),xe=o,An=f;break;case 5:He||ji(i,e);case 6:if(o=xe,f=An,xe=null,ua(t,e,i),xe=o,An=f,xe!==null)if(An)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(i.stateNode)}catch(h){oe(i,e,h)}else try{xe.removeChild(i.stateNode)}catch(h){oe(i,e,h)}break;case 18:xe!==null&&(An?(t=xe,gg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Fr(t)):gg(xe,i.stateNode));break;case 4:o=xe,f=An,xe=i.stateNode.containerInfo,An=!0,ua(t,e,i),xe=o,An=f;break;case 0:case 11:case 14:case 15:Ja(2,i,e),He||Ja(4,i,e),ua(t,e,i);break;case 1:He||(ji(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&yp(i,e,o)),ua(t,e,i);break;case 21:ua(t,e,i);break;case 22:He=(o=He)||i.memoizedState!==null,ua(t,e,i),He=o;break;default:ua(t,e,i)}}function Tp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fr(t)}catch(i){oe(e,e.return,i)}}}function Ap(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fr(t)}catch(i){oe(e,e.return,i)}}function c_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new xp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new xp),e;default:throw Error(u(435,t.tag))}}function Eu(t,e){var i=c_(t);e.forEach(function(o){if(!i.has(o)){i.add(o);var f=__.bind(null,t,o);o.then(f,f)}})}function zn(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],h=t,v=e,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(as(E.type)){xe=E.stateNode,An=!1;break t}break;case 5:xe=E.stateNode,An=!1;break t;case 3:case 4:xe=E.stateNode.containerInfo,An=!0;break t}E=E.return}if(xe===null)throw Error(u(160));Ep(h,v,f),xe=null,An=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)zp(e,t),e=e.sibling}var mi=null;function zp(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(e,t),Ln(t),o&4&&(Ja(3,t,t.return),Jo(3,t),Ja(5,t,t.return));break;case 1:zn(e,t),Ln(t),o&512&&(He||i===null||ji(i,i.return)),o&64&&la&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=mi;if(zn(e,t),Ln(t),o&512&&(He||i===null||ji(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[_s]||h[Re]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),an(h,o,i),h[Re]=t,Be(h),o=h;break t;case"link":var v=zg("link","href",f).get(o+(i.href||""));if(v){for(var E=0;E<v.length;E++)if(h=v[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(E,1);break e}}h=f.createElement(o),an(h,o,i),f.head.appendChild(h);break;case"meta":if(v=zg("meta","content",f).get(o+(i.content||""))){for(E=0;E<v.length;E++)if(h=v[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(E,1);break e}}h=f.createElement(o),an(h,o,i),f.head.appendChild(h);break;default:throw Error(u(468,o))}h[Re]=t,Be(h),o=h}t.stateNode=o}else Lg(f,t.type,t.stateNode);else t.stateNode=Ag(f,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?Lg(f,t.type,t.stateNode):Ag(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,i.memoizedProps)}break;case 27:zn(e,t),Ln(t),o&512&&(He||i===null||ji(i,i.return)),i!==null&&o&4&&Bf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(zn(e,t),Ln(t),o&512&&(He||i===null||ji(i,i.return)),t.flags&32){f=t.stateNode;try{In(f,"")}catch(xt){oe(t,t.return,xt)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Bf(t,f,i!==null?i.memoizedProps:f)),o&1024&&(Uf=!0);break;case 6:if(zn(e,t),Ln(t),o&4){if(t.stateNode===null)throw Error(u(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(xt){oe(t,t.return,xt)}}break;case 3:if(Pu=null,f=mi,mi=Uu(e.containerInfo),zn(e,t),mi=f,Ln(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Fr(e.containerInfo)}catch(xt){oe(t,t.return,xt)}Uf&&(Uf=!1,Lp(t));break;case 4:o=mi,mi=Uu(t.stateNode.containerInfo),zn(e,t),Ln(t),mi=o;break;case 12:zn(e,t),Ln(t);break;case 31:zn(e,t),Ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Eu(t,o)));break;case 13:zn(e,t),Ln(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Au=Dt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Eu(t,o)));break;case 22:f=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,I=la,$=He;if(la=I||f,He=$||O,zn(e,t),He=$,la=I,Ln(t),o&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(i===null||O||la||He||Ws(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){O=i=e;try{if(h=O.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=O.stateNode;var at=O.memoizedProps.style,Y=at!=null&&at.hasOwnProperty("display")?at.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(xt){oe(O,O.return,xt)}}}else if(e.tag===6){if(i===null){O=e;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(xt){oe(O,O.return,xt)}}}else if(e.tag===18){if(i===null){O=e;try{var J=O.stateNode;f?yg(J,!0):yg(O.stateNode,!1)}catch(xt){oe(O,O.return,xt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Eu(t,i))));break;case 19:zn(e,t),Ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Eu(t,o)));break;case 30:break;case 21:break;default:zn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{for(var i,o=t.return;o!==null;){if(_p(o)){i=o;break}o=o.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var f=i.stateNode,h=Df(t);Su(t,h,f);break;case 5:var v=i.stateNode;i.flags&32&&(In(v,""),i.flags&=-33);var E=Df(t);Su(t,E,v);break;case 3:case 4:var O=i.stateNode.containerInfo,I=Df(t);jf(t,I,O);break;default:throw Error(u(161))}}catch($){oe(t,t.return,$)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Lp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ca(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)wp(t,e.alternate,e),e=e.sibling}function Ws(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ja(4,e,e.return),Ws(e);break;case 1:ji(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&yp(e,e.return,i),Ws(e);break;case 27:ol(e.stateNode);case 26:case 5:ji(e,e.return),Ws(e);break;case 22:e.memoizedState===null&&Ws(e);break;case 30:Ws(e);break;default:Ws(e)}t=t.sibling}}function fa(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,f=t,h=e,v=h.flags;switch(h.tag){case 0:case 11:case 15:fa(f,h,i),Jo(4,h);break;case 1:if(fa(f,h,i),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){oe(o,o.return,I)}if(o=h,f=o.updateQueue,f!==null){var E=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)sm(O[f],E)}catch(I){oe(o,o.return,I)}}i&&v&64&&gp(h),Wo(h,h.return);break;case 27:bp(h);case 26:case 5:fa(f,h,i),i&&o===null&&v&4&&vp(h),Wo(h,h.return);break;case 12:fa(f,h,i);break;case 31:fa(f,h,i),i&&v&4&&Tp(f,h);break;case 13:fa(f,h,i),i&&v&4&&Ap(f,h);break;case 22:h.memoizedState===null&&fa(f,h,i),Wo(h,h.return);break;case 30:break;default:fa(f,h,i)}e=e.sibling}}function Hf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Uo(i))}function Pf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Uo(t))}function pi(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cp(t,e,i,o),e=e.sibling}function Cp(t,e,i,o){var f=e.flags;switch(e.tag){case 0:case 11:case 15:pi(t,e,i,o),f&2048&&Jo(9,e);break;case 1:pi(t,e,i,o);break;case 3:pi(t,e,i,o),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Uo(t)));break;case 12:if(f&2048){pi(t,e,i,o),t=e.stateNode;try{var h=e.memoizedProps,v=h.id,E=h.onPostCommit;typeof E=="function"&&E(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){oe(e,e.return,O)}}else pi(t,e,i,o);break;case 31:pi(t,e,i,o);break;case 13:pi(t,e,i,o);break;case 23:break;case 22:h=e.stateNode,v=e.alternate,e.memoizedState!==null?h._visibility&2?pi(t,e,i,o):$o(t,e):h._visibility&2?pi(t,e,i,o):(h._visibility|=2,Hr(t,e,i,o,(e.subtreeFlags&10256)!==0||!1)),f&2048&&Hf(v,e);break;case 24:pi(t,e,i,o),f&2048&&Pf(e.alternate,e);break;default:pi(t,e,i,o)}}function Hr(t,e,i,o,f){for(f=f&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,v=e,E=i,O=o,I=v.flags;switch(v.tag){case 0:case 11:case 15:Hr(h,v,E,O,f),Jo(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Hr(h,v,E,O,f):$o(h,v):($._visibility|=2,Hr(h,v,E,O,f)),f&&I&2048&&Hf(v.alternate,v);break;case 24:Hr(h,v,E,O,f),f&&I&2048&&Pf(v.alternate,v);break;default:Hr(h,v,E,O,f)}e=e.sibling}}function $o(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,f=o.flags;switch(o.tag){case 22:$o(i,o),f&2048&&Hf(o.alternate,o);break;case 24:$o(i,o),f&2048&&Pf(o.alternate,o);break;default:$o(i,o)}e=e.sibling}}var tl=8192;function Pr(t,e,i){if(t.subtreeFlags&tl)for(t=t.child;t!==null;)Mp(t,e,i),t=t.sibling}function Mp(t,e,i){switch(t.tag){case 26:Pr(t,e,i),t.flags&tl&&t.memoizedState!==null&&F_(i,mi,t.memoizedState,t.memoizedProps);break;case 5:Pr(t,e,i);break;case 3:case 4:var o=mi;mi=Uu(t.stateNode.containerInfo),Pr(t,e,i),mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Pr(t,e,i),tl=o):Pr(t,e,i));break;default:Pr(t,e,i)}}function Np(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function el(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Je=o,kp(o,t)}Np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Op(t),t=t.sibling}function Op(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&Ja(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Tu(t)):el(t);break;default:el(t)}}function Tu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Je=o,kp(o,t)}Np(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ja(8,e,e.return),Tu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Tu(e));break;default:Tu(e)}t=t.sibling}}function kp(t,e){for(;Je!==null;){var i=Je;switch(i.tag){case 0:case 11:case 15:Ja(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Je=o;else t:for(i=t;Je!==null;){o=Je;var f=o.sibling,h=o.return;if(Sp(o),o===i){Je=null;break t}if(f!==null){f.return=h,Je=f;break t}Je=h}}}var f_={getCacheForType:function(t){var e=en(De),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return en(De).controller.signal}},h_=typeof WeakMap=="function"?WeakMap:Map,ae=0,me=null,Qt=null,Jt=0,re=0,Hn=null,Wa=!1,Zr=!1,Zf=!1,ha=0,Le=0,$a=0,$s=0,qf=0,Pn=0,qr=0,nl=null,Cn=null,Gf=!1,Au=0,Rp=0,zu=1/0,Lu=null,ts=null,Ke=0,es=null,Gr=null,da=0,If=0,Vf=null,Bp=null,il=0,Yf=null;function Zn(){return(ae&2)!==0&&Jt!==0?Jt&-Jt:N.T!==null?Wf():ho()}function Dp(){if(Pn===0)if((Jt&536870912)===0||Kt){var t=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Pn=t}else Pn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Pn}function Mn(t,e,i){(t===me&&(re===2||re===9)||t.cancelPendingCommit!==null)&&(Ir(t,0),ns(t,Jt,Pn,!1)),vn(t,i),((ae&2)===0||t!==me)&&(t===me&&((ae&2)===0&&($s|=i),Le===4&&ns(t,Jt,Pn,!1)),Ui(t))}function jp(t,e,i){if((ae&6)!==0)throw Error(u(327));var o=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Aa(t,e),f=o?p_(t,e):Qf(t,e,!0),h=o;do{if(f===0){Zr&&!o&&ns(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!d_(i)){f=Qf(t,e,!1),h=!1;continue}if(f===2){if(h=e,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var E=t;f=nl;var O=E.current.memoizedState.isDehydrated;if(O&&(Ir(E,v).flags|=256),v=Qf(E,v,!1),v!==2){if(Zf&&!O){E.errorRecoveryDisabledLanes|=h,$s|=h,f=4;break t}h=Cn,Cn=f,h!==null&&(Cn===null?Cn=h:Cn.push.apply(Cn,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){Ir(t,0),ns(t,e,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:ns(o,e,Pn,!Wa);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(f=Au+300-Dt(),10<f)){if(ns(o,e,Pn,!Wa),Ta(o,0,!0)!==0)break t;da=e,o.timeoutHandle=mg(Up.bind(null,o,i,Cn,Lu,Gf,e,Pn,$s,qr,Wa,h,"Throttled",-0,0),f);break t}Up(o,i,Cn,Lu,Gf,e,Pn,$s,qr,Wa,h,null,-0,0)}}break}while(!0);Ui(t)}function Up(t,e,i,o,f,h,v,E,O,I,$,at,Y,J){if(t.timeoutHandle=-1,at=e.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},Mp(e,h,at);var xt=(h&62914560)===h?Au-Dt():(h&4194048)===h?Rp-Dt():0;if(xt=J_(at,xt),xt!==null){da=h,t.cancelPendingCommit=xt(Yp.bind(null,t,e,h,i,o,f,v,E,O,$,at,null,Y,J)),ns(t,h,v,!I);return}}Yp(t,e,h,i,o,f,v,E,O)}function d_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],h=f.getSnapshot;f=f.value;try{if(!Xe(h(),f))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e,i,o){e&=~qf,e&=~$s,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var f=e;0<f;){var h=31-Ie(f),v=1<<h;o[h]=-1,f&=~v}i!==0&&cr(t,i,e)}function Cu(){return(ae&6)===0?(al(0),!1):!0}function Kf(){if(Qt!==null){if(re===0)var t=Qt.return;else t=Qt,di=Di=null,uf(t),Rr=null,Po=0,t=Qt;for(;t!==null;)pp(t.alternate,t),t=t.return;Qt=null}}function Ir(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,k_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),da=0,Kf(),me=t,Qt=i=Jn(t.current,null),Jt=e,re=0,Hn=null,Wa=!1,Zr=Aa(t,e),Zf=!1,qr=Pn=qf=$s=$a=Le=0,Cn=nl=null,Gf=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var f=31-Ie(o),h=1<<f;e|=t[f],o&=~h}return ha=e,Ps(),i}function Hp(t,e){jt=null,N.H=Qo,e===kr||e===au?(e=em(),re=3):e===Fc?(e=em(),re=4):re=e===Tf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Hn=e,Qt===null&&(Le=1,vu(t,r(e,t.current)))}function Pp(){var t=jn.current;return t===null?!0:(Jt&4194048)===Jt?Wn===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?t===Wn:!1}function Zp(){var t=N.H;return N.H=Qo,t===null?Qo:t}function qp(){var t=N.A;return N.A=f_,t}function Mu(){Le=4,Wa||(Jt&4194048)!==Jt&&jn.current!==null||(Zr=!0),($a&134217727)===0&&($s&134217727)===0||me===null||ns(me,Jt,Pn,!1)}function Qf(t,e,i){var o=ae;ae|=2;var f=Zp(),h=qp();(me!==t||Jt!==e)&&(Lu=null,Ir(t,e)),e=!1;var v=Le;t:do try{if(re!==0&&Qt!==null){var E=Qt,O=Hn;switch(re){case 8:Kf(),v=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(e=!0);var I=re;if(re=0,Hn=null,Vr(t,E,O,I),i&&Zr){v=0;break t}break;default:I=re,re=0,Hn=null,Vr(t,E,O,I)}}m_(),v=Le;break}catch($){Hp(t,$)}while(!0);return e&&t.shellSuspendCounter++,di=Di=null,ae=o,N.H=f,N.A=h,Qt===null&&(me=null,Jt=0,Ps()),v}function m_(){for(;Qt!==null;)Gp(Qt)}function p_(t,e){var i=ae;ae|=2;var o=Zp(),f=qp();me!==t||Jt!==e?(Lu=null,zu=Dt()+500,Ir(t,e)):Zr=Aa(t,e);t:do try{if(re!==0&&Qt!==null){e=Qt;var h=Hn;e:switch(re){case 1:re=0,Hn=null,Vr(t,e,h,1);break;case 2:case 9:if($d(h)){re=0,Hn=null,Ip(e);break}e=function(){re!==2&&re!==9||me!==t||(re=7),Ui(t)},h.then(e,e);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:$d(h)?(re=0,Hn=null,Ip(e)):(re=0,Hn=null,Vr(t,e,h,7));break;case 5:var v=null;switch(Qt.tag){case 26:v=Qt.memoizedState;case 5:case 27:var E=Qt;if(v?Cg(v):E.stateNode.complete){re=0,Hn=null;var O=E.sibling;if(O!==null)Qt=O;else{var I=E.return;I!==null?(Qt=I,Nu(I)):Qt=null}break e}}re=0,Hn=null,Vr(t,e,h,5);break;case 6:re=0,Hn=null,Vr(t,e,h,6);break;case 8:Kf(),Le=6;break t;default:throw Error(u(462))}}g_();break}catch($){Hp(t,$)}while(!0);return di=Di=null,N.H=o,N.A=f,ae=i,Qt!==null?0:(me=null,Jt=0,Ps(),Le)}function g_(){for(;Qt!==null&&!kt();)Gp(Qt)}function Gp(t){var e=dp(t.alternate,t,ha);t.memoizedProps=t.pendingProps,e===null?Nu(t):Qt=e}function Ip(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=op(i,e,e.pendingProps,e.type,void 0,Jt);break;case 11:e=op(i,e,e.pendingProps,e.type.render,e.ref,Jt);break;case 5:uf(e);default:pp(i,e),e=Qt=ko(e,ha),e=dp(i,e,ha)}t.memoizedProps=t.pendingProps,e===null?Nu(t):Qt=e}function Vr(t,e,i,o){di=Di=null,uf(e),Rr=null,Po=0;var f=e.return;try{if(a_(t,f,e,i,Jt)){Le=1,vu(t,r(i,t.current)),Qt=null;return}}catch(h){if(f!==null)throw Qt=f,h;Le=1,vu(t,r(i,t.current)),Qt=null;return}e.flags&32768?(Kt||o===1?t=!0:Zr||(Jt&536870912)!==0?t=!1:(Wa=t=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vp(e,t)):Nu(e)}function Nu(t){var e=t;do{if((e.flags&32768)!==0){Vp(e,Wa);return}t=e.return;var i=o_(e.alternate,e,ha);if(i!==null){Qt=i;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);Le===0&&(Le=5)}function Vp(t,e){do{var i=l_(t.alternate,t);if(i!==null){i.flags&=32767,Qt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Qt=t;return}Qt=t=i}while(t!==null);Le=6,Qt=null}function Yp(t,e,i,o,f,h,v,E,O){t.cancelPendingCommit=null;do Ou();while(Ke!==0);if((ae&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(h=e.lanes|e.childLanes,h|=Ar,fo(t,i,h,v,E,O),t===me&&(Qt=me=null,Jt=0),Gr=e,es=t,da=i,If=h,Vf=f,Bp=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,b_(Gt,function(){return Jp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,f=Q.p,Q.p=2,v=ae,ae|=4;try{u_(t,e,i)}finally{ae=v,Q.p=f,N.T=o}}Ke=1,Kp(),Qp(),Xp()}}function Kp(){if(Ke===1){Ke=0;var t=es,e=Gr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=N.T,N.T=null;var o=Q.p;Q.p=2;var f=ae;ae|=4;try{zp(e,t);var h=rh,v=Bs(t.containerInfo),E=h.focusedElem,O=h.selectionRange;if(v!==E&&E&&E.ownerDocument&&wr(E.ownerDocument.documentElement,E)){if(O!==null&&Ci(E)){var I=O.start,$=O.end;if($===void 0&&($=I),"selectionStart"in E)E.selectionStart=I,E.selectionEnd=Math.min($,E.value.length);else{var at=E.ownerDocument||document,Y=at&&at.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),xt=E.textContent.length,Nt=Math.min(O.start,xt),fe=O.end===void 0?Nt:Math.min(O.end,xt);!J.extend&&Nt>fe&&(v=fe,fe=Nt,Nt=v);var U=Rs(E,Nt),B=Rs(E,fe);if(U&&B&&(J.rangeCount!==1||J.anchorNode!==U.node||J.anchorOffset!==U.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var G=at.createRange();G.setStart(U.node,U.offset),J.removeAllRanges(),Nt>fe?(J.addRange(G),J.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),J.addRange(G))}}}}for(at=[],J=E;J=J.parentNode;)J.nodeType===1&&at.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<at.length;E++){var et=at[E];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Iu=!!sh,rh=sh=null}finally{ae=f,Q.p=o,N.T=i}}t.current=e,Ke=2}}function Qp(){if(Ke===2){Ke=0;var t=es,e=Gr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=N.T,N.T=null;var o=Q.p;Q.p=2;var f=ae;ae|=4;try{wp(t,e.alternate,e)}finally{ae=f,Q.p=o,N.T=i}}Ke=3}}function Xp(){if(Ke===4||Ke===3){Ke=0,qt();var t=es,e=Gr,i=da,o=Bp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ke=5:(Ke=0,Gr=es=null,Fp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ts=null),St(i),e=e.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(Ee,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=N.T,f=Q.p,Q.p=2,N.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];h(E.value,{componentStack:E.stack})}}finally{N.T=e,Q.p=f}}(da&3)!==0&&Ou(),Ui(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===Yf?il++:(il=0,Yf=t):il=0,al(0)}}function Fp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Uo(e)))}function Ou(){return Kp(),Qp(),Xp(),Jp()}function Jp(){if(Ke!==5)return!1;var t=es,e=If;If=0;var i=St(da),o=N.T,f=Q.p;try{Q.p=32>i?32:i,N.T=null,i=Vf,Vf=null;var h=es,v=da;if(Ke=0,Gr=es=null,da=0,(ae&6)!==0)throw Error(u(331));var E=ae;if(ae|=4,Op(h.current),Cp(h,h.current,v,i),ae=E,al(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(Ee,h)}catch{}return!0}finally{Q.p=f,N.T=o,Fp(t,e)}}function Wp(t,e,i){e=r(i,e),e=Ef(t.stateNode,e,2),t=Qa(t,e,2),t!==null&&(vn(t,2),Ui(t))}function oe(t,e,i){if(t.tag===3)Wp(t,t,i);else for(;e!==null;){if(e.tag===3){Wp(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ts===null||!ts.has(o))){t=r(i,t),i=$m(2),o=Qa(e,i,2),o!==null&&(tp(i,o,e,t),vn(o,2),Ui(o));break}}e=e.return}}function Xf(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new h_;var f=new Set;o.set(e,f)}else f=o.get(e),f===void 0&&(f=new Set,o.set(e,f));f.has(i)||(Zf=!0,f.add(i),t=y_.bind(null,t,e,i),e.then(t,t))}function y_(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,me===t&&(Jt&i)===i&&(Le===4||Le===3&&(Jt&62914560)===Jt&&300>Dt()-Au?(ae&2)===0&&Ir(t,0):qf|=i,qr===Jt&&(qr=0)),Ui(t)}function $p(t,e){e===0&&(e=ur()),t=Fn(t,e),t!==null&&(vn(t,e),Ui(t))}function v_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),$p(t,i)}function __(t,e){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(u(314))}o!==null&&o.delete(e),$p(t,i)}function b_(t,e){return _t(t,e)}var ku=null,Yr=null,Ff=!1,Ru=!1,Jf=!1,is=0;function Ui(t){t!==Yr&&t.next===null&&(Yr===null?ku=Yr=t:Yr=Yr.next=t),Ru=!0,Ff||(Ff=!0,w_())}function al(t,e){if(!Jf&&Ru){Jf=!0;do for(var i=!1,o=ku;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,E=o.pingedLanes;h=(1<<31-Ie(42|t)+1)-1,h&=f&~(v&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,ig(o,h))}else h=Jt,h=Ta(o,o===me?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Aa(o,h)||(i=!0,ig(o,h));o=o.next}while(i);Jf=!1}}function x_(){tg()}function tg(){Ru=Ff=!1;var t=0;is!==0&&O_()&&(t=is);for(var e=Dt(),i=null,o=ku;o!==null;){var f=o.next,h=eg(o,e);h===0?(o.next=null,i===null?ku=f:i.next=f,f===null&&(Yr=i)):(i=o,(t!==0||(h&3)!==0)&&(Ru=!0)),o=f}Ke!==0&&Ke!==5||al(t),is!==0&&(is=0)}function eg(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-Ie(h),E=1<<v,O=f[v];O===-1?((E&i)===0||(E&o)!==0)&&(f[v]=co(E,e)):O<=e&&(t.expiredLanes|=E),h&=~E}if(e=me,i=Jt,i=Ta(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===e&&(re===2||re===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Mt(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Aa(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&Mt(o),St(i)){case 2:case 8:i=At;break;case 32:i=Gt;break;case 268435456:i=Et;break;default:i=Gt}return o=ng.bind(null,t),i=_t(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&Mt(o),t.callbackPriority=2,t.callbackNode=null,2}function ng(t,e){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Ou()&&t.callbackNode!==i)return null;var o=Jt;return o=Ta(t,t===me?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jp(t,o,e),eg(t,Dt()),t.callbackNode!=null&&t.callbackNode===i?ng.bind(null,t):null)}function ig(t,e){if(Ou())return null;jp(t,e,!0)}function w_(){R_(function(){(ae&6)!==0?_t(Ut,x_):tg()})}function Wf(){if(is===0){var t=Nr;t===0&&(t=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),is=t}return is}function ag(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function sg(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function S_(t,e,i,o,f){if(e==="submit"&&i&&i.stateNode===f){var h=ag((f[Qe]||null).action),v=o.submitter;v&&(e=(e=v[Qe]||null)?ag(e.formAction):v.getAttribute("formAction"),e!==null&&(h=e,v=null));var E=new pr("action","action",null,o,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(is!==0){var O=v?sg(f,v):new FormData(f);vf(i,{pending:!0,data:O,method:f.method,action:h},null,O)}}else typeof h=="function"&&(E.preventDefault(),O=v?sg(f,v):new FormData(f),vf(i,{pending:!0,data:O,method:f.method,action:h},h,O))},currentTarget:f}]})}}for(var $f=0;$f<Oi.length;$f++){var th=Oi[$f],E_=th.toLowerCase(),T_=th[0].toUpperCase()+th.slice(1);Sn(E_,"on"+T_)}Sn(js,"onAnimationEnd"),Sn(Wl,"onAnimationIteration"),Sn(Us,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(qc,"onTransitionRun"),Sn($l,"onTransitionStart"),Sn(Gc,"onTransitionCancel"),Sn(Ga,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function rg(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var v=o.length-1;0<=v;v--){var E=o[v],O=E.instance,I=E.currentTarget;if(E=E.listener,O!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=I;try{h(f)}catch($){Hs($)}f.currentTarget=null,h=O}else for(v=0;v<o.length;v++){if(E=o[v],O=E.instance,I=E.currentTarget,E=E.listener,O!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=I;try{h(f)}catch($){Hs($)}f.currentTarget=null,h=O}}}}function Xt(t,e){var i=e[Si];i===void 0&&(i=e[Si]=new Set);var o=t+"__bubble";i.has(o)||(og(e,t,2,!1),i.add(o))}function eh(t,e,i){var o=0;e&&(o|=4),og(i,t,o,e)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[Bu]){t[Bu]=!0,Ol.forEach(function(i){i!=="selectionchange"&&(A_.has(i)||eh(i,!1,t),eh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bu]||(e[Bu]=!0,eh("selectionchange",!1,e))}}function og(t,e,i,o){switch(Dg(e)){case 2:var f=tb;break;case 8:f=eb;break;default:f=yh}i=f.bind(null,e,i,t),f=void 0,!Ts||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(e,i,{capture:!0,passive:f}):t.addEventListener(e,i,!0):f!==void 0?t.addEventListener(e,i,{passive:f}):t.addEventListener(e,i,!1)}function ih(t,e,i,o,f){var h=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=o.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Qi(E),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){o=h=v;continue t}E=E.parentNode}}o=o.return}wo(function(){var I=h,$=Es(i),at=[];t:{var Y=tu.get(t);if(Y!==void 0){var J=pr,xt=t;switch(t){case"keypress":if(As(i)===0)break t;case"keydown":case"keyup":J=Pl;break;case"focusin":xt="focus",J=To;break;case"focusout":xt="blur",J=To;break;case"beforeblur":case"afterblur":J=To;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Dc;break;case js:case Wl:case Us:J=Ao;break;case Ga:J=Gl;break;case"scroll":case"scrollend":J=Ft;break;case"wheel":J=$i;break;case"copy":case"cut":case"paste":J=Yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Zl;break;case"toggle":case"beforetoggle":J=Cs}var Nt=(e&4)!==0,fe=!Nt&&(t==="scroll"||t==="scrollend"),U=Nt?Y!==null?Y+"Capture":null:Y;Nt=[];for(var B=I,G;B!==null;){var et=B;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||U===null||(et=Ji(B,U),et!=null&&Nt.push(rl(B,et,G))),fe)break;B=B.return}0<Nt.length&&(Y=new J(Y,xt,null,i,$),at.push({event:Y,listeners:Nt}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Y&&i!==mr&&(xt=i.relatedTarget||i.fromElement)&&(Qi(xt)||xt[Ki]))break t;if((J||Y)&&(Y=$.window===$?$:(Y=$.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(xt=i.relatedTarget||i.toElement,J=I,xt=xt?Qi(xt):null,xt!==null&&(fe=p(xt),Nt=xt.tag,xt!==fe||Nt!==5&&Nt!==27&&Nt!==6)&&(xt=null)):(J=null,xt=I),J!==xt)){if(Nt=Bl,et="onMouseLeave",U="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Nt=Zl,et="onPointerLeave",U="onPointerEnter",B="pointer"),fe=J==null?Y:Ei(J),G=xt==null?Y:Ei(xt),Y=new Nt(et,B+"leave",J,i,$),Y.target=fe,Y.relatedTarget=G,et=null,Qi($)===I&&(Nt=new Nt(U,B+"enter",xt,i,$),Nt.target=G,Nt.relatedTarget=fe,et=Nt),fe=et,J&&xt)e:{for(Nt=z_,U=J,B=xt,G=0,et=U;et;et=Nt(et))G++;et=0;for(var Lt=B;Lt;Lt=Nt(Lt))et++;for(;0<G-et;)U=Nt(U),G--;for(;0<et-G;)B=Nt(B),et--;for(;G--;){if(U===B||B!==null&&U===B.alternate){Nt=U;break e}U=Nt(U),B=Nt(B)}Nt=null}else Nt=null;J!==null&&lg(at,Y,J,Nt,!1),xt!==null&&fe!==null&&lg(at,fe,xt,Nt,!0)}}t:{if(Y=I?Ei(I):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var ee=ks;else if(Kn(Y))if(Kl)ee=Zc;else{ee=Pc;var wt=ci}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?I&&Ss(I.elementType)&&(ee=ks):ee=Ha;if(ee&&(ee=ee(t,I))){Yl(at,ee,i,$);break t}wt&&wt(t,Y,I),t==="focusout"&&I&&Y.type==="number"&&I.memoizedProps.value!=null&&oi(Y,"number",Y.value)}switch(wt=I?Ei(I):window,t){case"focusin":(Kn(wt)||wt.contentEditable==="true")&&(Mi=wt,Er=I,Ds=null);break;case"focusout":Ds=Er=Mi=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,Fl(at,i,$);break;case"selectionchange":if(Sr)break;case"keydown":case"keyup":Fl(at,i,$)}var Pt;if(yr)t:{switch(t){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else Da?Vl(t,i)&&(Wt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Wt="onCompositionStart");Wt&&(vr&&i.locale!=="ko"&&(Da||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Da&&(Pt=zi()):(Vn=$,Wi="value"in Vn?Vn.value:Vn.textContent,Da=!0)),wt=Du(I,Wt),0<wt.length&&(Wt=new zo(Wt,t,null,i,$),at.push({event:Wt,listeners:wt}),Pt?Wt.data=Pt:(Pt=No(i),Pt!==null&&(Wt.data=Pt)))),(Pt=Uc?Dn(t,i):ja(t,i))&&(Wt=Du(I,"onBeforeInput"),0<Wt.length&&(wt=new zo("onBeforeInput","beforeinput",null,i,$),at.push({event:wt,listeners:Wt}),wt.data=Pt)),S_(at,t,I,i,$)}rg(at,e)})}function rl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Du(t,e){for(var i=e+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ji(t,i),f!=null&&o.unshift(rl(t,f,h)),f=Ji(t,e),f!=null&&o.push(rl(t,f,h))),t.tag===3)return o;t=t.return}return[]}function z_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lg(t,e,i,o,f){for(var h=e._reactName,v=[];i!==null&&i!==o;){var E=i,O=E.alternate,I=E.stateNode;if(E=E.tag,O!==null&&O===o)break;E!==5&&E!==26&&E!==27||I===null||(O=I,f?(I=Ji(i,h),I!=null&&v.unshift(rl(i,I,O))):f||(I=Ji(i,h),I!=null&&v.push(rl(i,I,O)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var L_=/\r\n?/g,C_=/\u0000|\uFFFD/g;function ug(t){return(typeof t=="string"?t:""+t).replace(L_,`
`).replace(C_,"")}function cg(t,e){return e=ug(e),ug(t)===e}function ce(t,e,i,o,f,h){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||In(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&In(t,""+o);break;case"className":le(t,"class",o);break;case"tabIndex":le(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":le(t,i,o);break;case"style":hr(t,o,h);break;case"data":if(e!=="object"){le(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Oa(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&ce(t,e,"name",f.name,f,null),ce(t,e,"formEncType",f.formEncType,f,null),ce(t,e,"formMethod",f.formMethod,f,null),ce(t,e,"formTarget",f.formTarget,f,null)):(ce(t,e,"encType",f.encType,f,null),ce(t,e,"method",f.method,f,null),ce(t,e,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Oa(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=xn);break;case"onScroll":o!=null&&Xt("scroll",t);break;case"onScrollEnd":o!=null&&Xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(u(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=Oa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Xt("beforetoggle",t),Xt("toggle",t),Yt(t,"popover",o);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=dr.get(i)||i,Yt(t,i,o))}}function ah(t,e,i,o,f,h){switch(i){case"style":hr(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(u(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof o=="string"?In(t,o):(typeof o=="number"||typeof o=="bigint")&&In(t,""+o);break;case"onScroll":o!=null&&Xt("scroll",t);break;case"onScrollEnd":o!=null&&Xt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),e=i.slice(2,f?i.length-7:void 0),h=t[Qe]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,f);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Yt(t,i,o)}}}function an(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",t),Xt("load",t);var o=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var v=i[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:ce(t,e,h,v,i,null)}}f&&ce(t,e,"srcSet",i.srcSet,i,null),o&&ce(t,e,"src",i.src,i,null);return;case"input":Xt("invalid",t);var E=h=v=f=null,O=null,I=null;for(o in i)if(i.hasOwnProperty(o)){var $=i[o];if($!=null)switch(o){case"name":f=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":I=$;break;case"value":h=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(u(137,e));break;default:ce(t,e,o,$,i,null)}}ws(t,h,E,O,I,v,f,!1);return;case"select":Xt("invalid",t),o=v=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:ce(t,e,f,E,i,null)}e=h,i=v,t.multiple=!!o,e!=null?de(t,!!o,e,!1):i!=null&&de(t,!!o,i,!0);return;case"textarea":Xt("invalid",t),h=f=o=null;for(v in i)if(i.hasOwnProperty(v)&&(E=i[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(u(91));break;default:ce(t,e,v,E,i,null)}Ma(t,o,f,h);return;case"option":for(O in i)i.hasOwnProperty(O)&&(o=i[O],o!=null)&&(O==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ce(t,e,O,o,i,null));return;case"dialog":Xt("beforetoggle",t),Xt("toggle",t),Xt("cancel",t),Xt("close",t);break;case"iframe":case"object":Xt("load",t);break;case"video":case"audio":for(o=0;o<sl.length;o++)Xt(sl[o],t);break;case"image":Xt("error",t),Xt("load",t);break;case"details":Xt("toggle",t);break;case"embed":case"source":case"link":Xt("error",t),Xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in i)if(i.hasOwnProperty(I)&&(o=i[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:ce(t,e,I,o,i,null)}return;default:if(Ss(e)){for($ in i)i.hasOwnProperty($)&&(o=i[$],o!==void 0&&ah(t,e,$,o,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(o=i[E],o!=null&&ce(t,e,E,o,i,null))}function M_(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,E=null,O=null,I=null,$=null;for(J in i){var at=i[J];if(i.hasOwnProperty(J)&&at!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=at;default:o.hasOwnProperty(J)||ce(t,e,J,null,o,at)}}for(var Y in o){var J=o[Y];if(at=i[Y],o.hasOwnProperty(Y)&&(J!=null||at!=null))switch(Y){case"type":h=J;break;case"name":f=J;break;case"checked":I=J;break;case"defaultChecked":$=J;break;case"value":v=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,e));break;default:J!==at&&ce(t,e,Y,J,o,at)}}_o(t,v,E,O,I,$,h,f);return;case"select":J=v=E=Y=null;for(h in i)if(O=i[h],i.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":J=O;default:o.hasOwnProperty(h)||ce(t,e,h,null,o,O)}for(f in o)if(h=o[f],O=i[f],o.hasOwnProperty(f)&&(h!=null||O!=null))switch(f){case"value":Y=h;break;case"defaultValue":E=h;break;case"multiple":v=h;default:h!==O&&ce(t,e,f,h,o,O)}e=E,i=v,o=J,Y!=null?de(t,!!i,Y,!1):!!o!=!!i&&(e!=null?de(t,!!i,e,!0):de(t,!!i,i?[]:"",!1));return;case"textarea":J=Y=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ce(t,e,E,null,o,f)}for(v in o)if(f=o[v],h=i[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":Y=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(u(91));break;default:f!==h&&ce(t,e,v,f,o,h)}Ai(t,Y,J);return;case"option":for(var xt in i)Y=i[xt],i.hasOwnProperty(xt)&&Y!=null&&!o.hasOwnProperty(xt)&&(xt==="selected"?t.selected=!1:ce(t,e,xt,null,o,Y));for(O in o)Y=o[O],J=i[O],o.hasOwnProperty(O)&&Y!==J&&(Y!=null||J!=null)&&(O==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ce(t,e,O,Y,o,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in i)Y=i[Nt],i.hasOwnProperty(Nt)&&Y!=null&&!o.hasOwnProperty(Nt)&&ce(t,e,Nt,null,o,Y);for(I in o)if(Y=o[I],J=i[I],o.hasOwnProperty(I)&&Y!==J&&(Y!=null||J!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,e));break;default:ce(t,e,I,Y,o,J)}return;default:if(Ss(e)){for(var fe in i)Y=i[fe],i.hasOwnProperty(fe)&&Y!==void 0&&!o.hasOwnProperty(fe)&&ah(t,e,fe,void 0,o,Y);for($ in o)Y=o[$],J=i[$],!o.hasOwnProperty($)||Y===J||Y===void 0&&J===void 0||ah(t,e,$,Y,o,J);return}}for(var U in i)Y=i[U],i.hasOwnProperty(U)&&Y!=null&&!o.hasOwnProperty(U)&&ce(t,e,U,null,o,Y);for(at in o)Y=o[at],J=i[at],!o.hasOwnProperty(at)||Y===J||Y==null&&J==null||ce(t,e,at,Y,o,J)}function fg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],h=f.transferSize,v=f.initiatorType,E=f.duration;if(h&&E&&fg(v)){for(v=0,E=f.responseEnd,o+=1;o<i.length;o++){var O=i[o],I=O.startTime;if(I>E)break;var $=O.transferSize,at=O.initiatorType;$&&fg(at)&&(O=O.responseEnd,v+=$*(O<E?1:(E-I)/(O-I)))}if(--o,e+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sh=null,rh=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function hg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=null;function O_(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var mg=typeof setTimeout=="function"?setTimeout:void 0,k_=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(t){return pg.resolve(null).then(t).catch(B_)}:mg;function B_(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function gg(t,e){var i=e,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Fr(e);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")ol(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,ol(i);for(var h=i.firstChild;h;){var v=h.nextSibling,E=h.nodeName;h[_s]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=v}}else i==="body"&&ol(t.ownerDocument.body);i=f}while(i);Fr(e)}function yg(t,e){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function uh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":uh(i),po(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function D_(t,e,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_s])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function j_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=$n(t.nextSibling),t===null))return null;return t}function vg(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=$n(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$?"||t.data==="$~"}function fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function U_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var o=function(){e(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var hh=null;function _g(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return $n(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function xg(t,e,i){switch(e=ju(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function ol(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);po(t)}var ti=new Map,wg=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ma=Q.d;Q.d={f:H_,r:P_,D:Z_,C:q_,L:G_,m:I_,X:Y_,S:V_,M:K_};function H_(){var t=ma.f(),e=Cu();return t||e}function P_(t){var e=za(t);e!==null&&e.tag===5&&e.type==="form"?Hm(e):ma.r(t)}var Kr=typeof document>"u"?null:document;function Sg(t,e,i){var o=Kr;if(o&&typeof e=="string"&&e){var f=ge(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),wg.has(f)||(wg.add(f),t={rel:t,crossOrigin:i,href:e},o.querySelector(f)===null&&(e=o.createElement("link"),an(e,"link",t),Be(e),o.head.appendChild(e)))}}function Z_(t){ma.D(t),Sg("dns-prefetch",t,null)}function q_(t,e){ma.C(t,e),Sg("preconnect",t,e)}function G_(t,e,i){ma.L(t,e,i);var o=Kr;if(o&&t&&e){var f='link[rel="preload"][as="'+ge(e)+'"]';e==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+ge(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+ge(i.imageSizes)+'"]')):f+='[href="'+ge(t)+'"]';var h=f;switch(e){case"style":h=Qr(t);break;case"script":h=Xr(t)}ti.has(h)||(t=T({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),ti.set(h,t),o.querySelector(f)!==null||e==="style"&&o.querySelector(ll(h))||e==="script"&&o.querySelector(ul(h))||(e=o.createElement("link"),an(e,"link",t),Be(e),o.head.appendChild(e)))}}function I_(t,e){ma.m(t,e);var i=Kr;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Xr(t)}if(!ti.has(h)&&(t=T({rel:"modulepreload",href:t},e),ti.set(h,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ul(h)))return}o=i.createElement("link"),an(o,"link",t),Be(o),i.head.appendChild(o)}}}function V_(t,e,i){ma.S(t,e,i);var o=Kr;if(o&&t){var f=La(o).hoistableStyles,h=Qr(t);e=e||"default";var v=f.get(h);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ll(h)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":e},i),(i=ti.get(h))&&dh(t,i);var O=v=o.createElement("link");Be(O),an(O,"link",t),O._p=new Promise(function(I,$){O.onload=I,O.onerror=$}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Hu(v,e,o)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(h,v)}}}function Y_(t,e){ma.X(t,e);var i=Kr;if(i&&t){var o=La(i).hoistableScripts,f=Xr(t),h=o.get(f);h||(h=i.querySelector(ul(f)),h||(t=T({src:t,async:!0},e),(e=ti.get(f))&&mh(t,e),h=i.createElement("script"),Be(h),an(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function K_(t,e){ma.M(t,e);var i=Kr;if(i&&t){var o=La(i).hoistableScripts,f=Xr(t),h=o.get(f);h||(h=i.querySelector(ul(f)),h||(t=T({src:t,async:!0,type:"module"},e),(e=ti.get(f))&&mh(t,e),h=i.createElement("script"),Be(h),an(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Eg(t,e,i,o){var f=(f=ht.current)?Uu(f):null;if(!f)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Qr(i.href),i=La(f).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Qr(i.href);var h=La(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(ll(t)))&&!h._p&&(v.instance=h,v.state.loading=5),ti.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ti.set(t,i),h||Q_(f,t,i,v.state))),e&&o===null)throw Error(u(528,""));return v}if(e&&o!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Xr(i),i=La(f).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function Qr(t){return'href="'+ge(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function Tg(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Q_(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),an(e,"link",i),Be(e),t.head.appendChild(e))}function Xr(t){return'[src="'+ge(t)+'"]'}function ul(t){return"script[async]"+t}function Ag(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+ge(i.href)+'"]');if(o)return e.instance=o,Be(o),o;var f=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Be(o),an(o,"style",f),Hu(o,i.precedence,t),e.instance=o;case"stylesheet":f=Qr(i.href);var h=t.querySelector(ll(f));if(h)return e.state.loading|=4,e.instance=h,Be(h),h;o=Tg(i),(f=ti.get(f))&&dh(o,f),h=(t.ownerDocument||t).createElement("link"),Be(h);var v=h;return v._p=new Promise(function(E,O){v.onload=E,v.onerror=O}),an(h,"link",o),e.state.loading|=4,Hu(h,i.precedence,t),e.instance=h;case"script":return h=Xr(i.src),(f=t.querySelector(ul(h)))?(e.instance=f,Be(f),f):(o=i,(f=ti.get(h))&&(o=T({},i),mh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Be(f),an(f,"link",o),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,Hu(o,i.precedence,t));return e.instance}function Hu(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===e)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function dh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Pu=null;function zg(t,e,i){if(Pu===null){var o=new Map,f=Pu=new Map;f.set(i,o)}else f=Pu,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[_s]||h[Re]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(e)||"";v=t+v;var E=o.get(v);E?E.push(h):o.set(v,[h])}}return o}function Lg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function X_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function F_(t,e,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Qr(o.href),h=e.querySelector(ll(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Zu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,Be(h);return}h=e.ownerDocument||e,o=Tg(o),(f=ti.get(f))&&dh(o,f),h=h.createElement("link"),Be(h);var v=h;v._p=new Promise(function(E,O){v.onload=E,v.onerror=O}),an(h,"link",o),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Zu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var ph=0;function J_(t,e){return t.stylesheets&&t.count===0&&Gu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&ph===0&&(ph=62500*N_());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>ph?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qu=null;function Gu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qu=new Map,e.forEach(W_,t),qu=null,Zu.call(t))}function W_(t,e){if(!(e.state.loading&4)){var i=qu.get(t);if(i)var o=i.get(null);else{i=new Map,qu.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}f=e.instance,v=f.getAttribute("data-precedence"),h=i.get(v)||o,h===o&&i.set(null,f),i.set(v,f),this.count++,o=Zu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var cl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function $_(t,e,i,o,f,h,v,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Mg(t,e,i,o,f,h,v,E,O,I,$,at){return t=new $_(t,e,i,v,O,I,$,at,E),e=1,h===!0&&(e|=24),h=ln(3,null,null,e),t.current=h,h.stateNode=t,e=Kc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:e},Jc(h),t}function Ng(t){return t?(t=ta,t):ta}function Og(t,e,i,o,f,h){f=Ng(f),o.context===null?o.context=f:o.pendingContext=f,o=Ka(e),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Qa(t,o,e),i!==null&&(Mn(i,t,e),qo(i,t,e))}function kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function gh(t,e){kg(t,e),(t=t.alternate)&&kg(t,e)}function Rg(t){if(t.tag===13||t.tag===31){var e=Fn(t,67108864);e!==null&&Mn(e,t,67108864),gh(t,67108864)}}function Bg(t){if(t.tag===13||t.tag===31){var e=Zn();e=_n(e);var i=Fn(t,e);i!==null&&Mn(i,t,e),gh(t,e)}}var Iu=!0;function tb(t,e,i,o){var f=N.T;N.T=null;var h=Q.p;try{Q.p=2,yh(t,e,i,o)}finally{Q.p=h,N.T=f}}function eb(t,e,i,o){var f=N.T;N.T=null;var h=Q.p;try{Q.p=8,yh(t,e,i,o)}finally{Q.p=h,N.T=f}}function yh(t,e,i,o){if(Iu){var f=vh(o);if(f===null)ih(t,e,o,Vu,i),jg(t,o);else if(ib(f,t,e,i,o))o.stopPropagation();else if(jg(t,o),e&4&&-1<nb.indexOf(t)){for(;f!==null;){var h=za(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=si(h.pendingLanes);if(v!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var O=1<<31-Ie(v);E.entanglements[1]|=O,v&=~O}Ui(h),(ae&6)===0&&(zu=Dt()+500,al(0))}}break;case 31:case 13:E=Fn(h,2),E!==null&&Mn(E,h,2),Cu(),gh(h,2)}if(h=vh(o),h===null&&ih(t,e,o,Vu,i),h===f)break;f=h}f!==null&&o.stopPropagation()}else ih(t,e,o,null,i)}}function vh(t){return t=Es(t),_h(t)}var Vu=null;function _h(t){if(Vu=null,t=Qi(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Vu=t,null}function Dg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case Ut:return 2;case At:return 8;case Gt:case pe:return 32;case Et:return 268435456;default:return 32}default:return 32}}var bh=!1,ss=null,rs=null,os=null,fl=new Map,hl=new Map,ls=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jg(t,e){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function dl(t,e,i,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},e!==null&&(e=za(e),e!==null&&Rg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function ib(t,e,i,o,f){switch(e){case"focusin":return ss=dl(ss,t,e,i,o,f),!0;case"dragenter":return rs=dl(rs,t,e,i,o,f),!0;case"mouseover":return os=dl(os,t,e,i,o,f),!0;case"pointerover":var h=f.pointerId;return fl.set(h,dl(fl.get(h)||null,t,e,i,o,f)),!0;case"gotpointercapture":return h=f.pointerId,hl.set(h,dl(hl.get(h)||null,t,e,i,o,f)),!0}return!1}function Ug(t){var e=Qi(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,mo(t.priority,function(){Bg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,mo(t.priority,function(){Bg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=vh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);mr=o,i.target.dispatchEvent(o),mr=null}else return e=za(i),e!==null&&Rg(e),t.blockedOn=i,!1;e.shift()}return!0}function Hg(t,e,i){Yu(t)&&i.delete(e)}function ab(){bh=!1,ss!==null&&Yu(ss)&&(ss=null),rs!==null&&Yu(rs)&&(rs=null),os!==null&&Yu(os)&&(os=null),fl.forEach(Hg),hl.forEach(Hg)}function Ku(t,e){t.blockedOn===e&&(t.blockedOn=null,bh||(bh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ab)))}var Qu=null;function Pg(t){Qu!==t&&(Qu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],f=t[e+2];if(typeof o!="function"){if(_h(o||i)===null)continue;break}var h=za(i);h!==null&&(t.splice(e,3),e-=3,vf(h,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Fr(t){function e(O){return Ku(O,t)}ss!==null&&Ku(ss,t),rs!==null&&Ku(rs,t),os!==null&&Ku(os,t),fl.forEach(e),hl.forEach(e);for(var i=0;i<ls.length;i++){var o=ls[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ls.length&&(i=ls[0],i.blockedOn===null);)Ug(i),i.blockedOn===null&&ls.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],v=f[Qe]||null;if(typeof h=="function")v||Pg(i);else if(v){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Qe]||null)E=v.formAction;else if(_h(f)!==null)continue}else E=v.action;typeof E=="function"?i[o+1]=E:(i.splice(o,3),o-=3),Pg(i)}}}function Zg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function e(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),f!==null&&(f(),f=null)}}}function xh(t){this._internalRoot=t}Xu.prototype.render=xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,o=Zn();Og(i,o,t,e,null,null)},Xu.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Og(t.current,2,null,t,null,null),Cu(),e[Ki]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ho();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ls.length&&e!==0&&e<ls[i].priority;i++);ls.splice(i,0,t),i===0&&Ug(t)}};var qg=s.version;if(qg!=="19.2.3")throw Error(u(527,qg,"19.2.3"));Q.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=x(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Ee=Fu.inject(sb),he=Fu}catch{}}return pl.createRoot=function(t,e){if(!d(t))throw Error(u(299));var i=!1,o="",f=Xm,h=Fm,v=Jm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=Mg(t,1,!1,null,null,i,o,null,f,h,v,Zg),t[Ki]=e.current,nh(t),new xh(e)},pl.hydrateRoot=function(t,e,i){if(!d(t))throw Error(u(299));var o=!1,f="",h=Xm,v=Fm,E=Jm,O=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),e=Mg(t,1,!0,e,i??null,o,f,O,h,v,E,Zg),e.context=Ng(null),i=e.current,o=Zn(),o=_n(o),f=Ka(o),f.callback=null,Qa(i,f,o),i=o,e.current.lanes=i,vn(e,i),Ui(e),t[Ki]=e.current,nh(t),new Xu(e)},pl.version="19.2.3",pl}var Wg;function mb(){if(Wg)return Eh.exports;Wg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),Eh.exports=db(),Eh.exports}var pb=mb();const gb=rd(pb),yb="modulepreload",vb=function(a){return"/parlens-pwa/"+a},$g={},_b=function(s,l,u){let d=Promise.resolve();if(l&&l.length>0){let x=function(A){return Promise.all(A.map(T=>Promise.resolve(T).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var _=x;document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),y=b?.nonce||b?.getAttribute("nonce");d=x(l.map(A=>{if(A=vb(A),A in $g)return;$g[A]=!0;const T=A.endsWith(".css"),k=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${k}`))return;const R=document.createElement("link");if(R.rel=T?"stylesheet":yb,T||(R.as="script"),R.crossOrigin="",R.href=A,y&&R.setAttribute("nonce",y),document.head.appendChild(R),T)return new Promise((D,M)=>{R.addEventListener("load",D),R.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${A}`)))})}))}function p(b){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=b,window.dispatchEvent(y),!y.defaultPrevented)throw b}return d.then(b=>{for(const y of b||[])y.status==="rejected"&&p(y.reason);return s().catch(p)})};function t0(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function j0(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function bb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t0(a.outputLen),t0(a.blockLen)}function ic(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function xb(a,s){j0(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const Lh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const U0=a=>a instanceof Uint8Array,Ch=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),Hi=(a,s)=>a<<32-s|a>>>s,wb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wb)throw new Error("Non little-endian hardware is not supported");function Sb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function ld(a){if(typeof a=="string"&&(a=Sb(a)),!U0(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function Eb(...a){const s=new Uint8Array(a.reduce((u,d)=>u+d.length,0));let l=0;return a.forEach(u=>{if(!U0(u))throw new Error("Uint8Array expected");s.set(u,l),l+=u.length}),s}let H0=class{clone(){return this._cloneInto()}};function Tb(a){const s=u=>a().update(ld(u)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function P0(a=32){if(Lh&&typeof Lh.getRandomValues=="function")return Lh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Ab(a,s,l,u){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,u);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),y=u?4:0,x=u?0:4;a.setUint32(s+y,_,u),a.setUint32(s+x,b,u)}let zb=class extends H0{constructor(s,l,u,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=u,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Ch(this.buffer)}update(s){ic(this);const{view:l,buffer:u,blockLen:d}=this;s=ld(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const y=Ch(s);for(;d<=p-_;_+=d)this.process(y,_);continue}u.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){ic(this),xb(s,this),this.finished=!0;const{buffer:l,view:u,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(u,0),_=0);for(let T=_;T<d;T++)l[T]=0;Ab(u,d-8,BigInt(this.length*8),p),this.process(u,0);const b=Ch(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=y/4,A=this.get();if(x>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<x;T++)b.setUint32(4*T,A[T],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const u=s.slice(0,l);return this.destroy(),u}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:u,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(u),s}};const Lb=(a,s,l)=>a&s^~a&l,Cb=(a,s,l)=>a&s^a&l^s&l,Mb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fs=new Uint32Array(64);let Nb=class extends zb{constructor(){super(64,32,8,!1),this.A=cs[0]|0,this.B=cs[1]|0,this.C=cs[2]|0,this.D=cs[3]|0,this.E=cs[4]|0,this.F=cs[5]|0,this.G=cs[6]|0,this.H=cs[7]|0}get(){const{A:s,B:l,C:u,D:d,E:p,F:_,G:b,H:y}=this;return[s,l,u,d,p,_,b,y]}set(s,l,u,d,p,_,b,y){this.A=s|0,this.B=l|0,this.C=u|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=y|0}process(s,l){for(let T=0;T<16;T++,l+=4)fs[T]=s.getUint32(l,!1);for(let T=16;T<64;T++){const k=fs[T-15],R=fs[T-2],D=Hi(k,7)^Hi(k,18)^k>>>3,M=Hi(R,17)^Hi(R,19)^R>>>10;fs[T]=M+fs[T-7]+D+fs[T-16]|0}let{A:u,B:d,C:p,D:_,E:b,F:y,G:x,H:A}=this;for(let T=0;T<64;T++){const k=Hi(b,6)^Hi(b,11)^Hi(b,25),R=A+k+Lb(b,y,x)+Mb[T]+fs[T]|0,M=(Hi(u,2)^Hi(u,13)^Hi(u,22))+Cb(u,d,p)|0;A=x,x=y,y=b,b=_+R|0,_=p,p=d,d=u,u=R+M|0}u=u+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,y=y+this.F|0,x=x+this.G|0,A=A+this.H|0,this.set(u,d,p,_,b,y,x,A)}roundClean(){fs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const qh=Tb(()=>new Nb);const Z0=BigInt(0),dc=BigInt(1),Ob=BigInt(2),mc=a=>a instanceof Uint8Array,kb=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function eo(a){if(!mc(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=kb[a[l]];return s}function q0(a){const s=a.toString(16);return s.length&1?`0${s}`:s}function ud(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function no(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let u=0;u<l.length;u++){const d=u*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[u]=_}return l}function Nn(a){return ud(eo(a))}function cd(a){if(!mc(a))throw new Error("Uint8Array expected");return ud(eo(Uint8Array.from(a).reverse()))}function gs(a,s){return no(a.toString(16).padStart(s*2,"0"))}function fd(a,s){return gs(a,s).reverse()}function Rb(a){return no(q0(a))}function cn(a,s,l){let u;if(typeof s=="string")try{u=no(s)}catch(p){throw new Error(`${a} must be valid hex string, got "${s}". Cause: ${p}`)}else if(mc(s))u=Uint8Array.from(s);else throw new Error(`${a} must be hex string or Uint8Array`);const d=u.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return u}function or(...a){const s=new Uint8Array(a.reduce((u,d)=>u+d.length,0));let l=0;return a.forEach(u=>{if(!mc(u))throw new Error("Uint8Array expected");s.set(u,l),l+=u.length}),s}function Bb(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0}function Db(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function jb(a){let s;for(s=0;a>Z0;a>>=dc,s+=1);return s}function Ub(a,s){return a>>BigInt(s)&dc}const Hb=(a,s,l)=>a|(l?dc:Z0)<<BigInt(s),hd=a=>(Ob<<BigInt(a-1))-dc,Mh=a=>new Uint8Array(a),e0=a=>Uint8Array.from(a);function G0(a,s,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let u=Mh(a),d=Mh(a),p=0;const _=()=>{u.fill(1),d.fill(0),p=0},b=(...T)=>l(d,u,...T),y=(T=Mh())=>{d=b(e0([0]),T),u=b(),T.length!==0&&(d=b(e0([1]),T),u=b())},x=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const k=[];for(;T<s;){u=b();const R=u.slice();k.push(R),T+=u.length}return or(...k)};return(T,k)=>{_(),y(T);let R;for(;!(R=k(x()));)y();return _(),R}}const Pb={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,s)=>s.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function Al(a,s,l={}){const u=(d,p,_)=>{const b=Pb[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const y=a[d];if(!(_&&y===void 0)&&!b(y,a))throw new Error(`Invalid param ${String(d)}=${y} (${typeof y}), expected ${p}`)};for(const[d,p]of Object.entries(s))u(d,p,!1);for(const[d,p]of Object.entries(l))u(d,p,!0);return a}const Zb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Ub,bitLen:jb,bitMask:hd,bitSet:Hb,bytesToHex:eo,bytesToNumberBE:Nn,bytesToNumberLE:cd,concatBytes:or,createHmacDrbg:G0,ensureBytes:cn,equalBytes:Bb,hexToBytes:no,hexToNumber:ud,numberToBytesBE:gs,numberToBytesLE:fd,numberToHexUnpadded:q0,numberToVarBytesBE:Rb,utf8ToBytes:Db,validateObject:Al},Symbol.toStringTag,{value:"Module"}));const We=BigInt(0),Oe=BigInt(1),ir=BigInt(2),qb=BigInt(3),Gh=BigInt(4),n0=BigInt(5),i0=BigInt(8);BigInt(9);BigInt(16);function sn(a,s){const l=a%s;return l>=We?l:s+l}function Gb(a,s,l){if(l<=We||s<We)throw new Error("Expected power/modulo > 0");if(l===Oe)return We;let u=Oe;for(;s>We;)s&Oe&&(u=u*a%l),a=a*a%l,s>>=Oe;return u}function ei(a,s,l){let u=a;for(;s-- >We;)u*=u,u%=l;return u}function Ih(a,s){if(a===We||s<=We)throw new Error(`invert: expected positive integers, got n=${a} mod=${s}`);let l=sn(a,s),u=s,d=We,p=Oe;for(;l!==We;){const b=u/l,y=u%l,x=d-p*b;u=l,l=y,d=p,p=x}if(u!==Oe)throw new Error("invert: does not exist");return sn(d,s)}function Ib(a){const s=(a-Oe)/ir;let l,u,d;for(l=a-Oe,u=0;l%ir===We;l/=ir,u++);for(d=ir;d<a&&Gb(d,s,a)!==a-Oe;d++);if(u===1){const _=(a+Oe)/Gh;return function(y,x){const A=y.pow(x,_);if(!y.eql(y.sqr(A),x))throw new Error("Cannot find square root");return A}}const p=(l+Oe)/ir;return function(b,y){if(b.pow(y,s)===b.neg(b.ONE))throw new Error("Cannot find square root");let x=u,A=b.pow(b.mul(b.ONE,d),l),T=b.pow(y,p),k=b.pow(y,l);for(;!b.eql(k,b.ONE);){if(b.eql(k,b.ZERO))return b.ZERO;let R=1;for(let M=b.sqr(k);R<x&&!b.eql(M,b.ONE);R++)M=b.sqr(M);const D=b.pow(A,Oe<<BigInt(x-R-1));A=b.sqr(D),T=b.mul(T,D),k=b.mul(k,A),x=R}return T}}function Vb(a){if(a%Gh===qb){const s=(a+Oe)/Gh;return function(u,d){const p=u.pow(d,s);if(!u.eql(u.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%i0===n0){const s=(a-n0)/i0;return function(u,d){const p=u.mul(d,ir),_=u.pow(p,s),b=u.mul(d,_),y=u.mul(u.mul(b,ir),_),x=u.mul(b,u.sub(y,u.ONE));if(!u.eql(u.sqr(x),d))throw new Error("Cannot find square root");return x}}return Ib(a)}const Yb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kb(a){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=Yb.reduce((u,d)=>(u[d]="function",u),s);return Al(a,l)}function Qb(a,s,l){if(l<We)throw new Error("Expected power > 0");if(l===We)return a.ONE;if(l===Oe)return s;let u=a.ONE,d=s;for(;l>We;)l&Oe&&(u=a.mul(u,d)),d=a.sqr(d),l>>=Oe;return u}function Xb(a,s){const l=new Array(s.length),u=s.reduce((p,_,b)=>a.is0(_)?p:(l[b]=p,a.mul(p,_)),a.ONE),d=a.inv(u);return s.reduceRight((p,_,b)=>a.is0(_)?p:(l[b]=a.mul(p,l[b]),a.mul(p,_)),d),l}function I0(a,s){const l=s!==void 0?s:a.toString(2).length,u=Math.ceil(l/8);return{nBitLength:l,nByteLength:u}}function Fb(a,s,l=!1,u={}){if(a<=We)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=I0(a,s);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _=Vb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:hd(d),ZERO:We,ONE:Oe,create:y=>sn(y,a),isValid:y=>{if(typeof y!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof y}`);return We<=y&&y<a},is0:y=>y===We,isOdd:y=>(y&Oe)===Oe,neg:y=>sn(-y,a),eql:(y,x)=>y===x,sqr:y=>sn(y*y,a),add:(y,x)=>sn(y+x,a),sub:(y,x)=>sn(y-x,a),mul:(y,x)=>sn(y*x,a),pow:(y,x)=>Qb(b,y,x),div:(y,x)=>sn(y*Ih(x,a),a),sqrN:y=>y*y,addN:(y,x)=>y+x,subN:(y,x)=>y-x,mulN:(y,x)=>y*x,inv:y=>Ih(y,a),sqrt:u.sqrt||(y=>_(b,y)),invertBatch:y=>Xb(b,y),cmov:(y,x,A)=>A?x:y,toBytes:y=>l?fd(y,p):gs(y,p),fromBytes:y=>{if(y.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${y.length}`);return l?cd(y):Nn(y)}});return Object.freeze(b)}function V0(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const s=a.toString(2).length;return Math.ceil(s/8)}function Y0(a){const s=V0(a);return s+Math.ceil(s/2)}function Jb(a,s,l=!1){const u=a.length,d=V0(s),p=Y0(s);if(u<16||u<p||u>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${u}`);const _=l?Nn(a):cd(a),b=sn(_,s-Oe)+Oe;return l?fd(b,d):gs(b,d)}const Wb=BigInt(0),Nh=BigInt(1);function $b(a,s){const l=(d,p)=>{const _=p.negate();return d?_:p},u=d=>{const p=Math.ceil(s/d)+1,_=2**(d-1);return{windows:p,windowSize:_}};return{constTimeNegate:l,unsafeLadder(d,p){let _=a.ZERO,b=d;for(;p>Wb;)p&Nh&&(_=_.add(b)),b=b.double(),p>>=Nh;return _},precomputeWindow(d,p){const{windows:_,windowSize:b}=u(p),y=[];let x=d,A=x;for(let T=0;T<_;T++){A=x,y.push(A);for(let k=1;k<b;k++)A=A.add(x),y.push(A);x=A.double()}return y},wNAF(d,p,_){const{windows:b,windowSize:y}=u(d);let x=a.ZERO,A=a.BASE;const T=BigInt(2**d-1),k=2**d,R=BigInt(d);for(let D=0;D<b;D++){const M=D*y;let Z=Number(_&T);_>>=R,Z>y&&(Z-=k,_+=Nh);const P=M,j=M+Math.abs(Z)-1,tt=D%2!==0,yt=Z<0;Z===0?A=A.add(l(tt,p[P])):x=x.add(l(yt,p[j]))}return{p:x,f:A}},wNAFCached(d,p,_,b){const y=d._WINDOW_SIZE||1;let x=p.get(d);return x||(x=this.precomputeWindow(d,y),y!==1&&p.set(d,b(x))),this.wNAF(y,x,_)}}}function K0(a){return Kb(a.Fp),Al(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...I0(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function tx(a){const s=K0(a);Al(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:u,a:d}=s;if(l){if(!u.eql(d,u.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:ex,hexToBytes:nx}=Zb,sr={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(a){const{Err:s}=sr;if(a.length<2||a[0]!==2)throw new s("Invalid signature integer tag");const l=a[1],u=a.subarray(2,l+2);if(!l||u.length!==l)throw new s("Invalid signature integer: wrong length");if(u[0]&128)throw new s("Invalid signature integer: negative");if(u[0]===0&&!(u[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:ex(u),l:a.subarray(l+2)}},toSig(a){const{Err:s}=sr,l=typeof a=="string"?nx(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let u=l.length;if(u<2||l[0]!=48)throw new s("Invalid signature tag");if(l[1]!==u-2)throw new s("Invalid signature: incorrect length");const{d,l:p}=sr._parseInt(l.subarray(2)),{d:_,l:b}=sr._parseInt(p);if(b.length)throw new s("Invalid signature: left bytes after parsing");return{r:d,s:_}},hexFromSig(a){const s=x=>Number.parseInt(x[0],16)&8?"00"+x:x,l=x=>{const A=x.toString(16);return A.length&1?`0${A}`:A},u=s(l(a.s)),d=s(l(a.r)),p=u.length/2,_=d.length/2,b=l(p),y=l(_);return`30${l(_+p+4)}02${y}${d}02${b}${u}`}},ya=BigInt(0),ni=BigInt(1);BigInt(2);const a0=BigInt(3);BigInt(4);function ix(a){const s=tx(a),{Fp:l}=s,u=s.toBytes||((D,M,Z)=>{const P=M.toAffine();return or(Uint8Array.from([4]),l.toBytes(P.x),l.toBytes(P.y))}),d=s.fromBytes||(D=>{const M=D.subarray(1),Z=l.fromBytes(M.subarray(0,l.BYTES)),P=l.fromBytes(M.subarray(l.BYTES,2*l.BYTES));return{x:Z,y:P}});function p(D){const{a:M,b:Z}=s,P=l.sqr(D),j=l.mul(P,D);return l.add(l.add(j,l.mul(D,M)),Z)}if(!l.eql(l.sqr(s.Gy),p(s.Gx)))throw new Error("bad generator point: equation left != right");function _(D){return typeof D=="bigint"&&ya<D&&D<s.n}function b(D){if(!_(D))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(D){const{allowedPrivateKeyLengths:M,nByteLength:Z,wrapPrivateKey:P,n:j}=s;if(M&&typeof D!="bigint"){if(D instanceof Uint8Array&&(D=eo(D)),typeof D!="string"||!M.includes(D.length))throw new Error("Invalid key");D=D.padStart(Z*2,"0")}let tt;try{tt=typeof D=="bigint"?D:Nn(cn("private key",D,Z))}catch{throw new Error(`private key must be ${Z} bytes, hex or bigint, not ${typeof D}`)}return P&&(tt=sn(tt,j)),b(tt),tt}const x=new Map;function A(D){if(!(D instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(M,Z,P){if(this.px=M,this.py=Z,this.pz=P,M==null||!l.isValid(M))throw new Error("x required");if(Z==null||!l.isValid(Z))throw new Error("y required");if(P==null||!l.isValid(P))throw new Error("z required")}static fromAffine(M){const{x:Z,y:P}=M||{};if(!M||!l.isValid(Z)||!l.isValid(P))throw new Error("invalid affine point");if(M instanceof T)throw new Error("projective point not allowed");const j=tt=>l.eql(tt,l.ZERO);return j(Z)&&j(P)?T.ZERO:new T(Z,P,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const Z=l.invertBatch(M.map(P=>P.pz));return M.map((P,j)=>P.toAffine(Z[j])).map(T.fromAffine)}static fromHex(M){const Z=T.fromAffine(d(cn("pointHex",M)));return Z.assertValidity(),Z}static fromPrivateKey(M){return T.BASE.multiply(y(M))}_setWindowSize(M){this._WINDOW_SIZE=M,x.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:M,y:Z}=this.toAffine();if(!l.isValid(M)||!l.isValid(Z))throw new Error("bad point: x or y not FE");const P=l.sqr(Z),j=p(M);if(!l.eql(P,j))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:M}=this.toAffine();if(l.isOdd)return!l.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){A(M);const{px:Z,py:P,pz:j}=this,{px:tt,py:yt,pz:ut}=M,W=l.eql(l.mul(Z,ut),l.mul(tt,j)),X=l.eql(l.mul(P,ut),l.mul(yt,j));return W&&X}negate(){return new T(this.px,l.neg(this.py),this.pz)}double(){const{a:M,b:Z}=s,P=l.mul(Z,a0),{px:j,py:tt,pz:yt}=this;let ut=l.ZERO,W=l.ZERO,X=l.ZERO,ot=l.mul(j,j),ct=l.mul(tt,tt),gt=l.mul(yt,yt),ft=l.mul(j,tt);return ft=l.add(ft,ft),X=l.mul(j,yt),X=l.add(X,X),ut=l.mul(M,X),W=l.mul(P,gt),W=l.add(ut,W),ut=l.sub(ct,W),W=l.add(ct,W),W=l.mul(ut,W),ut=l.mul(ft,ut),X=l.mul(P,X),gt=l.mul(M,gt),ft=l.sub(ot,gt),ft=l.mul(M,ft),ft=l.add(ft,X),X=l.add(ot,ot),ot=l.add(X,ot),ot=l.add(ot,gt),ot=l.mul(ot,ft),W=l.add(W,ot),gt=l.mul(tt,yt),gt=l.add(gt,gt),ot=l.mul(gt,ft),ut=l.sub(ut,ot),X=l.mul(gt,ct),X=l.add(X,X),X=l.add(X,X),new T(ut,W,X)}add(M){A(M);const{px:Z,py:P,pz:j}=this,{px:tt,py:yt,pz:ut}=M;let W=l.ZERO,X=l.ZERO,ot=l.ZERO;const ct=s.a,gt=l.mul(s.b,a0);let ft=l.mul(Z,tt),vt=l.mul(P,yt),Ct=l.mul(j,ut),zt=l.add(Z,P),rt=l.add(tt,yt);zt=l.mul(zt,rt),rt=l.add(ft,vt),zt=l.sub(zt,rt),rt=l.add(Z,j);let N=l.add(tt,ut);return rt=l.mul(rt,N),N=l.add(ft,Ct),rt=l.sub(rt,N),N=l.add(P,j),W=l.add(yt,ut),N=l.mul(N,W),W=l.add(vt,Ct),N=l.sub(N,W),ot=l.mul(ct,rt),W=l.mul(gt,Ct),ot=l.add(W,ot),W=l.sub(vt,ot),ot=l.add(vt,ot),X=l.mul(W,ot),vt=l.add(ft,ft),vt=l.add(vt,ft),Ct=l.mul(ct,Ct),rt=l.mul(gt,rt),vt=l.add(vt,Ct),Ct=l.sub(ft,Ct),Ct=l.mul(ct,Ct),rt=l.add(rt,Ct),ft=l.mul(vt,rt),X=l.add(X,ft),ft=l.mul(N,rt),W=l.mul(zt,W),W=l.sub(W,ft),ft=l.mul(zt,vt),ot=l.mul(N,ot),ot=l.add(ot,ft),new T(W,X,ot)}subtract(M){return this.add(M.negate())}is0(){return this.equals(T.ZERO)}wNAF(M){return R.wNAFCached(this,x,M,Z=>{const P=l.invertBatch(Z.map(j=>j.pz));return Z.map((j,tt)=>j.toAffine(P[tt])).map(T.fromAffine)})}multiplyUnsafe(M){const Z=T.ZERO;if(M===ya)return Z;if(b(M),M===ni)return this;const{endo:P}=s;if(!P)return R.unsafeLadder(this,M);let{k1neg:j,k1:tt,k2neg:yt,k2:ut}=P.splitScalar(M),W=Z,X=Z,ot=this;for(;tt>ya||ut>ya;)tt&ni&&(W=W.add(ot)),ut&ni&&(X=X.add(ot)),ot=ot.double(),tt>>=ni,ut>>=ni;return j&&(W=W.negate()),yt&&(X=X.negate()),X=new T(l.mul(X.px,P.beta),X.py,X.pz),W.add(X)}multiply(M){b(M);let Z=M,P,j;const{endo:tt}=s;if(tt){const{k1neg:yt,k1:ut,k2neg:W,k2:X}=tt.splitScalar(Z);let{p:ot,f:ct}=this.wNAF(ut),{p:gt,f:ft}=this.wNAF(X);ot=R.constTimeNegate(yt,ot),gt=R.constTimeNegate(W,gt),gt=new T(l.mul(gt.px,tt.beta),gt.py,gt.pz),P=ot.add(gt),j=ct.add(ft)}else{const{p:yt,f:ut}=this.wNAF(Z);P=yt,j=ut}return T.normalizeZ([P,j])[0]}multiplyAndAddUnsafe(M,Z,P){const j=T.BASE,tt=(ut,W)=>W===ya||W===ni||!ut.equals(j)?ut.multiplyUnsafe(W):ut.multiply(W),yt=tt(this,Z).add(tt(M,P));return yt.is0()?void 0:yt}toAffine(M){const{px:Z,py:P,pz:j}=this,tt=this.is0();M==null&&(M=tt?l.ONE:l.inv(j));const yt=l.mul(Z,M),ut=l.mul(P,M),W=l.mul(j,M);if(tt)return{x:l.ZERO,y:l.ZERO};if(!l.eql(W,l.ONE))throw new Error("invZ was invalid");return{x:yt,y:ut}}isTorsionFree(){const{h:M,isTorsionFree:Z}=s;if(M===ni)return!0;if(Z)return Z(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:Z}=s;return M===ni?this:Z?Z(T,this):this.multiplyUnsafe(s.h)}toRawBytes(M=!0){return this.assertValidity(),u(T,this,M)}toHex(M=!0){return eo(this.toRawBytes(M))}}T.BASE=new T(s.Gx,s.Gy,l.ONE),T.ZERO=new T(l.ZERO,l.ONE,l.ZERO);const k=s.nBitLength,R=$b(T,s.endo?Math.ceil(k/2):k);return{CURVE:s,ProjectivePoint:T,normPrivateKeyToScalar:y,weierstrassEquation:p,isWithinCurveOrder:_}}function ax(a){const s=K0(a);return Al(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function sx(a){const s=ax(a),{Fp:l,n:u}=s,d=l.BYTES+1,p=2*l.BYTES+1;function _(rt){return ya<rt&&rt<l.ORDER}function b(rt){return sn(rt,u)}function y(rt){return Ih(rt,u)}const{ProjectivePoint:x,normPrivateKeyToScalar:A,weierstrassEquation:T,isWithinCurveOrder:k}=ix({...s,toBytes(rt,N,Q){const F=N.toAffine(),mt=l.toBytes(F.x),nt=or;return Q?nt(Uint8Array.from([N.hasEvenY()?2:3]),mt):nt(Uint8Array.from([4]),mt,l.toBytes(F.y))},fromBytes(rt){const N=rt.length,Q=rt[0],F=rt.subarray(1);if(N===d&&(Q===2||Q===3)){const mt=Nn(F);if(!_(mt))throw new Error("Point is not on curve");const nt=T(mt);let z=l.sqrt(nt);const q=(z&ni)===ni;return(Q&1)===1!==q&&(z=l.neg(z)),{x:mt,y:z}}else if(N===p&&Q===4){const mt=l.fromBytes(F.subarray(0,l.BYTES)),nt=l.fromBytes(F.subarray(l.BYTES,2*l.BYTES));return{x:mt,y:nt}}else throw new Error(`Point of length ${N} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),R=rt=>eo(gs(rt,s.nByteLength));function D(rt){const N=u>>ni;return rt>N}function M(rt){return D(rt)?b(-rt):rt}const Z=(rt,N,Q)=>Nn(rt.slice(N,Q));class P{constructor(N,Q,F){this.r=N,this.s=Q,this.recovery=F,this.assertValidity()}static fromCompact(N){const Q=s.nByteLength;return N=cn("compactSignature",N,Q*2),new P(Z(N,0,Q),Z(N,Q,2*Q))}static fromDER(N){const{r:Q,s:F}=sr.toSig(cn("DER",N));return new P(Q,F)}assertValidity(){if(!k(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!k(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(N){return new P(this.r,this.s,N)}recoverPublicKey(N){const{r:Q,s:F,recovery:mt}=this,nt=X(cn("msgHash",N));if(mt==null||![0,1,2,3].includes(mt))throw new Error("recovery id invalid");const z=mt===2||mt===3?Q+s.n:Q;if(z>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(mt&1)===0?"02":"03",st=x.fromHex(q+R(z)),lt=y(z),dt=b(-nt*lt),ht=b(F*lt),bt=x.BASE.multiplyAndAddUnsafe(st,dt,ht);if(!bt)throw new Error("point at infinify");return bt.assertValidity(),bt}hasHighS(){return D(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return no(this.toDERHex())}toDERHex(){return sr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return no(this.toCompactHex())}toCompactHex(){return R(this.r)+R(this.s)}}const j={isValidPrivateKey(rt){try{return A(rt),!0}catch{return!1}},normPrivateKeyToScalar:A,randomPrivateKey:()=>{const rt=Y0(s.n);return Jb(s.randomBytes(rt),s.n)},precompute(rt=8,N=x.BASE){return N._setWindowSize(rt),N.multiply(BigInt(3)),N}};function tt(rt,N=!0){return x.fromPrivateKey(rt).toRawBytes(N)}function yt(rt){const N=rt instanceof Uint8Array,Q=typeof rt=="string",F=(N||Q)&&rt.length;return N?F===d||F===p:Q?F===2*d||F===2*p:rt instanceof x}function ut(rt,N,Q=!0){if(yt(rt))throw new Error("first arg must be private key");if(!yt(N))throw new Error("second arg must be public key");return x.fromHex(N).multiply(A(rt)).toRawBytes(Q)}const W=s.bits2int||function(rt){const N=Nn(rt),Q=rt.length*8-s.nBitLength;return Q>0?N>>BigInt(Q):N},X=s.bits2int_modN||function(rt){return b(W(rt))},ot=hd(s.nBitLength);function ct(rt){if(typeof rt!="bigint")throw new Error("bigint expected");if(!(ya<=rt&&rt<ot))throw new Error(`bigint expected < 2^${s.nBitLength}`);return gs(rt,s.nByteLength)}function gt(rt,N,Q=ft){if(["recovered","canonical"].some(Vt=>Vt in Q))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:mt}=s;let{lowS:nt,prehash:z,extraEntropy:q}=Q;nt==null&&(nt=!0),rt=cn("msgHash",rt),z&&(rt=cn("prehashed msgHash",F(rt)));const st=X(rt),lt=A(N),dt=[ct(lt),ct(st)];if(q!=null){const Vt=q===!0?mt(l.BYTES):q;dt.push(cn("extraEntropy",Vt))}const ht=or(...dt),bt=st;function Zt(Vt){const Ce=W(Vt);if(!k(Ce))return;const $e=y(Ce),_e=x.BASE.multiply(Ce).toAffine(),Ze=b(_e.x);if(Ze===ya)return;const qe=b($e*b(bt+Ze*lt));if(qe===ya)return;let hn=(_e.x===Ze?0:2)|Number(_e.y&ni),dn=qe;return nt&&D(qe)&&(dn=M(qe),hn^=1),new P(Ze,dn,hn)}return{seed:ht,k2sig:Zt}}const ft={lowS:s.lowS,prehash:!1},vt={lowS:s.lowS,prehash:!1};function Ct(rt,N,Q=ft){const{seed:F,k2sig:mt}=gt(rt,N,Q),nt=s;return G0(nt.hash.outputLen,nt.nByteLength,nt.hmac)(F,mt)}x.BASE._setWindowSize(8);function zt(rt,N,Q,F=vt){const mt=rt;if(N=cn("msgHash",N),Q=cn("publicKey",Q),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:nt,prehash:z}=F;let q,st;try{if(typeof mt=="string"||mt instanceof Uint8Array)try{q=P.fromDER(mt)}catch(_e){if(!(_e instanceof sr.Err))throw _e;q=P.fromCompact(mt)}else if(typeof mt=="object"&&typeof mt.r=="bigint"&&typeof mt.s=="bigint"){const{r:_e,s:Ze}=mt;q=new P(_e,Ze)}else throw new Error("PARSE");st=x.fromHex(Q)}catch(_e){if(_e.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(nt&&q.hasHighS())return!1;z&&(N=s.hash(N));const{r:lt,s:dt}=q,ht=X(N),bt=y(dt),Zt=b(ht*bt),Vt=b(lt*bt),Ce=x.BASE.multiplyAndAddUnsafe(st,Zt,Vt)?.toAffine();return Ce?b(Ce.x)===lt:!1}return{CURVE:s,getPublicKey:tt,getSharedSecret:ut,sign:Ct,verify:zt,ProjectivePoint:x,Signature:P,utils:j}}let Q0=class extends H0{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,bb(s);const u=ld(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(u.length>d?s.create().update(u).digest():u);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return ic(this),this.iHash.update(s),this}digestInto(s){ic(this),j0(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:u,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=u._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const X0=(a,s,l)=>new Q0(a,s).update(l).digest();X0.create=(a,s)=>new Q0(a,s);function rx(a){return{hash:a,hmac:(s,...l)=>X0(a,s,Eb(...l)),randomBytes:P0}}function ox(a,s){const l=u=>sx({...a,...rx(u)});return Object.freeze({...l(s),create:l})}const pc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ac=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),F0=BigInt(1),sc=BigInt(2),s0=(a,s)=>(a+s/sc)/s;function J0(a){const s=pc,l=BigInt(3),u=BigInt(6),d=BigInt(11),p=BigInt(22),_=BigInt(23),b=BigInt(44),y=BigInt(88),x=a*a*a%s,A=x*x*a%s,T=ei(A,l,s)*A%s,k=ei(T,l,s)*A%s,R=ei(k,sc,s)*x%s,D=ei(R,d,s)*R%s,M=ei(D,p,s)*D%s,Z=ei(M,b,s)*M%s,P=ei(Z,y,s)*Z%s,j=ei(P,b,s)*M%s,tt=ei(j,l,s)*A%s,yt=ei(tt,_,s)*D%s,ut=ei(yt,u,s)*x%s,W=ei(ut,sc,s);if(!Vh.eql(Vh.sqr(W),a))throw new Error("Cannot find square root");return W}const Vh=Fb(pc,void 0,void 0,{sqrt:J0}),so=ox({a:BigInt(0),b:BigInt(7),Fp:Vh,n:ac,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const s=ac,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),u=-F0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,_=BigInt("0x100000000000000000000000000000000"),b=s0(p*a,s),y=s0(-u*a,s);let x=sn(a-b*l-y*d,s),A=sn(-b*u-y*p,s);const T=x>_,k=A>_;if(T&&(x=s-x),k&&(A=s-A),x>_||A>_)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:T,k1:x,k2neg:k,k2:A}}}},qh),gc=BigInt(0),W0=a=>typeof a=="bigint"&&gc<a&&a<pc,lx=a=>typeof a=="bigint"&&gc<a&&a<ac,r0={};function rc(a,...s){let l=r0[a];if(l===void 0){const u=qh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=or(u,u),r0[a]=l}return qh(or(l,...s))}const dd=a=>a.toRawBytes(!0).slice(1),Yh=a=>gs(a,32),Oh=a=>sn(a,pc),vl=a=>sn(a,ac),md=so.ProjectivePoint,ux=(a,s,l)=>md.BASE.multiplyAndAddUnsafe(a,s,l);function Kh(a){let s=so.utils.normPrivateKeyToScalar(a),l=md.fromPrivateKey(s);return{scalar:l.hasEvenY()?s:vl(-s),bytes:dd(l)}}function $0(a){if(!W0(a))throw new Error("bad x: need 0 < x < p");const s=Oh(a*a),l=Oh(s*a+BigInt(7));let u=J0(l);u%sc!==gc&&(u=Oh(-u));const d=new md(a,u,F0);return d.assertValidity(),d}function ty(...a){return vl(Nn(rc("BIP0340/challenge",...a)))}function cx(a){return Kh(a).bytes}function fx(a,s,l=P0(32)){const u=cn("message",a),{bytes:d,scalar:p}=Kh(s),_=cn("auxRand",l,32),b=Yh(p^Nn(rc("BIP0340/aux",_))),y=rc("BIP0340/nonce",b,d,u),x=vl(Nn(y));if(x===gc)throw new Error("sign failed: k is zero");const{bytes:A,scalar:T}=Kh(x),k=ty(A,d,u),R=new Uint8Array(64);if(R.set(A,0),R.set(Yh(vl(T+k*p)),32),!ey(R,u,d))throw new Error("sign: Invalid signature produced");return R}function ey(a,s,l){const u=cn("signature",a,64),d=cn("message",s),p=cn("publicKey",l,32);try{const _=$0(Nn(p)),b=Nn(u.subarray(0,32));if(!W0(b))return!1;const y=Nn(u.subarray(32,64));if(!lx(y))return!1;const x=ty(Yh(b),dd(_),d),A=ux(_,y,vl(-x));return!(!A||!A.hasEvenY()||A.toAffine().x!==b)}catch{return!1}}const Zi={getPublicKey:cx,sign:fx,verify:ey,utils:{randomPrivateKey:so.utils.randomPrivateKey,lift_x:$0,pointToBytes:dd,numberToBytesBE:gs,bytesToNumberBE:Nn,taggedHash:rc,mod:sn}},kh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const pd=a=>a instanceof Uint8Array,Rh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),Pi=(a,s)=>a<<32-s|a>>>s,hx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!hx)throw new Error("Non little-endian hardware is not supported");const dx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Pe(a){if(!pd(a))throw new Error("Uint8Array expected");let s="";for(let l=0;l<a.length;l++)s+=dx[a[l]];return s}function lr(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const l=new Uint8Array(s/2);for(let u=0;u<l.length;u++){const d=u*2,p=a.slice(d,d+2),_=Number.parseInt(p,16);if(Number.isNaN(_)||_<0)throw new Error("Invalid byte sequence");l[u]=_}return l}function mx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function _l(a){if(typeof a=="string"&&(a=mx(a)),!pd(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function yc(...a){const s=new Uint8Array(a.reduce((u,d)=>u+d.length,0));let l=0;return a.forEach(u=>{if(!pd(u))throw new Error("Uint8Array expected");s.set(u,l),l+=u.length}),s}class ny{clone(){return this._cloneInto()}}function iy(a){const s=u=>a().update(_l(u)).digest(),l=a();return s.outputLen=l.outputLen,s.blockLen=l.blockLen,s.create=()=>a(),s}function ay(a=32){if(kh&&typeof kh.getRandomValues=="function")return kh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Qh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function px(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function sy(a,...s){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(a.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${a.length}`)}function gx(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qh(a.outputLen),Qh(a.blockLen)}function yx(a,s=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(s&&a.finished)throw new Error("Hash#digest() has already been called")}function vx(a,s){sy(a);const l=s.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const qi={number:Qh,bool:px,bytes:sy,hash:gx,exists:yx,output:vx};function _x(a,s,l,u){if(typeof a.setBigUint64=="function")return a.setBigUint64(s,l,u);const d=BigInt(32),p=BigInt(4294967295),_=Number(l>>d&p),b=Number(l&p),y=u?4:0,x=u?0:4;a.setUint32(s+y,_,u),a.setUint32(s+x,b,u)}class bx extends ny{constructor(s,l,u,d){super(),this.blockLen=s,this.outputLen=l,this.padOffset=u,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=Rh(this.buffer)}update(s){qi.exists(this);const{view:l,buffer:u,blockLen:d}=this;s=_l(s);const p=s.length;for(let _=0;_<p;){const b=Math.min(d-this.pos,p-_);if(b===d){const y=Rh(s);for(;d<=p-_;_+=d)this.process(y,_);continue}u.set(s.subarray(_,_+b),this.pos),this.pos+=b,_+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){qi.exists(this),qi.output(s,this),this.finished=!0;const{buffer:l,view:u,blockLen:d,isLE:p}=this;let{pos:_}=this;l[_++]=128,this.buffer.subarray(_).fill(0),this.padOffset>d-_&&(this.process(u,0),_=0);for(let T=_;T<d;T++)l[T]=0;_x(u,d-8,BigInt(this.length*8),p),this.process(u,0);const b=Rh(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=y/4,A=this.get();if(x>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<x;T++)b.setUint32(4*T,A[T],p)}digest(){const{buffer:s,outputLen:l}=this;this.digestInto(s);const u=s.slice(0,l);return this.destroy(),u}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:l,buffer:u,length:d,finished:p,destroyed:_,pos:b}=this;return s.length=d,s.pos=b,s.finished=p,s.destroyed=_,d%l&&s.buffer.set(u),s}}const xx=(a,s,l)=>a&s^~a&l,wx=(a,s,l)=>a&s^a&l^s&l,Sx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ds=new Uint32Array(64);class ry extends bx{constructor(){super(64,32,8,!1),this.A=hs[0]|0,this.B=hs[1]|0,this.C=hs[2]|0,this.D=hs[3]|0,this.E=hs[4]|0,this.F=hs[5]|0,this.G=hs[6]|0,this.H=hs[7]|0}get(){const{A:s,B:l,C:u,D:d,E:p,F:_,G:b,H:y}=this;return[s,l,u,d,p,_,b,y]}set(s,l,u,d,p,_,b,y){this.A=s|0,this.B=l|0,this.C=u|0,this.D=d|0,this.E=p|0,this.F=_|0,this.G=b|0,this.H=y|0}process(s,l){for(let T=0;T<16;T++,l+=4)ds[T]=s.getUint32(l,!1);for(let T=16;T<64;T++){const k=ds[T-15],R=ds[T-2],D=Pi(k,7)^Pi(k,18)^k>>>3,M=Pi(R,17)^Pi(R,19)^R>>>10;ds[T]=M+ds[T-7]+D+ds[T-16]|0}let{A:u,B:d,C:p,D:_,E:b,F:y,G:x,H:A}=this;for(let T=0;T<64;T++){const k=Pi(b,6)^Pi(b,11)^Pi(b,25),R=A+k+xx(b,y,x)+Sx[T]+ds[T]|0,M=(Pi(u,2)^Pi(u,13)^Pi(u,22))+wx(u,d,p)|0;A=x,x=y,y=b,b=_+R|0,_=p,p=d,d=u,u=R+M|0}u=u+this.A|0,d=d+this.B|0,p=p+this.C|0,_=_+this.D|0,b=b+this.E|0,y=y+this.F|0,x=x+this.G|0,A=A+this.H|0,this.set(u,d,p,_,b,y,x,A)}roundClean(){ds.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Ex extends ry{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ys=iy(()=>new ry);iy(()=>new Ex);function ro(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function wa(...a){const s=(d,p)=>_=>d(p(_)),l=Array.from(a).reverse().reduce((d,p)=>d?s(d,p.encode):p.encode,void 0),u=a.reduce((d,p)=>d?s(d,p.decode):p.decode,void 0);return{encode:l,decode:u}}function Sa(a){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(l=>{if(ro(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const u=a.indexOf(l);if(u===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return u})}}}function Ea(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of s)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return s.join(a)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(a)}}}function vc(a,s="="){if(ro(a),typeof s!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let u of l)if(typeof u!="string")throw new Error(`padding.encode: non-string input=${u}`);for(;l.length*a%8;)l.push(s);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let u=l.length;if(u*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;u>0&&l[u-1]===s;u--)if(!((u-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,u)}}}function oy(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>a(s)}}function o0(a,s,l){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let u=0;const d=[],p=Array.from(a);for(p.forEach(_=>{if(ro(_),_<0||_>=s)throw new Error(`Wrong integer: ${_}`)});;){let _=0,b=!0;for(let y=u;y<p.length;y++){const x=p[y],A=s*_+x;if(!Number.isSafeInteger(A)||s*_/s!==_||A-x!==s*_)throw new Error("convertRadix: carry overflow");if(_=A%l,p[y]=Math.floor(A/l),!Number.isSafeInteger(p[y])||p[y]*l+_!==A)throw new Error("convertRadix: carry overflow");if(b)p[y]?b=!1:u=y;else continue}if(d.push(_),b)break}for(let _=0;_<a.length-1&&a[_]===0;_++)d.push(0);return d.reverse()}const ly=(a,s)=>s?ly(s,a%s):a,oc=(a,s)=>a+(s-ly(a,s));function Xh(a,s,l,u){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if(oc(s,l)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${l} carryBits=${oc(s,l)}`);let d=0,p=0;const _=2**l-1,b=[];for(const y of a){if(ro(y),y>=2**s)throw new Error(`convertRadix2: invalid data word=${y} from=${s}`);if(d=d<<s|y,p+s>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${s}`);for(p+=s;p>=l;p-=l)b.push((d>>p-l&_)>>>0);d&=2**p-1}if(d=d<<l-p&_,!u&&p>=s)throw new Error("Excess padding");if(!u&&d)throw new Error(`Non-zero padding: ${d}`);return u&&p>0&&b.push(d>>>0),b}function Tx(a){return ro(a),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return o0(Array.from(s),2**8,a)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(o0(s,a,2**8))}}}function vs(a,s=!1){if(ro(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(oc(8,a)>32||oc(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Xh(Array.from(l),8,a,!s)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Xh(l,a,8,s))}}}function l0(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return a.apply(null,s)}catch{}}}const Ax=wa(vs(4),Sa("0123456789ABCDEF"),Ea("")),zx=wa(vs(5),Sa("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),vc(5),Ea(""));wa(vs(5),Sa("0123456789ABCDEFGHIJKLMNOPQRSTUV"),vc(5),Ea(""));wa(vs(5),Sa("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ea(""),oy(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const ba=wa(vs(6),Sa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),vc(6),Ea("")),Lx=wa(vs(6),Sa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),vc(6),Ea("")),gd=a=>wa(Tx(58),Sa(a),Ea("")),Fh=gd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");gd("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");gd("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const u0=[0,2,3,5,6,7,9,10,11],Cx={encode(a){let s="";for(let l=0;l<a.length;l+=8){const u=a.subarray(l,l+8);s+=Fh.encode(u).padStart(u0[u.length],"1")}return s},decode(a){let s=[];for(let l=0;l<a.length;l+=11){const u=a.slice(l,l+11),d=u0.indexOf(u.length),p=Fh.decode(u);for(let _=0;_<p.length-d;_++)if(p[_]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(s)}},Jh=wa(Sa("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ea("")),c0=[996825010,642813549,513874426,1027748829,705979059];function gl(a){const s=a>>25;let l=(a&33554431)<<5;for(let u=0;u<c0.length;u++)(s>>u&1)===1&&(l^=c0[u]);return l}function f0(a,s,l=1){const u=a.length;let d=1;for(let p=0;p<u;p++){const _=a.charCodeAt(p);if(_<33||_>126)throw new Error(`Invalid prefix (${a})`);d=gl(d)^_>>5}d=gl(d);for(let p=0;p<u;p++)d=gl(d)^a.charCodeAt(p)&31;for(let p of s)d=gl(d)^p;for(let p=0;p<6;p++)d=gl(d);return d^=l,Jh.encode(Xh([d%2**30],30,5,!1))}function uy(a){const s=a==="bech32"?1:734539939,l=vs(5),u=l.decode,d=l.encode,p=l0(u);function _(A,T,k=90){if(typeof A!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof A}`);if(!Array.isArray(T)||T.length&&typeof T[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof T}`);const R=A.length+7+T.length;if(k!==!1&&R>k)throw new TypeError(`Length ${R} exceeds limit ${k}`);return A=A.toLowerCase(),`${A}1${Jh.encode(T)}${f0(A,T,s)}`}function b(A,T=90){if(typeof A!="string")throw new Error(`bech32.decode input should be string, not ${typeof A}`);if(A.length<8||T!==!1&&A.length>T)throw new TypeError(`Wrong string length: ${A.length} (${A}). Expected (8..${T})`);const k=A.toLowerCase();if(A!==k&&A!==A.toUpperCase())throw new Error("String must be lowercase or uppercase");A=k;const R=A.lastIndexOf("1");if(R===0||R===-1)throw new Error('Letter "1" must be present between prefix and data only');const D=A.slice(0,R),M=A.slice(R+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");const Z=Jh.decode(M).slice(0,-6),P=f0(D,Z,s);if(!M.endsWith(P))throw new Error(`Invalid checksum in ${A}: expected "${P}"`);return{prefix:D,words:Z}}const y=l0(b);function x(A){const{prefix:T,words:k}=b(A,!1);return{prefix:T,words:k,bytes:u(k)}}return{encode:_,decode:b,decodeToBytes:x,decodeUnsafe:y,fromWords:u,fromWordsUnsafe:p,toWords:d}}const io=uy("bech32");uy("bech32m");const Mx={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},Nx=wa(vs(4),Sa("0123456789abcdef"),Ea(""),oy(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),Ox={utf8:Mx,hex:Nx,base16:Ax,base32:zx,base64:ba,base64url:Lx,base58:Fh,base58xmr:Cx};`${Object.keys(Ox).join(", ")}`;function Bh(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function h0(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function kx(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function Gi(a,...s){if(!kx(a))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(a.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${a.length}`)}const fn=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),Rx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Rx)throw new Error("Non little-endian hardware is not supported");const Bx=Array.from({length:256},(a,s)=>s.toString(16).padStart(2,"0"));function Jr(a){Gi(a);let s="";for(let l=0;l<a.length;l++)s+=Bx[a[l]];return s}const pa={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function d0(a){if(a>=pa._0&&a<=pa._9)return a-pa._0;if(a>=pa._A&&a<=pa._F)return a-(pa._A-10);if(a>=pa._a&&a<=pa._f)return a-(pa._a-10)}function cy(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const s=a.length,l=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const u=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const _=d0(a.charCodeAt(p)),b=d0(a.charCodeAt(p+1));if(_===void 0||b===void 0){const y=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+p)}u[d]=_*16+b}return u}function Dx(a,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(a,s)}function jx(a,s){if(a.length!==s.length)return!1;let l=0;for(let u=0;u<a.length;u++)l|=a[u]^s[u];return l===0}const Ux=(a,s)=>(Object.assign(s,a),s),ps=16,Hx=283;function yd(a){return a<<1^Hx&-(a>>7)}function Wr(a,s){let l=0;for(;s>0;s>>=1)l^=a&-(s&1),a=yd(a);return l}const Wh=(()=>{let a=new Uint8Array(256);for(let l=0,u=1;l<256;l++,u^=yd(u))a[l]=u;const s=new Uint8Array(256);s[0]=99;for(let l=0;l<255;l++){let u=a[255-l];u|=u<<8,s[a[l]]=(u^u>>4^u>>5^u>>6^u>>7^99)&255}return s})(),Px=Wh.map((a,s)=>Wh.indexOf(s)),Zx=a=>a<<24|a>>>8,Dh=a=>a<<8|a>>>24;function fy(a,s){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((x,A)=>s(a[A])),u=l.map(Dh),d=u.map(Dh),p=d.map(Dh),_=new Uint32Array(256*256),b=new Uint32Array(256*256),y=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let A=0;A<256;A++){const T=x*256+A;_[T]=l[x]^u[A],b[T]=d[x]^p[A],y[T]=a[x]<<8|a[A]}return{sbox:a,sbox2:y,T0:l,T1:u,T2:d,T3:p,T01:_,T23:b}}const vd=fy(Wh,a=>Wr(a,3)<<24|a<<16|a<<8|Wr(a,2)),hy=fy(Px,a=>Wr(a,11)<<24|Wr(a,13)<<16|Wr(a,9)<<8|Wr(a,14)),qx=(()=>{const a=new Uint8Array(16);for(let s=0,l=1;s<16;s++,l=yd(l))a[s]=l;return a})();function dy(a){Gi(a);const s=a.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:l}=vd,u=fn(a),d=u.length,p=b=>Ii(l,b,b,b,b),_=new Uint32Array(s+28);_.set(u);for(let b=d;b<_.length;b++){let y=_[b-1];b%d===0?y=p(Zx(y))^qx[b/d-1]:d>6&&b%d===4&&(y=p(y)),_[b]=_[b-d]^y}return _}function Gx(a){const s=dy(a),l=s.slice(),u=s.length,{sbox2:d}=vd,{T0:p,T1:_,T2:b,T3:y}=hy;for(let x=0;x<u;x+=4)for(let A=0;A<4;A++)l[x+A]=s[u-x-4+A];s.fill(0);for(let x=4;x<u-4;x++){const A=l[x],T=Ii(d,A,A,A,A);l[x]=p[T&255]^_[T>>>8&255]^b[T>>>16&255]^y[T>>>24]}return l}function ms(a,s,l,u,d,p){return a[l<<8&65280|u>>>8&255]^s[d>>>8&65280|p>>>24&255]}function Ii(a,s,l,u,d){return a[s&255|l&65280]|a[u>>>16&255|d>>>16&65280]<<16}function m0(a,s,l,u,d){const{sbox2:p,T01:_,T23:b}=vd;let y=0;s^=a[y++],l^=a[y++],u^=a[y++],d^=a[y++];const x=a.length/4-2;for(let D=0;D<x;D++){const M=a[y++]^ms(_,b,s,l,u,d),Z=a[y++]^ms(_,b,l,u,d,s),P=a[y++]^ms(_,b,u,d,s,l),j=a[y++]^ms(_,b,d,s,l,u);s=M,l=Z,u=P,d=j}const A=a[y++]^Ii(p,s,l,u,d),T=a[y++]^Ii(p,l,u,d,s),k=a[y++]^Ii(p,u,d,s,l),R=a[y++]^Ii(p,d,s,l,u);return{s0:A,s1:T,s2:k,s3:R}}function Ix(a,s,l,u,d){const{sbox2:p,T01:_,T23:b}=hy;let y=0;s^=a[y++],l^=a[y++],u^=a[y++],d^=a[y++];const x=a.length/4-2;for(let D=0;D<x;D++){const M=a[y++]^ms(_,b,s,d,u,l),Z=a[y++]^ms(_,b,l,s,d,u),P=a[y++]^ms(_,b,u,l,s,d),j=a[y++]^ms(_,b,d,u,l,s);s=M,l=Z,u=P,d=j}const A=a[y++]^Ii(p,s,d,u,l),T=a[y++]^Ii(p,l,s,d,u),k=a[y++]^Ii(p,u,l,s,d),R=a[y++]^Ii(p,d,u,l,s);return{s0:A,s1:T,s2:k,s3:R}}function my(a,s){if(!s)return new Uint8Array(a);if(Gi(s),s.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${s.length}`);return s}function Vx(a){if(Gi(a),a.length%ps!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${ps}`)}function Yx(a,s,l){let u=a.length;const d=u%ps;if(!s&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=fn(a);if(s){let y=ps-d;y||(y=ps),u=u+y}const _=my(u,l),b=fn(_);return{b:p,o:b,out:_}}function Kx(a,s){if(!s)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const u=a[l-1];if(u<=0||u>16)throw new Error(`aes/pcks5: wrong padding byte: ${u}`);const d=a.subarray(0,-u);for(let p=0;p<u;p++)if(a[l-p-1]!==u)throw new Error("aes/pcks5: wrong padding");return d}function Qx(a){const s=new Uint8Array(16),l=fn(s);s.set(a);const u=ps-a.length;for(let d=ps-u;d<ps;d++)s[d]=u;return l}const py=Ux({blockSize:16,nonceLength:16},function(s,l,u={}){Gi(s),Gi(l,16);const d=!u.disablePadding;return{encrypt:(p,_)=>{const b=dy(s),{b:y,o:x,out:A}=Yx(p,d,_),T=fn(l);let k=T[0],R=T[1],D=T[2],M=T[3],Z=0;for(;Z+4<=y.length;)k^=y[Z+0],R^=y[Z+1],D^=y[Z+2],M^=y[Z+3],{s0:k,s1:R,s2:D,s3:M}=m0(b,k,R,D,M),x[Z++]=k,x[Z++]=R,x[Z++]=D,x[Z++]=M;if(d){const P=Qx(p.subarray(Z*4));k^=P[0],R^=P[1],D^=P[2],M^=P[3],{s0:k,s1:R,s2:D,s3:M}=m0(b,k,R,D,M),x[Z++]=k,x[Z++]=R,x[Z++]=D,x[Z++]=M}return b.fill(0),A},decrypt:(p,_)=>{Vx(p);const b=Gx(s),y=fn(l),x=my(p.length,_),A=fn(p),T=fn(x);let k=y[0],R=y[1],D=y[2],M=y[3];for(let Z=0;Z+4<=A.length;){const P=k,j=R,tt=D,yt=M;k=A[Z+0],R=A[Z+1],D=A[Z+2],M=A[Z+3];const{s0:ut,s1:W,s2:X,s3:ot}=Ix(b,k,R,D,M);T[Z++]=ut^P,T[Z++]=W^j,T[Z++]=X^tt,T[Z++]=ot^yt}return b.fill(0),Kx(x,d)}}}),gy=a=>Uint8Array.from(a.split("").map(s=>s.charCodeAt(0))),Xx=gy("expand 16-byte k"),Fx=gy("expand 32-byte k"),Jx=fn(Xx),yy=fn(Fx);yy.slice();function ie(a,s){return a<<s|a>>>32-s}function $h(a){return a.byteOffset%4===0}const Ju=64,Wx=16,vy=2**32-1,p0=new Uint32Array;function $x(a,s,l,u,d,p,_,b){const y=d.length,x=new Uint8Array(Ju),A=fn(x),T=$h(d)&&$h(p),k=T?fn(d):p0,R=T?fn(p):p0;for(let D=0;D<y;_++){if(a(s,l,u,A,_,b),_>=vy)throw new Error("arx: counter overflow");const M=Math.min(Ju,y-D);if(T&&M===Ju){const Z=D/4;if(D%4!==0)throw new Error("arx: invalid block position");for(let P=0,j;P<Wx;P++)j=Z+P,R[j]=k[j]^A[P];D+=Ju;continue}for(let Z=0,P;Z<M;Z++)P=D+Z,p[P]=d[P]^x[Z];D+=M}}function t1(a,s){const{allowShortKeys:l,extendNonceFn:u,counterLength:d,counterRight:p,rounds:_}=Dx({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof a!="function")throw new Error("core must be a function");return Bh(d),Bh(_),h0(p),h0(l),(b,y,x,A,T=0)=>{Gi(b),Gi(y),Gi(x);const k=x.length;if(A||(A=new Uint8Array(k)),Gi(A),Bh(T),T<0||T>=vy)throw new Error("arx: counter overflow");if(A.length<k)throw new Error(`arx: output (${A.length}) is shorter than data (${k})`);const R=[];let D=b.length,M,Z;if(D===32)M=b.slice(),R.push(M),Z=yy;else if(D===16&&l)M=new Uint8Array(32),M.set(b),M.set(b,16),Z=Jx,R.push(M);else throw new Error(`arx: invalid 32-byte key, got length=${D}`);$h(y)||(y=y.slice(),R.push(y));const P=fn(M);if(u){if(y.length!==24)throw new Error("arx: extended nonce must be 24 bytes");u(Z,P,fn(y.subarray(0,16)),P),y=y.subarray(16)}const j=16-d;if(j!==y.length)throw new Error(`arx: nonce must be ${j} or 16 bytes`);if(j!==12){const yt=new Uint8Array(12);yt.set(y,p?0:12-y.length),y=yt,R.push(y)}const tt=fn(y);for($x(a,Z,P,tt,x,A,T,_);R.length>0;)R.pop().fill(0);return A}}function e1(a,s,l,u,d,p=20){let _=a[0],b=a[1],y=a[2],x=a[3],A=s[0],T=s[1],k=s[2],R=s[3],D=s[4],M=s[5],Z=s[6],P=s[7],j=d,tt=l[0],yt=l[1],ut=l[2],W=_,X=b,ot=y,ct=x,gt=A,ft=T,vt=k,Ct=R,zt=D,rt=M,N=Z,Q=P,F=j,mt=tt,nt=yt,z=ut;for(let st=0;st<p;st+=2)W=W+gt|0,F=ie(F^W,16),zt=zt+F|0,gt=ie(gt^zt,12),W=W+gt|0,F=ie(F^W,8),zt=zt+F|0,gt=ie(gt^zt,7),X=X+ft|0,mt=ie(mt^X,16),rt=rt+mt|0,ft=ie(ft^rt,12),X=X+ft|0,mt=ie(mt^X,8),rt=rt+mt|0,ft=ie(ft^rt,7),ot=ot+vt|0,nt=ie(nt^ot,16),N=N+nt|0,vt=ie(vt^N,12),ot=ot+vt|0,nt=ie(nt^ot,8),N=N+nt|0,vt=ie(vt^N,7),ct=ct+Ct|0,z=ie(z^ct,16),Q=Q+z|0,Ct=ie(Ct^Q,12),ct=ct+Ct|0,z=ie(z^ct,8),Q=Q+z|0,Ct=ie(Ct^Q,7),W=W+ft|0,z=ie(z^W,16),N=N+z|0,ft=ie(ft^N,12),W=W+ft|0,z=ie(z^W,8),N=N+z|0,ft=ie(ft^N,7),X=X+vt|0,F=ie(F^X,16),Q=Q+F|0,vt=ie(vt^Q,12),X=X+vt|0,F=ie(F^X,8),Q=Q+F|0,vt=ie(vt^Q,7),ot=ot+Ct|0,mt=ie(mt^ot,16),zt=zt+mt|0,Ct=ie(Ct^zt,12),ot=ot+Ct|0,mt=ie(mt^ot,8),zt=zt+mt|0,Ct=ie(Ct^zt,7),ct=ct+gt|0,nt=ie(nt^ct,16),rt=rt+nt|0,gt=ie(gt^rt,12),ct=ct+gt|0,nt=ie(nt^ct,8),rt=rt+nt|0,gt=ie(gt^rt,7);let q=0;u[q++]=_+W|0,u[q++]=b+X|0,u[q++]=y+ot|0,u[q++]=x+ct|0,u[q++]=A+gt|0,u[q++]=T+ft|0,u[q++]=k+vt|0,u[q++]=R+Ct|0,u[q++]=D+zt|0,u[q++]=M+rt|0,u[q++]=Z+N|0,u[q++]=P+Q|0,u[q++]=j+F|0,u[q++]=tt+mt|0,u[q++]=yt+nt|0,u[q++]=ut+z|0}const _y=t1(e1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class by extends ny{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,qi.hash(s);const u=_l(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(u.length>d?s.create().update(u).digest():u);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=s.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(s){return qi.exists(this),this.iHash.update(s),this}digestInto(s){qi.exists(this),qi.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:u,finished:d,destroyed:p,blockLen:_,outputLen:b}=this;return s=s,s.finished=d,s.destroyed=p,s.blockLen=_,s.outputLen=b,s.oHash=l._cloneInto(s.oHash),s.iHash=u._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _c=(a,s,l)=>new by(a,s).update(l).digest();_c.create=(a,s)=>new by(a,s);function n1(a,s,l){return qi.hash(a),_c(a,_l(l),_l(s))}const jh=new Uint8Array([0]),g0=new Uint8Array;function i1(a,s,l,u=32){if(qi.hash(a),qi.number(u),u>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(u/a.outputLen);l===void 0&&(l=g0);const p=new Uint8Array(d*a.outputLen),_=_c.create(a,s),b=_._cloneInto(),y=new Uint8Array(_.outputLen);for(let x=0;x<d;x++)jh[0]=x+1,b.update(x===0?g0:y).update(l).update(jh).digestInto(y),p.set(y,a.outputLen*x),_._cloneInto(b);return _.destroy(),b.destroy(),y.fill(0),jh.fill(0),p.slice(0,u)}var a1=Object.defineProperty,ve=(a,s)=>{for(var l in s)a1(a,l,{get:s[l],enumerable:!0})},er=Symbol("verified"),s1=a=>a instanceof Object;function _d(a){if(!s1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let u=0;u<l.length;u++)if(typeof l[u]!="string")return!1}return!0}var r1={};ve(r1,{Queue:()=>wy,QueueNode:()=>xy,binarySearch:()=>bd,bytesToHex:()=>Pe,hexToBytes:()=>lr,insertEventIntoAscendingList:()=>l1,insertEventIntoDescendingList:()=>o1,normalizeURL:()=>ar,utf8Decoder:()=>_a,utf8Encoder:()=>yi});var _a=new TextDecoder("utf-8"),yi=new TextEncoder;function ar(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let s=new URL(a);return s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function o1(a,s){const[l,u]=bd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:d.created_at-s.created_at);return u||a.splice(l,0,s),a}function l1(a,s){const[l,u]=bd(a,d=>s.id===d.id?0:s.created_at===d.created_at?-1:s.created_at-d.created_at);return u||a.splice(l,0,s),a}function bd(a,s){let l=0,u=a.length-1;for(;l<=u;){const d=Math.floor((l+u)/2),p=s(a[d]);if(p===0)return[d,!0];p<0?u=d-1:l=d+1}return[l,!1]}var xy=class{value;next=null;prev=null;constructor(a){this.value=a}},wy=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const s=new xy(a);return this.last?this.last===this.first?(this.last=s,this.last.prev=this.first,this.first.next=s):(s.prev=this.last,this.last.next=s,this.last=s):(this.first=s,this.last=s),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const s=this.first;return this.first=null,this.last=null,s.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},u1=class{generateSecretKey(){return Zi.utils.randomPrivateKey()}getPublicKey(s){return Pe(Zi.getPublicKey(s))}finalizeEvent(s,l){const u=s;return u.pubkey=Pe(Zi.getPublicKey(l)),u.id=tc(u),u.sig=Pe(Zi.sign(tc(u),l)),u[er]=!0,u}verifyEvent(s){if(typeof s[er]=="boolean")return s[er];const l=tc(s);if(l!==s.id)return s[er]=!1,!1;try{const u=Zi.verify(s.sig,l,s.pubkey);return s[er]=u,u}catch{return s[er]=!1,!1}}};function c1(a){if(!_d(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function tc(a){let s=ys(yi.encode(c1(a)));return Pe(s)}var bc=new u1,Sy=bc.generateSecretKey,bl=bc.getPublicKey,ai=bc.finalizeEvent,xc=bc.verifyEvent,f1={};ve(f1,{Application:()=>Sw,BadgeAward:()=>_1,BadgeDefinition:()=>gw,BlockedRelaysList:()=>W1,BlossomServerList:()=>sw,BookmarkList:()=>X1,Bookmarksets:()=>dw,Calendar:()=>Mw,CalendarEventRSVP:()=>Nw,ChannelCreation:()=>Cy,ChannelHideMessage:()=>Oy,ChannelMessage:()=>Ny,ChannelMetadata:()=>My,ChannelMuteUser:()=>ky,ChatMessage:()=>b1,ClassifiedListing:()=>Aw,ClientAuth:()=>By,Comment:()=>C1,CommunitiesList:()=>F1,CommunityDefinition:()=>Bw,CommunityPostApproval:()=>j1,Contacts:()=>g1,CreateOrUpdateProduct:()=>_w,CreateOrUpdateStall:()=>vw,Curationsets:()=>mw,Date:()=>Lw,DirectMessageRelaysList:()=>iw,DraftClassifiedListing:()=>zw,DraftLong:()=>xw,Emojisets:()=>ww,EncryptedDirectMessage:()=>y1,EventDeletion:()=>v1,FavoriteRelays:()=>tw,FileMessage:()=>w1,FileMetadata:()=>L1,FileServerPreference:()=>aw,Followsets:()=>cw,ForumThread:()=>x1,GenericRepost:()=>Td,Genericlists:()=>fw,GiftWrap:()=>Ry,GroupMetadata:()=>Dw,HTTPAuth:()=>Ad,Handlerinformation:()=>Rw,Handlerrecommendation:()=>kw,Highlights:()=>I1,InterestsList:()=>ew,Interestsets:()=>yw,JobFeedback:()=>P1,JobRequest:()=>U1,JobResult:()=>H1,Label:()=>D1,LightningPubRPC:()=>ow,LiveChatMessage:()=>M1,LiveEvent:()=>Ew,LongFormArticle:()=>bw,Metadata:()=>m1,Mutelist:()=>Y1,NWCWalletInfo:()=>rw,NWCWalletRequest:()=>Dy,NWCWalletResponse:()=>lw,NormalVideo:()=>E1,NostrConnect:()=>uw,OpenTimestamps:()=>A1,Photo:()=>S1,Pinlist:()=>K1,Poll:()=>z1,PollResponse:()=>V1,PrivateDirectMessage:()=>Ly,ProblemTracker:()=>k1,ProfileBadges:()=>pw,PublicChatsList:()=>J1,Reaction:()=>Ed,RecommendRelay:()=>p1,RelayList:()=>Q1,RelayReview:()=>Ow,Relaysets:()=>hw,Report:()=>R1,Reporting:()=>B1,Repost:()=>Sd,Seal:()=>zy,SearchRelaysList:()=>$1,ShortTextNote:()=>Ay,ShortVideo:()=>T1,Time:()=>Cw,UserEmojiList:()=>nw,UserStatuses:()=>Tw,Voice:()=>N1,VoiceComment:()=>O1,Zap:()=>G1,ZapGoal:()=>Z1,ZapRequest:()=>q1,classifyKind:()=>h1,isAddressableKind:()=>wd,isEphemeralKind:()=>Ty,isKind:()=>d1,isRegularKind:()=>Ey,isReplaceableKind:()=>xd});function Ey(a){return a<1e4&&a!==0&&a!==3}function xd(a){return a===0||a===3||1e4<=a&&a<2e4}function Ty(a){return 2e4<=a&&a<3e4}function wd(a){return 3e4<=a&&a<4e4}function h1(a){return Ey(a)?"regular":xd(a)?"replaceable":Ty(a)?"ephemeral":wd(a)?"parameterized":"unknown"}function d1(a,s){const l=s instanceof Array?s:[s];return _d(a)&&l.includes(a.kind)||!1}var m1=0,Ay=1,p1=2,g1=3,y1=4,v1=5,Sd=6,Ed=7,_1=8,b1=9,x1=11,zy=13,Ly=14,w1=15,Td=16,S1=20,E1=21,T1=22,Cy=40,My=41,Ny=42,Oy=43,ky=44,A1=1040,Ry=1059,z1=1068,L1=1063,C1=1111,M1=1311,N1=1222,O1=1244,k1=1971,R1=1984,B1=1984,D1=1985,j1=4550,U1=5999,H1=6999,P1=7e3,Z1=9041,q1=9734,G1=9735,I1=9802,V1=1018,Y1=1e4,K1=10001,Q1=10002,X1=10003,F1=10004,J1=10005,W1=10006,$1=10007,tw=10012,ew=10015,nw=10030,iw=10050,aw=10096,sw=10063,rw=13194,ow=21e3,By=22242,Dy=23194,lw=23195,uw=24133,Ad=27235,cw=3e4,fw=30001,hw=30002,dw=30003,mw=30004,pw=30008,gw=30009,yw=30015,vw=30017,_w=30018,bw=30023,xw=30024,ww=30030,Sw=30078,Ew=30311,Tw=30315,Aw=30402,zw=30403,Lw=31922,Cw=31923,Mw=31924,Nw=31925,Ow=31987,kw=31989,Rw=31990,Bw=34550,Dw=39e3;function jw(a,s){if(a.ids&&a.ids.indexOf(s.id)===-1||a.kinds&&a.kinds.indexOf(s.kind)===-1||a.authors&&a.authors.indexOf(s.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let u=l.slice(1),d=a[`#${u}`];if(d&&!s.tags.find(([p,_])=>p===l.slice(1)&&d.indexOf(_)!==-1))return!1}return!(a.since&&s.created_at<a.since||a.until&&s.created_at>a.until)}function Uw(a,s){for(let l=0;l<a.length;l++)if(jw(a[l],s))return!0;return!1}var Hw={};ve(Hw,{getHex64:()=>wc,getInt:()=>jy,getSubscriptionId:()=>Uy,matchEventId:()=>Pw,matchEventKind:()=>qw,matchEventPubkey:()=>Zw});function wc(a,s){let l=s.length+3,u=a.indexOf(`"${s}":`)+l,d=a.slice(u).indexOf('"')+u+1;return a.slice(d,d+64)}function jy(a,s){let l=s.length,u=a.indexOf(`"${s}":`)+l+3,d=a.slice(u),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function Uy(a){let s=a.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let l=a.slice(s+7+1).indexOf('"');if(l===-1)return null;let u=s+7+1+l,d=a.slice(u+1,80).indexOf('"');if(d===-1)return null;let p=u+1+d;return a.slice(u+1,p)}function Pw(a,s){return s===wc(a,"id")}function Zw(a,s){return s===wc(a,"pubkey")}function qw(a,s){return s===jy(a,"kind")}var Gw={};ve(Gw,{makeAuthEvent:()=>Hy});function Hy(a,s){return{kind:By,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",s]],content:""}}async function Iw(){return new Promise((a,s)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,u=()=>{l.port1.removeEventListener("message",u),a()};l.port1.addEventListener("message",u),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),s(l)}})}var Vw=a=>(a[er]=!0,!0),Py=class extends Error{constructor(a,s){super(`Tried to send message '${a} on a closed connection to ${s}.`),this.name="SendingOnClosedConnection"}},Zy=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new wy;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,s){this.url=ar(a),this.verifyEvent=s.verifyEvent,this._WebSocket=s.websocketImplementation||WebSocket,this.enablePing=s.enablePing,this.enableReconnect=s.enableReconnect||!1}static async connect(a,s){const l=new Zy(a,s);return await l.connect(),l}closeAllSubscriptions(a){for(let[s,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[s,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[s,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const s=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!s?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,s)=>{this.connectionTimeoutHandle=setTimeout(()=>{s("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),s(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const u of this.openSubs.values()){if(u.eosed=!1,l)for(let d=0;d<u.filters.length;d++)u.lastEmitted&&(u.filters[d].since=u.lastEmitted+1);u.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),s(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,s)=>{if(!this.connectionPromise)return s(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){s(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(s=>setTimeout(()=>s(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Iw();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const s=Uy(a);if(s){const l=this.openSubs.get(s);if(!l)return;const u=wc(a,"id"),d=l.alreadyHaveEvent?.(u);if(l.receivedEvent?.(this,u),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const u=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&Uw(u.filters,d)&&u.onevent(d),(!u.lastEmitted||u.lastEmitted<d.created_at)&&(u.lastEmitted=d.created_at);return}case"COUNT":{const u=l[1],d=l[2],p=this.openCountRequests.get(u);p&&(p.resolve(d.count),this.openCountRequests.delete(u));return}case"EOSE":{const u=this.openSubs.get(l[1]);if(!u)return;u.receivedEose();return}case"OK":{const u=l[1],d=l[2],p=l[3],_=this.openEventPublishes.get(u);_&&(clearTimeout(_.timeout),d?_.resolve(p):_.reject(new Error(p)),this.openEventPublishes.delete(u));return}case"CLOSED":{const u=l[1],d=this.openSubs.get(u);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new Py(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const s=this.challenge;if(!s)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,u)=>{try{let d=await a(Hy(this.url,s)),p=setTimeout(()=>{let _=this.openEventPublishes.get(d.id);_&&(_.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:u,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const s=new Promise((l,u)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:u,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),s}async count(a,s){this.serial++;const l=s?.id||"count:"+this.serial,u=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),u}subscribe(a,s){const l=this.prepareSubscription(a,s);return l.fire(),l}prepareSubscription(a,s){this.serial++;const l=s.id||(s.label?s.label+":":"sub:")+this.serial,u=new Yw(this,l,a,s);return this.openSubs.set(l,u),u}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},Yw=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,s,l,u){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=s,this.alreadyHaveEvent=u.alreadyHaveEvent,this.receivedEvent=u.receivedEvent,this.eoseTimeout=u.eoseTimeout||a.baseEoseTimeout,this.oneose=u.oneose,this.onclose=u.onclose,this.onevent=u.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(s){if(!(s instanceof Py))throw s}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},Kw;try{Kw=WebSocket}catch{}var Qw=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,s){a=ar(a);let l=this.relays.get(a);if(l||(l=new Zy(a,{verifyEvent:this.trustedRelayURLs.has(a)?Vw:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},s?.connectionTimeout&&(l.connectionTimeout=s.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const u=this.automaticallyAuth(a);u&&(l.onauth=u)}return await l.connect(),l}close(a){a.map(ar).forEach(s=>{this.relays.get(s)?.close(),this.relays.delete(s)})}subscribe(a,s,l){const u=[];for(let d=0;d<a.length;d++){const p=ar(a[d]);u.find(_=>_.url===p)||u.push({url:p,filter:s})}return this.subscribeMap(u,l)}subscribeMany(a,s,l){const u=[],d=[];for(let p=0;p<a.length;p++){const _=ar(a[p]);d.indexOf(_)===-1&&(d.push(_),u.push({url:_,filter:s}))}return this.subscribeMap(u,l)}subscribeMap(a,s){const l=new Map;for(const k of a){const{url:R,filter:D}=k;l.has(R)||l.set(R,[]),l.get(R).push(D)}const u=Array.from(l.entries()).map(([k,R])=>({url:k,filters:R}));this.trackRelays&&(s.receivedEvent=(k,R)=>{let D=this.seenOn.get(R);D||(D=new Set,this.seenOn.set(R,D)),D.add(k)});const d=new Set,p=[],_=[];let b=k=>{_[k]||(_[k]=!0,_.filter(R=>R).length===u.length&&(s.oneose?.(),b=()=>{}))};const y=[];let x=(k,R)=>{y[k]||(b(k),y[k]=R,y.filter(D=>D).length===u.length&&(s.onclose?.(y),x=()=>{}))};const A=k=>{if(s.alreadyHaveEvent?.(k))return!0;const R=d.has(k);return d.add(k),R},T=Promise.all(u.map(async({url:k,filters:R},D)=>{let M;try{M=await this.ensureRelay(k,{connectionTimeout:s.maxWait?Math.max(s.maxWait*.8,s.maxWait-1e3):void 0})}catch(P){x(D,P?.message||String(P));return}let Z=M.subscribe(R,{...s,oneose:()=>b(D),onclose:P=>{P.startsWith("auth-required: ")&&s.onauth?M.auth(s.onauth).then(()=>{M.subscribe(R,{...s,oneose:()=>b(D),onclose:j=>{x(D,j)},alreadyHaveEvent:A,eoseTimeout:s.maxWait})}).catch(j=>{x(D,`auth was required and attempted, but failed with: ${j}`)}):x(D,P)},alreadyHaveEvent:A,eoseTimeout:s.maxWait});p.push(Z)}));return{async close(k){await T,p.forEach(R=>{R.close(k)})}}}subscribeEose(a,s,l){const u=this.subscribe(a,s,{...l,oneose(){u.close("closed automatically on eose")}});return u}subscribeManyEose(a,s,l){const u=this.subscribeMany(a,s,{...l,oneose(){u.close("closed automatically on eose")}});return u}async querySync(a,s,l){return new Promise(async u=>{const d=[];this.subscribeEose(a,s,{...l,onevent(p){d.push(p)},onclose(p){u(d)}})})}async get(a,s,l){s.limit=1;const u=await this.querySync(a,s,l);return u.sort((d,p)=>p.created_at-d.created_at),u[0]||null}publish(a,s,l){return a.map(ar).map(async(u,d,p)=>{if(p.indexOf(u)!==d)return Promise.reject("duplicate url");let _=await this.ensureRelay(u);return _.publish(s).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await _.auth(l.onauth),_.publish(s);throw b}).then(b=>{if(this.trackRelays){let y=this.seenOn.get(s.id);y||(y=new Set,this.seenOn.set(s.id,y)),y.add(_)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((s,l)=>a.set(l,s.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},qy;try{qy=WebSocket}catch{}var Xw=class extends Qw{constructor(a){super({verifyEvent:xc,websocketImplementation:qy,...a})}},rr={};ve(rr,{BECH32_REGEX:()=>Gy,Bech32MaxSize:()=>zd,NostrTypeGuard:()=>Fw,decode:()=>Sc,decodeNostrURI:()=>Ww,encodeBytes:()=>Tc,naddrEncode:()=>a2,neventEncode:()=>i2,noteEncode:()=>e2,nprofileEncode:()=>n2,npubEncode:()=>t2,nsecEncode:()=>$w});var Fw={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},zd=5e3,Gy=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Jw(a){const s=new Uint8Array(4);return s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=a&255,s}function Ww(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),Sc(a)}catch{return{type:"invalid",data:null}}}function Sc(a){let{prefix:s,words:l}=io.decode(a,zd),u=new Uint8Array(io.fromWords(l));switch(s){case"nprofile":{let d=Uh(u);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Pe(d[0][0]),relays:d[1]?d[1].map(p=>_a.decode(p)):[]}}}case"nevent":{let d=Uh(u);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Pe(d[0][0]),relays:d[1]?d[1].map(p=>_a.decode(p)):[],author:d[2]?.[0]?Pe(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(Pe(d[3][0]),16):void 0}}}case"naddr":{let d=Uh(u);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:_a.decode(d[0][0]),pubkey:Pe(d[2][0]),kind:parseInt(Pe(d[3][0]),16),relays:d[1]?d[1].map(p=>_a.decode(p)):[]}}}case"nsec":return{type:s,data:u};case"npub":case"note":return{type:s,data:Pe(u)};default:throw new Error(`unknown prefix ${s}`)}}function Uh(a){let s={},l=a;for(;l.length>0;){let u=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${u}`);s[u]=s[u]||[],s[u].push(p)}return s}function $w(a){return Tc("nsec",a)}function t2(a){return Tc("npub",lr(a))}function e2(a){return Tc("note",lr(a))}function Ec(a,s){let l=io.toWords(s);return io.encode(a,l,zd)}function Tc(a,s){return Ec(a,s)}function n2(a){let s=Ld({0:[lr(a.pubkey)],1:(a.relays||[]).map(l=>yi.encode(l))});return Ec("nprofile",s)}function i2(a){let s;a.kind!==void 0&&(s=Jw(a.kind));let l=Ld({0:[lr(a.id)],1:(a.relays||[]).map(u=>yi.encode(u)),2:a.author?[lr(a.author)]:[],3:s?[new Uint8Array(s)]:[]});return Ec("nevent",l)}function a2(a){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,a.kind,!1);let l=Ld({0:[yi.encode(a.identifier)],1:(a.relays||[]).map(u=>yi.encode(u)),2:[lr(a.pubkey)],3:[new Uint8Array(s)]});return Ec("naddr",l)}function Ld(a){let s=[];return Object.entries(a).reverse().forEach(([l,u])=>{u.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),s.push(p)})}),yc(...s)}var s2={};ve(s2,{decrypt:()=>r2,encrypt:()=>Iy});function Iy(a,s,l){const u=a instanceof Uint8Array?Pe(a):a,d=so.getSharedSecret(u,"02"+s),p=Vy(d);let _=Uint8Array.from(ay(16)),b=yi.encode(l),y=py(p,_).encrypt(b),x=ba.encode(new Uint8Array(y)),A=ba.encode(new Uint8Array(_.buffer));return`${x}?iv=${A}`}function r2(a,s,l){const u=a instanceof Uint8Array?Pe(a):a;let[d,p]=l.split("?iv="),_=so.getSharedSecret(u,"02"+s),b=Vy(_),y=ba.decode(p),x=ba.decode(d),A=py(b,y).decrypt(x);return _a.decode(A)}function Vy(a){return a.slice(1,33)}var o2={};ve(o2,{NIP05_REGEX:()=>Cd,isNip05:()=>l2,isValid:()=>f2,queryProfile:()=>Yy,searchDomain:()=>c2,useFetchImplementation:()=>u2});var Cd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,l2=a=>Cd.test(a||""),Ac;try{Ac=fetch}catch{}function u2(a){Ac=a}async function c2(a,s=""){try{const l=`https://${a}/.well-known/nostr.json?name=${s}`,u=await Ac(l,{redirect:"manual"});if(u.status!==200)throw Error("Wrong response code");return(await u.json()).names}catch{return{}}}async function Yy(a){const s=a.match(Cd);if(!s)return null;const[,l="_",u]=s;try{const d=`https://${u}/.well-known/nostr.json?name=${l}`,p=await Ac(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const _=await p.json(),b=_.names[l];return b?{pubkey:b,relays:_.relays?.[b]}:null}catch{return null}}async function f2(a,s){const l=await Yy(s);return l?l.pubkey===a:!1}var h2={};ve(h2,{parse:()=>d2});function d2(a){const s={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,u;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[_,b,y,x,A]=p,T={id:b,relays:y?[y]:[],author:A};if(x==="root"){s.root=T;continue}if(x==="reply"){s.reply=T;continue}if(x==="mention"){s.mentions.push(T);continue}l?u=T:l=T,s.mentions.push(T);continue}if(p[0]==="q"&&p[1]){const[_,b,y]=p;s.quotes.push({id:b,relays:y?[y]:[]})}if(p[0]==="p"&&p[1]){s.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return s.root||(s.root=u||l||s.reply),s.reply||(s.reply=l||s.root),[s.reply,s.root].forEach(d=>{if(!d)return;let p=s.mentions.indexOf(d);if(p!==-1&&s.mentions.splice(p,1),d.author){let _=s.profiles.find(b=>b.pubkey===d.author);_&&_.relays&&(d.relays||(d.relays=[]),_.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),_.relays=d.relays)}}),s.mentions.forEach(d=>{if(d.author){let p=s.profiles.find(_=>_.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(_=>{d.relays.indexOf(_)===-1&&d.relays.push(_)}),p.relays=d.relays)}}),s}var m2={};ve(m2,{fetchRelayInformation:()=>g2,useFetchImplementation:()=>p2});var Ky;try{Ky=fetch}catch{}function p2(a){Ky=a}async function g2(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var y2={};ve(y2,{fastEventHash:()=>Xy,getPow:()=>Qy,minePow:()=>v2});function Qy(a){let s=0;for(let l=0;l<64;l+=8){const u=parseInt(a.substring(l,l+8),16);if(u===0)s+=32;else{s+=Math.clz32(u);break}}return s}function v2(a,s){let l=0;const u=a,d=["nonce",l.toString(),s.toString()];for(u.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==u.created_at&&(l=0,u.created_at=p),d[1]=(++l).toString(),u.id=Xy(u),Qy(u.id)>=s)break}return u}function Xy(a){return Pe(ys(yi.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var _2={};ve(_2,{unwrapEvent:()=>M2,unwrapManyEvents:()=>N2,wrapEvent:()=>lv,wrapManyEvents:()=>C2});var b2={};ve(b2,{createRumor:()=>av,createSeal:()=>sv,createWrap:()=>rv,unwrapEvent:()=>Rd,unwrapManyEvents:()=>ov,wrapEvent:()=>lc,wrapManyEvents:()=>z2});var xl={};ve(xl,{decrypt:()=>kd,encrypt:()=>Od,getConversationKey:()=>Md,v2:()=>T2});var Fy=1,Jy=65535;function Md(a,s){const l=so.getSharedSecret(a,"02"+s).subarray(1,33);return n1(ys,l,"nip44-v2")}function Wy(a,s){const l=i1(ys,a,s,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function Nd(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const s=1<<Math.floor(Math.log2(a-1))+1,l=s<=256?32:s/8;return l*(Math.floor((a-1)/l)+1)}function x2(a){if(!Number.isSafeInteger(a)||a<Fy||a>Jy)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,a,!1),s}function w2(a){const s=yi.encode(a),l=s.length,u=x2(l),d=new Uint8Array(Nd(l)-l);return yc(u,s,d)}function S2(a){const s=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+s);if(s<Fy||s>Jy||l.length!==s||a.length!==2+Nd(s))throw new Error("invalid padding");return _a.decode(l)}function $y(a,s,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const u=yc(l,s);return _c(ys,a,u)}function E2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const s=a.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=ba.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const u=l.length;if(u<99||u>65603)throw new Error("invalid data length: "+u);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Od(a,s,l=ay(32)){const{chacha_key:u,chacha_nonce:d,hmac_key:p}=Wy(s,l),_=w2(a),b=_y(u,d,_),y=$y(p,b,l);return ba.encode(yc(new Uint8Array([2]),l,b,y))}function kd(a,s){const{nonce:l,ciphertext:u,mac:d}=E2(a),{chacha_key:p,chacha_nonce:_,hmac_key:b}=Wy(s,l),y=$y(b,u,l);if(!jx(y,d))throw new Error("invalid MAC");const x=_y(p,_,u);return S2(x)}var T2={utils:{getConversationKey:Md,calcPaddedLen:Nd},encrypt:Od,decrypt:kd},A2=2880*60,tv=()=>Math.round(Date.now()/1e3),ev=()=>Math.round(tv()-Math.random()*A2),nv=(a,s)=>Md(a,s),iv=(a,s,l)=>Od(JSON.stringify(a),nv(s,l)),y0=(a,s)=>JSON.parse(kd(a.content,nv(s,a.pubkey)));function av(a,s){const l={created_at:tv(),content:"",tags:[],...a,pubkey:bl(s)};return l.id=tc(l),l}function sv(a,s,l){return ai({kind:zy,content:iv(a,s,l),created_at:ev(),tags:[]},s)}function rv(a,s){const l=Sy();return ai({kind:Ry,content:iv(a,l,s),created_at:ev(),tags:[["p",s]]},l)}function lc(a,s,l){const u=av(a,s),d=sv(u,s,l);return rv(d,l)}function z2(a,s,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const u=bl(s),d=[lc(a,s,u)];return l.forEach(p=>{d.push(lc(a,s,p))}),d}function Rd(a,s){const l=y0(a,s);return y0(l,s)}function ov(a,s){let l=[];return a.forEach(u=>{l.push(Rd(u,s))}),l.sort((u,d)=>u.created_at-d.created_at),l}function L2(a,s,l,u){const d={created_at:Math.ceil(Date.now()/1e3),kind:Ly,tags:[],content:s};return(Array.isArray(a)?a:[a]).forEach(({publicKey:_,relayUrl:b})=>{d.tags.push(b?["p",_,b]:["p",_])}),u&&d.tags.push(["e",u.eventId,u.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function lv(a,s,l,u,d){const p=L2(s,l,u,d);return lc(p,a,s.publicKey)}function C2(a,s,l,u,d){if(!s||s.length===0)throw new Error("At least one recipient is required.");return[{publicKey:bl(a)},...s].map(_=>lv(a,_,l,u,d))}var M2=Rd,N2=ov,O2={};ve(O2,{finishRepostEvent:()=>k2,getRepostedEvent:()=>R2,getRepostedEventPointer:()=>uv});function k2(a,s,l,u){let d;const p=[...a.tags??[],["e",s.id,l],["p",s.pubkey]];return s.kind===Ay?d=Sd:(d=Td,p.push(["k",String(s.kind)])),ai({kind:d,tags:p,content:a.content===""||s.tags?.find(_=>_[0]==="-")?"":JSON.stringify(s),created_at:a.created_at},u)}function uv(a){if(![Sd,Td].includes(a.kind))return;let s,l;for(let u=a.tags.length-1;u>=0&&(s===void 0||l===void 0);u--){const d=a.tags[u];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(s!==void 0)return{id:s[1],relays:[s[2],l?.[2]].filter(u=>typeof u=="string"),author:l?.[1]}}function R2(a,{skipVerification:s}={}){const l=uv(a);if(l===void 0||a.content==="")return;let u;try{u=JSON.parse(a.content)}catch{return}if(u.id===l.id&&!(!s&&!xc(u)))return u}var B2={};ve(B2,{NOSTR_URI_REGEX:()=>Bd,parse:()=>j2,test:()=>D2});var Bd=new RegExp(`nostr:(${Gy.source})`);function D2(a){return typeof a=="string"&&new RegExp(`^${Bd.source}$`).test(a)}function j2(a){const s=a.match(new RegExp(`^${Bd.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:s[0],value:s[1],decoded:Sc(s[1])}}var U2={};ve(U2,{finishReactionEvent:()=>H2,getReactedEventPointer:()=>P2});function H2(a,s,l){const u=s.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return ai({...a,kind:Ed,tags:[...a.tags??[],...u,["e",s.id],["p",s.pubkey]],content:a.content??"+"},l)}function P2(a){if(a.kind!==Ed)return;let s,l;for(let u=a.tags.length-1;u>=0&&(s===void 0||l===void 0);u--){const d=a.tags[u];d.length>=2&&(d[0]==="e"&&s===void 0?s=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(s===void 0||l===void 0))return{id:s[1],relays:[s[2],l[2]].filter(u=>u!==void 0),author:l[1]}}var Z2={};ve(Z2,{parse:()=>G2});var v0=/\W/m,_0=/[^\w\/] |[^\w\/]$|$|,| /m,q2=42;function*G2(a){let s=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const _=a.tags[p];_[0]==="emoji"&&_.length>=3&&s.push({type:"emoji",shortcode:_[1],url:_[2]})}a=a.content}const l=a.length;let u=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),_=a.indexOf("#",d);if(p===-1&&_===-1)break t;if(p===-1||_>=0&&_<p){if(_===0||a[_-1]===" "){const b=a.slice(_+1,_+q2).match(v0),y=b?_+1+b.index:l;yield{type:"text",text:a.slice(u,_)},yield{type:"hashtag",value:a.slice(_+1,y)},d=y,u=d;continue t}d=_+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(v0),y=b?p+60+b.index:l;try{let x,{data:A,type:T}=Sc(a.slice(p+1,y));switch(T){case"npub":x={pubkey:A};break;case"note":x={id:A};break;case"nsec":d=y+1;continue;default:x=A}u!==p-5&&(yield{type:"text",text:a.slice(u,p-5)}),yield{type:"reference",pointer:x},d=y,u=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(_0),y=b?p+4+b.index:l,x=a[p-1]==="s"?5:4;try{let A=new URL(a.slice(p-x,y));if(A.hostname.indexOf(".")===-1)throw new Error("invalid url");if(u!==p-x&&(yield{type:"text",text:a.slice(u,p-x)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(A.pathname)){yield{type:"image",url:A.toString()},d=y,u=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(A.pathname)){yield{type:"video",url:A.toString()},d=y,u=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(A.pathname)){yield{type:"audio",url:A.toString()},d=y,u=d;continue t}yield{type:"url",url:A.toString()},d=y,u=d;continue t}catch{d=y+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(_0),y=b?p+4+b.index:l,x=a[p-1]==="s"?3:2;try{let A=new URL(a.slice(p-x,y));if(A.hostname.indexOf(".")===-1)throw new Error("invalid ws url");u!==p-x&&(yield{type:"text",text:a.slice(u,p-x)}),yield{type:"relay",url:A.toString()},d=y,u=d;continue t}catch{d=y+1;continue t}}else{for(let b=0;b<s.length;b++){const y=s[b];if(a[p+y.shortcode.length+1]===":"&&a.slice(p+1,p+y.shortcode.length+1)===y.shortcode){u!==p&&(yield{type:"text",text:a.slice(u,p)}),yield y,d=p+y.shortcode.length+2,u=d;continue t}}d=p+1;continue t}}u!==l&&(yield{type:"text",text:a.slice(u)})}var I2={};ve(I2,{channelCreateEvent:()=>V2,channelHideMessageEvent:()=>Q2,channelMessageEvent:()=>K2,channelMetadataEvent:()=>Y2,channelMuteUserEvent:()=>X2});var V2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ai({kind:Cy,tags:[...a.tags??[]],content:l,created_at:a.created_at},s)},Y2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ai({kind:My,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},K2=(a,s)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),ai({kind:Ny,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},s)},Q2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ai({kind:Oy,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},s)},X2=(a,s)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return ai({kind:ky,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},s)},F2={};ve(F2,{EMOJI_SHORTCODE_REGEX:()=>cv,matchAll:()=>J2,regex:()=>Dd,replaceAll:()=>W2});var cv=/:(\w+):/,Dd=()=>new RegExp(`\\B${cv.source}\\B`,"g");function*J2(a){const s=a.matchAll(Dd());for(const l of s)try{const[u,d]=l;yield{shortcode:u,name:d,start:l.index,end:l.index+u.length}}catch{}}function W2(a,s){return a.replaceAll(Dd(),(l,u)=>s({shortcode:l,name:u}))}var $2={};ve($2,{useFetchImplementation:()=>tS,validateGithub:()=>eS});var jd;try{jd=fetch}catch{}function tS(a){jd=a}async function eS(a,s,l){try{return await(await jd(`https://gist.github.com/${s}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var nS={};ve(nS,{makeNwcRequestEvent:()=>aS,parseConnectionString:()=>iS});function iS(a){const{host:s,pathname:l,searchParams:u}=new URL(a),d=l||s,p=u.get("relay"),_=u.get("secret");if(!d||!p||!_)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:_}}async function aS(a,s,l){const d=Iy(s,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:Dy,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return ai(p,s)}var sS={};ve(sS,{normalizeIdentifier:()=>rS});function rS(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(s=>new RegExp("\\p{Letter}","u").test(s)||new RegExp("\\p{Number}","u").test(s)?s:"-").join("")}var oS={};ve(oS,{getSatoshisAmountFromBolt11:()=>dS,getZapEndpoint:()=>uS,makeZapReceipt:()=>hS,makeZapRequest:()=>cS,useFetchImplementation:()=>lS,validateZapRequest:()=>fS});var Ud;try{Ud=fetch}catch{}function lS(a){Ud=a}async function uS(a){try{let s="",{lud06:l,lud16:u}=JSON.parse(a.content);if(u){let[_,b]=u.split("@");s=new URL(`/.well-known/lnurlp/${_}`,`https://${b}`).toString()}else if(l){let{words:_}=io.decode(l,1e3),b=io.fromWords(_);s=_a.decode(b)}else return null;let p=await(await Ud(s)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function cS(a){let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(s.tags.push(["e",a.event.id]),xd(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];s.tags.push(l)}else if(wd(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const u=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];s.tags.push(u)}s.tags.push(["k",a.event.kind.toString()])}return s}function fS(a){let s;try{s=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!_d(s))return"Zap request is not a valid Nostr event.";if(!xc(s))return"Invalid signature on zap request.";let l=s.tags.find(([p,_])=>p==="p"&&_);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let u=s.tags.find(([p,_])=>p==="e"&&_);return u&&!u[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([p,_])=>p==="relays"&&_)?null:"Zap request doesn't have a 'relays' tag."}function hS({zapRequest:a,preimage:s,bolt11:l,paidAt:u}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),_={kind:9735,created_at:Math.round(u.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return s&&_.tags.push(["preimage",s]),_}function dS(a){if(a.length<50)return 0;a=a.substring(0,50);const s=a.lastIndexOf("1");if(s===-1)return 0;const l=a.substring(0,s);if(!l.startsWith("lnbc"))return 0;const u=l.substring(4);if(u.length<1)return 0;const d=u[u.length-1],p=d.charCodeAt(0)-48,_=p>=0&&p<=9;let b=u.length-1;if(_&&b++,b<1)return 0;const y=parseInt(u.substring(0,b));switch(d){case"m":return y*1e5;case"u":return y*100;case"n":return y/10;case"p":return y/1e4;default:return y*1e8}}var mS={};ve(mS,{Negentropy:()=>hv,NegentropyStorageVector:()=>yS,NegentropySync:()=>vS});var Hh=97,$r=32,fv=16,tr={Skip:0,Fingerprint:1,IdList:2},va=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof va&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const s=a.length+this.length;if(this.capacity<s){const l=this._raw,u=Math.max(this.capacity*2,s);this._raw=new Uint8Array(u),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const s=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,s}};function Wu(a){let s=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(s=s<<7|l&127,(l&128)===0)break}return s}function ga(a){if(a===0)return new va(new Uint8Array([0]));let s=[];for(;a!==0;)s.push(a&127),a>>>=7;s.reverse();for(let l=0;l<s.length-1;l++)s[l]|=128;return new va(new Uint8Array(s))}function pS(a){return ec(a,1)[0]}function ec(a,s){if(a.length<s)throw Error("parse ends prematurely");return a.shiftN(s)}var gS=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array($r)}add(a){let s=0,l=0,u=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let _=p*4,b=u.getUint32(_,!0),y=d.getUint32(_,!0),x=b;x+=s,x+=y,x>4294967295&&(l=1),u.setUint32(_,x&4294967295,!0),s=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let u=l*4;a.setUint32(u,~a.getUint32(u,!0))}let s=new Uint8Array($r);s[0]=1,this.add(s)}getFingerprint(a){let s=new va;return s.extend(this.buf),s.extend(ga(a)),ys(s.unwrap()).subarray(0,fv)}},yS=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,s){if(this.sealed)throw Error("already sealed");const l=cy(s);if(l.byteLength!==$r)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Ph);for(let a=1;a<this.items.length;a++)if(Ph(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,s,l){this._checkSealed(),this._checkBounds(a,s);for(let u=a;u<s&&l(this.items[u],u);++u);}findLowerBound(a,s,l){return this._checkSealed(),this._checkBounds(a,s),this._binarySearch(this.items,a,s,u=>Ph(u,l)<0)}fingerprint(a,s){let l=new gS;return l.setToZero(),this.iterate(a,s,u=>(l.add(u.id),!0)),l.getFingerprint(s-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,s){if(a>s||s>this.items.length)throw Error("bad range")}_binarySearch(a,s,l,u){let d=l-s;for(;d>0;){let p=s,_=Math.floor(d/2);p+=_,u(a[p])?(s=++p,d-=_+1):d=_}return s}},hv=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,s=6e4){if(s<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=s,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,s){return{timestamp:a,id:s||new Uint8Array(0)}}initiate(){let a=new va;return a.extend(new Uint8Array([Hh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),Jr(a.unwrap())}reconcile(a,s,l){const u=new va(cy(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new va;d.extend(new Uint8Array([Hh]));let p=pS(u);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==Hh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let _=this.storage.size(),b=this._bound(0),y=0,x=!1;for(;u.length!==0;){let A=new va,T=()=>{x&&(x=!1,A.extend(this.encodeBound(b)),A.extend(ga(tr.Skip)))},k=this.decodeBound(u),R=Wu(u),D=y,M=this.storage.findLowerBound(y,_,k);if(R===tr.Skip)x=!0;else if(R===tr.Fingerprint){let Z=ec(u,fv),P=this.storage.fingerprint(D,M);dv(Z,P)!==0?(T(),this.splitRange(D,M,k,A)):x=!0}else if(R===tr.IdList){let Z=Wu(u),P={};for(let j=0;j<Z;j++){let tt=ec(u,$r);P[Jr(tt)]=tt}if(x=!0,this.storage.iterate(D,M,j=>{let tt=j.id;const yt=Jr(tt);return P[yt]?delete P[Jr(tt)]:s?.(yt),!0}),l)for(let j of Object.values(P))l(Jr(j))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+A.length)){let Z=this.storage.fingerprint(M,_);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(ga(tr.Fingerprint)),d.extend(Z);break}else d.extend(A);y=M,b=k}return d.length===1?null:Jr(d.unwrap())}splitRange(a,s,l,u){let d=s-a,p=16;if(d<p*2)u.extend(this.encodeBound(l)),u.extend(ga(tr.IdList)),u.extend(ga(d)),this.storage.iterate(a,s,_=>(u.extend(_.id),!0));else{let _=Math.floor(d/p),b=d%p,y=a;for(let x=0;x<p;x++){let A=_+(x<b?1:0),T=this.storage.fingerprint(y,y+A);y+=A;let k;if(y===s)k=l;else{let R,D;this.storage.iterate(y-1,y+1,(M,Z)=>(Z===y-1?R=M:D=M,!0)),k=this.getMinimalBound(R,D)}u.extend(this.encodeBound(k)),u.extend(ga(tr.Fingerprint)),u.extend(T)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let s=Wu(a);return s=s===0?Number.MAX_VALUE:s-1,this.lastTimestampIn===Number.MAX_VALUE||s===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(s+=this.lastTimestampIn,this.lastTimestampIn=s,s)}decodeBound(a){let s=this.decodeTimestampIn(a),l=Wu(a);if(l>$r)throw Error("bound key too long");let u=ec(a,l);return{timestamp:s,id:u}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,ga(0);let s=a;return a-=this.lastTimestampOut,this.lastTimestampOut=s,ga(a+1)}encodeBound(a){let s=new va;return s.extend(this.encodeTimestampOut(a.timestamp)),s.extend(ga(a.id.length)),s.extend(a.id),s}getMinimalBound(a,s){if(s.timestamp!==a.timestamp)return this._bound(s.timestamp);{let l=0,u=s.id,d=a.id;for(let p=0;p<$r&&u[p]===d[p];p++)l++;return this._bound(s.timestamp,s.id.subarray(0,l+1))}}};function dv(a,s){for(let l=0;l<a.byteLength;l++){if(a[l]<s[l])return-1;if(a[l]>s[l])return 1}return a.byteLength>s.byteLength?1:a.byteLength<s.byteLength?-1:0}function Ph(a,s){return a.timestamp===s.timestamp?dv(a.id,s.id):a.timestamp-s.timestamp}var vS=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,s,l,u={}){this.relay=a,this.storage=s,this.neg=new hv(s),this.onhave=u.onhave,this.onneed=u.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:u.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),u.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),u?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),u.onclose?.(p);break}case"NEG-ERR":u.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},_S={};ve(_S,{getToken:()=>bS,hashPayload:()=>Hd,unpackEventFromToken:()=>pv,validateEvent:()=>xv,validateEventKind:()=>yv,validateEventMethodTag:()=>_v,validateEventPayloadTag:()=>bv,validateEventTimestamp:()=>gv,validateEventUrlTag:()=>vv,validateToken:()=>xS});var mv="Nostr ";async function bS(a,s,l,u=!1,d){const p={kind:Ad,tags:[["u",a],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",Hd(d)]);const _=await l(p);return(u?mv:"")+ba.encode(yi.encode(JSON.stringify(_)))}async function xS(a,s,l){const u=await pv(a).catch(p=>{throw p});return await xv(u,s,l).catch(p=>{throw p})}async function pv(a){if(!a)throw new Error("Missing token");a=a.replace(mv,"");const s=_a.decode(ba.decode(a));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function gv(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function yv(a){return a.kind===Ad}function vv(a,s){const l=a.tags.find(u=>u[0]==="u");return l?l.length>0&&l[1]===s:!1}function _v(a,s){const l=a.tags.find(u=>u[0]==="method");return l?l.length>0&&l[1].toLowerCase()===s.toLowerCase():!1}function Hd(a){const s=ys(yi.encode(JSON.stringify(a)));return Pe(s)}function bv(a,s){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const u=Hd(s);return l.length>0&&l[1]===u}async function xv(a,s,l,u){if(!xc(a))throw new Error("Invalid nostr event, signature invalid");if(!yv(a))throw new Error("Invalid nostr event, kind invalid");if(!gv(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!vv(a,s))throw new Error("Invalid nostr event, url tag invalid");if(!_v(a,l))throw new Error("Invalid nostr event, method tag invalid");if(u&&typeof u=="object"&&Object.keys(u).length>0&&!bv(a,u))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const b0=a=>Array.from(a).map(s=>s.toString(16).padStart(2,"0")).join(""),wv=K.createContext(null),wS=({children:a})=>{const[s,l]=K.useState(localStorage.getItem("parlens_pubkey")),[u]=K.useState(()=>new Xw({enablePing:!0,enableReconnect:!0})),d=async(b,y,x)=>{let A="",T=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");A=await window.nostr.getPublicKey()}else if(b==="nsec"&&y)try{const k=rr.decode(y);if(k.type!=="nsec")throw new Error("Not an nsec");T=k.data,A=bl(T),localStorage.setItem("parlens_privkey",b0(T))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(T=Sy(),A=bl(T),localStorage.setItem("parlens_privkey",b0(T)));if(l(A),localStorage.setItem("parlens_pubkey",A),b==="create"&&x&&T)try{const k=ai({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:x,display_name:x,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${A}`})},T);await Promise.any([u.publish(["wss://relay.damus.io","wss://nos.lol"],k)])}catch(k){console.warn("Failed to publish metadata:",k)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},_=async b=>{const y=localStorage.getItem("parlens_privkey");if(y){const x=new Uint8Array(y.match(/.{1,2}/g).map(A=>parseInt(A,16)));return ai(b,x)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return w.jsx(wv.Provider,{value:{pubkey:s,login:d,logout:p,pool:u,signEvent:_},children:a})},oo=()=>{const a=K.useContext(wv);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const SS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ES=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,l,u)=>u?u.toUpperCase():l.toLowerCase()),x0=a=>{const s=ES(a);return s.charAt(0).toUpperCase()+s.slice(1)},Sv=(...a)=>a.filter((s,l,u)=>!!s&&s.trim()!==""&&u.indexOf(s)===l).join(" ").trim(),TS=a=>{for(const s in a)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var AS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zS=K.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:p,iconNode:_,...b},y)=>K.createElement("svg",{ref:y,...AS,width:s,height:s,stroke:a,strokeWidth:u?Number(l)*24/Number(s):l,className:Sv("lucide",d),...!p&&!TS(b)&&{"aria-hidden":"true"},...b},[..._.map(([x,A])=>K.createElement(x,A)),...Array.isArray(p)?p:[p]]));const we=(a,s)=>{const l=K.forwardRef(({className:u,...d},p)=>K.createElement(zS,{ref:p,iconNode:s,className:Sv(`lucide-${SS(x0(a))}`,`lucide-${a}`,u),...d}));return l.displayName=x0(a),l};const LS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CS=we("arrow-right",LS);const MS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NS=we("check",MS);const OS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wl=we("chevron-down",OS);const kS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uc=we("chevron-right",kS);const RS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BS=we("chevron-up",RS);const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w0=we("circle-question-mark",DS);const jS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ev=we("clock",jS);const US=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HS=we("compass",US);const PS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ZS=we("eye-off",PS);const qS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GS=we("eye",qS);const IS=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],VS=we("folder-open",IS);const YS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],td=we("key",YS);const KS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sl=we("map-pin",KS);const QS=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],XS=we("map-pinned",QS);const FS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],JS=we("navigation",FS);const WS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$S=we("pencil",WS);const tE=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],eE=we("route",tE);const nE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iE=we("save",nE);const aE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sE=we("search",aE);const rE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tv=we("shield",rE);const oE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ed=we("trash-2",oE);const lE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uE=we("user-plus",lE);const cE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fE=we("user",cE);const hE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pd=we("x",hE);function dE(a,s){const l=K.useRef(s);K.useEffect(function(){s!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),s!=null&&a.attributionControl.addAttribution(s)),l.current=s},[a,s])}D0();const mE=1;function pE(a){return Object.freeze({__version:mE,map:a})}function Av(a,s){return Object.freeze({...a,...s})}const Zd=K.createContext(null);function qd(){const a=K.use(Zd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function zv(a){function s(l,u){const{instance:d,context:p}=a(l).current;K.useImperativeHandle(u,()=>d);const{children:_}=l;return _==null?null:to.createElement(Zd,{value:p},_)}return K.forwardRef(s)}function gE(a){function s(l,u){const{instance:d}=a(l).current;return K.useImperativeHandle(u,()=>d),null}return K.forwardRef(s)}function Lv(a,s){const l=K.useRef(void 0);K.useEffect(function(){return s!=null&&a.instance.on(s),l.current=s,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,s])}function Gd(a,s){const l=a.pane??s.pane;return l?{...a,pane:l}:a}var yl={exports:{}};var yE=yl.exports,S0;function vE(){return S0||(S0=1,(function(a,s){(function(l,u){u(s)})(yE,(function(l){var u="1.9.4";function d(n){var r,c,m,g;for(c=1,m=arguments.length;c<m;c++){g=arguments[c];for(r in g)n[r]=g[r]}return n}var p=Object.create||(function(){function n(){}return function(r){return n.prototype=r,new n}})();function _(n,r){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(r,m.length?m.concat(c.call(arguments)):arguments)}}var b=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function x(n,r,c){var m,g,S,C;return C=function(){m=!1,g&&(S.apply(c,g),g=!1)},S=function(){m?g=arguments:(n.apply(c,arguments),setTimeout(C,r),m=!0)},S}function A(n,r,c){var m=r[1],g=r[0],S=m-g;return n===m&&c?n:((n-g)%S+S)%S+g}function T(){return!1}function k(n,r){if(r===!1)return n;var c=Math.pow(10,r===void 0?6:r);return Math.round(n*c)/c}function R(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function D(n){return R(n).split(/\s+/)}function M(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var c in r)n.options[c]=r[c];return n.options}function Z(n,r,c){var m=[];for(var g in n)m.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!r||r.indexOf("?")===-1?"?":"&")+m.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function j(n,r){return n.replace(P,function(c,m){var g=r[m];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(r)),g})}var tt=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function yt(n,r){for(var c=0;c<n.length;c++)if(n[c]===r)return c;return-1}var ut="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var X=0;function ot(n){var r=+new Date,c=Math.max(0,16-(r-X));return X=r+c,window.setTimeout(n,c)}var ct=window.requestAnimationFrame||W("RequestAnimationFrame")||ot,gt=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ft(n,r,c){if(c&&ct===ot)n.call(r);else return ct.call(window,_(n,r))}function vt(n){n&&gt.call(window,n)}var Ct={__proto__:null,extend:d,create:p,bind:_,get lastId(){return b},stamp:y,throttle:x,wrapNum:A,falseFn:T,formatNum:k,trim:R,splitWords:D,setOptions:M,getParamString:Z,template:j,isArray:tt,indexOf:yt,emptyImageUrl:ut,requestFn:ct,cancelFn:gt,requestAnimFrame:ft,cancelAnimFrame:vt};function zt(){}zt.extend=function(n){var r=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=r.__super__=this.prototype,m=p(c);m.constructor=r,r.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(r[g]=this[g]);return n.statics&&d(r,n.statics),n.includes&&(rt(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?p(c.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,C=m._initHooks.length;S<C;S++)m._initHooks[S].call(this)}},r},zt.include=function(n){var r=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},zt.mergeOptions=function(n){return d(this.prototype.options,n),this},zt.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function rt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=tt(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var N={on:function(n,r,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],r);else{n=D(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],r,c)}return this},off:function(n,r,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],r);else{n=D(n);for(var g=arguments.length===1,S=0,C=n.length;S<C;S++)g?this._off(n[S]):this._off(n[S],r,c)}return this},_on:function(n,r,c,m){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,c)===!1){c===this&&(c=void 0);var g={fn:r,ctx:c};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,r,c){var m,g,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=T;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var C=this._listens(n,r,c);if(C!==!1){var H=m[C];this._firingCount&&(H.fn=T,this._events[n]=m=m.slice()),m.splice(C,1)}}},fire:function(n,r,c){if(!this.listens(n,c))return this;var m=d({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,C=g.length;S<C;S++){var H=g[S],V=H.fn;H.once&&this.off(n,V,H.ctx),V.call(H.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,r,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=r;typeof r!="function"&&(m=!!r,g=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,g,c)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(n,r,c,m))return!0}return!1},_listens:function(n,r,c){if(!this._events)return!1;var m=this._events[n]||[];if(!r)return!!m.length;c===this&&(c=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===r&&m[g].ctx===c)return g;return!1},once:function(n,r,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],r,!0);else{n=D(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],r,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var Q=zt.extend(N);function F(n,r,c){this.x=c?Math.round(n):n,this.y=c?Math.round(r):r}var mt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(n){return this.clone()._add(nt(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(nt(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new F(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new F(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=mt(this.x),this.y=mt(this.y),this},distanceTo:function(n){n=nt(n);var r=n.x-this.x,c=n.y-this.y;return Math.sqrt(r*r+c*c)},equals:function(n){return n=nt(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=nt(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function nt(n,r,c){return n instanceof F?n:tt(n)?new F(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new F(n.x,n.y):new F(n,r,c)}function z(n,r){if(n)for(var c=r?[n,r]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}z.prototype={extend:function(n){var r,c;if(!n)return this;if(n instanceof F||typeof n[0]=="number"||"x"in n)r=c=nt(n);else if(n=q(n),r=n.min,c=n.max,!r||!c)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=c.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return nt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return nt(this.min.x,this.max.y)},getTopRight:function(){return nt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,c;return typeof n[0]=="number"||n instanceof F?n=nt(n):n=q(n),n instanceof z?(r=n.min,c=n.max):r=c=n,r.x>=this.min.x&&c.x<=this.max.x&&r.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=q(n);var r=this.min,c=this.max,m=n.min,g=n.max,S=g.x>=r.x&&m.x<=c.x,C=g.y>=r.y&&m.y<=c.y;return S&&C},overlaps:function(n){n=q(n);var r=this.min,c=this.max,m=n.min,g=n.max,S=g.x>r.x&&m.x<c.x,C=g.y>r.y&&m.y<c.y;return S&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,c=this.max,m=Math.abs(r.x-c.x)*n,g=Math.abs(r.y-c.y)*n;return q(nt(r.x-m,r.y-g),nt(c.x+m,c.y+g))},equals:function(n){return n?(n=q(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function q(n,r){return!n||n instanceof z?n:new z(n,r)}function st(n,r){if(n)for(var c=r?[n,r]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}st.prototype={extend:function(n){var r=this._southWest,c=this._northEast,m,g;if(n instanceof dt)m=n,g=n;else if(n instanceof st){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(ht(n)||lt(n)):this;return!r&&!c?(this._southWest=new dt(m.lat,m.lng),this._northEast=new dt(g.lat,g.lng)):(r.lat=Math.min(m.lat,r.lat),r.lng=Math.min(m.lng,r.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var r=this._southWest,c=this._northEast,m=Math.abs(r.lat-c.lat)*n,g=Math.abs(r.lng-c.lng)*n;return new st(new dt(r.lat-m,r.lng-g),new dt(c.lat+m,c.lng+g))},getCenter:function(){return new dt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new dt(this.getNorth(),this.getWest())},getSouthEast:function(){return new dt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof dt||"lat"in n?n=ht(n):n=lt(n);var r=this._southWest,c=this._northEast,m,g;return n instanceof st?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=r.lat&&g.lat<=c.lat&&m.lng>=r.lng&&g.lng<=c.lng},intersects:function(n){n=lt(n);var r=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>=r.lat&&m.lat<=c.lat,C=g.lng>=r.lng&&m.lng<=c.lng;return S&&C},overlaps:function(n){n=lt(n);var r=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>r.lat&&m.lat<c.lat,C=g.lng>r.lng&&m.lng<c.lng;return S&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=lt(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function lt(n,r){return n instanceof st?n:new st(n,r)}function dt(n,r,c){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,c!==void 0&&(this.alt=+c)}dt.prototype={equals:function(n,r){if(!n)return!1;n=ht(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return Zt.distance(this,ht(n))},wrap:function(){return Zt.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,c=r/Math.cos(Math.PI/180*this.lat);return lt([this.lat-r,this.lng-c],[this.lat+r,this.lng+c])},clone:function(){return new dt(this.lat,this.lng,this.alt)}};function ht(n,r,c){return n instanceof dt?n:tt(n)&&typeof n[0]!="object"?n.length===3?new dt(n[0],n[1],n[2]):n.length===2?new dt(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new dt(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new dt(n,r,c)}var bt={latLngToPoint:function(n,r){var c=this.projection.project(n),m=this.scale(r);return this.transformation._transform(c,m)},pointToLatLng:function(n,r){var c=this.scale(r),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(r.min,c),g=this.transformation.transform(r.max,c);return new z(m,g)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?A(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?A(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new dt(c,r,m)},wrapLatLngBounds:function(n){var r=n.getCenter(),c=this.wrapLatLng(r),m=r.lat-c.lat,g=r.lng-c.lng;if(m===0&&g===0)return n;var S=n.getSouthWest(),C=n.getNorthEast(),H=new dt(S.lat-m,S.lng-g),V=new dt(C.lat-m,C.lng-g);return new st(H,V)}},Zt=d({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var c=Math.PI/180,m=n.lat*c,g=r.lat*c,S=Math.sin((r.lat-n.lat)*c/2),C=Math.sin((r.lng-n.lng)*c/2),H=S*S+Math.cos(m)*Math.cos(g)*C*C,V=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*V}}),Vt=6378137,Ce={R:Vt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),g=Math.sin(m*r);return new F(this.R*n.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var r=180/Math.PI;return new dt((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:(function(){var n=Vt*Math.PI;return new z([-n,-n],[n,n])})()};function $e(n,r,c,m){if(tt(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=c,this._d=m}$e.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new F((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function _e(n,r,c,m){return new $e(n,r,c,m)}var Ze=d({},Zt,{code:"EPSG:3857",projection:Ce,transformation:(function(){var n=.5/(Math.PI*Ce.R);return _e(n,.5,-n,.5)})()}),qe=d({},Ze,{code:"EPSG:900913"});function hn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function dn(n,r){var c="",m,g,S,C,H,V;for(m=0,S=n.length;m<S;m++){for(H=n[m],g=0,C=H.length;g<C;g++)V=H[g],c+=(g?"L":"M")+V.x+" "+V.y;c+=r?St.svg?"z":"x":""}return c||"M0 0"}var vi=document.documentElement.style,qn="ActiveXObject"in window,_i=qn&&!document.addEventListener,_t="msLaunchUri"in navigator&&!("documentMode"in document),Mt=_n("webkit"),kt=_n("android"),qt=_n("android 2")||_n("android 3"),Dt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ge=kt&&_n("Google")&&Dt<537&&!("AudioNode"in window),Ut=!!window.opera,At=!_t&&_n("chrome"),Gt=_n("gecko")&&!Mt&&!Ut&&!qn,pe=!At&&_n("safari"),Et=_n("phantom"),It="OTransition"in vi,On=navigator.platform.indexOf("Win")===0,Ee=qn&&"transition"in vi,he="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qt,ke="MozPerspective"in vi,Ie=!window.L_DISABLE_3D&&(Ee||he||ke)&&!It&&!Et,Gn=typeof orientation<"u"||_n("mobile"),bi=Gn&&Mt,uo=Gn&&he,Yi=!window.PointerEvent&&window.MSPointerEvent,xi=!!(window.PointerEvent||Yi),wi="ontouchstart"in window||!!window.TouchEvent,si=!window.L_NO_TOUCH&&(wi||xi),Ta=Gn&&Ut,Aa=Gn&&Gt,co=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ur=(function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",T,r),window.removeEventListener("testPassiveEventSupport",T,r)}catch{}return n})(),rn=(function(){return!!document.createElement("canvas").getContext})(),vn=!!(document.createElementNS&&hn("svg").createSVGRect),fo=!!vn&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),cr=!vn&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),Ll=navigator.platform.indexOf("Mac")===0,Cl=navigator.platform.indexOf("Linux")===0;function _n(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var St={ie:qn,ielt9:_i,edge:_t,webkit:Mt,android:kt,android23:qt,androidStock:Ge,opera:Ut,chrome:At,gecko:Gt,safari:pe,phantom:Et,opera12:It,win:On,ie3d:Ee,webkit3d:he,gecko3d:ke,any3d:Ie,mobile:Gn,mobileWebkit:bi,mobileWebkit3d:uo,msPointer:Yi,pointer:xi,touch:si,touchNative:wi,mobileOpera:Ta,mobileGecko:Aa,retina:co,passiveEvents:ur,canvas:rn,svg:vn,vml:cr,inlineSvg:fo,mac:Ll,linux:Cl},ho=St.msPointer?"MSPointerDown":"pointerdown",mo=St.msPointer?"MSPointerMove":"pointermove",ri=St.msPointer?"MSPointerUp":"pointerup",Re=St.msPointer?"MSPointerCancel":"pointercancel",Qe={touchstart:ho,touchmove:mo,touchend:ri,touchcancel:Re},Ki={touchstart:La,touchmove:Ei,touchend:Ei,touchcancel:Ei},Si={},Ml=!1;function Mc(n,r,c){return r==="touchstart"&&za(),Ki[r]?(c=Ki[r].bind(this,c),n.addEventListener(Qe[r],c,!1),c):(console.warn("wrong event specified:",r),T)}function Nl(n,r,c){if(!Qe[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Qe[r],c,!1)}function _s(n){Si[n.pointerId]=n}function po(n){Si[n.pointerId]&&(Si[n.pointerId]=n)}function Qi(n){delete Si[n.pointerId]}function za(){Ml||(document.addEventListener(ho,_s,!0),document.addEventListener(mo,po,!0),document.addEventListener(ri,Qi,!0),document.addEventListener(Re,Qi,!0),Ml=!0)}function Ei(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var c in Si)r.touches.push(Si[c]);r.changedTouches=[r],n(r)}}function La(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Te(r),Ei(n,r)}function Be(n){var r={},c,m;for(m in n)c=n[m],r[m]=c&&c.bind?c.bind(n):c;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Ol=200;function kl(n,r){n.addEventListener("dblclick",r);var c=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var C=As(S);if(!(C.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!C.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var H=Date.now();H-c<=Ol?(m++,m===2&&r(Be(S))):m=1,c=H}}}return n.addEventListener("click",g),{dblclick:r,simDblclick:g}}function Xi(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Ti=ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bs=ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),go=bs==="webkitTransition"||bs==="OTransition"?bs+"End":"transitionend";function yo(n){return typeof n=="string"?document.getElementById(n):n}function xs(n,r){var c=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[r]:null}return c==="auto"?null:c}function Yt(n,r,c){var m=document.createElement(n);return m.className=r||"",c&&c.appendChild(m),m}function le(n){var r=n.parentNode;r&&r.removeChild(n)}function bn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ve(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Fi(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function vo(n,r){if(n.classList!==void 0)return n.classList.contains(r);var c=fr(n);return c.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(c)}function Rt(n,r){if(n.classList!==void 0)for(var c=D(r),m=0,g=c.length;m<g;m++)n.classList.add(c[m]);else if(!vo(n,r)){var S=fr(n);Ca(n,(S?S+" ":"")+r)}}function be(n,r){n.classList!==void 0?n.classList.remove(r):Ca(n,R((" "+fr(n)+" ").replace(" "+r+" "," ")))}function Ca(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function fr(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ge(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&_o(n,r)}function _o(n,r){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(r===1)return}r=Math.round(r*100),c?(c.Enabled=r!==100,c.Opacity=r):n.style.filter+=" progid:"+m+"(opacity="+r+")"}function ws(n){for(var r=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in r)return n[c];return!1}function oi(n,r,c){var m=r||new F(0,0);n.style[Ti]=(St.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function de(n,r){n._leaflet_pos=r,St.any3d?oi(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Ai(n){return n._leaflet_pos||new F(0,0)}var Ma,In,bo;if("onselectstart"in document)Ma=function(){Ot(window,"selectstart",Te)},In=function(){se(window,"selectstart",Te)};else{var Na=ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ma=function(){if(Na){var n=document.documentElement.style;bo=n[Na],n[Na]="none"}},In=function(){Na&&(document.documentElement.style[Na]=bo,bo=void 0)}}function hr(){Ot(window,"dragstart",Te)}function Ss(){se(window,"dragstart",Te)}var dr,xo;function Oa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(xn(),dr=n,xo=n.style.outlineStyle,n.style.outlineStyle="none",Ot(window,"keydown",xn))}function xn(){dr&&(dr.style.outlineStyle=xo,dr=void 0,xo=void 0,se(window,"keydown",xn))}function mr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Es(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var ka={__proto__:null,TRANSFORM:Ti,TRANSITION:bs,TRANSITION_END:go,get:yo,getStyle:xs,create:Yt,remove:le,empty:bn,toFront:Ve,toBack:Fi,hasClass:vo,addClass:Rt,removeClass:be,setClass:Ca,getClass:fr,setOpacity:ge,testProp:ws,setTransform:oi,setPosition:de,getPosition:Ai,get disableTextSelection(){return Ma},get enableTextSelection(){return In},disableImageDrag:hr,enableImageDrag:Ss,preventOutline:Oa,restoreOutline:xn,getSizedParentNode:mr,getScale:Es};function Ot(n,r,c,m){if(r&&typeof r=="object")for(var g in r)Rn(n,g,r[g],c);else{r=D(r);for(var S=0,C=r.length;S<C;S++)Rn(n,r[S],c,m)}return this}var kn="_leaflet_events";function se(n,r,c,m){if(arguments.length===1)wo(n),delete n[kn];else if(r&&typeof r=="object")for(var g in r)Ts(n,g,r[g],c);else if(r=D(r),arguments.length===2)wo(n,function(H){return yt(r,H)!==-1});else for(var S=0,C=r.length;S<C;S++)Ts(n,r[S],c,m);return this}function wo(n,r){for(var c in n[kn]){var m=c.split(/\d/)[0];(!r||r(m))&&Ts(n,m,null,null,c)}}var Ji={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rn(n,r,c,m){var g=r+y(c)+(m?"_"+y(m):"");if(n[kn]&&n[kn][g])return this;var S=function(H){return c.call(m||n,H||window.event)},C=S;!St.touchNative&&St.pointer&&r.indexOf("touch")===0?S=Mc(n,r,S):St.touch&&r==="dblclick"?S=kl(n,S):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Ji[r]||r,S,St.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(S=function(H){H=H||window.event,li(n,H)&&C(H)},n.addEventListener(Ji[r],S,!1)):n.addEventListener(r,C,!1):n.attachEvent("on"+r,S),n[kn]=n[kn]||{},n[kn][g]=S}function Ts(n,r,c,m,g){g=g||r+y(c)+(m?"_"+y(m):"");var S=n[kn]&&n[kn][g];if(!S)return this;!St.touchNative&&St.pointer&&r.indexOf("touch")===0?Nl(n,r,S):St.touch&&r==="dblclick"?Xi(n,S):"removeEventListener"in n?n.removeEventListener(Ji[r]||r,S,!1):n.detachEvent("on"+r,S),n[kn][g]=null}function Bn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Vn(n){return Rn(n,"wheel",Bn),this}function Wi(n){return Ot(n,"mousedown touchstart dblclick contextmenu",Bn),n._leaflet_disable_click=!0,this}function Te(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function zi(n){return Te(n),Bn(n),this}function As(n){if(n.composedPath)return n.composedPath();for(var r=[],c=n.target;c;)r.push(c),c=c.parentNode;return r}function zs(n,r){if(!r)return new F(n.clientX,n.clientY);var c=Es(r),m=c.boundingClientRect;return new F((n.clientX-m.left)/c.x-r.clientLeft,(n.clientY-m.top)/c.y-r.clientTop)}var Rl=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tn(n){return St.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Rl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function li(n,r){var c=r.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var pr={__proto__:null,on:Ot,off:se,stopPropagation:Bn,disableScrollPropagation:Vn,disableClickPropagation:Wi,preventDefault:Te,stop:zi,getPropagationPath:As,getMousePosition:zs,getWheelDelta:tn,isExternalTarget:li,addListener:Ot,removeListener:se},Ra=Q.extend({run:function(n,r,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Ai(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,c=this._duration*1e3;r<c?this._runFrame(this._easeOut(r/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var c=this._startPos.add(this._offset.multiplyBy(n));r&&c._round(),de(this._el,c),this.fire("step")},_complete:function(){vt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ft=Q.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=M(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ht(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bs&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,go,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,c){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(ht(n),r,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=d({animate:c.animate},c.zoom),c.pan=d({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,c){var m=this.getZoomScale(r),g=this.getSize().divideBy(2),S=n instanceof F?n:this.latLngToContainerPoint(n),C=S.subtract(g).multiplyBy(1-1/m),H=this.containerPointToLatLng(g.add(C));return this.setView(H,r,{zoom:c})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():lt(n);var c=nt(r.paddingTopLeft||r.padding||[0,0]),m=nt(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(m));if(g=typeof r.maxZoom=="number"?Math.min(r.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var S=m.subtract(c).divideBy(2),C=this.project(n.getSouthWest(),g),H=this.project(n.getNorthEast(),g),V=this.unproject(C.add(H).divideBy(2).add(S),g);return{center:V,zoom:g}},fitBounds:function(n,r){if(n=lt(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,r);return this.setView(c.center,c.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=nt(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,c){if(c=c||{},c.animate===!1||!St.any3d)return this.setView(n,r,c);this._stop();var m=this.project(this.getCenter()),g=this.project(n),S=this.getSize(),C=this._zoom;n=ht(n),r=r===void 0?C:r;var H=Math.max(S.x,S.y),V=H*this.getZoomScale(C,r),it=g.distanceTo(m)||1,pt=1.42,Tt=pt*pt;function Ht(Se){var hi=Se?-1:1,na=Se?V:H,jo=V*V-H*H+hi*Tt*Tt*it*it,Gs=2*na*Tt*it,Is=jo/Gs,Di=Math.sqrt(Is*Is+1)-Is,di=Di<1e-9?-18:Math.log(Di);return di}function Ye(Se){return(Math.exp(Se)-Math.exp(-Se))/2}function Ae(Se){return(Math.exp(Se)+Math.exp(-Se))/2}function pn(Se){return Ye(Se)/Ae(Se)}var $t=Ht(0);function te(Se){return H*(Ae($t)/Ae($t+pt*Se))}function Kt(Se){return H*(Ae($t)*pn($t+pt*Se)-Ye($t))/Tt}function Ri(Se){return 1-Math.pow(1-Se,1.5)}var Tn=Date.now(),Cr=(Ht(1)-$t)/pt,Bi=c.duration?1e3*c.duration:1e3*Cr*.8;function Do(){var Se=(Date.now()-Tn)/Bi,hi=Ri(Se)*Cr;Se<=1?(this._flyToFrame=ft(Do,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Kt(hi)/it)),C),this.getScaleZoom(H/te(hi),C),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Do.call(this),this},flyToBounds:function(n,r){var c=this._getBoundsCenterZoom(n,r);return this.flyTo(c.center,c.zoom,r)},setMaxBounds:function(n){return n=lt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,lt(n));return c.equals(m)||this.panTo(m,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var c=nt(r.paddingTopLeft||r.padding||[0,0]),m=nt(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(n),C=this.getPixelBounds(),H=q([C.min.add(c),C.max.subtract(m)]),V=H.getSize();if(!H.contains(S)){this._enforcingBounds=!0;var it=S.subtract(H.getCenter()),pt=H.extend(S).getSize().subtract(V);g.x+=it.x<0?-pt.x:pt.x,g.y+=it.y<0?-pt.y:pt.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=r.divideBy(2).round(),g=c.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=_(this._handleGeolocationResponse,this),c=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,c,n):navigator.geolocation.getCurrentPosition(r,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,c=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,c=n.coords.longitude,m=new dt(r,c),g=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var C=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(C,S.maxZoom):C)}var H={latlng:m,bounds:g,timestamp:n.timestamp};for(var V in n.coords)typeof n.coords[V]=="number"&&(H[V]=n.coords[V]);this.fire("locationfound",H)}},addHandler:function(n,r){if(!r)return this;var c=this[n]=new r(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(vt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)le(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Yt("div",c,r||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new st(r,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,c){n=lt(n),c=nt(c||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),C=n.getNorthWest(),H=n.getSouthEast(),V=this.getSize().subtract(c),it=q(this.project(H,m),this.project(C,m)).getSize(),pt=St.any3d?this.options.zoomSnap:1,Tt=V.x/it.x,Ht=V.y/it.y,Ye=r?Math.max(Tt,Ht):Math.min(Tt,Ht);return m=this.getScaleZoom(Ye,m),pt&&(m=Math.round(m/(pt/100))*(pt/100),m=r?Math.ceil(m/pt)*pt:Math.floor(m/pt)*pt),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var c=this._getTopLeftPoint(n,r);return new z(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var c=this.options.crs;return r=r===void 0?this._zoom:r,c.scale(n)/c.scale(r)},getScaleZoom:function(n,r){var c=this.options.crs;r=r===void 0?this._zoom:r;var m=c.zoom(n*c.scale(r));return isNaN(m)?1/0:m},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ht(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(nt(n),r)},layerPointToLatLng:function(n){var r=nt(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(ht(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ht(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(lt(n))},distance:function(n,r){return this.options.crs.distance(ht(n),ht(r))},containerPointToLayerPoint:function(n){return nt(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return nt(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(nt(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ht(n)))},mouseEventToContainerPoint:function(n){return zs(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=yo(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(r,"scroll",this._onScroll,this),this._containerId=y(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,Rt(n,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=xs(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),de(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(n.markerPane,"leaflet-zoom-hide"),Rt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,c){de(this._mapPane,new F(0,0));var m=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,c)._move(n,r)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,c,m){r===void 0&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return vt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){de(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var r=n?se:Ot;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){vt(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var c=[],m,g=r==="mouseout"||r==="mouseover",S=n.target||n.srcElement,C=!1;S;){if(m=this._targets[y(S)],m&&(r==="click"||r==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(r,!0)&&(g&&!li(S,n)||(c.push(m),g))||S===this._container)break;S=S.parentNode}return!c.length&&!C&&!g&&this.listens(r,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var c=n.type;c==="mousedown"&&Oa(r),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,c){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var g=this._findEventTargets(n,r);if(c){for(var S=[],C=0;C<c.length;C++)c[C].listens(r,!0)&&S.push(c[C]);g=S.concat(g)}if(g.length){r==="contextmenu"&&Te(n);var H=g[0],V={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var it=H.getLatLng&&(!H._radius||H._radius<=10);V.containerPoint=it?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(n),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=it?H.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(r,V,!0),V.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&yt(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Ai(this._mapPane)||new F(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var c=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var c=this.getSize()._divideBy(2);return this.project(n,r)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,c){var m=this._getNewPixelOrigin(c,r);return this.project(n,r)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,r,c){var m=this._getNewPixelOrigin(c,r);return q([this.project(n.getSouthWest(),r)._subtract(m),this.project(n.getNorthWest(),r)._subtract(m),this.project(n.getSouthEast(),r)._subtract(m),this.project(n.getNorthEast(),r)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,c){if(!c)return n;var m=this.project(n,r),g=this.getSize().divideBy(2),S=new z(m.subtract(g),m.add(g)),C=this._getBoundsOffset(S,c,r);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?n:this.unproject(m.add(C),r)},_limitOffset:function(n,r){if(!r)return n;var c=this.getPixelBounds(),m=new z(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,r))},_getBoundsOffset:function(n,r,c){var m=q(this.project(r.getNorthEast(),c),this.project(r.getSouthWest(),c)),g=m.min.subtract(n.min),S=m.max.subtract(n.max),C=this._rebound(g.x,-S.x),H=this._rebound(g.y,-S.y);return new F(C,H)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),c=this.getMaxZoom(),m=St.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(r,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var c=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,r),!0)},_createAnimProxy:function(){var n=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var c=Ti,m=this._proxy.style[c];oi(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();oi(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(r),g=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(g)?!1:(ft(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function So(n,r){return new Ft(n,r)}var mn=zt.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return Rt(r,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(r,m.firstChild):m.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ui=function(n){return new mn(n)};Ft.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",c=this._controlContainer=Yt("div",r+"control-container",this._container);function m(g,S){var C=r+g+" "+r+S;n[g+S]=Yt("div",C,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)le(this._controlCorners[n]);le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ls=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,r,c){M(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in r)this._addLayer(r[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return mn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(y(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=Yt("div",n),c=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Wi(r),Vn(r);var m=this._section=Yt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),Ot(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Yt("a",n+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),Ot(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Te(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Yt("div",n+"-base",m),this._separator=Yt("div",n+"-separator",m),this._overlaysList=Yt("div",n+"-overlays",m),r.appendChild(m)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&y(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:c}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bn(this._baseLayersList),bn(this._overlaysList),this._layerControlInputs=[];var n,r,c,m,g=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),r=r||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(y(n.target)),c=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,r)},_createRadioElement:function(n,r){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var r=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),Ot(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var S=document.createElement("span");r.appendChild(S),S.appendChild(m),S.appendChild(g);var C=n.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,c,m=[],g=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)r=n[S],c=this._getLayer(r.layerId).layer,r.checked?m.push(c):r.checked||g.push(c);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,c,m=this._map.getZoom(),g=n.length-1;g>=0;g--)r=n[g],c=this._getLayer(r.layerId).layer,r.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Ot(n,"click",Te),this.expand();var r=this;setTimeout(function(){se(n,"click",Te),r._preventClick=!1})}}),Bl=function(n,r,c){return new Ls(n,r,c)},Eo=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",c=Yt("div",r+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,r+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,r+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,c,m,g){var S=Yt("a",c,m);return S.innerHTML=n,S.href="#",S.title=r,S.setAttribute("role","button"),S.setAttribute("aria-label",r),Wi(S),Ot(S,"click",zi),Ot(S,"click",g,this),Ot(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";be(this._zoomInButton,r),be(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Rt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Rt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ft.mergeOptions({zoomControl:!0}),Ft.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Eo,this.addControl(this.zoomControl))});var Nc=function(n){return new Eo(n)},Dl=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",c=Yt("div",r),m=this.options;return this._addScales(m,r+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,c){n.metric&&(this._mScale=Yt("div",r,c)),n.imperial&&(this._iScale=Yt("div",r,c))},_update:function(){var n=this._map,r=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),c=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,c,r/n)},_updateImperial:function(n){var r=n*3.2808399,c,m,g;r>5280?(c=r/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(n,r,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),c=n/r;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,r*c}}),To=function(n){return new Dl(n)},Oc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ao=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?Oc+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),Wi(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ft.mergeOptions({attributionControl:!0}),Ft.addInitHook(function(){this.options.attributionControl&&new Ao().addTo(this)});var kc=function(n){return new Ao(n)};mn.Layers=Ls,mn.Zoom=Eo,mn.Scale=Dl,mn.Attribution=Ao,ui.layers=Bl,ui.zoom=Nc,ui.scale=To,ui.attribution=kc;var Yn=zt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(n,r){return n.addHandler(r,this),this};var Rc={Events:N},zo=St.touch?"touchstart mousedown":"mousedown",Li=Q.extend({options:{clickTolerance:3},initialize:function(n,r,c,m){M(this,m),this._element=n,this._dragStartTarget=r||n,this._preventOutline=c},enable:function(){this._enabled||(Ot(this._dragStartTarget,zo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Li._dragging===this&&this.finishDrag(!0),se(this._dragStartTarget,zo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!vo(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Li._dragging===this&&this.finishDrag();return}if(!(Li._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Li._dragging=this,this._preventOutline&&Oa(this._element),hr(),Ma(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,c=mr(this._element);this._startPoint=new F(r.clientX,r.clientY),this._startPos=Ai(this._element),this._parentScale=Es(c);var m=n.type==="mousedown";Ot(document,m?"mousemove":"touchmove",this._onMove,this),Ot(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,c=new F(r.clientX,r.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Te(n),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),de(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),se(document,"mousemove touchmove",this._onMove,this),se(document,"mouseup touchend touchcancel",this._onUp,this),Ss(),In();var r=this._moved&&this._moving;this._moving=!1,Li._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function jl(n,r,c){var m,g=[1,4,2,8],S,C,H,V,it,pt,Tt,Ht;for(S=0,pt=n.length;S<pt;S++)n[S]._code=$i(n[S],r);for(H=0;H<4;H++){for(Tt=g[H],m=[],S=0,pt=n.length,C=pt-1;S<pt;C=S++)V=n[S],it=n[C],V._code&Tt?it._code&Tt||(Ht=gr(it,V,Tt,r,c),Ht._code=$i(Ht,r),m.push(Ht)):(it._code&Tt&&(Ht=gr(it,V,Tt,r,c),Ht._code=$i(Ht,r),m.push(Ht)),m.push(V));n=m}return n}function Ul(n,r){var c,m,g,S,C,H,V,it,pt;if(!n||n.length===0)throw new Error("latlngs not passed");wn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Tt=ht([0,0]),Ht=lt(n),Ye=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());Ye<1700&&(Tt=Lo(n));var Ae=n.length,pn=[];for(c=0;c<Ae;c++){var $t=ht(n[c]);pn.push(r.project(ht([$t.lat-Tt.lat,$t.lng-Tt.lng])))}for(H=V=it=0,c=0,m=Ae-1;c<Ae;m=c++)g=pn[c],S=pn[m],C=g.y*S.x-S.y*g.x,V+=(g.x+S.x)*C,it+=(g.y+S.y)*C,H+=C*3;H===0?pt=pn[0]:pt=[V/H,it/H];var te=r.unproject(nt(pt));return ht([te.lat+Tt.lat,te.lng+Tt.lng])}function Lo(n){for(var r=0,c=0,m=0,g=0;g<n.length;g++){var S=ht(n[g]);r+=S.lat,c+=S.lng,m++}return ht([r/m,c/m])}var Co={__proto__:null,clipPolygon:jl,polygonCenter:Ul,centroid:Lo};function Hl(n,r){if(!r||!n.length)return n.slice();var c=r*r;return n=Dc(n,c),n=Zl(n,c),n}function Pl(n,r,c){return Math.sqrt(Cs(n,r,c,!0))}function Bc(n,r,c){return Cs(n,r,c)}function Zl(n,r){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(c);g[0]=g[c-1]=1,Mo(n,g,r,0,c-1);var S,C=[];for(S=0;S<c;S++)g[S]&&C.push(n[S]);return C}function Mo(n,r,c,m,g){var S=0,C,H,V;for(H=m+1;H<=g-1;H++)V=Cs(n[H],n[m],n[g],!0),V>S&&(C=H,S=V);S>c&&(r[C]=1,Mo(n,r,c,m,C),Mo(n,r,c,C,g))}function Dc(n,r){for(var c=[n[0]],m=1,g=0,S=n.length;m<S;m++)jc(n[m],n[g])>r&&(c.push(n[m]),g=m);return g<S-1&&c.push(n[S-1]),c}var ql;function Gl(n,r,c,m,g){var S=m?ql:$i(n,c),C=$i(r,c),H,V,it;for(ql=C;;){if(!(S|C))return[n,r];if(S&C)return!1;H=S||C,V=gr(n,r,H,c,g),it=$i(V,c),H===S?(n=V,S=it):(r=V,C=it)}}function gr(n,r,c,m,g){var S=r.x-n.x,C=r.y-n.y,H=m.min,V=m.max,it,pt;return c&8?(it=n.x+S*(V.y-n.y)/C,pt=V.y):c&4?(it=n.x+S*(H.y-n.y)/C,pt=H.y):c&2?(it=V.x,pt=n.y+C*(V.x-n.x)/S):c&1&&(it=H.x,pt=n.y+C*(H.x-n.x)/S),new F(it,pt,g)}function $i(n,r){var c=0;return n.x<r.min.x?c|=1:n.x>r.max.x&&(c|=2),n.y<r.min.y?c|=4:n.y>r.max.y&&(c|=8),c}function jc(n,r){var c=r.x-n.x,m=r.y-n.y;return c*c+m*m}function Cs(n,r,c,m){var g=r.x,S=r.y,C=c.x-g,H=c.y-S,V=C*C+H*H,it;return V>0&&(it=((n.x-g)*C+(n.y-S)*H)/V,it>1?(g=c.x,S=c.y):it>0&&(g+=C*it,S+=H*it)),C=n.x-g,H=n.y-S,m?C*C+H*H:new F(g,S)}function wn(n){return!tt(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function yr(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wn(n)}function Ba(n,r){var c,m,g,S,C,H,V,it;if(!n||n.length===0)throw new Error("latlngs not passed");wn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var pt=ht([0,0]),Tt=lt(n),Ht=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Ht<1700&&(pt=Lo(n));var Ye=n.length,Ae=[];for(c=0;c<Ye;c++){var pn=ht(n[c]);Ae.push(r.project(ht([pn.lat-pt.lat,pn.lng-pt.lng])))}for(c=0,m=0;c<Ye-1;c++)m+=Ae[c].distanceTo(Ae[c+1])/2;if(m===0)it=Ae[0];else for(c=0,S=0;c<Ye-1;c++)if(C=Ae[c],H=Ae[c+1],g=C.distanceTo(H),S+=g,S>m){V=(S-m)/g,it=[H.x-V*(H.x-C.x),H.y-V*(H.y-C.y)];break}var $t=r.unproject(nt(it));return ht([$t.lat+pt.lat,$t.lng+pt.lng])}var Uc={__proto__:null,simplify:Hl,pointToSegmentDistance:Pl,closestPointOnSegment:Bc,clipSegment:Gl,_getEdgeIntersection:gr,_getBitCode:$i,_sqClosestPointOnSegment:Cs,isFlat:wn,_flat:yr,polylineCenter:Ba},vr={project:function(n){return new F(n.lng,n.lat)},unproject:function(n){return new dt(n.y,n.x)},bounds:new z([-180,-90],[180,90])},_r={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,c=this.R,m=n.lat*r,g=this.R_MINOR/c,S=Math.sqrt(1-g*g),C=S*Math.sin(m),H=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),S/2);return m=-c*Math.log(Math.max(H,1e-10)),new F(n.lng*r*c,m)},unproject:function(n){for(var r=180/Math.PI,c=this.R,m=this.R_MINOR/c,g=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),C=Math.PI/2-2*Math.atan(S),H=0,V=.1,it;H<15&&Math.abs(V)>1e-7;H++)it=g*Math.sin(C),it=Math.pow((1-it)/(1+it),g/2),V=Math.PI/2-2*Math.atan(S*it)-C,C+=V;return new dt(C*r,n.x*r/c)}},Il={__proto__:null,LonLat:vr,Mercator:_r,SphericalMercator:Ce},Vl=d({},Zt,{code:"EPSG:3395",projection:_r,transformation:(function(){var n=.5/(Math.PI*_r.R);return _e(n,.5,-n,.5)})()}),No=d({},Zt,{code:"EPSG:4326",projection:vr,transformation:_e(1/180,1,-1/180,.5)}),Da=d({},bt,{projection:vr,transformation:_e(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var c=r.lng-n.lng,m=r.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});bt.Earth=Zt,bt.EPSG3395=Vl,bt.EPSG3857=Ze,bt.EPSG900913=qe,bt.EPSG4326=No,bt.Simple=Da;var Dn=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var c=this.getEvents();r.on(c,this),this.once("remove",function(){r.off(c,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Ft.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=y(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=y(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,r){for(var c in this._layers)n.call(r,this._layers[c]);return this},_addLayers:function(n){n=n?tt(n)?n:[n]:[];for(var r=0,c=n.length;r<c;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=y(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),r=g.maxZoom===void 0?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ja=Dn.extend({initialize:function(n,r){M(this,r),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var c in this._layers)n.call(r,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),Hc=function(n,r){return new ja(n,r)},Kn=ja.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ja.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ja.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new st;for(var r in this._layers){var c=this._layers[r];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),Yl=function(n,r){return new Kn(n,r)},Qn=zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,r){var c=this.options,m=c[r+"Size"];typeof m=="number"&&(m=[m,m]);var g=nt(m),S=nt(r==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return St.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Ms(n){return new Qn(n)}var Ns=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Ns.imagePath!="string"&&(Ns.imagePath=this._detectIconPath()),(this.options.imagePath||Ns.imagePath)+Qn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(c,m,g){var S=m.exec(c);return S&&S[g]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Yt("div","leaflet-default-icon-path",document.body),r=xs(n,"background-image")||xs(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Os=Yn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Li(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,c=r._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=Ai(r._icon),C=c.getPixelBounds(),H=c.getPixelOrigin(),V=q(C.min._subtract(H).add(g),C.max._subtract(H).subtract(g));if(!V.contains(S)){var it=nt((Math.max(V.max.x,S.x)-V.max.x)/(C.max.x-V.max.x)-(Math.min(V.min.x,S.x)-V.min.x)/(C.min.x-V.min.x),(Math.max(V.max.y,S.y)-V.max.y)/(C.max.y-V.max.y)-(Math.min(V.min.y,S.y)-V.min.y)/(C.min.y-V.min.y)).multiplyBy(m);c.panBy(it,{animate:!1}),this._draggable._newPos._add(it),this._draggable._startPos._add(it),de(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ft(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(vt(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,c=r._shadow,m=Ai(r._icon),g=r._map.layerPointToLatLng(m);c&&de(c,m),r._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){vt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ks=Dn.extend({options:{icon:new Ns,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){M(this,r),this._latlng=ht(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=ht(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),Rt(c,r),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(Rt(g,r),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(this._icon,"focus",this._panOnFocus,this),le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&le(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&de(this._icon,n),this._shadow&&de(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Os)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Os(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ge(this._icon,n),this._shadow&&ge(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,c=r.iconSize?nt(r.iconSize):nt(0,0),m=r.iconAnchor?nt(r.iconAnchor):nt(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kl(n,r){return new ks(n,r)}var Xn=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ua=Xn.extend({options:{fill:!0,radius:10},initialize:function(n,r){M(this,r),this._latlng=ht(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=ht(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Xn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,c=this._clickTolerance(),m=[n+c,r+c];this._pxBounds=new z(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ql(n,r){return new Ua(n,r)}var br=Ua.extend({initialize:function(n,r,c){if(typeof r=="number"&&(r=d({},c,{radius:r})),M(this,r),this._latlng=ht(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new st(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Xn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===Zt.distance){var g=Math.PI/180,S=this._mRadius/Zt.R/g,C=c.project([r+S,n]),H=c.project([r-S,n]),V=C.add(H).divideBy(2),it=c.unproject(V).lat,pt=Math.acos((Math.cos(S*g)-Math.sin(r*g)*Math.sin(it*g))/(Math.cos(r*g)*Math.cos(it*g)))/g;(isNaN(pt)||pt===0)&&(pt=S/Math.cos(Math.PI/180*r)),this._point=V.subtract(c.getPixelOrigin()),this._radius=isNaN(pt)?0:V.x-c.project([it,n-pt]).x,this._radiusY=V.y-C.y}else{var Tt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Tt).x}this._updateBounds()}});function Xl(n,r,c){return new br(n,r,c)}var ci=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){M(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,c=null,m=Cs,g,S,C=0,H=this._parts.length;C<H;C++)for(var V=this._parts[C],it=1,pt=V.length;it<pt;it++){g=V[it-1],S=V[it];var Tt=m(n,g,S,!0);Tt<r&&(r=Tt,c=m(n,g,S))}return c&&(c.distance=Math.sqrt(r)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ba(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=ht(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new st,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return wn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],c=wn(n),m=0,g=n.length;m<g;m++)c?(r[m]=ht(n[m]),this._bounds.extend(r[m])):r[m]=this._convertLatLngs(n[m]);return r},_project:function(){var n=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new F(n,n);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,c){var m=n[0]instanceof dt,g=n.length,S,C;if(m){for(C=[],S=0;S<g;S++)C[S]=this._map.latLngToLayerPoint(n[S]),c.extend(C[S]);r.push(C)}else for(S=0;S<g;S++)this._projectLatlngs(n[S],r,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,c,m,g,S,C,H,V;for(c=0,g=0,S=this._rings.length;c<S;c++)for(V=this._rings[c],m=0,C=V.length;m<C-1;m++)H=Gl(V[m],V[m+1],n,m,!0),H&&(r[g]=r[g]||[],r[g].push(H[0]),(H[1]!==V[m+1]||m===C-2)&&(r[g].push(H[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=Hl(n[c],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var c,m,g,S,C,H,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(H=this._parts[c],m=0,C=H.length,g=C-1;m<C;g=m++)if(!(!r&&m===0)&&Pl(n,H[g],H[m])<=V)return!0;return!1}});function Pc(n,r){return new ci(n,r)}ci._flat=yr;var Ha=ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=ci.prototype._convertLatLngs.call(this,n),c=r.length;return c>=2&&r[0]instanceof dt&&r[0].equals(r[c-1])&&r.pop(),r},_setLatLngs:function(n){ci.prototype._setLatLngs.call(this,n),wn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,c=new F(r,r);if(n=new z(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=jl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,c,m,g,S,C,H,V,it;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,V=this._parts.length;S<V;S++)for(c=this._parts[S],C=0,it=c.length,H=it-1;C<it;H=C++)m=c[C],g=c[H],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(r=!r);return r||ci.prototype._containsPoint.call(this,n,!0)}});function Zc(n,r){return new Ha(n,r)}var fi=Kn.extend({initialize:function(n,r){M(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=tt(n)?n:n.features,c,m,g;if(r){for(c=0,m=r.length;c<m;c++)g=r[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var C=Xe(n,S);return C?(C.feature=Sr(n),C.defaultOptions=C.options,this.resetStyle(C),S.onEachFeature&&S.onEachFeature(n,C),this.addLayer(C)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Xe(n,r){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,g=[],S=r&&r.pointToLayer,C=r&&r.coordsToLatLng||xr,H,V,it,pt;if(!m&&!c)return null;switch(c.type){case"Point":return H=C(m),Pa(S,n,H,r);case"MultiPoint":for(it=0,pt=m.length;it<pt;it++)H=C(m[it]),g.push(Pa(S,n,H,r));return new Kn(g);case"LineString":case"MultiLineString":return V=Rs(m,c.type==="LineString"?0:1,C),new ci(V,r);case"Polygon":case"MultiPolygon":return V=Rs(m,c.type==="Polygon"?1:2,C),new Ha(V,r);case"GeometryCollection":for(it=0,pt=c.geometries.length;it<pt;it++){var Tt=Xe({geometry:c.geometries[it],type:"Feature",properties:n.properties},r);Tt&&g.push(Tt)}return new Kn(g);case"FeatureCollection":for(it=0,pt=c.features.length;it<pt;it++){var Ht=Xe(c.features[it],r);Ht&&g.push(Ht)}return new Kn(g);default:throw new Error("Invalid GeoJSON object.")}}function Pa(n,r,c,m){return n?n(r,c):new ks(c,m&&m.markersInheritOptions&&m)}function xr(n){return new dt(n[1],n[0],n[2])}function Rs(n,r,c){for(var m=[],g=0,S=n.length,C;g<S;g++)C=r?Rs(n[g],r-1,c):(c||xr)(n[g]),m.push(C);return m}function wr(n,r){return n=ht(n),n.alt!==void 0?[k(n.lng,r),k(n.lat,r),k(n.alt,r)]:[k(n.lng,r),k(n.lat,r)]}function Bs(n,r,c,m){for(var g=[],S=0,C=n.length;S<C;S++)g.push(r?Bs(n[S],wn(n[S])?0:r-1,c,m):wr(n[S],m));return!r&&c&&g.length>0&&g.push(g[0].slice()),g}function Ci(n,r){return n.feature?d({},n.feature,{geometry:r}):Sr(r)}function Sr(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Mi={toGeoJSON:function(n){return Ci(this,{type:"Point",coordinates:wr(this.getLatLng(),n)})}};ks.include(Mi),br.include(Mi),Ua.include(Mi),ci.include({toGeoJSON:function(n){var r=!wn(this._latlngs),c=Bs(this._latlngs,r?1:0,!1,n);return Ci(this,{type:(r?"Multi":"")+"LineString",coordinates:c})}}),Ha.include({toGeoJSON:function(n){var r=!wn(this._latlngs),c=r&&!wn(this._latlngs[0]),m=Bs(this._latlngs,c?2:r?1:0,!0,n);return r||(m=[m]),Ci(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),ja.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(c){r.push(c.toGeoJSON(n).geometry.coordinates)}),Ci(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var c=r==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(n);if(c)m.push(S.geometry);else{var C=Sr(S);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),c?Ci(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Er(n,r){return new fi(n,r)}var Ds=Er,Za=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,c){this._url=n,this._bounds=lt(r),M(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ve(this._image),this},bringToBack:function(){return this._map&&Fi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=lt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:Yt("img");if(Rt(r,"leaflet-image-layer"),this._zoomAnimated&&Rt(r,"leaflet-zoom-animated"),this.options.className&&Rt(r,this.options.className),r.onselectstart=T,r.onmousemove=T,r.onload=_(this.fire,this,"load"),r.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;oi(this._image,c,r)},_reset:function(){var n=this._image,r=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=r.getSize();de(n,r.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Fl=function(n,r,c){return new Za(n,r,c)},Ni=Za.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:Yt("video");if(Rt(r,"leaflet-image-layer"),this._zoomAnimated&&Rt(r,"leaflet-zoom-animated"),this.options.className&&Rt(r,this.options.className),r.onselectstart=T,r.onmousemove=T,r.onloadeddata=_(this.fire,this,"load"),n){for(var c=r.getElementsByTagName("source"),m=[],g=0;g<c.length;g++)m.push(c[g].src);this._url=c.length>0?m:[r.src];return}tt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var C=Yt("source");C.src=this._url[S],r.appendChild(C)}}});function qa(n,r,c){return new Ni(n,r,c)}var Tr=Za.extend({_initImage:function(){var n=this._image=this._url;Rt(n,"leaflet-image-layer"),this._zoomAnimated&&Rt(n,"leaflet-zoom-animated"),this.options.className&&Rt(n,this.options.className),n.onselectstart=T,n.onmousemove=T}});function Jl(n,r,c){return new Tr(n,r,c)}var Fe=Dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof dt||tt(n))?(this._latlng=ht(n),M(this,r)):(M(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ge(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ge(this._container,0),this._removeTimeout=setTimeout(_(le,void 0,this._container),200)):le(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ht(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ve(this._container),this},bringToBack:function(){return this._map&&Fi(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof Kn){r=null;var c=this._source._layers;for(var m in c)if(c[m]._map){r=c[m];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=nt(this.options.offset),c=this._getAnchor();this._zoomAnimated?de(this._container,n.add(c)):r=r.add(n).add(c);var m=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ft.include({_initOverlay:function(n,r,c,m){var g=r;return g instanceof n||(g=new n(m).setContent(r)),c&&g.setLatLng(c),g}}),Dn.include({_initOverlay:function(n,r,c,m){var g=c;return g instanceof n?(M(g,m),g._source=this):(g=r&&!m?r:new n(m,this),g.setContent(c)),g}});var js=Fe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Fe.prototype.openOn.call(this,n)},onAdd:function(n){Fe.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Bn))},onRemove:function(n){Fe.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Bn))},getEvents:function(){var n=Fe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=Yt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Yt("div",n+"-content-wrapper",r);if(this._contentNode=Yt("div",n+"-content",c),Wi(r),Vn(this._contentNode),Ot(r,"contextmenu",Bn),this._tipContainer=Yt("div",n+"-tip-container",r),this._tip=Yt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Yt("a",n+"-close-button",r);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(m,"click",function(g){Te(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),r.width=c+1+"px",r.whiteSpace="",r.height="";var m=n.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(r.height=g+"px",Rt(n,S)):be(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();de(this._container,r.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(xs(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+r,m=this._containerWidth,g=new F(this._containerLeft,-c-this._containerBottom);g._add(Ai(this._container));var S=n.layerPointToContainerPoint(g),C=nt(this.options.autoPanPadding),H=nt(this.options.autoPanPaddingTopLeft||C),V=nt(this.options.autoPanPaddingBottomRight||C),it=n.getSize(),pt=0,Tt=0;S.x+m+V.x>it.x&&(pt=S.x+m-it.x+V.x),S.x-pt-H.x<0&&(pt=S.x-H.x),S.y+c+V.y>it.y&&(Tt=S.y+c-it.y+V.y),S.y-Tt-H.y<0&&(Tt=S.y-H.y),(pt||Tt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([pt,Tt]))}},_getAnchor:function(){return nt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wl=function(n,r){return new js(n,r)};Ft.mergeOptions({closePopupOnClick:!0}),Ft.include({openPopup:function(n,r,c){return this._initOverlay(js,n,r,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Dn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(js,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){zi(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Us=Fe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Fe.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Fe.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Fe.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,c,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(n),H=this.options.direction,V=g.offsetWidth,it=g.offsetHeight,pt=nt(this.options.offset),Tt=this._getAnchor();H==="top"?(r=V/2,c=it):H==="bottom"?(r=V/2,c=0):H==="center"?(r=V/2,c=it/2):H==="right"?(r=0,c=it/2):H==="left"?(r=V,c=it/2):C.x<S.x?(H="right",r=0,c=it/2):(H="left",r=V+(pt.x+Tt.x)*2,c=it/2),n=n.subtract(nt(r,c,!0)).add(pt).add(Tt),be(g,"leaflet-tooltip-right"),be(g,"leaflet-tooltip-left"),be(g,"leaflet-tooltip-top"),be(g,"leaflet-tooltip-bottom"),Rt(g,"leaflet-tooltip-"+H),de(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ge(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return nt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qc=function(n,r){return new Us(n,r)};Ft.include({openTooltip:function(n,r,c){return this._initOverlay(Us,n,r,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Dn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Us,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[r](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(Ot(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Ot(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),r=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(r)}});var $l=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(bn(r),r.appendChild(c.html)):r.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=nt(c.bgPos);r.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Gc(n){return new $l(n)}Qn.Default=Ns;var Ga=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),le(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof F?n:new F(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,c=-n(-1/0,1/0),m=0,g=r.length,S;m<g;m++)S=r[m].style.zIndex,r[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){ge(this._container,this.options.opacity);var n=+new Date,r=!1,c=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(n-g.loaded)/200);ge(g.el,S),S<1?r=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),r&&(vt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=r-Math.abs(n-c),this._onUpdateLevel(c)):(le(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=r,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),T(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var n,r,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var m=r.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)le(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,c,m){var g=Math.floor(n/2),S=Math.floor(r/2),C=c-1,H=new F(+g,+S);H.z=+C;var V=this._tileCoordsToKey(H),it=this._tiles[V];return it&&it.active?(it.retain=!0,!0):(it&&it.loaded&&(it.retain=!0),C>m?this._retainParent(g,S,C,m):!1)},_retainChildren:function(n,r,c,m){for(var g=2*n;g<2*n+2;g++)for(var S=2*r;S<2*r+2;S++){var C=new F(g,S);C.z=c+1;var H=this._tileCoordsToKey(C),V=this._tiles[H];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);c+1<m&&this._retainChildren(g,S,c+1,m)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,c,m){var g=Math.round(r);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,r)},_setZoomTransform:function(n,r,c){var m=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(r,c)).round();St.any3d?oi(n.el,g,m):de(n.el,g)},_resetGrid:function(){var n=this._map,r=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,r.wrapLng[1]],m).x/c.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([r.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,c=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),m=r.getZoomScale(c,this._tileZoom),g=r.project(n,this._tileZoom).floor(),S=r.getSize().divideBy(m*2);return new z(g.subtract(S),g.add(S))},_update:function(n){var r=this._map;if(r){var c=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),S=g.getCenter(),C=[],H=this.options.keepBuffer,V=new z(g.getBottomLeft().subtract([H,-H]),g.getTopRight().add([H,-H]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var it in this._tiles){var pt=this._tiles[it].coords;(pt.z!==this._tileZoom||!V.contains(new F(pt.x,pt.y)))&&(this._tiles[it].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var Tt=g.min.y;Tt<=g.max.y;Tt++)for(var Ht=g.min.x;Ht<=g.max.x;Ht++){var Ye=new F(Ht,Tt);if(Ye.z=this._tileZoom,!!this._isValidTile(Ye)){var Ae=this._tiles[this._tileCoordsToKey(Ye)];Ae?Ae.current=!0:C.push(Ye)}}if(C.sort(function($t,te){return $t.distanceTo(S)-te.distanceTo(S)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(Ht=0;Ht<C.length;Ht++)this._addTile(C[Ht],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var c=this._globalTileRange;if(!r.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!r.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return lt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,c=this.getTileSize(),m=n.scaleBy(c),g=m.add(c),S=r.unproject(m,n.z),C=r.unproject(g,n.z);return[S,C]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),c=new st(r[0],r[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),c=new F(+r[0],+r[1]);return c.z=+r[2],c},_removeTile:function(n){var r=this._tiles[n];r&&(le(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Rt(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=T,n.onmousemove=T,St.ielt9&&this.options.opacity<1&&ge(n,this.options.opacity)},_addTile:function(n,r){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&ft(_(this._tileReady,this,n,null,g)),de(g,c),this._tiles[m]={el:g,coords:n,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,r,c){r&&this.fire("tileerror",{error:r,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ge(c.el,0),vt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),r||(Rt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new F(this._wrapX?A(n.x,this._wrapX):n.x,this._wrapY?A(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new z(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function tu(n){return new Ga(n)}var Oi=Ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=M(this,r),r.detectRetina&&St.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var c=document.createElement("img");return Ot(c,"load",_(this._tileOnLoad,this,r,c)),Ot(c,"error",_(this._tileOnError,this,r,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var r={r:St.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=c),r["-y"]=c}return j(this._url,d(r,this.options))},_tileOnLoad:function(n,r){St.ielt9?setTimeout(_(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,c){var m=this.options.errorTileUrl;m&&r.getAttribute("src")!==m&&(r.src=m),n(c,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=r-n),n+m},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=T,r.onerror=T,!r.complete)){r.src=ut;var c=this._tiles[n].coords;le(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:c})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",ut),Ga.prototype._removeTile.call(this,n)},_tileReady:function(n,r,c){if(!(!this._map||c&&c.getAttribute("src")===ut))return Ga.prototype._tileReady.call(this,n,r,c)}});function Sn(n,r){return new Oi(n,r)}var Hs=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var c=d({},this.defaultWmsParams);for(var m in r)m in this.options||(c[m]=r[m]);r=M(this,r);var g=r.detectRetina&&St.retina?2:1,S=this.getTileSize();c.width=S.x*g,c.height=S.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Oi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),c=this._crs,m=q(c.project(r[0]),c.project(r[1])),g=m.min,S=m.max,C=(this._wmsVersion>=1.3&&this._crs===No?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),H=Oi.prototype.getTileUrl.call(this,n);return H+Z(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(n,r){return d(this.wmsParams,n),r||this.redraw(),this}});function En(n,r){return new Hs(n,r)}Oi.WMS=Hs,Sn.wms=En;var on=Dn.extend({options:{padding:.1},initialize:function(n){M(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var c=this._map.getZoomScale(r,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),S=m.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,r));St.any3d?oi(this._container,S,c):de(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),c=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new z(c,c.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ar=on.extend({options:{tolerance:0},getEvents:function(){var n=on.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){on.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Ot(n,"mousemove",this._onMouseMove,this),Ot(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){vt(this._redrawRequest),delete this._ctx,le(this._container),se(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){on.prototype._update.call(this);var n=this._bounds,r=this._container,c=n.getSize(),m=St.retina?2:1;de(r,n.min),r.width=m*c.x,r.height=m*c.y,r.style.width=c.x+"px",r.style.height=c.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){on.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,c=r.next,m=r.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),c=[],m,g;for(g=0;g<r.length;g++){if(m=Number(r[g]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var c=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var c,m,g,S,C=n._parts,H=C.length,V=this._ctx;if(H){for(V.beginPath(),c=0;c<H;c++){for(m=0,g=C[c].length;m<g;m++)S=C[c][m],V[m?"lineTo":"moveTo"](S.x,S.y);r&&V.closePath()}this._fillStroke(V,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(r.x,r.y/g,m,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,r){var c=r.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(be(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(r)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,c){this._map._fireDOMEvent(r,c||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var c=r.next,m=r.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var c=r.next,m=r.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Ps(n){return St.canvas?new Ar(n):null}var ki=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Oo={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(on.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=ki("shape");Rt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=ki("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;le(r),n.removeInteractiveTarget(r),delete this._layers[y(n)]},_updateStyle:function(n){var r=n._stroke,c=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(r||(r=n._stroke=ki("stroke")),g.appendChild(r),r.weight=m.weight+"px",r.color=m.color,r.opacity=m.opacity,m.dashArray?r.dashStyle=tt(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=m.lineCap.replace("butt","flat"),r.joinstyle=m.lineJoin):r&&(g.removeChild(r),n._stroke=null),m.fill?(c||(c=n._fill=ki("fill")),g.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Ve(n._container)},_bringToBack:function(n){Fi(n._container)}},Fn=St.vml?ki:hn,Ia=on.extend({_initContainer:function(){this._container=Fn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){le(this._container),se(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){on.prototype._update.call(this);var n=this._bounds,r=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,c.setAttribute("width",r.x),c.setAttribute("height",r.y)),de(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Fn("path");n.options.className&&Rt(r,n.options.className),n.options.interactive&&Rt(r,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){le(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,c=n.options;r&&(c.stroke?(r.setAttribute("stroke",c.color),r.setAttribute("stroke-opacity",c.opacity),r.setAttribute("stroke-width",c.weight),r.setAttribute("stroke-linecap",c.lineCap),r.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?r.setAttribute("stroke-dasharray",c.dashArray):r.removeAttribute("stroke-dasharray"),c.dashOffset?r.setAttribute("stroke-dashoffset",c.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),c.fill?(r.setAttribute("fill",c.fillColor||c.color),r.setAttribute("fill-opacity",c.fillOpacity),r.setAttribute("fill-rule",c.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,dn(n._parts,r))},_updateCircle:function(n){var r=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(r.x-c)+","+r.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Ve(n._path)},_bringToBack:function(n){Fi(n._path)}});St.vml&&Ia.include(Oo);function Zs(n){return St.svg||St.vml?new Ia(n):null}Ft.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Ps(n)||Zs(n)}});var ta=Ha.extend({initialize:function(n,r){Ha.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=lt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Ic(n,r){return new ta(n,r)}Ia.create=Fn,Ia.pointsToPath=dn,fi.geometryToLayer=Xe,fi.coordsToLatLng=xr,fi.coordsToLatLngs=Rs,fi.latLngToCoords=wr,fi.latLngsToCoords=Bs,fi.getFeature=Ci,fi.asFeature=Sr,Ft.mergeOptions({boxZoom:!0});var ln=Yn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ma(),hr(),this._startPoint=this._map.mouseEventToContainerPoint(n),Ot(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new z(this._point,this._startPoint),c=r.getSize();de(this._box,r.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(le(this._box),be(this._container,"leaflet-crosshair")),In(),Ss(),se(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var r=new st(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ft.addInitHook("addHandler","boxZoom",ln),Ft.mergeOptions({doubleClickZoom:!0});var zr=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,c=r.getZoom(),m=r.options.zoomDelta,g=n.originalEvent.shiftKey?c-m:c+m;r.options.doubleClickZoom==="center"?r.setZoom(g):r.setZoomAround(n.containerPoint,g)}});Ft.addInitHook("addHandler","doubleClickZoom",zr),Ft.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jn=Yn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Li(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=lt(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-r+c)%n+r-c,S=(m+r+c)%n-r-c,C=Math.abs(g+c)<Math.abs(S+c)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(n){var r=this._map,c=r.options,m=!c.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),m)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,C=c.easeLinearity,H=g.multiplyBy(C/S),V=H.distanceTo([0,0]),it=Math.min(c.inertiaMaxSpeed,V),pt=H.multiplyBy(it/V),Tt=it/(c.inertiaDeceleration*C),Ht=pt.multiplyBy(-Tt/2).round();!Ht.x&&!Ht.y?r.fire("moveend"):(Ht=r._limitOffset(Ht,r.options.maxBounds),ft(function(){r.panBy(Ht,{duration:Tt,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Ft.addInitHook("addHandler","dragging",Jn),Ft.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ko=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Ot(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),se(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,c=n.scrollTop||r.scrollTop,m=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},c=this.keyCodes,m,g;for(m=0,g=c.left.length;m<g;m++)r[c.left[m]]=[-1*n,0];for(m=0,g=c.right.length;m<g;m++)r[c.right[m]]=[n,0];for(m=0,g=c.down.length;m<g;m++)r[c.down[m]]=[0,n];for(m=0,g=c.up.length;m<g;m++)r[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},c=this.keyCodes,m,g;for(m=0,g=c.zoomIn.length;m<g;m++)r[c.zoomIn[m]]=n;for(m=0,g=c.zoomOut.length;m<g;m++)r[c.zoomOut[m]]=-n},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){se(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,c=this._map,m;if(r in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[r],n.shiftKey&&(m=nt(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(nt(m),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(g)}else c.panBy(m)}else if(r in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;zi(n)}}});Ft.addInitHook("addHandler","keyboard",ko),Ft.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qs=Yn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=tn(n),c=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),zi(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(g/c)*c:g,C=n._limitZoom(r+(this._delta>0?S:-S))-r;this._delta=0,this._startTime=null,C&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+C):n.setZoomAround(this._lastMousePos,r+C))}});Ft.addInitHook("addHandler","scrollWheelZoom",qs);var ea=600;Ft.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var Lr=Yn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new F(r.clientX,r.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",Te),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),ea),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){se(document,"touchend",Te),se(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new F(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});c._simulated=!0,r.target.dispatchEvent(c)}});Ft.addInitHook("addHandler","tapHold",Lr),Ft.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var Ro=Yn.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var c=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),Te(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,c=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(m)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),vt(this._animRequest);var C=_(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(C,this,!0),Te(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,vt(this._animRequest),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ft.addInitHook("addHandler","touchZoom",Ro),Ft.BoxZoom=ln,Ft.DoubleClickZoom=zr,Ft.Drag=Jn,Ft.Keyboard=ko,Ft.ScrollWheelZoom=qs,Ft.TapHold=Lr,Ft.TouchZoom=Ro,l.Bounds=z,l.Browser=St,l.CRS=bt,l.Canvas=Ar,l.Circle=br,l.CircleMarker=Ua,l.Class=zt,l.Control=mn,l.DivIcon=$l,l.DivOverlay=Fe,l.DomEvent=pr,l.DomUtil=ka,l.Draggable=Li,l.Evented=Q,l.FeatureGroup=Kn,l.GeoJSON=fi,l.GridLayer=Ga,l.Handler=Yn,l.Icon=Qn,l.ImageOverlay=Za,l.LatLng=dt,l.LatLngBounds=st,l.Layer=Dn,l.LayerGroup=ja,l.LineUtil=Uc,l.Map=Ft,l.Marker=ks,l.Mixin=Rc,l.Path=Xn,l.Point=F,l.PolyUtil=Co,l.Polygon=Ha,l.Polyline=ci,l.Popup=js,l.PosAnimation=Ra,l.Projection=Il,l.Rectangle=ta,l.Renderer=on,l.SVG=Ia,l.SVGOverlay=Tr,l.TileLayer=Oi,l.Tooltip=Us,l.Transformation=$e,l.Util=Ct,l.VideoOverlay=Ni,l.bind=_,l.bounds=q,l.canvas=Ps,l.circle=Xl,l.circleMarker=Ql,l.control=ui,l.divIcon=Gc,l.extend=d,l.featureGroup=Yl,l.geoJSON=Er,l.geoJson=Ds,l.gridLayer=tu,l.icon=Ms,l.imageOverlay=Fl,l.latLng=ht,l.latLngBounds=lt,l.layerGroup=Hc,l.map=So,l.marker=Kl,l.point=nt,l.polygon=Zc,l.polyline=Pc,l.popup=Wl,l.rectangle=Ic,l.setOptions=M,l.stamp=y,l.svg=Zs,l.svgOverlay=Jl,l.tileLayer=Sn,l.tooltip=qc,l.transformation=_e,l.version=u,l.videoOverlay=qa;var Bo=window.L;l.noConflict=function(){return window.L=Bo,this},window.L=l}))})(yl,yl.exports)),yl.exports}var zl=vE();const xa=rd(zl);function Id(a,s,l){return Object.freeze({instance:a,context:s,container:l})}function Vd(a,s){return s==null?function(u,d){const p=K.useRef(void 0);return p.current||(p.current=a(u,d)),p}:function(u,d){const p=K.useRef(void 0);p.current||(p.current=a(u,d));const _=K.useRef(u),{instance:b}=p.current;return K.useEffect(function(){_.current!==u&&(s(b,u,_.current),_.current=u)},[b,u,s]),p}}function Cv(a,s){K.useEffect(function(){return(s.layerContainer??s.map).addLayer(a.instance),function(){s.layerContainer?.removeLayer(a.instance),s.map.removeLayer(a.instance)}},[s,a])}function Mv(a){return function(l){const u=qd(),d=a(Gd(l,u),u);return dE(u.map,l.attribution),Lv(d.current,l.eventHandlers),Cv(d.current,u),d}}function _E(a,s){const l=K.useRef(void 0);K.useEffect(function(){if(s.pathOptions!==l.current){const d=s.pathOptions??{};a.instance.setStyle(d),l.current=d}},[a,s])}function bE(a){return function(l){const u=qd(),d=a(Gd(l,u),u);return Lv(d.current,l.eventHandlers),Cv(d.current,u),_E(d.current,l),d}}function xE(a,s){const l=Vd(a,s),u=Mv(l);return zv(u)}function wE(a,s){const l=Vd(a,s),u=bE(l);return zv(u)}function SE(a,s){const l=Vd(a,s),u=Mv(l);return gE(u)}function EE(a,s,l){const{opacity:u,zIndex:d}=s;u!=null&&u!==l.opacity&&a.setOpacity(u),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function Nv(){return qd().map}function Yd(a){const s=Nv();return K.useEffect(function(){return s.on(a),function(){s.off(a)}},[s,a]),s}function TE({bounds:a,boundsOptions:s,center:l,children:u,className:d,id:p,placeholder:_,style:b,whenReady:y,zoom:x,...A},T){const[k]=K.useState({className:d,id:p,style:b}),[R,D]=K.useState(null),M=K.useRef(void 0);K.useImperativeHandle(T,()=>R?.map??null,[R]);const Z=K.useCallback(j=>{if(j!==null&&!M.current){const tt=new zl.Map(j,A);M.current=tt,l!=null&&x!=null?tt.setView(l,x):a!=null&&tt.fitBounds(a,s),y!=null&&tt.whenReady(y),D(pE(tt))}},[]);K.useEffect(()=>()=>{R?.map.remove()},[R]);const P=R?to.createElement(Zd,{value:R},u):_??null;return to.createElement("div",{...k,ref:Z},P)}const AE=K.forwardRef(TE),lo=xE(function({position:s,...l},u){const d=new zl.Marker(s,l);return Id(d,Av(u,{overlayContainer:d}))},function(s,l,u){l.position!==u.position&&s.setLatLng(l.position),l.icon!=null&&l.icon!==u.icon&&s.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==u.zIndexOffset&&s.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==u.opacity&&s.setOpacity(l.opacity),s.dragging!=null&&l.draggable!==u.draggable&&(l.draggable===!0?s.dragging.enable():s.dragging.disable())}),E0=wE(function({positions:s,...l},u){const d=new zl.Polyline(s,l);return Id(d,Av(u,{overlayContainer:d}))},function(s,l,u){l.positions!==u.positions&&s.setLatLngs(l.positions)}),zE=SE(function({url:s,...l},u){const d=new zl.TileLayer(s,Gd(l,u));return Id(d,u)},function(s,l,u){EE(s,l,u);const{url:d}=l;d!=null&&d!==u.url&&s.setUrl(d)}),Vi={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:31714,ROUTE_LOG:34171},ii=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function cc(a,s,l=10){const u=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,_=-90,b=90,y=-180,x=180,A="",T=0,k=0;for(;A.length<l;){if(p){const R=(y+x)/2;s>R?(k|=u[T],y=R):x=R}else{const R=(_+b)/2;a>R?(k|=u[T],_=R):b=R}p=!p,T<4?T++:(A+=d[k],T=0,k=0)}return A}function LE(a,s,l=5){const u=cc(a,s,l),d=l===5?.02:l===6?.005:.001,p=l===5?.04:l===6?.01:.002,_=new Set;_.add(u);const b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[y,x]of b){const A=a+y*d,T=s+x*p;_.add(cc(A,T,l))}return Array.from(_)}async function Ov(a,s,l){const u=JSON.stringify(a);if(l){const d=xl.getConversationKey(l,s);return xl.encrypt(u,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(s,u);throw new Error("No encryption method available")}async function kv(a,s,l){let u;if(l){const d=xl.getConversationKey(l,s);u=xl.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)u=await window.nostr.nip44.decrypt(s,a);else throw new Error("No decryption method available");return JSON.parse(u)}const fc={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function CE(a,s){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${s}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&fc[d]?fc[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),Rv()}}function Rv(){try{const s=window.navigator.language.split("-")[1]?.toUpperCase();return s&&fc[s]?fc[s]:"USD"}catch{return"USD"}}function ao(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const ME={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function NE(a){return(ME[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}var nr=Symbol("verified"),OE=a=>a instanceof Object;function Bv(a){if(!OE(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let s=0;s<a.tags.length;s++){let l=a.tags[s];if(!Array.isArray(l))return!1;for(let u=0;u<l.length;u++)if(typeof l[u]!="string")return!1}return!0}new TextDecoder("utf-8");var kE=new TextEncoder,RE=class{generateSecretKey(){return Zi.utils.randomPrivateKey()}getPublicKey(a){return Pe(Zi.getPublicKey(a))}finalizeEvent(a,s){const l=a;return l.pubkey=Pe(Zi.getPublicKey(s)),l.id=nc(l),l.sig=Pe(Zi.sign(nc(l),s)),l[nr]=!0,l}verifyEvent(a){if(typeof a[nr]=="boolean")return a[nr];const s=nc(a);if(s!==a.id)return a[nr]=!1,!1;try{const l=Zi.verify(a.sig,s,a.pubkey);return a[nr]=l,l}catch{return a[nr]=!1,!1}}};function Dv(a){if(!Bv(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function nc(a){let s=ys(kE.encode(Dv(a)));return Pe(s)}var zc=new RE,jv=zc.generateSecretKey,BE=zc.getPublicKey,Uv=zc.finalizeEvent;zc.verifyEvent;const DE=Object.freeze(Object.defineProperty({__proto__:null,finalizeEvent:Uv,generateSecretKey:jv,getEventHash:nc,getPublicKey:BE,serializeEvent:Dv,validateEvent:Bv,verifiedSymbol:nr},Symbol.toStringTag,{value:"Module"})),jE=({status:a,setStatus:s,location:l,vehicleType:u,setOpenSpots:d,parkLocation:p,setParkLocation:_})=>{const{pubkey:b,pool:y,signEvent:x}=oo(),[A,T]=K.useState(!1),[k,R]=K.useState("0"),[D,M]=K.useState("USD"),[Z,P]=K.useState("$"),[j,tt]=K.useState(null);K.useEffect(()=>{if(a==="search"&&l){const W=LE(l[0],l[1],5);console.log("[Parlens] Starting spot search with polling in geohashes:",W);const X=async()=>{try{const gt=Math.floor(Date.now()/1e3);console.log("[Parlens] Querying for spots since:",gt-300);const ft=await y.querySync(ii,{kinds:[Vi.OPEN_SPOT_BROADCAST],"#g":W,since:gt-300});console.log("[Parlens] Found",ft.length,"spot events");const vt=Math.floor(Date.now()/1e3),Ct=[];for(const zt of ft){const rt=zt.tags.find(N=>N[0]==="expiration");if(!(rt&&parseInt(rt[1])<vt))try{const N=zt.tags,Q=N.find(z=>z[0]==="location"),F=N.find(z=>z[0]==="hourly_rate"),mt=N.find(z=>z[0]==="currency"),nt=N.find(z=>z[0]==="type");if(Q){const[z,q]=Q[1].split(",").map(Number),st=nt?nt[1]:"car";Ct.push({id:zt.id,lat:z,lon:q,price:F?parseFloat(F[1]):0,currency:mt?mt[1]:"USD",type:st})}}catch(N){console.warn("[Parlens] Error parsing spot:",N)}}console.log("[Parlens] Setting",Ct.length,"valid spots"),d(Ct)}catch(gt){console.error("[Parlens] Spot query error:",gt)}};X();const ot=setInterval(X,1e4),ct=()=>{console.log("[Parlens] Visibility refresh triggered, searching spots..."),X()};return window.addEventListener("visibility-refresh",ct),()=>{console.log("[Parlens] Stopping spot search"),clearInterval(ot),window.removeEventListener("visibility-refresh",ct)}}else d([])},[a,u,y]),K.useEffect(()=>{const W=localStorage.getItem("parlens_session");if(W)try{const X=JSON.parse(W);X.status==="parked"&&X.parkLocation&&X.sessionStart?(console.log("[Parlens] Restoring parked session:",X),tt(X.sessionStart),_(X.parkLocation),s("parked")):X.status==="search"&&(console.log("[Parlens] Restoring search session"),s("search"))}catch(X){console.warn("[Parlens] Failed to restore session:",X),localStorage.removeItem("parlens_session")}},[]),K.useEffect(()=>{a==="parked"&&j&&p?localStorage.setItem("parlens_session",JSON.stringify({status:"parked",sessionStart:j,parkLocation:p})):a==="search"?localStorage.setItem("parlens_session",JSON.stringify({status:"search"})):a==="idle"&&localStorage.removeItem("parlens_session")},[a,j,p]),K.useEffect(()=>{(async()=>{const X=Rv();if(M(X),P(ao(X)),l)try{const ot=await CE(l[0],l[1]);M(ot),P(ao(ot))}catch{console.warn("GPS currency detection failed")}})()},[l]);const yt=async()=>{a==="idle"?s("search"):a==="search"?(tt(Math.floor(Date.now()/1e3)),_([l[0],l[1]]),s("parked")):a==="parked"&&(R("0"),T(!0))},ut=async()=>{s("idle"),T(!1);const W=p?p[0]:l[0],X=p?p[1]:l[1],ot=cc(W,X,5),ct=Math.floor(Date.now()/1e3),gt=j||ct;try{const ft={status:"vacated",lat:W,lon:X,geohash:ot,fee:k,currency:D,type:u,started_at:gt,finished_at:ct},vt=localStorage.getItem("parlens_privkey"),Ct=vt?new Uint8Array(vt.match(/.{1,2}/g).map(bt=>parseInt(bt,16))):void 0,zt=await Ov(ft,b,Ct),rt={kind:Vi.PARKING_LOG,content:zt,tags:[["d",`session_${gt}`],["client","parlens"]],created_at:ct,pubkey:b},N=await x(rt);console.log("Publishing log:",N.id,"to",ii);const Q=await Promise.allSettled(y.publish(ii,N)),F=Q.filter(bt=>bt.status==="fulfilled").length,mt=Q.filter(bt=>bt.status==="rejected").length;console.log(`[Parlens] Publish results: ${F}/${Q.length} succeeded, ${mt} failed`),Q.forEach((bt,Zt)=>{bt.status==="rejected"&&console.warn(`[Parlens] Relay ${ii[Zt]} failed:`,bt.reason)}),F===0&&console.warn("[Parlens] All relays reported failure, but data may still be saved (iOS quirk)"),console.log("Log published"),await new Promise(bt=>setTimeout(bt,300)),window.dispatchEvent(new Event("parking-log-updated"));const nt=jv(),z=ct-gt,q=Math.max(Math.ceil(z/3600),1),st=String(Math.round(parseFloat(k)/q)),lt=ct+60,dt={kind:Vi.OPEN_SPOT_BROADCAST,content:"",tags:[["d",`spot_${ot}_${ct}`],["g",ot],["location",`${W},${X}`],["hourly_rate",st],["currency",D],["type",u],["expiration",String(lt)],["client","parlens"]],created_at:ct},ht=Uv(dt,nt);console.log("[Parlens] *** BROADCASTING OPEN SPOT ***"),console.log("[Parlens] Geohash:",ot),console.log("[Parlens] Location:",`${W},${X}`),console.log("[Parlens] Event ID:",ht.id),console.log("[Parlens] Pubkey:",ht.pubkey.substring(0,20)+"..."),y.publish(ii,ht),tt(null),_(null)}catch(ft){console.error("Persistence error:",ft),alert("Could not save to Nostr. Check relay connections.")}};return w.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&w.jsx("button",{onClick:()=>s("idle"),className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),w.jsxs("button",{onClick:yt,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&w.jsx(sE,{size:32,strokeWidth:2.5}),a==="search"&&w.jsx(Sl,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(u==="bicycle"?w.jsx("span",{className:"text-3xl",children:""}):u==="motorcycle"?w.jsx("span",{className:"text-3xl",children:""}):w.jsx("span",{className:"text-3xl",children:""}))]})]}),A&&w.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:w.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[w.jsxs("div",{className:"text-center space-y-1",children:[w.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),w.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[w.jsx("span",{className:"text-2xl font-bold text-blue-500",children:Z}),w.jsx("input",{type:"number",value:k,onChange:W=>R(W.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),w.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:D})]}),w.jsxs("div",{className:"flex flex-col gap-1.5",children:[w.jsx("button",{onClick:()=>R(String(Math.max(0,parseFloat(k||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(BS,{size:22,className:"text-zinc-600 dark:text-white/70"})}),w.jsx("button",{onClick:()=>R(String(Math.max(0,parseFloat(k||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(wl,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),w.jsxs("div",{className:"w-full space-y-3",children:[w.jsxs("button",{onClick:ut,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",w.jsx(CS,{size:20})]}),w.jsx("button",{onClick:()=>T(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function UE(){const{pool:a,pubkey:s}=oo(),[l,u]=K.useState([]),[d,p]=K.useState(!0),_=K.useRef(new Set),b=K.useCallback(async()=>{if(!(!s||!a)){p(!0),console.log("[useParkingLogs] Fetching logs for",s);try{const x=await a.querySync(ii,{kinds:[Vi.PARKING_LOG],authors:[s],limit:50});console.log("[useParkingLogs] Fetched",x.length,"events");const A=x.filter(k=>{const R=k.tags?.find(D=>D[0]==="d")?.[1];return R?!_.current.has(R):!0});console.log("[useParkingLogs] After filtering locally deleted:",A.length,"events");const T=A.sort((k,R)=>R.created_at-k.created_at);u(T)}catch(x){console.error("[useParkingLogs] Fetch error:",x)}finally{p(!1)}}},[a,s]),y=K.useCallback(x=>{console.log("[useParkingLogs] Marking deleted:",x),_.current.add(x)},[]);return K.useEffect(()=>{s&&b()},[s,b]),K.useEffect(()=>{const x=()=>{console.log("[useParkingLogs] Received update event, refetching..."),b()};return window.addEventListener("parking-log-updated",x),window.addEventListener("visibility-refresh",x),()=>{window.removeEventListener("parking-log-updated",x),window.removeEventListener("visibility-refresh",x)}},[b]),{logs:l,loading:d,refetch:b,markDeleted:y}}const HE=({setHistorySpots:a,onOpenChange:s})=>{const{pubkey:l,logout:u,pool:d,signEvent:p}=oo(),{logs:_,refetch:b,markDeleted:y}=UE(),[x,A]=K.useState(!1),[T,k]=K.useState(!1);K.useEffect(()=>{s?.(x)},[x,s]);const[R,D]=K.useState(null),[M,Z]=K.useState([]),[P,j]=K.useState(!1),tt=async ut=>{if(!(!l||!confirm("Are you sure you want to delete this parking entry? This action cannot be undone."))){k(!0);try{const W=ut.tags?.find(ct=>ct[0]==="d")?.[1];if(!W)throw new Error("Missing d tag on event");const X={kind:5,content:"Deleted by user",tags:[["a",`${Vi.PARKING_LOG}:${l}:${W}`],["k",String(Vi.PARKING_LOG)]],created_at:Math.floor(Date.now()/1e3),pubkey:l},ot=await p(X);await Promise.allSettled(d.publish(ii,ot)),y(W),Z(ct=>ct.filter(gt=>gt.id!==ut.id))}catch(W){console.error("Failed to delete parking log:",W),alert("Failed to delete. Please try again.")}finally{k(!1)}}};K.useEffect(()=>{l&&(async()=>{const W=await d.get(ii,{kinds:[0],authors:[l]});if(W)try{const X=JSON.parse(W.content);D({name:X.name||X.display_name||"Nostr User",npub:rr.npubEncode(l),picture:X.picture})}catch(X){console.error("Error parsing profile:",X)}else D({name:"Nostr User",npub:rr.npubEncode(l),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${l}`})})()},[l,d]),K.useEffect(()=>{(async()=>{if(!l||!_.length)return;const W=localStorage.getItem("parlens_privkey"),X=W?new Uint8Array(W.match(/.{1,2}/g).map(ct=>parseInt(ct,16))):void 0,ot=await Promise.all(_.map(async ct=>{try{const gt=await kv(ct.content,l,X);return{...ct,decryptedContent:gt}}catch{return{...ct,decryptedContent:null}}}));Z(ot.filter(ct=>ct.decryptedContent))})()},[_,l]),K.useEffect(()=>{a&&a(P?M:[])},[P,M,a]);const yt=()=>{const ut=localStorage.getItem("parlens_privkey");if(ut){const W=rr.nsecEncode(new Uint8Array(ut.match(/.{1,2}/g).map(X=>parseInt(X,16))));navigator.clipboard.writeText(W),alert("Copied to clipboard")}};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{b(),A(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Activity Log",children:w.jsx(fE,{size:20})}),x&&w.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[w.jsx("button",{onClick:()=>A(!1),className:"absolute inset-0 z-0 cursor-default"}),T&&w.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),w.jsx("p",{className:"text-sm font-medium text-white",children:"Deleting..."})]})}),w.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:R?.name||"Nostr User"}),w.jsx("button",{onClick:()=>A(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:w.jsx(Pd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),w.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[w.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{navigator.clipboard.writeText(R?.npub),alert("Copied to clipboard")},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:w.jsx(td,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),w.jsx(uc,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),w.jsxs("div",{onClick:yt,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:w.jsx(Tv,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),w.jsx(uc,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]}),w.jsx("p",{className:"text-xs text-zinc-400 dark:text-white/30 mt-2 ml-2 leading-relaxed",children:" Store your npub and nsec securely. These are your account access keys and cannot be recovered if lost."})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&w.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:w.jsx(Sl,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),w.jsx("button",{onClick:()=>j(!P),className:`w-12 h-7 rounded-full transition-colors relative ${P?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:w.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${P?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),w.jsx("div",{className:"space-y-2",children:M.length>0?M.map(ut=>{const W=ut.decryptedContent,X=ao(W.currency||"USD"),ot=W.started_at?new Date(W.started_at*1e3):null,ct=W.finished_at?new Date(W.finished_at*1e3):new Date(ut.created_at*1e3),gt=W.lat&&W.lon?`${W.lat.toFixed(5)}, ${W.lon.toFixed(5)}`:null,ft=W.type||"car",vt=ft==="bicycle"?"":ft==="motorcycle"?"":"";return w.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-2xl",children:vt}),w.jsx("p",{className:"font-bold text-xl",children:`${X}${W.fee||"0"}`})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-2xl",children:NE(W.currency||"USD")}),w.jsx("button",{onClick:()=>tt(ut),className:"p-1.5 text-zinc-400 dark:text-white/30 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",title:"Delete entry",children:w.jsx(ed,{size:16})})]})]}),gt&&w.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[w.jsx(Sl,{size:12,className:"text-blue-500 dark:text-blue-400"}),w.jsx("span",{className:"font-mono",children:gt})]}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[w.jsx(Ev,{size:12,className:"text-green-500 dark:text-green-400"}),w.jsxs("div",{className:"space-x-1",children:[ot&&w.jsxs("span",{children:["Start: ",ot.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",ot.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),w.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),w.jsxs("span",{children:["End: ",ct.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",ct.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},ut.id)}):w.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:w.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),w.jsx("button",{onClick:()=>{u(),A(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout"})]})]})]})},PE=({vehicleType:a,onRouteChange:s,currentLocation:l,onDropPinModeChange:u,pendingDropPin:d,onDropPinConsumed:p,onOpenChange:_})=>{const{pool:b,pubkey:y,signEvent:x}=oo(),[A,T]=K.useState(!1);K.useEffect(()=>{_?.(A)},[A,_]);const[k,R]=K.useState([]),[D,M]=K.useState(""),[Z,P]=K.useState(!1),[j,tt]=K.useState(null),[yt,ut]=K.useState(null),[W,X]=K.useState(!1),ot=K.useRef(null),[ct,gt]=K.useState([]),[ft,vt]=K.useState(""),[Ct,zt]=K.useState(!1),[rt,N]=K.useState(!1),[Q,F]=K.useState(!1),[mt,nt]=K.useState(!1),[z,q]=K.useState(null),[st,lt]=K.useState(""),[dt,ht]=K.useState(!1),bt=K.useRef(new Set),Zt=to.useMemo(()=>{if(!D||D.length<2)return[];const _t=D.toLowerCase(),Mt=[];for(const kt of ct)for(const qt of kt.decryptedContent.waypoints)qt.name.toLowerCase().includes(_t)&&(Mt.find(Dt=>Dt.name.toLowerCase()===qt.name.toLowerCase())||Mt.push({name:qt.name,lat:qt.lat,lon:qt.lon}));return Mt.slice(0,5)},[D,ct]),Vt=_t=>{R(Mt=>Mt.filter(kt=>kt.id!==_t)),tt(null),ut(null),P(!1),s(null,null,null,!1)},Ce=()=>{R([]),tt(null),ut(null),P(!1),s(null,null,null,!1)},$e=async()=>{if(k.length<2){alert("Add at least 2 waypoints to create a route");return}X(!0);try{const Mt={bicycle:"cycling",motorcycle:"driving",car:"driving"}[a],kt=[],qt=[];for(let Ut=0;Ut<k.length-1;Ut++){const At=k[Ut],Gt=k[Ut+1],pe=`${At.lon},${At.lat};${Gt.lon},${Gt.lat}`;console.log(`[Parlens] Fetching segment ${Ut+1}: ${At.name}  ${Gt.name}`);const Et=await fetch(`https://router.project-osrm.org/route/v1/${Mt}/${pe}?overview=full&geometries=geojson&alternatives=true`);if(!Et.ok)throw new Error(`OSRM error: ${Et.status}`);const It=await Et.json();if(It.routes&&It.routes[0]){const On=It.routes[0].geometry.coordinates.map(Ee=>[Ee[1],Ee[0]]);if(kt.push(On),It.routes.length>1){const Ee=It.routes[1].geometry.coordinates.map(he=>[he[1],he[0]]);qt.push(Ee),console.log(`[Parlens] Segment ${Ut+1} has alternate route`)}else qt.push(On),console.log(`[Parlens] Segment ${Ut+1} has no alternate, using primary`)}else throw new Error(`No route found for segment ${Ut+1}`)}const Dt=[],Ge=[];for(let Ut=0;Ut<kt.length;Ut++){const At=Ut===0?0:1;Dt.push(...kt[Ut].slice(At)),Ge.push(...qt[Ut].slice(At))}console.log("[Parlens] Combined primary route:",Dt.length,"points"),console.log("[Parlens] Combined alternate route:",Ge.length,"points"),tt(Dt),ut(Ge),P(!0),s(Dt,Ge,k.map(Ut=>({lat:Ut.lat,lon:Ut.lon})),!0),T(!1)}catch(_t){console.error("Route creation error:",_t);const Mt=k.map(kt=>[kt.lat,kt.lon]);tt(Mt),ut(null),P(!0),s(Mt,null,k.map(kt=>({lat:kt.lat,lon:kt.lon})),!0),T(!1)}finally{X(!1)}},_e=()=>{const _t=!Z;P(_t),s(j,yt,k.map(Mt=>({lat:Mt.lat,lon:Mt.lon})),_t)},Ze=K.useCallback(async()=>{if(!(!b||!y)){N(!0);try{const _t=await b.querySync(ii,{kinds:[Vi.ROUTE_LOG],authors:[y]});console.log("[Parlens] Fetched route events:",_t.length);const Mt=localStorage.getItem("parlens_privkey"),kt=Mt?new Uint8Array(Mt.match(/.{1,2}/g).map(Dt=>parseInt(Dt,16))):void 0,qt=[];for(const Dt of _t){if(Dt.tags.find(Ut=>Ut[0]==="deleted"))continue;const Ge=Dt.tags.find(Ut=>Ut[0]==="d")?.[1]||"";if(!(Ge&&bt.current.has(Ge))&&Dt.content)try{const Ut=await kv(Dt.content,y,kt);if(Ut){const At=Dt.tags.find(Gt=>Gt[0]==="d")?.[1]||"";qt.push({id:Dt.id,dTag:At,decryptedContent:Ut,created_at:Dt.created_at})}}catch(Ut){console.warn("[Parlens] Failed to decrypt route:",Ut)}}qt.sort((Dt,Ge)=>Ge.created_at-Dt.created_at),gt(qt)}catch(_t){console.error("Error fetching saved routes:",_t)}finally{N(!1)}}},[b,y]);K.useEffect(()=>{A&&y&&Ze()},[A,y,Ze]);const qe=()=>{const _t=!mt;nt(_t),u?.(_t),_t&&T(!1)};K.useEffect(()=>{if(d){const _t={id:crypto.randomUUID(),name:`Pin ${k.length+1}`,lat:d.lat,lon:d.lon};R(Mt=>[...Mt,_t]),tt(null),ut(null),P(!1),s(null,null,null,!1),p?.(),T(!0),nt(!1),u?.(!1)}},[d]);const hn=async()=>{if(!b||!y||!x||!j||k.length<2){alert("Please create a route first");return}const _t=ft.trim()||`Route ${new Date().toLocaleDateString()}`;zt(!0);try{const Mt={name:_t,waypoints:k.map(Et=>({name:Et.name,lat:Et.lat,lon:Et.lon})),routeCoords:j,alternateRouteCoords:yt||void 0,vehicleType:a,created_at:Math.floor(Date.now()/1e3)},kt=localStorage.getItem("parlens_privkey"),qt=kt?new Uint8Array(kt.match(/.{1,2}/g).map(Et=>parseInt(Et,16))):void 0,Dt=await Ov(Mt,y,qt),Ge=`route_${Date.now()}`,Ut={kind:Vi.ROUTE_LOG,created_at:Math.floor(Date.now()/1e3),tags:[["d",Ge],["client","parlens"]],content:Dt},At=await x(Ut);console.log("[Parlens] Signed route event:",At);const Gt=await Promise.allSettled(b.publish(ii,At)),pe=Gt.filter(Et=>Et.status==="fulfilled").length;console.log("[Parlens] Route published:",pe,"of",Gt.length,"relays"),pe===0&&console.warn("[Parlens] All relays reported failure, but data may still be saved (iOS quirk)"),vt(""),setTimeout(()=>Ze(),500)}catch(Mt){console.error("[Parlens] Error saving route:",Mt),alert("Failed to save route, try again later")}finally{zt(!1)}},dn=(_t,Mt)=>{R(kt=>kt.map(qt=>qt.id===_t?{...qt,name:Mt}:qt)),q(null),lt("")},vi=_t=>{q(_t.id),lt(_t.name)},qn=async _t=>{const Mt=_t.decryptedContent,kt=Mt.waypoints.map(qt=>({id:crypto.randomUUID(),name:qt.name,lat:qt.lat,lon:qt.lon}));R(kt),tt(Mt.routeCoords),ut(Mt.alternateRouteCoords||null),P(!0),F(!1),s(Mt.routeCoords,Mt.alternateRouteCoords||null,Mt.waypoints.map(qt=>({lat:qt.lat,lon:qt.lon})),!0),T(!1)},_i=async _t=>{if(!(!b||!y||!x)&&confirm("Are you sure you want to delete this route? This action cannot be undone.")){ht(!0);try{const Mt={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["e",_t.id],["a",`${Vi.ROUTE_LOG}:${y}:${_t.dTag}`]],content:"Deleted by user"},kt=await x(Mt);await Promise.allSettled(b.publish(ii,kt));const qt={kind:Vi.ROUTE_LOG,created_at:Math.floor(Date.now()/1e3),tags:[["d",_t.dTag],["deleted","true"]],content:""},Dt=await x(qt);await Promise.allSettled(b.publish(ii,Dt)),bt.current.add(_t.dTag),gt(Ge=>Ge.filter(Ut=>Ut.id!==_t.id))}catch(Mt){console.error("Error deleting route:",Mt),alert("Failed to delete route")}finally{ht(!1)}}};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>T(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Create Route",children:w.jsx(eE,{size:20})}),A&&w.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[w.jsx("button",{onClick:()=>T(!1),className:"absolute inset-0 z-0 cursor-default"}),dt&&w.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),w.jsx("p",{className:"text-sm font-medium text-white",children:"Deleting..."})]})}),Ct&&w.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-white/20 border-t-white animate-spin"}),w.jsx("p",{className:"text-sm font-medium text-white",children:"Saving..."})]})}),w.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-cyan-500 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:"Create Route"}),w.jsx("button",{onClick:()=>T(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:w.jsx(Pd,{size:20,className:"text-black/60 dark:text-white/60"})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:"Add Waypoint"}),w.jsx("div",{className:"relative",children:w.jsx("input",{ref:ot,type:"text",placeholder:"Search waypoints from saved routes",value:D,onChange:_t=>M(_t.target.value),className:"w-full h-14 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10 px-4 text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),Zt.length>0&&w.jsxs("div",{className:"rounded-2xl overflow-hidden bg-green-50 dark:bg-green-500/10 border border-green-500/20",children:[w.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-green-700 dark:text-green-400 bg-green-100/50 dark:bg-green-500/5",children:" From your saved routes"}),Zt.map((_t,Mt)=>w.jsxs("button",{onClick:()=>{const kt={id:crypto.randomUUID(),name:_t.name,lat:_t.lat,lon:_t.lon};R(qt=>[...qt,kt]),M(""),tt(null),ut(null),P(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 hover:bg-green-100 dark:hover:bg-green-500/10 transition-colors text-left border-b border-green-500/10 last:border-0",children:[w.jsx(Sl,{size:16,className:"text-green-600 dark:text-green-400 shrink-0"}),w.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white/80 truncate",children:_t.name})]},`saved-${Mt}`))]}),l&&w.jsxs("button",{onClick:()=>{const _t={id:crypto.randomUUID(),name:"Current Location",lat:l[0],lon:l[1]};R(Mt=>[...Mt,_t]),tt(null),ut(null),P(!1),s(null,null,null,!1)},className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-blue-500/10 dark:bg-blue-500/20 border border-blue-500/20 hover:bg-blue-500/20 transition-colors",children:[w.jsx(JS,{size:16,className:"text-blue-500"}),w.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Add Current Location"})]}),w.jsxs("button",{onClick:qe,className:"w-full p-3 flex items-center gap-3 rounded-2xl bg-orange-500/10 dark:bg-orange-500/20 border border-orange-500/20 hover:bg-orange-500/20 transition-colors",children:[w.jsx(XS,{size:16,className:"text-orange-500"}),w.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Drop Pin on Map"})]})]}),w.jsxs("div",{className:"space-y-2 flex-1",children:[w.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30 ml-2",children:["Waypoints (",k.length,")"]}),k.length===0?w.jsx("div",{className:"p-8 text-center text-zinc-400 dark:text-white/30 text-sm",children:"No waypoints added yet."}):w.jsx("div",{className:"space-y-2",children:k.map((_t,Mt)=>w.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs font-bold flex items-center justify-center shrink-0",children:Mt+1}),z===_t.id?w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"text",value:st,onChange:kt=>lt(kt.target.value),className:"flex-1 text-sm bg-white dark:bg-white/10 rounded-lg px-2 py-1 text-zinc-700 dark:text-white border border-blue-500",autoFocus:!0,onKeyDown:kt=>{kt.key==="Enter"&&dn(_t.id,st),kt.key==="Escape"&&q(null)}}),w.jsx("button",{onClick:()=>dn(_t.id,st),className:"p-2 rounded-xl text-green-500 hover:bg-green-500/10 transition-colors",children:w.jsx(NS,{size:16})})]}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"flex-1 text-sm text-zinc-700 dark:text-white font-medium truncate",children:_t.name}),w.jsx("button",{onClick:()=>vi(_t),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:w.jsx($S,{size:14})})]}),w.jsx("button",{onClick:()=>Vt(_t.id),className:"p-2 rounded-xl text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:w.jsx(ed,{size:16})})]},_t.id))})]}),j&&w.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[Z?w.jsx(GS,{size:20,className:"text-blue-500"}):w.jsx(ZS,{size:20,className:"text-zinc-400"}),w.jsx("span",{className:"font-medium text-zinc-700 dark:text-white",children:"Show on Map"})]}),w.jsx("button",{onClick:_e,className:`w-14 h-8 rounded-full transition-colors ${Z?"bg-blue-500":"bg-zinc-300 dark:bg-white/20"}`,children:w.jsx("div",{className:`w-6 h-6 rounded-full bg-white shadow-md transition-transform ${Z?"translate-x-7":"translate-x-1"}`})})]}),j&&y&&w.jsxs("div",{className:"space-y-3 p-4 rounded-2xl bg-green-500/5 dark:bg-green-500/10 border border-green-500/20",children:[w.jsxs("label",{className:"text-xs font-bold uppercase tracking-widest text-green-600 dark:text-green-400 flex items-center gap-2",children:[w.jsx(iE,{size:14}),"Save Route"]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[w.jsx("input",{type:"text",value:ft,onChange:_t=>vt(_t.target.value),placeholder:"Route name (optional)",className:"w-full sm:flex-1 p-3 rounded-xl bg-white dark:bg-white/5 border border-black/5 dark:border-white/10 text-zinc-700 dark:text-white placeholder-zinc-400 dark:placeholder-white/40 text-sm"}),w.jsx("button",{onClick:hn,disabled:Ct,className:"w-full sm:w-auto px-6 rounded-xl bg-green-500 text-white font-bold disabled:opacity-50 transition-all active:scale-95 py-3 sm:py-0",children:Ct?"...":"Save"})]})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:Ce,disabled:k.length===0,className:"flex-1 h-14 rounded-2xl bg-zinc-200 dark:bg-white/10 text-zinc-600 dark:text-white/70 font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:"Clear Route"}),w.jsx("button",{onClick:$e,disabled:k.length<2||W,className:"flex-1 h-14 rounded-2xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:W?"Creating...":"Create Route"})]}),!j&&k.length>=2&&y&&w.jsx("p",{className:"text-xs text-center text-zinc-400 dark:text-white/40",children:" Save option will appear after you create the route"}),y&&w.jsxs("div",{className:"space-y-3 border-t border-black/5 dark:border-white/10 pt-4",children:[w.jsxs("button",{onClick:()=>F(!Q),className:"w-full flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(VS,{size:18,className:"text-zinc-500 dark:text-white/50"}),w.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/30",children:["Saved Routes (",ct.length,")"]})]}),w.jsx("span",{className:"text-xs text-zinc-400 dark:text-white/40",children:Q?"Hide":"Show"})]}),Q&&w.jsx("div",{className:"space-y-2",children:rt?w.jsx("div",{className:"text-center text-zinc-400 dark:text-white/40 text-sm py-4",children:"Loading..."}):ct.length===0?w.jsx("div",{className:"text-center text-zinc-400 dark:text-white/40 text-sm py-4",children:"No saved routes yet"}):ct.map(_t=>w.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-zinc-100 dark:bg-white/5 border border-black/5 dark:border-white/10",children:[w.jsxs("button",{onClick:()=>qn(_t),className:"flex-1 text-left",children:[w.jsx("div",{className:"font-medium text-sm text-zinc-700 dark:text-white truncate",children:_t.decryptedContent.name}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[w.jsxs("span",{children:[_t.decryptedContent.waypoints.length," stops"]}),w.jsx("span",{children:""}),w.jsx(Ev,{size:12}),w.jsx("span",{children:new Date(_t.created_at*1e3).toLocaleDateString()})]})]}),w.jsx("button",{onClick:()=>_i(_t),className:"p-2 rounded-lg text-zinc-400 dark:text-white/40 active:scale-95 transition-transform",children:w.jsx(ed,{size:16})})]},_t.id))})]}),w.jsx("div",{className:"p-3 rounded-xl bg-amber-500/10 dark:bg-amber-500/5 border border-amber-500/20",children:w.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400/80 leading-relaxed",children:[w.jsx("strong",{children:"Tip:"})," Use ",w.jsx("strong",{children:"Drop Pin on Map"})," and",w.jsx("strong",{children:" edit waypoint names"})," to label locations. When you ",w.jsx("strong",{children:"save routes"}),", waypoint names become searchable  building your personal offline map over time! "]})})]})]})]})};function ZE(a){return a>=17?8:a>=15?7:a>=13?6:a>=11?5:a>=9?4:3}function T0(a,s,l=!0){if(!l||a.length<2)return a;const u=ZE(s),d=new Map;for(const _ of a){const b=s>=15?`${_.lat.toFixed(4)},${_.lon.toFixed(4)}`:cc(_.lat,_.lon,u);if(d.has(b)){const y=d.get(b);y.spots.push(_),y.count++,y.minPrice=Math.min(y.minPrice,_.price),y.maxPrice=Math.max(y.maxPrice,_.price),y.lat=y.spots.reduce((x,A)=>x+A.lat,0)/y.count,y.lon=y.spots.reduce((x,A)=>x+A.lon,0)/y.count}else d.set(b,{id:`cluster-${b}`,lat:_.lat,lon:_.lon,spots:[_],minPrice:_.price,maxPrice:_.price,currency:_.currency,count:1})}const p=[];for(const _ of d.values())_.count===1?p.push(_.spots[0]):p.push(_);return p}function A0(a){return"count"in a&&a.count>1}class Zh{q;r;x;p;k;initialized=!1;constructor(s=1e-5,l=.001){this.q=s,this.r=l,this.x=0,this.p=1,this.k=0}filter(s){return this.initialized?(this.p=this.p+this.q,this.k=this.p/(this.p+this.r),this.x=this.x+this.k*(s-this.x),this.p=(1-this.k)*this.p,this.x):(this.x=s,this.initialized=!0,s)}reset(){this.initialized=!1,this.x=0,this.p=1}}class qE{latFilter;lonFilter;bearingFilter;lastBearing=0;constructor(){this.latFilter=new Zh(1e-5,1e-4),this.lonFilter=new Zh(1e-5,1e-4),this.bearingFilter=new Zh(.1,.5)}smoothLocation(s,l){return[this.latFilter.filter(s),this.lonFilter.filter(l)]}smoothBearing(s,l){if(l<2)return null;let u=(s%360+360)%360;if(this.lastBearing!==0){const _=u-this.lastBearing;_>180&&(u-=360),_<-180&&(u+=360)}const p=(this.bearingFilter.filter(u)%360+360)%360;return this.lastBearing=p,p}reset(){this.latFilter.reset(),this.lonFilter.reset(),this.bearingFilter.reset(),this.lastBearing=0}}class GE{currentRotation=0;lastRawBearing=0;initialized=!1;setBearing(s){const l=(s%360+360)%360;if(!this.initialized)return this.currentRotation=l,this.lastRawBearing=l,this.initialized=!0,this.currentRotation;let u=l-this.lastRawBearing;return u>180?u-=360:u<-180&&(u+=360),this.currentRotation+=u,this.lastRawBearing=l,this.currentRotation}getCurrentRotation(){return this.currentRotation}reset(){this.currentRotation=0,this.lastRawBearing=0,this.initialized=!1}}class IE{startLat=0;startLon=0;targetLat=0;targetLon=0;startTime=0;duration=300;animationId=null;onUpdate=null;setUpdateCallback(s){this.onUpdate=s}animateTo(s,l,u=300){if(this.animationId!==null&&cancelAnimationFrame(this.animationId),this.targetLat===0&&this.targetLon===0){this.targetLat=s,this.targetLon=l,this.onUpdate&&this.onUpdate(s,l);return}this.startLat=this.targetLat,this.startLon=this.targetLon,this.targetLat=s,this.targetLon=l,this.startTime=performance.now(),this.duration=u,this.animate()}animate=()=>{const l=performance.now()-this.startTime,u=Math.min(l/this.duration,1),d=1-Math.pow(1-u,3),p=this.startLat+(this.targetLat-this.startLat)*d,_=this.startLon+(this.targetLon-this.startLon)*d;this.onUpdate&&this.onUpdate(p,_),u<1?this.animationId=requestAnimationFrame(this.animate):this.animationId=null};stop(){this.animationId!==null&&(cancelAnimationFrame(this.animationId),this.animationId=null)}}class VE{anchorLat=0;anchorLon=0;displayLat=0;displayLon=0;lastRawLat=0;lastRawLon=0;lastUpdateTime=0;speedHistory=[];currentSpeedClass="stationary";predictedBearing=0;directionChangeBuffer=[];initialized=!1;bufferZones={stationary:15,walking:10,vehicle:5,fast_vehicle:3};pollIntervals={stationary:1e4,walking:5e3,vehicle:2e3,fast_vehicle:1e3};animationDurations={stationary:1e3,walking:700,vehicle:400,fast_vehicle:250};haversineDistance(s,l,u,d){const _=(u-s)*Math.PI/180,b=(d-l)*Math.PI/180,y=Math.sin(_/2)*Math.sin(_/2)+Math.cos(s*Math.PI/180)*Math.cos(u*Math.PI/180)*Math.sin(b/2)*Math.sin(b/2);return 6371e3*(2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y)))}calculateBearing(s,l,u,d){const p=(d-l)*Math.PI/180,_=Math.sin(p)*Math.cos(u*Math.PI/180),b=Math.cos(s*Math.PI/180)*Math.sin(u*Math.PI/180)-Math.sin(s*Math.PI/180)*Math.cos(u*Math.PI/180)*Math.cos(p);return(Math.atan2(_,b)*180/Math.PI+360)%360}updateLocation(s,l){const u=Date.now();if(!this.initialized)return this.anchorLat=s,this.anchorLon=l,this.displayLat=s,this.displayLon=l,this.lastRawLat=s,this.lastRawLon=l,this.lastUpdateTime=u,this.initialized=!0,{displayLat:s,displayLon:l,speed:0,speedClass:"stationary",shouldUpdate:!0,animationDuration:0};const d=this.haversineDistance(this.anchorLat,this.anchorLon,s,l),p=(u-this.lastUpdateTime)/1e3,_=this.haversineDistance(this.lastRawLat,this.lastRawLon,s,l),b=p>0?_/p:0;this.speedHistory.push(b),this.speedHistory.length>5&&this.speedHistory.shift();const y=this.speedHistory.reduce((D,M)=>D+M,0)/this.speedHistory.length;let x;y<.5?x="stationary":y<2?x="walking":y<10?x="vehicle":x="fast_vehicle",this.currentSpeedClass=x;const A=this.bufferZones[x];if(_>1){const D=this.calculateBearing(this.lastRawLat,this.lastRawLon,s,l);this.directionChangeBuffer.push(D),this.directionChangeBuffer.length>3&&this.directionChangeBuffer.shift(),this.predictedBearing=this.directionChangeBuffer.reduce((M,Z)=>M+Z,0)/this.directionChangeBuffer.length}this.lastRawLat=s,this.lastRawLon=l,this.lastUpdateTime=u;let T=!1,k=this.displayLat,R=this.displayLon;return d>A?(this.anchorLat=s,this.anchorLon=l,k=s,R=l,T=!0):d>A*.7&&(k=this.displayLat+(s-this.displayLat)*.3,R=this.displayLon+(l-this.displayLon)*.3,T=!0),T&&(this.displayLat=k,this.displayLon=R),{displayLat:this.displayLat,displayLon:this.displayLon,speed:y,speedClass:x,shouldUpdate:T,animationDuration:this.animationDurations[x]}}getPollingInterval(){return this.pollIntervals[this.currentSpeedClass]}getSpeedClass(){return this.currentSpeedClass}getPredictedBearing(){return this.predictedBearing}reset(){this.initialized=!1,this.anchorLat=0,this.anchorLon=0,this.displayLat=0,this.displayLon=0,this.speedHistory=[],this.currentSpeedClass="stationary",this.directionChangeBuffer=[]}}const YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",KE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",QE=xa.icon({iconUrl:YE,shadowUrl:KE,iconSize:[25,41],iconAnchor:[12,41]});xa.Marker.prototype.options.icon=QE;const XE=({location:a,bearing:s})=>{const l=`
           <div style="transform: rotate(${s}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,u=xa.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return w.jsx(lo,{position:a,icon:u,zIndexOffset:1e3})},FE=({location:a,vehicleType:s,bearing:l,orientationMode:u})=>{const _=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)); transform: rotate(${u==="auto"?l:0}deg);">${s==="bicycle"?"":s==="motorcycle"?"":""}</div>`,b=xa.divIcon({className:"active-session-marker",html:_,iconSize:[40,40],iconAnchor:[20,20]});return w.jsx(lo,{position:a,icon:b})},JE=K.memo(({spot:a,bearing:s,orientationMode:l})=>{const d=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                
             </div>
             <div style="background: #34C759; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${a.currency==="USD"?"$":a.currency}${Math.round(a.price)}/hr
             </div>
        </div>
    `,p=xa.divIcon({className:"spot-marker",html:d,iconSize:[60,60],iconAnchor:[30,45]});return w.jsx(lo,{position:[a.lat,a.lon],icon:p})}),WE=({spot:a,bearing:s,orientationMode:l})=>{const u=a.decryptedContent;if(!u||!u.lat||!u.lon)return null;const p=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?s:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); opacity: 0.7;">
                
             </div>
             <div style="background: #8E8E93; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${ao(u.currency||"USD")}${u.fee||"0"}
             </div>
        </div>
    `,_=xa.divIcon({className:"history-marker",html:p,iconSize:[60,60],iconAnchor:[30,45]});return w.jsx(lo,{position:[u.lat,u.lon],icon:_})},z0=({cluster:a,type:s,bearing:l,orientationMode:u})=>{const d=s==="open"?"":"",p=s==="open"?"#34C759":"#8E8E93",_=u==="auto"?l:0,b=a.minPrice===a.maxPrice?`${ao(a.currency)}${a.minPrice}`:`${ao(a.currency)}${a.minPrice}-${a.maxPrice}`,y=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 70px; transform: rotate(${_}deg);">
             <div style="font-size: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); position: relative;">
                ${d}
                <div style="position: absolute; top: -5px; right: -5px; background: ${p}; color: white; font-size: 10px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                    ${a.count}
                </div>
             </div>
             <div style="background: ${p}; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${b}
             </div>
        </div>
    `,x=xa.divIcon({className:"cluster-marker",html:y,iconSize:[70,60],iconAnchor:[35,45]});return w.jsx(lo,{position:[a.lat,a.lon],icon:x})},$E=({onZoomChange:a})=>{const s=Yd({zoomend:()=>{a(s.getZoom())}});return K.useEffect(()=>{a(s.getZoom())},[]),null},tT=({enabled:a,onDropPin:s})=>(Yd({click:l=>{a&&s(l.latlng.lat,l.latlng.lng)}}),null),eT=({location:a,bearing:s,cumulativeRotation:l,orientationMode:u,setOrientationMode:d,shouldRecenter:p,setShouldRecenter:_,setNeedsRecenter:b,routeBounds:y,setRouteBounds:x,mapRotation:A,setMapRotation:T,setLiveMapRotation:k})=>{const R=Nv(),D=K.useRef(!1),M=K.useRef(!1),Z=K.useRef(null),P=K.useRef(0);return Yd({dragstart:()=>{D.current=!0,u!=="fixed"&&d("fixed"),b(!0)},zoomstart:()=>{M.current||(D.current=!0,u!=="fixed"&&d("fixed"),b(!0))},dragend:()=>{D.current=!1},zoomend:()=>{D.current=!1,M.current=!1},moveend:()=>{M.current=!1}}),K.useEffect(()=>{R.invalidateSize();const j=[setTimeout(()=>R.invalidateSize(),100),setTimeout(()=>R.invalidateSize(),300),setTimeout(()=>R.invalidateSize(),500),setTimeout(()=>R.invalidateSize(),1e3)];return()=>j.forEach(tt=>clearTimeout(tt))},[R]),K.useEffect(()=>{y&&(R.fitBounds(y,{padding:[50,50],animate:!0}),x(null))},[y,R,x]),K.useEffect(()=>{p&&a&&(R.setView(a,17,{animate:!0}),_(!1))},[p,a,R,_]),K.useEffect(()=>{const j=()=>{window.dispatchEvent(new CustomEvent("map-user-interaction"))};return R.on("dragend",j),()=>{R.off("dragend",j)}},[R]),K.useEffect(()=>{const j=R.getContainer();u==="auto"?(j.style.width="300%",j.style.height="300%",j.style.top="-100%",j.style.left="-100%"):(j.style.transform="rotate(0deg)",document.documentElement.style.setProperty("--map-rotation","0deg"),j.style.width="100%",j.style.height="100%",j.style.top="0",j.style.left="0"),j.style.position="absolute",setTimeout(()=>R.invalidateSize(),50)},[u,R]),K.useEffect(()=>{if(u==="auto"){const j=R.getContainer();requestAnimationFrame(()=>{j.style.transition="transform 0.3s linear",j.style.transformOrigin="center center",j.style.transform=`rotate(${-l}deg)`,document.documentElement.style.setProperty("--map-rotation",`${s}deg`)})}},[l,s,u,R]),K.useEffect(()=>{if(a&&(u==="auto"||u==="recentre")){const j=R.getZoom();Math.abs(j-17)>.5&&(M.current=!0,R.flyTo(a,17,{animate:!0,duration:1.5}))}},[u,R]),K.useEffect(()=>{!D.current&&a&&(u==="auto"||u==="recentre")&&(M.current=!0,R.panTo(a,{animate:!0,duration:.3}))},[a,u,R]),K.useEffect(()=>{if(u==="fixed"&&p&&a){const j=R.getZoom();M.current=!0,R.panTo(a,{animate:!0,duration:.5}),Math.abs(j-17)>1&&setTimeout(()=>{M.current=!0,R.setZoom(17,{animate:!0})},600)}},[u,p,a,R]),K.useEffect(()=>{const j=()=>{setTimeout(()=>{R.invalidateSize()},100)};return window.addEventListener("resize",j),window.addEventListener("orientationchange",j),window.visualViewport&&window.visualViewport.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),window.removeEventListener("orientationchange",j),window.visualViewport&&window.visualViewport.removeEventListener("resize",j)}},[R]),K.useEffect(()=>{const j=R.getContainer();let tt=0;const yt=16,ut=(ct,gt)=>{const ft=gt.clientX-ct.clientX,vt=gt.clientY-ct.clientY;return Math.atan2(vt,ft)*(180/Math.PI)},W=ct=>{if(ct.touches.length===2){Z.current=ut(ct.touches[0],ct.touches[1]),P.current=A,j.style.width="400%",j.style.height="400%",j.style.top="-150%",j.style.left="-150%";const gt=window.matchMedia("(prefers-color-scheme: dark)").matches;j.style.backgroundColor=gt?"#1a1a1a":"#e0e0e0",j.style.transition="none"}},X=ct=>{if(ct.touches.length===2&&Z.current!==null){const gt=Date.now();if(gt-tt<yt)return;tt=gt;const ft=ut(ct.touches[0],ct.touches[1]),vt=ft-Z.current,Ct=P.current-vt;j.style.transform=`rotate(${-Ct}deg)`,document.documentElement.style.setProperty("--map-rotation",`${Ct}deg`),k(Ct),P.current=Ct,Z.current=ft}},ot=()=>{Z.current!==null&&(T(P.current),Z.current=null,j.style.transition="transform 0.3s ease-out")};return j.addEventListener("touchstart",W,{passive:!0}),j.addEventListener("touchmove",X,{passive:!0}),j.addEventListener("touchend",ot,{passive:!0}),()=>{j.removeEventListener("touchstart",W),j.removeEventListener("touchmove",X),j.removeEventListener("touchend",ot)}},[R,A,T]),K.useEffect(()=>{const j=R.getContainer();if(u!=="auto")if(j.style.willChange="transform",j.style.transformOrigin="center center",Math.abs(A)>.5){j.style.width="400%",j.style.height="400%",j.style.top="-150%",j.style.left="-150%";const tt=window.matchMedia("(prefers-color-scheme: dark)").matches;j.style.backgroundColor=tt?"#1a1a1a":"#e0e0e0",j.style.transition="transform 0.3s ease-out",j.style.transform=`rotate(${-A}deg)`,document.documentElement.style.setProperty("--map-rotation",`${A}deg`)}else j.style.transition="transform 0.4s ease-out, width 0.3s ease-out, height 0.3s ease-out, top 0.3s ease-out, left 0.3s ease-out",j.style.transform="rotate(0deg)",j.style.width="100%",j.style.height="100%",j.style.top="0",j.style.left="0",document.documentElement.style.setProperty("--map-rotation","0deg"),setTimeout(()=>R.invalidateSize(),350)},[A,u,R]),null},nT=()=>{const[a,s]=K.useState(null),[l,u]=K.useState(null),[d,p]=K.useState(0),[_,b]=K.useState("idle"),[y,x]=K.useState("fixed"),[A,T]=K.useState(!1),[k,R]=K.useState(()=>{const At=localStorage.getItem("parlens_vehicle_type");return At==="bicycle"||At==="motorcycle"||At==="car"?At:"car"}),[D,M]=K.useState([]),[Z,P]=K.useState([]),[j,tt]=K.useState(null),[yt,ut]=K.useState(!1),[W,X]=K.useState(!1),[ot,ct]=K.useState(17),[gt,ft]=K.useState(!1),[vt,Ct]=K.useState(!1),[zt,rt]=K.useState(null),[N,Q]=K.useState(null),[F,mt]=K.useState(null),[nt,z]=K.useState(!1),[q,st]=K.useState(null),[lt,dt]=K.useState(!1),[ht,bt]=K.useState(null),[Zt,Vt]=K.useState(0),[Ce,$e]=K.useState(0);K.useEffect(()=>{$e(Zt)},[Zt]);const _e=(At,Gt,pe,Et)=>{if(rt(At),Q(Gt),mt(pe),z(Et),At&&At.length>1&&Et){const It=xa.latLngBounds(At);st(It)}};K.useEffect(()=>{const At=setInterval(()=>{const Gt=Math.floor(Date.now()/1e3);M(pe=>{const Et=pe.filter(It=>!It.expiresAt||It.expiresAt>Gt);return Et.length!==pe.length&&console.log("[Parlens] Expired",pe.length-Et.length,"spots"),Et.length!==pe.length?Et:pe})},1e4);return()=>clearInterval(At)},[]),K.useEffect(()=>{const At=()=>X(!0);return window.addEventListener("map-user-interaction",At),()=>window.removeEventListener("map-user-interaction",At)},[]);const[Ze,qe]=K.useState(!1);K.useEffect(()=>{const At=window.matchMedia("(prefers-color-scheme: dark)");qe(At.matches);const Gt=pe=>qe(pe.matches);return At.addEventListener("change",Gt),()=>At.removeEventListener("change",Gt)},[]);const hn=K.useRef(null),dn=K.useRef(new qE),vi=K.useRef(new GE),qn=K.useRef(new VE),_i=K.useRef(new IE),[_t,Mt]=K.useState(0);K.useEffect(()=>{if("geolocation"in navigator){const At=setTimeout(()=>{a||u("Unable to get location. Please enable location permissions in your browser/device settings.")},1e4);let Gt=0,pe=0,Et=0;return hn.current=navigator.geolocation.watchPosition(It=>{const{latitude:On,longitude:Ee,heading:he,speed:ke,accuracy:Ie}=It.coords,Gn=Date.now(),bi=ke||0,[uo,Yi]=dn.current.smoothLocation(On,Ee),xi=Math.abs(On-pe)*111e3,wi=Math.abs(Ee-Et)*111e3*Math.cos(On*(Math.PI/180)),si=Math.sqrt(xi*xi+wi*wi),Ta=Math.min(Ie||10,30)/10,co=(bi>10?6:bi>5?4:2)*Ta,ur=qn.current.getPollingInterval();if(si>co||Gn-Gt>ur){const rn=qn.current.updateLocation(uo,Yi);if(rn.shouldUpdate){const vn=rn.animationDuration;vn>0?(_i.current.setUpdateCallback((fo,cr)=>{s([fo,cr])}),_i.current.animateTo(rn.displayLat,rn.displayLon,vn)):s([rn.displayLat,rn.displayLon])}pe=On,Et=Ee,Gt=Gn}if(u(null),he!==null&&!isNaN(he)&&bi>2){const rn=dn.current.smoothBearing(he,bi);if(rn!==null){const vn=vi.current.setBearing(rn);Mt(vn),p(rn)}}},It=>{console.error("Location error:",It),It.code===It.PERMISSION_DENIED?u("Location permission denied. Please enable location access in your browser settings."):It.code===It.POSITION_UNAVAILABLE?u("Location unavailable. Please check your device's GPS settings."):It.code===It.TIMEOUT&&u("Location request timed out. Please try again.")},{enableHighAccuracy:!0,maximumAge:500,timeout:15e3}),()=>{clearTimeout(At),hn.current!==null&&navigator.geolocation.clearWatch(hn.current)}}else u("Geolocation is not supported by this browser.")},[a]);const kt=K.useRef(null),[qt,Dt]=K.useState(!1),Ge=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()==="granted")return Dt(!1),kt.current&&window.addEventListener("deviceorientation",kt.current,!0),!0}catch(At){console.error("Error requesting device orientation permission:",At)}return!1};K.useEffect(()=>{let At=0,Gt=0;const pe=Ee=>{const he=Date.now();let ke=0;Ee.webkitCompassHeading!==void 0?ke=Ee.webkitCompassHeading:Ee.alpha!==null&&(ke=360-Ee.alpha);const Ie=Math.abs(ke-Gt),Gn=he-At;if(Ie>3||Gn>100){Gt=ke,At=he,p(ke);const bi=vi.current.setBearing(ke);Mt(bi)}};kt.current=pe;const Et=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function"){Dt(!0);return}window.addEventListener("deviceorientation",pe,!0)},It=async()=>{document.visibilityState==="visible"&&(typeof DeviceOrientationEvent.requestPermission=="function"?Dt(!0):kt.current&&window.addEventListener("deviceorientation",kt.current,!0))};document.addEventListener("visibilitychange",It);const On=setTimeout(Et,500);return()=>{clearTimeout(On),document.removeEventListener("visibilitychange",It),kt.current&&window.removeEventListener("deviceorientation",kt.current,!0)}},[]);const Ut=At=>{if(_!=="idle"){alert("Please end your current session before changing vehicle type.");return}R(At),localStorage.setItem("parlens_vehicle_type",At)};return a?w.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[lt&&w.jsx("div",{className:"absolute top-0 left-0 right-0 z-[1000] bg-orange-500 text-white py-3 px-4 text-center font-medium shadow-lg animate-pulse",children:" Tap anywhere on the map to drop a pin"}),w.jsx("div",{className:"absolute inset-0",children:w.jsxs(AE,{center:a,zoom:17,zoomControl:!1,className:"absolute inset-0",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[w.jsx(zE,{url:Ze?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO",keepBuffer:12,updateWhenIdle:!1}),w.jsx($E,{onZoomChange:ct}),w.jsx(tT,{enabled:lt,onDropPin:(At,Gt)=>bt({lat:At,lon:Gt})}),Z.length>0&&(()=>{const Gt=Z.filter(Et=>(Et.decryptedContent?.type||"car")===k).map(Et=>{const It=Et.decryptedContent;return It&&It.lat&&It.lon?{id:Et.id,lat:It.lat,lon:It.lon,price:parseFloat(It.fee)||0,currency:It.currency||"USD",original:Et}:null}).filter(Boolean);return T0(Gt,ot).map(Et=>A0(Et)?w.jsx(z0,{cluster:Et,type:"history",bearing:d,orientationMode:y},Et.id):w.jsx(WE,{spot:Et.original||Et,bearing:d,orientationMode:y},Et.id))})(),_==="search"&&D.length>0&&(()=>{const Gt=D.filter(Et=>(Et.type||"car")===k).map(Et=>({id:Et.id,lat:Et.lat,lon:Et.lon,price:Et.price,currency:Et.currency,original:Et}));return T0(Gt,ot).map(Et=>A0(Et)?w.jsx(z0,{cluster:Et,type:"open",bearing:d,orientationMode:y},Et.id):w.jsx(JE,{spot:Et.original||Et,bearing:d,orientationMode:y},Et.id))})(),_==="parked"&&j&&w.jsx(FE,{location:j,vehicleType:k,bearing:d,orientationMode:y}),nt&&N&&N.length>1&&w.jsx(E0,{positions:N,color:"#007AFF",weight:3,opacity:.4,dashArray:"8, 8"}),nt&&zt&&zt.length>1&&w.jsx(E0,{positions:zt,color:"#007AFF",weight:4,opacity:.9}),nt&&F&&F.map((At,Gt)=>w.jsx(lo,{position:[At.lat,At.lon],icon:xa.divIcon({className:"waypoint-marker",html:`<div style="width: 20px; height: 20px; background: #007AFF; border: 2px solid white; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: bold;">${Gt+1}</div>`,iconSize:[20,20],iconAnchor:[10,10]})},`waypoint-${Gt}`)),w.jsx(XE,{location:a,bearing:d}),w.jsx(eT,{location:a,bearing:d,cumulativeRotation:_t,orientationMode:y,setOrientationMode:x,shouldRecenter:yt,setShouldRecenter:ut,setNeedsRecenter:X,routeBounds:q,setRouteBounds:st,mapRotation:Zt,setMapRotation:Vt,setLiveMapRotation:$e})]})}),w.jsxs("div",{className:"absolute z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",left:"max(1rem, env(safe-area-inset-left))"},children:[w.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[w.jsx("button",{onClick:()=>Ut("bicycle"),className:`p-2.5 rounded-full transition-all ${k==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:w.jsx("span",{className:"text-xl",children:""})}),w.jsx("button",{onClick:()=>Ut("motorcycle"),className:`p-2.5 rounded-full transition-all ${k==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:w.jsx("span",{className:"text-xl",children:""})}),w.jsx("button",{onClick:()=>Ut("car"),className:`p-2.5 rounded-full transition-all ${k==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:w.jsx("span",{className:"text-xl",children:""})})]}),w.jsx("button",{onClick:()=>T(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:w.jsx(w0,{size:20})})]}),w.jsxs("div",{className:"absolute z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",style:{bottom:"max(1.5rem, calc(env(safe-area-inset-bottom) + 0.5rem))",right:"max(1rem, env(safe-area-inset-right))"},children:[(Math.abs(Ce)>5||Math.abs(Zt)>5)&&y!=="auto"&&w.jsx("button",{onClick:()=>{Vt(0),$e(0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg bg-red-500/20 border-red-500/50 animate-in fade-in zoom-in-95 duration-200",title:"Reset to true north",children:w.jsxs("div",{className:"flex flex-col items-center justify-center",style:{transform:`rotate(${-Ce}deg)`},children:[w.jsx("div",{style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid",borderBottomColor:"rgb(239 68 68)"}}),w.jsx("span",{className:"text-sm font-bold text-red-500 dark:text-red-400",style:{marginTop:"-2px"},children:"N"})]})}),w.jsx("button",{onClick:async()=>{if(qt){await Ge();return}W?(ut(!0),X(!1)):(x(At=>At==="fixed"?"recentre":"fixed"),ut(!0))},className:`h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg ${qt?"bg-orange-500/20 border-orange-500/50 text-orange-500 dark:text-orange-400 animate-pulse":y==="recentre"?"bg-green-500/20 border-green-500/50 text-green-500 dark:text-green-400":W?"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-400 dark:text-white/40":"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70"}`,children:y==="recentre"?w.jsx(Sl,{size:20}):w.jsx(HS,{size:20})}),w.jsx(PE,{vehicleType:k,onRouteChange:_e,currentLocation:a,onDropPinModeChange:dt,pendingDropPin:ht,onDropPinConsumed:()=>bt(null),onOpenChange:Ct}),w.jsx(HE,{setHistorySpots:P,onOpenChange:ft}),w.jsx(jE,{status:_,setStatus:b,location:a,vehicleType:k,setOpenSpots:M,parkLocation:j,setParkLocation:tt})]}),A&&w.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl pt-2 px-4 pb-4 animate-in fade-in",children:[w.jsx("button",{onClick:()=>T(!1),className:"absolute inset-0 z-0 cursor-default"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] border border-black/5 dark:border-white/5 shadow-2xl p-6 space-y-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar transition-colors",children:[w.jsx("button",{onClick:()=>T(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:w.jsx(Pd,{size:20,className:"text-black/60 dark:text-white/60"})}),w.jsxs("div",{className:"text-center space-y-2 pt-4",children:[w.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:w.jsx(w0,{size:32})}),w.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),w.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5",children:[w.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors rounded-2xl",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Browser Menu (Android)"}),w.jsx(wl,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),w.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[w.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add to Home screen"})]}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add"})," to confirm"]})]}),w.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Install"})]})]})]})]}),w.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5",children:[w.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors rounded-2xl",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Share Button (iOS)"}),w.jsx(wl,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),w.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsxs("li",{children:["Tap the ",w.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),w.jsxs("li",{children:["Scroll down and tap ",w.jsx("strong",{children:"Add to Home Screen"}),"."]}),w.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),w.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Plan your route (optional)"}),"Tap the route button to add waypoints and create a route. Click the location button to re-centre and turn on follow-me mode for route tracking."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Find and log parking spots"}),"Click the main button once to see open spots reported by others. Click again to mark your location. When leaving, click once more to end the session and report the fee. Use the profile button to see your parking history."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. User privacy"}),"Parlens does not collect or share any user data. Your log and route data is encrypted by your keys and only accessible by you. Open spot broadcasts are ephemeral and not linked to any personal identifiers."]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"5. Create your own mirror"}),w.jsx("a",{href:"https://github.com/prasannawarrier/parlens-pwa/blob/main/MIRROR_CREATION.md",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Follow these steps"})," to create your own mirror of the Parlens app to distribute the load and share with your friends."]})]})]})]}),_==="search"&&!gt&&!vt&&w.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:w.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5 whitespace-nowrap min-w-max",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),w.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),_==="parked"&&!gt&&!vt&&w.jsx("div",{className:"absolute left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",style:{top:"max(3rem, calc(env(safe-area-inset-top) + 0.75rem))"},children:w.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[w.jsx("span",{className:"text-lg",children:k==="bicycle"?"":k==="motorcycle"?"":""}),w.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50 dark:bg-black",children:w.jsx("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700 px-8 max-w-sm text-center",children:l?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:w.jsx("span",{className:"text-2xl",children:""})}),w.jsx("p",{className:"text-sm font-medium text-red-500 dark:text-red-400",children:l}),w.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-6 py-2 rounded-full bg-blue-500 text-white text-sm font-medium active:scale-95 transition-transform",children:"Try Again"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),w.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})})},iT=()=>{const{login:a}=oo(),[s,l]=K.useState(""),[u,d]=K.useState(""),[p,_]=K.useState(!1),[b,y]=K.useState("landing"),[x,A]=K.useState(""),[T,k]=K.useState(null),R=async P=>{_(!0),d("");try{await a(P,P==="nsec"?s:void 0)}catch(j){d(j.message)}finally{_(!1)}},D=()=>{y("setup")},M=async()=>{if(!x.trim()){d("Please enter a username");return}_(!0);try{const{generateSecretKey:P,getPublicKey:j}=await _b(async()=>{const{generateSecretKey:ot,getPublicKey:ct}=await Promise.resolve().then(()=>DE);return{generateSecretKey:ot,getPublicKey:ct}},void 0),tt=ot=>Array.from(ot).map(ct=>ct.toString(16).padStart(2,"0")).join(""),yt=P(),ut=j(yt);localStorage.setItem("parlens_privkey",tt(yt)),localStorage.setItem("parlens_pubkey",ut),localStorage.setItem("parlens_pending_username",x);const W=rr.npubEncode(ut),X=rr.nsecEncode(yt);k({npub:W,nsec:X}),y("backup")}catch(P){d(P.message)}finally{_(!1)}},Z=async()=>{_(!0);try{const P=localStorage.getItem("parlens_pending_username");await a("create",void 0,P||x),localStorage.removeItem("parlens_pending_username")}catch(P){d(P.message)}finally{_(!1)}};return w.jsx("div",{className:"min-h-screen bg-black p-6 text-white text-center overflow-y-auto no-scrollbar flex flex-col items-center justify-center",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:w.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("img",{src:"/parlens-pwa/pwa-512x512.png",alt:"Parlens",className:"mx-auto h-24 w-24 rounded-[22%] shadow-2xl shadow-[#007AFF]/20"}),w.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),w.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Decentralised Route and Parking Management"})]}),w.jsxs("div",{className:"space-y-4",children:[b==="landing"?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:D,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":w.jsxs(w.Fragment,{children:[w.jsx(uE,{size:20,strokeWidth:3}),"Create a New Account"]})}),w.jsxs("button",{onClick:()=>y("nsec"),disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold text-lg shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[w.jsx(td,{size:18}),"Login with Secret Key"]})]}):b==="setup"?w.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[w.jsxs("div",{className:"text-center pb-2",children:[w.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),w.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),w.jsx("input",{type:"text",placeholder:"Username",value:x,onChange:P=>A(P.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>y("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),w.jsx("button",{onClick:M,disabled:p||!x,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):b==="backup"?w.jsxs("div",{className:"space-y-6 pt-4 animate-in slide-in-from-right-4 text-left",children:[w.jsxs("div",{className:"text-center pb-2",children:[w.jsx("h3",{className:"text-xl font-bold",children:" Account Created!"}),w.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Back up your keys before continuing"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-white/30 ml-2",children:"Your Keys"}),w.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-white/[0.03] border border-white/10",children:[w.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{T&&(navigator.clipboard.writeText(T.npub),alert("Public Key copied to clipboard"))},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/20 text-blue-400",children:w.jsx(td,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Public Key (Npub)"})]}),w.jsx(uc,{size:18,className:"text-white/20"})]}),w.jsx("div",{className:"h-[1px] bg-white/5 mx-4"}),w.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer active:bg-white/10",onClick:()=>{T&&(navigator.clipboard.writeText(T.nsec),alert("Secret Key copied to clipboard - keep this safe!"))},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/20 text-red-500",children:w.jsx(Tv,{size:20})}),w.jsx("span",{className:"font-semibold text-sm text-white",children:"Copy Secret Key (Nsec)"})]}),w.jsx(uc,{size:18,className:"text-white/20"})]})]}),w.jsx("p",{className:"text-xs text-white/30 mt-2 ml-2 leading-relaxed text-center",children:" Store these keys securely. They cannot be recovered if lost."})]}),w.jsx("button",{onClick:Z,disabled:p,className:"w-full h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg shadow-[#007AFF]/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:p?"Starting...":"Start Using Parlens"})]}):w.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[w.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:s,onChange:P=>l(P.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-[#007AFF] placeholder:text-white/20",autoFocus:!0}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>y("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),w.jsx("button",{onClick:()=>R("nsec"),disabled:p||!s,className:"flex-1 h-16 rounded-3xl bg-[#007AFF] text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),u&&w.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:u}),w.jsxs("div",{className:"space-y-3 pt-6 border-t border-white/10",children:[w.jsx("h3",{className:"text-center font-bold text-white/70 text-sm",children:"Add to your homescreen for fullscreen experience"}),w.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[w.jsxs("button",{onClick:()=>{document.getElementById("login-android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Browser Menu (Android)"}),w.jsx(wl,{size:16,className:"text-white/50"})]}),w.jsxs("div",{id:"login-android-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:[w.jsx("p",{className:"font-semibold text-white/80",children:"Chrome & Brave:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add to Home screen"})]}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Add"})," to confirm"]})]}),w.jsx("p",{className:"font-semibold text-white/80 mt-3",children:"Firefox:"}),w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsx("li",{children:"Tap menu button (three dots)"}),w.jsxs("li",{children:["Tap ",w.jsx("strong",{children:"Install"})]})]})]})]}),w.jsxs("div",{className:"rounded-2xl bg-white/5 overflow-hidden",children:[w.jsxs("button",{onClick:()=>{document.getElementById("login-ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-white/5 text-white/80 transition-colors",style:{WebkitTapHighlightColor:"transparent"},children:[w.jsx("span",{children:"Using Share Button (iOS)"}),w.jsx(wl,{size:16,className:"text-white/50"})]}),w.jsx("div",{id:"login-ios-guide",className:"hidden p-4 pt-0 text-xs text-white/60 space-y-2 text-left",children:w.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[w.jsxs("li",{children:["Tap the ",w.jsx("strong",{className:"text-white/80",children:"Share"})," button in Safari menu bar."]}),w.jsxs("li",{children:["Scroll down and tap ",w.jsx("strong",{className:"text-white/80",children:"Add to Home Screen"}),"."]}),w.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]})]})]})})},aT=()=>{const{pubkey:a}=oo();return to.useEffect(()=>{let s=0;const l=()=>{if(document.visibilityState==="hidden")s=Date.now(),console.log("[App] Backgrounded at",new Date().toISOString());else if(document.visibilityState==="visible"&&s>0){const d=Date.now()-s;console.log("[App] Foregrounded after",d,"ms"),d>5e3&&(console.log("[App] Dispatching visibility-refresh event"),window.dispatchEvent(new Event("visibility-refresh")))}},u=d=>{d.persisted&&(console.log("[App] Page restored from bfcache, triggering refresh"),window.dispatchEvent(new Event("visibility-refresh")))};return document.addEventListener("visibilitychange",l),window.addEventListener("pageshow",u),()=>{document.removeEventListener("visibilitychange",l),window.removeEventListener("pageshow",u)}},[]),a?w.jsx(nT,{}):w.jsx(iT,{})};var Lc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sT={setTimeout:(a,s)=>setTimeout(a,s),clearTimeout:a=>clearTimeout(a),setInterval:(a,s)=>setInterval(a,s),clearInterval:a=>clearInterval(a)},rT=class{#t=sT;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,s){return this.#t.setTimeout(a,s)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,s){return this.#t.setInterval(a,s)}clearInterval(a){this.#t.clearInterval(a)}},nd=new rT;function oT(a){setTimeout(a,0)}var Cc=typeof window>"u"||"Deno"in globalThis;function gi(){}function lT(a,s){return typeof a=="function"?a(s):a}function uT(a){return typeof a=="number"&&a>=0&&a!==1/0}function cT(a,s){return Math.max(a+(s||0)-Date.now(),0)}function id(a,s){return typeof a=="function"?a(s):a}function fT(a,s){return typeof a=="function"?a(s):a}function L0(a,s){const{type:l="all",exact:u,fetchStatus:d,predicate:p,queryKey:_,stale:b}=a;if(_){if(u){if(s.queryHash!==Kd(_,s.options))return!1}else if(!Tl(s.queryKey,_))return!1}if(l!=="all"){const y=s.isActive();if(l==="active"&&!y||l==="inactive"&&y)return!1}return!(typeof b=="boolean"&&s.isStale()!==b||d&&d!==s.state.fetchStatus||p&&!p(s))}function C0(a,s){const{exact:l,status:u,predicate:d,mutationKey:p}=a;if(p){if(!s.options.mutationKey)return!1;if(l){if(El(s.options.mutationKey)!==El(p))return!1}else if(!Tl(s.options.mutationKey,p))return!1}return!(u&&s.state.status!==u||d&&!d(s))}function Kd(a,s){return(s?.queryKeyHashFn||El)(a)}function El(a){return JSON.stringify(a,(s,l)=>ad(l)?Object.keys(l).sort().reduce((u,d)=>(u[d]=l[d],u),{}):l)}function Tl(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?Object.keys(s).every(l=>Tl(a[l],s[l])):!1}var hT=Object.prototype.hasOwnProperty;function Hv(a,s){if(a===s)return a;const l=M0(a)&&M0(s);if(!l&&!(ad(a)&&ad(s)))return s;const d=(l?a:Object.keys(a)).length,p=l?s:Object.keys(s),_=p.length,b=l?new Array(_):{};let y=0;for(let x=0;x<_;x++){const A=l?x:p[x],T=a[A],k=s[A];if(T===k){b[A]=T,(l?x<d:hT.call(a,A))&&y++;continue}if(T===null||k===null||typeof T!="object"||typeof k!="object"){b[A]=k;continue}const R=Hv(T,k);b[A]=R,R===T&&y++}return d===_&&y===d?a:b}function M0(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function ad(a){if(!N0(a))return!1;const s=a.constructor;if(s===void 0)return!0;const l=s.prototype;return!(!N0(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function N0(a){return Object.prototype.toString.call(a)==="[object Object]"}function dT(a){return new Promise(s=>{nd.setTimeout(s,a)})}function mT(a,s,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,s):l.structuralSharing!==!1?Hv(a,s):s}function pT(a,s,l=0){const u=[...a,s];return l&&u.length>l?u.slice(1):u}function gT(a,s,l=0){const u=[s,...a];return l&&u.length>l?u.slice(0,-1):u}var Qd=Symbol();function Pv(a,s){return!a.queryFn&&s?.initialPromise?()=>s.initialPromise:!a.queryFn||a.queryFn===Qd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var yT=class extends Lc{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!Cc&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(s=>{s(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Zv=new yT;function vT(){let a,s;const l=new Promise((d,p)=>{a=d,s=p});l.status="pending",l.catch(()=>{});function u(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{u({status:"fulfilled",value:d}),a(d)},l.reject=d=>{u({status:"rejected",reason:d}),s(d)},l}var _T=oT;function bT(){let a=[],s=0,l=b=>{b()},u=b=>{b()},d=_T;const p=b=>{s?a.push(b):d(()=>{l(b)})},_=()=>{const b=a;a=[],b.length&&d(()=>{u(()=>{b.forEach(y=>{l(y)})})})};return{batch:b=>{let y;s++;try{y=b()}finally{s--,s||_()}return y},batchCalls:b=>(...y)=>{p(()=>{b(...y)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{u=b},setScheduler:b=>{d=b}}}var yn=bT(),xT=class extends Lc{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!Cc&&window.addEventListener){const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},hc=new xT;function wT(a){return Math.min(1e3*2**a,3e4)}function qv(a){return(a??"online")==="online"?hc.isOnline():!0}var sd=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function Gv(a){let s=!1,l=0,u;const d=vT(),p=()=>d.status!=="pending",_=M=>{if(!p()){const Z=new sd(M);k(Z),a.onCancel?.(Z)}},b=()=>{s=!0},y=()=>{s=!1},x=()=>Zv.isFocused()&&(a.networkMode==="always"||hc.isOnline())&&a.canRun(),A=()=>qv(a.networkMode)&&a.canRun(),T=M=>{p()||(u?.(),d.resolve(M))},k=M=>{p()||(u?.(),d.reject(M))},R=()=>new Promise(M=>{u=Z=>{(p()||x())&&M(Z)},a.onPause?.()}).then(()=>{u=void 0,p()||a.onContinue?.()}),D=()=>{if(p())return;let M;const Z=l===0?a.initialPromise:void 0;try{M=Z??a.fn()}catch(P){M=Promise.reject(P)}Promise.resolve(M).then(T).catch(P=>{if(p())return;const j=a.retry??(Cc?0:3),tt=a.retryDelay??wT,yt=typeof tt=="function"?tt(l,P):tt,ut=j===!0||typeof j=="number"&&l<j||typeof j=="function"&&j(l,P);if(s||!ut){k(P);return}l++,a.onFail?.(l,P),dT(yt).then(()=>x()?void 0:R()).then(()=>{s?k(P):D()})})};return{promise:d,status:()=>d.status,cancel:_,continue:()=>(u?.(),d),cancelRetry:b,continueRetry:y,canStart:A,start:()=>(A()?D():R().then(D),d)}}var Iv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uT(this.gcTime)&&(this.#t=nd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(Cc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(nd.clearTimeout(this.#t),this.#t=void 0)}},ST=class extends Iv{#t;#e;#n;#a;#i;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=k0(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=k0(this.options);s.data!==void 0&&(this.setState(O0(s.data,s.dataUpdatedAt)),this.#t=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,s){const l=mT(this.state.data,a,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(a,s){this.#s({type:"setState",state:a,setStateOptions:s})}cancel(a){const s=this.#i?.promise;return this.#i?.cancel(a),s?s.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>fT(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>id(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!cT(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(s=>s!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(a,s){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(y=>y.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=Pv(this.options,s),x=(()=>{const A={client:this.#a,queryKey:this.queryKey,meta:this.meta};return u(A),A})();return this.#o=!1,this.options.persister?this.options.persister(b,x,this):b(x)},_=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return u(b),b})();this.options.behavior?.onFetch(_,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==_.fetchOptions?.meta)&&this.#s({type:"fetch",meta:_.fetchOptions?.meta}),this.#i=Gv({initialPromise:s?.initialPromise,fn:_.fetchFn,onCancel:b=>{b instanceof sd&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,y)=>{this.#s({type:"failed",failureCount:b,error:y})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof sd){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#s({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#s(a){const s=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...ET(l.data,this.options),fetchMeta:a.meta??null};case"success":const u={...l,...O0(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?u:void 0,u;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=s(this.state),yn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function ET(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qv(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function O0(a,s){return{data:a,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function k0(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,l=s!==void 0,u=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:l?u??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function R0(a){return{onFetch:(s,l)=>{const u=s.options,d=s.fetchOptions?.meta?.fetchMore?.direction,p=s.state.data?.pages||[],_=s.state.data?.pageParams||[];let b={pages:[],pageParams:[]},y=0;const x=async()=>{let A=!1;const T=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(s.signal.aborted?A=!0:s.signal.addEventListener("abort",()=>{A=!0}),s.signal)})},k=Pv(s.options,s.fetchOptions),R=async(D,M,Z)=>{if(A)return Promise.reject();if(M==null&&D.pages.length)return Promise.resolve(D);const j=(()=>{const W={client:s.client,queryKey:s.queryKey,pageParam:M,direction:Z?"backward":"forward",meta:s.options.meta};return T(W),W})(),tt=await k(j),{maxPages:yt}=s.options,ut=Z?gT:pT;return{pages:ut(D.pages,tt,yt),pageParams:ut(D.pageParams,M,yt)}};if(d&&p.length){const D=d==="backward",M=D?TT:B0,Z={pages:p,pageParams:_},P=M(u,Z);b=await R(Z,P,D)}else{const D=a??p.length;do{const M=y===0?_[0]??u.initialPageParam:B0(u,b);if(y>0&&M==null)break;b=await R(b,M),y++}while(y<D)}return b};s.options.persister?s.fetchFn=()=>s.options.persister?.(x,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},l):s.fetchFn=x}}}function B0(a,{pages:s,pageParams:l}){const u=s.length-1;return s.length>0?a.getNextPageParam(s[u],s,l[u],l):void 0}function TT(a,{pages:s,pageParams:l}){return s.length>0?a.getPreviousPageParam?.(s[0],s,l[0],l):void 0}var AT=class extends Iv{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||zT(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(s=>s!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const s=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Gv({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,_)=>{this.#i({type:"failed",failureCount:p,error:_})},onPause:()=>{this.#i({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const u=this.state.status==="pending",d=!this.#a.canStart();try{if(u)s();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const _=await this.options.onMutate?.(a,l);_!==this.state.context&&this.#i({type:"pending",context:_,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const s=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=s(this.state),yn.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function zT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var LT=class extends Lc{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,s,l){const u=new AT({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(s),state:l});return this.add(u),u}add(a){this.#t.add(a);const s=$u(a);if(typeof s=="string"){const l=this.#e.get(s);l?l.push(a):this.#e.set(s,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const s=$u(a);if(typeof s=="string"){const l=this.#e.get(s);if(l)if(l.length>1){const u=l.indexOf(a);u!==-1&&l.splice(u,1)}else l[0]===a&&this.#e.delete(s)}}this.notify({type:"removed",mutation:a})}canRun(a){const s=$u(a);if(typeof s=="string"){const u=this.#e.get(s)?.find(d=>d.state.status==="pending");return!u||u===a}else return!0}runNext(a){const s=$u(a);return typeof s=="string"?this.#e.get(s)?.find(u=>u!==a&&u.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){yn.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const s={exact:!0,...a};return this.getAll().find(l=>C0(s,l))}findAll(a={}){return this.getAll().filter(s=>C0(a,s))}notify(a){yn.batch(()=>{this.listeners.forEach(s=>{s(a)})})}resumePausedMutations(){const a=this.getAll().filter(s=>s.state.isPaused);return yn.batch(()=>Promise.all(a.map(s=>s.continue().catch(gi))))}};function $u(a){return a.options.scope?.id}var CT=class extends Lc{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,s,l){const u=s.queryKey,d=s.queryHash??Kd(u,s);let p=this.get(d);return p||(p=new ST({client:a,queryKey:u,queryHash:d,options:a.defaultQueryOptions(s),state:l,defaultOptions:a.getQueryDefaults(u)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const s=this.#t.get(a.queryHash);s&&(a.destroy(),s===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){yn.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const s={exact:!0,...a};return this.getAll().find(l=>L0(s,l))}findAll(a={}){const s=this.getAll();return Object.keys(a).length>0?s.filter(l=>L0(a,l)):s}notify(a){yn.batch(()=>{this.listeners.forEach(s=>{s(a)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},MT=class{#t;#e;#n;#a;#i;#r;#o;#s;constructor(a={}){this.#t=a.queryCache||new CT,this.#e=a.mutationCache||new LT,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Zv.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=hc.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(a){const s=this.defaultQueryOptions(a),l=this.#t.build(this,s),u=l.state.data;return u===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(id(s.staleTime,l))&&this.prefetchQuery(s),Promise.resolve(u))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:s,state:l})=>{const u=l.data;return[s,u]})}setQueryData(a,s,l){const u=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(u.queryHash)?.state.data,_=lT(s,p);if(_!==void 0)return this.#t.build(this,u).setData(_,{...l,manual:!0})}setQueriesData(a,s,l){return yn.batch(()=>this.#t.findAll(a).map(({queryKey:u})=>[u,this.setQueryData(u,s,l)]))}getQueryState(a){const s=this.defaultQueryOptions({queryKey:a});return this.#t.get(s.queryHash)?.state}removeQueries(a){const s=this.#t;yn.batch(()=>{s.findAll(a).forEach(l=>{s.remove(l)})})}resetQueries(a,s){const l=this.#t;return yn.batch(()=>(l.findAll(a).forEach(u=>{u.reset()}),this.refetchQueries({type:"active",...a},s)))}cancelQueries(a,s={}){const l={revert:!0,...s},u=yn.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(u).then(gi).catch(gi)}invalidateQueries(a,s={}){return yn.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},s)))}refetchQueries(a,s={}){const l={...s,cancelRefetch:s.cancelRefetch??!0},u=yn.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(gi)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(u).then(gi)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const l=this.#t.build(this,s);return l.isStaleByTime(id(s.staleTime,l))?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(gi).catch(gi)}fetchInfiniteQuery(a){return a.behavior=R0(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(gi).catch(gi)}ensureInfiniteQueryData(a){return a.behavior=R0(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return hc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,s){this.#a.set(El(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...this.#a.values()],l={};return s.forEach(u=>{Tl(a,u.queryKey)&&Object.assign(l,u.defaultOptions)}),l}setMutationDefaults(a,s){this.#i.set(El(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...this.#i.values()],l={};return s.forEach(u=>{Tl(a,u.mutationKey)&&Object.assign(l,u.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const s={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=Kd(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Qd&&(s.enabled=!1),s}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},NT=K.createContext(void 0),OT=({client:a,children:s})=>(K.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),w.jsx(NT.Provider,{value:a,children:s}));const kT=new MT;gb.createRoot(document.getElementById("root")).render(w.jsx(to.StrictMode,{children:w.jsx(OT,{client:kT,children:w.jsx(wS,{children:w.jsx(aT,{})})})}));
