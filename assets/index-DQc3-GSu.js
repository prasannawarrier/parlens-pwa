(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function l(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(d){if(d.ep)return;d.ep=!0;const p=l(d);fetch(d.href,p)}})();function $h(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var gh={exports:{}},Io={};var Mg;function P_(){if(Mg)return Io;Mg=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(c,d,p){var v=null;if(p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),"key"in d){p={};for(var b in d)b!=="key"&&(p[b]=d[b])}else p=d;return d=p.ref,{$$typeof:a,type:c,key:v,ref:d!==void 0?d:null,props:p}}return Io.Fragment=r,Io.jsx=l,Io.jsxs=l,Io}var Og;function q_(){return Og||(Og=1,gh.exports=P_()),gh.exports}var O=q_(),yh={exports:{}},Mt={};var Ng;function G_(){if(Ng)return Mt;Ng=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function P(A){return A===null||typeof A!="object"?null:(A=R&&A[R]||A["@@iterator"],typeof A=="function"?A:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function V(A,j,st){this.props=A,this.context=j,this.refs=D,this.updater=st||H}V.prototype.isReactComponent={},V.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},V.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function et(){}et.prototype=V.prototype;function tt(A,j,st){this.props=A,this.context=j,this.refs=D,this.updater=st||H}var pt=tt.prototype=new et;pt.constructor=tt,M(pt,V.prototype),pt.isPureReactComponent=!0;var yt=Array.isArray;function at(){}var J={H:null,A:null,T:null,S:null},ot=Object.prototype.hasOwnProperty;function St(A,j,st){var rt=st.ref;return{$$typeof:a,type:A,key:j,ref:rt!==void 0?rt:null,props:st}}function gt(A,j){return St(A.type,j,A.props)}function lt(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function ut(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(st){return j[st]})}var vt=/\/+/g;function bt(A,j){return typeof A=="object"&&A!==null&&A.key!=null?ut(""+A.key):j.toString(36)}function nt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(at,at):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,j,st,rt,ht){var dt=typeof A;(dt==="undefined"||dt==="boolean")&&(A=null);var zt=!1;if(A===null)zt=!0;else switch(dt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(A.$$typeof){case a:case r:zt=!0;break;case T:return zt=A._init,N(zt(A._payload),j,st,rt,ht)}}if(zt)return ht=ht(A),zt=rt===""?"."+bt(A,0):rt,yt(ht)?(st="",zt!=null&&(st=zt.replace(vt,"$&/")+"/"),N(ht,j,st,"",function(He){return He})):ht!=null&&(lt(ht)&&(ht=gt(ht,st+(ht.key==null||A&&A.key===ht.key?"":(""+ht.key).replace(vt,"$&/")+"/")+zt)),j.push(ht)),1;zt=0;var Ft=rt===""?".":rt+":";if(yt(A))for(var Pt=0;Pt<A.length;Pt++)rt=A[Pt],dt=Ft+bt(rt,Pt),zt+=N(rt,j,st,dt,ht);else if(Pt=P(A),typeof Pt=="function")for(A=Pt.call(A),Pt=0;!(rt=A.next()).done;)rt=rt.value,dt=Ft+bt(rt,Pt++),zt+=N(rt,j,st,dt,ht);else if(dt==="object"){if(typeof A.then=="function")return N(nt(A),j,st,rt,ht);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return zt}function Q(A,j,st){if(A==null)return A;var rt=[],ht=0;return N(A,rt,"","",function(dt){return j.call(st,dt,ht++)}),rt}function X(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(st){(A._status===0||A._status===-1)&&(A._status=1,A._result=st)},function(st){(A._status===0||A._status===-1)&&(A._status=2,A._result=st)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var mt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},it={map:Q,forEach:function(A,j,st){Q(A,function(){j.apply(this,arguments)},st)},count:function(A){var j=0;return Q(A,function(){j++}),j},toArray:function(A){return Q(A,function(j){return j})||[]},only:function(A){if(!lt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Mt.Activity=S,Mt.Children=it,Mt.Component=V,Mt.Fragment=l,Mt.Profiler=d,Mt.PureComponent=tt,Mt.StrictMode=c,Mt.Suspense=_,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return J.H.useMemoCache(A)}},Mt.cache=function(A){return function(){return A.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(A,j,st){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var rt=M({},A.props),ht=A.key;if(j!=null)for(dt in j.key!==void 0&&(ht=""+j.key),j)!ot.call(j,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&j.ref===void 0||(rt[dt]=j[dt]);var dt=arguments.length-2;if(dt===1)rt.children=st;else if(1<dt){for(var zt=Array(dt),Ft=0;Ft<dt;Ft++)zt[Ft]=arguments[Ft+2];rt.children=zt}return St(A.type,ht,rt)},Mt.createContext=function(A){return A={$$typeof:v,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:p,_context:A},A},Mt.createElement=function(A,j,st){var rt,ht={},dt=null;if(j!=null)for(rt in j.key!==void 0&&(dt=""+j.key),j)ot.call(j,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(ht[rt]=j[rt]);var zt=arguments.length-2;if(zt===1)ht.children=st;else if(1<zt){for(var Ft=Array(zt),Pt=0;Pt<zt;Pt++)Ft[Pt]=arguments[Pt+2];ht.children=Ft}if(A&&A.defaultProps)for(rt in zt=A.defaultProps,zt)ht[rt]===void 0&&(ht[rt]=zt[rt]);return St(A,dt,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(A){return{$$typeof:b,render:A}},Mt.isValidElement=lt,Mt.lazy=function(A){return{$$typeof:T,_payload:{_status:-1,_result:A},_init:X}},Mt.memo=function(A,j){return{$$typeof:x,type:A,compare:j===void 0?null:j}},Mt.startTransition=function(A){var j=J.T,st={};J.T=st;try{var rt=A(),ht=J.S;ht!==null&&ht(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(at,mt)}catch(dt){mt(dt)}finally{j!==null&&st.types!==null&&(j.types=st.types),J.T=j}},Mt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Mt.use=function(A){return J.H.use(A)},Mt.useActionState=function(A,j,st){return J.H.useActionState(A,j,st)},Mt.useCallback=function(A,j){return J.H.useCallback(A,j)},Mt.useContext=function(A){return J.H.useContext(A)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(A,j){return J.H.useDeferredValue(A,j)},Mt.useEffect=function(A,j){return J.H.useEffect(A,j)},Mt.useEffectEvent=function(A){return J.H.useEffectEvent(A)},Mt.useId=function(){return J.H.useId()},Mt.useImperativeHandle=function(A,j,st){return J.H.useImperativeHandle(A,j,st)},Mt.useInsertionEffect=function(A,j){return J.H.useInsertionEffect(A,j)},Mt.useLayoutEffect=function(A,j){return J.H.useLayoutEffect(A,j)},Mt.useMemo=function(A,j){return J.H.useMemo(A,j)},Mt.useOptimistic=function(A,j){return J.H.useOptimistic(A,j)},Mt.useReducer=function(A,j,st){return J.H.useReducer(A,j,st)},Mt.useRef=function(A){return J.H.useRef(A)},Mt.useState=function(A){return J.H.useState(A)},Mt.useSyncExternalStore=function(A,j,st){return J.H.useSyncExternalStore(A,j,st)},Mt.useTransition=function(){return J.H.useTransition()},Mt.version="19.2.3",Mt}var Bg;function td(){return Bg||(Bg=1,yh.exports=G_()),yh.exports}var ft=td();const Yu=$h(ft);var vh={exports:{}},Jo={},_h={exports:{}},bh={};var Rg;function Y_(){return Rg||(Rg=1,(function(a){function r(N,Q){var X=N.length;N.push(Q);t:for(;0<X;){var mt=X-1>>>1,it=N[mt];if(0<d(it,Q))N[mt]=Q,N[X]=it,X=mt;else break t}}function l(N){return N.length===0?null:N[0]}function c(N){if(N.length===0)return null;var Q=N[0],X=N.pop();if(X!==Q){N[0]=X;t:for(var mt=0,it=N.length,A=it>>>1;mt<A;){var j=2*(mt+1)-1,st=N[j],rt=j+1,ht=N[rt];if(0>d(st,X))rt<it&&0>d(ht,st)?(N[mt]=ht,N[rt]=X,mt=rt):(N[mt]=st,N[j]=X,mt=j);else if(rt<it&&0>d(ht,X))N[mt]=ht,N[rt]=X,mt=rt;else break t}}return Q}function d(N,Q){var X=N.sortIndex-Q.sortIndex;return X!==0?X:N.id-Q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var v=Date,b=v.now();a.unstable_now=function(){return v.now()-b}}var _=[],x=[],T=1,S=null,R=3,P=!1,H=!1,M=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function pt(N){for(var Q=l(x);Q!==null;){if(Q.callback===null)c(x);else if(Q.startTime<=N)c(x),Q.sortIndex=Q.expirationTime,r(_,Q);else break;Q=l(x)}}function yt(N){if(M=!1,pt(N),!H)if(l(_)!==null)H=!0,at||(at=!0,ut());else{var Q=l(x);Q!==null&&nt(yt,Q.startTime-N)}}var at=!1,J=-1,ot=5,St=-1;function gt(){return D?!0:!(a.unstable_now()-St<ot)}function lt(){if(D=!1,at){var N=a.unstable_now();St=N;var Q=!0;try{t:{H=!1,M&&(M=!1,et(J),J=-1),P=!0;var X=R;try{e:{for(pt(N),S=l(_);S!==null&&!(S.expirationTime>N&&gt());){var mt=S.callback;if(typeof mt=="function"){S.callback=null,R=S.priorityLevel;var it=mt(S.expirationTime<=N);if(N=a.unstable_now(),typeof it=="function"){S.callback=it,pt(N),Q=!0;break e}S===l(_)&&c(_),pt(N)}else c(_);S=l(_)}if(S!==null)Q=!0;else{var A=l(x);A!==null&&nt(yt,A.startTime-N),Q=!1}}break t}finally{S=null,R=X,P=!1}Q=void 0}}finally{Q?ut():at=!1}}}var ut;if(typeof tt=="function")ut=function(){tt(lt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,bt=vt.port2;vt.port1.onmessage=lt,ut=function(){bt.postMessage(null)}}else ut=function(){V(lt,0)};function nt(N,Q){J=V(function(){N(a.unstable_now())},Q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(N){switch(R){case 1:case 2:case 3:var Q=3;break;default:Q=R}var X=R;R=Q;try{return N()}finally{R=X}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(N,Q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=R;R=N;try{return Q()}finally{R=X}},a.unstable_scheduleCallback=function(N,Q,X){var mt=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?mt+X:mt):X=mt,N){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=X+it,N={id:T++,callback:Q,priorityLevel:N,startTime:X,expirationTime:it,sortIndex:-1},X>mt?(N.sortIndex=X,r(x,N),l(_)===null&&N===l(x)&&(M?(et(J),J=-1):M=!0,nt(yt,X-mt))):(N.sortIndex=it,r(_,N),H||P||(H=!0,at||(at=!0,ut()))),N},a.unstable_shouldYield=gt,a.unstable_wrapCallback=function(N){var Q=R;return function(){var X=R;R=Q;try{return N.apply(this,arguments)}finally{R=X}}}})(bh)),bh}var kg;function V_(){return kg||(kg=1,_h.exports=Y_()),_h.exports}var wh={exports:{}},Pe={};var Dg;function K_(){if(Dg)return Pe;Dg=1;var a=td();function r(_){var x="https://react.dev/errors/"+_;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var c={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(_,x,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:_,containerInfo:x,implementation:T}}var v=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(_,x){if(_==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Pe.createPortal=function(_,x){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return p(_,x,null,T)},Pe.flushSync=function(_){var x=v.T,T=c.p;try{if(v.T=null,c.p=2,_)return _()}finally{v.T=x,c.p=T,c.d.f()}},Pe.preconnect=function(_,x){typeof _=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(_,x))},Pe.prefetchDNS=function(_){typeof _=="string"&&c.d.D(_)},Pe.preinit=function(_,x){if(typeof _=="string"&&x&&typeof x.as=="string"){var T=x.as,S=b(T,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,P=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;T==="style"?c.d.S(_,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):T==="script"&&c.d.X(_,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Pe.preinitModule=function(_,x){if(typeof _=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var T=b(x.as,x.crossOrigin);c.d.M(_,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(_)},Pe.preload=function(_,x){if(typeof _=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var T=x.as,S=b(T,x.crossOrigin);c.d.L(_,T,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Pe.preloadModule=function(_,x){if(typeof _=="string")if(x){var T=b(x.as,x.crossOrigin);c.d.m(_,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(_)},Pe.requestFormReset=function(_){c.d.r(_)},Pe.unstable_batchedUpdates=function(_,x){return _(x)},Pe.useFormState=function(_,x,T){return v.H.useFormState(_,x,T)},Pe.useFormStatus=function(){return v.H.useHostTransitionStatus()},Pe.version="19.2.3",Pe}var Ug;function xy(){if(Ug)return wh.exports;Ug=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),wh.exports=K_(),wh.exports}var Hg;function Q_(){if(Hg)return Jo;Hg=1;var a=V_(),r=td(),l=xy();function c(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function v(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _(t){if(p(t)!==t)throw Error(c(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(c(188));return e!==t?null:t}for(var i=t,o=e;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return _(f),t;if(h===o)return _(f),e;h=h.sibling}throw Error(c(188))}if(i.return!==o.return)i=f,o=h;else{for(var y=!1,E=f.child;E;){if(E===i){y=!0,i=f,o=h;break}if(E===o){y=!0,o=f,i=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===i){y=!0,i=h,o=f;break}if(E===o){y=!0,o=h,i=f;break}E=E.sibling}if(!y)throw Error(c(189))}}if(i.alternate!==o)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?t:e}function T(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=T(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),St=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ut(t){return t===null||typeof t!="object"?null:(t=lt&&t[lt]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case yt:return"Suspense";case at:return"SuspenseList";case St:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case tt:return t.displayName||"Context";case et:return(t._context.displayName||"Context")+".Consumer";case pt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return e=t.displayName||null,e!==null?e:bt(t.type)||"Memo";case ot:e=t._payload,t=t._init;try{return bt(t(e))}catch{}}return null}var nt=Array.isArray,N=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},mt=[],it=-1;function A(t){return{current:t}}function j(t){0>it||(t.current=mt[it],mt[it]=null,it--)}function st(t,e){it++,mt[it]=t.current,t.current=e}var rt=A(null),ht=A(null),dt=A(null),zt=A(null);function Ft(t,e){switch(st(dt,e),st(ht,t),st(rt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?$p(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=$p(e),t=tg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(rt),st(rt,t)}function Pt(){j(rt),j(ht),j(dt)}function He(t){t.memoizedState!==null&&st(zt,t);var e=rt.current,i=tg(e,t.type);e!==i&&(st(ht,t),st(rt,i))}function Un(t){ht.current===t&&(j(rt),j(ht)),zt.current===t&&(j(zt),Vo._currentValue=X)}var ye,dn;function We(t){if(ye===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ye=e&&e[1]||"",dn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+t+dn}var vi=!1;function _i(t,e){if(!t||vi)return"";vi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(K){var Y=K}Reflect.construct(t,[],$)}else{try{$.call()}catch(K){Y=K}t.call($.prototype)}}else{try{throw Error()}catch(K){Y=K}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var C=y.split(`
`),q=E.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===q.length)for(o=C.length-1,f=q.length-1;1<=o&&0<=f&&C[o]!==q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==q[f]){var I=`
`+C[o].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=o&&0<=f);break}}}finally{vi=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?We(i):""}function qr(t,e){switch(t.tag){case 26:case 27:case 5:return We(t.type);case 16:return We("Lazy");case 13:return t.child!==e&&e!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return We("Activity");default:return""}}function Va(t){try{var e="",i=null;do e+=qr(t,i),i=t,t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Gr=Object.prototype.hasOwnProperty,Gs=a.unstable_scheduleCallback,Ka=a.unstable_cancelCallback,cl=a.unstable_shouldYield,fl=a.unstable_requestPaint,Ke=a.unstable_now,yc=a.unstable_getCurrentPriorityLevel,Ys=a.unstable_ImmediatePriority,Yr=a.unstable_UserBlockingPriority,Qa=a.unstable_NormalPriority,vc=a.unstable_LowPriority,Vr=a.unstable_IdlePriority,hl=a.log,_c=a.unstable_setDisableYieldValue,$i=null,Ne=null;function Hn(t){if(typeof hl=="function"&&_c(t),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode($i,t)}catch{}}var Qe=Math.clz32?Math.clz32:wc,Xa=Math.log,bc=Math.LN2;function wc(t){return t>>>=0,t===0?32:31-(Xa(t)/bc|0)|0}var Ia=256,Ja=262144,Fa=4194304;function bi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vs(t,e,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~h,o!==0?f=bi(o):(y&=E,y!==0?f=bi(y):i||(i=E&~t,i!==0&&(f=bi(i))))):(E=o&~h,E!==0?f=bi(E):y!==0?f=bi(y):i||(i=o&~t,i!==0&&(f=bi(i)))),f===0?0:e!==0&&e!==f&&(e&h)===0&&(h=f&-f,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:f}function Wa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function xc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var t=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),t}function Kr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function wi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ec(t,e,i,o,f,h){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(i=y&~i;0<i;){var I=31-Qe(i),$=1<<I;E[I]=0,C[I]=-1;var Y=q[I];if(Y!==null)for(q[I]=null,I=0;I<Y.length;I++){var K=Y[I];K!==null&&(K.lane&=-536870913)}i&=~$}o!==0&&ml(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~e))}function ml(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Qe(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function pl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-Qe(i),f=1<<o;f&e|t[o]&e&&(t[o]|=e),i&=~f}}function gl(t,e){var i=e&-e;return i=(i&42)!==0?1:$e(i),(i&(t.suspendedLanes|e))!==0?0:i}function $e(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qr(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Eg(t.type))}function Xr(t,e){var i=Q.p;try{return Q.p=t,e()}finally{Q.p=i}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,ze="__reactProps$"+jn,xi="__reactContainer$"+jn,Fn="__reactEvents$"+jn,yl="__reactListeners$"+jn,Sc="__reactHandles$"+jn,vl="__reactResources$"+jn,$a="__reactMarker$"+jn;function Ir(t){delete t[ve],delete t[ze],delete t[Fn],delete t[yl],delete t[Sc]}function Ei(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[xi]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=og(t);t!==null;){if(i=t[ve])return i;t=og(t)}return e}t=i,i=t.parentNode}return null}function ta(t){if(t=t[ve]||t[xi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(c(33))}function ea(t){var e=t[vl];return e||(e=t[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _e(t){t[$a]=!0}var _l=new Set,bl={};function Si(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(bl[t]=e,t=0;t<e.length;t++)_l.add(e[t])}var ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},Fr={};function es(t){return Gr.call(Fr,t)?!0:Gr.call(Jr,t)?!1:ts.test(t)?Fr[t]=!0:(Jr[t]=!0,!1)}function Rt(t,e,i){if(es(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Wt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function tn(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function Se(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ti(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wr(t,e,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(y){i=""+y,h.call(this,y)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ct(t){if(!t._valueTracker){var e=Ti(t)?"checked":"value";t._valueTracker=Wr(t,e,""+t[e])}}function oe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=Ti(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ks=/[\n"\\]/g;function ae(t){return t.replace(Ks,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $r(t,e,i,o,f,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Se(e)):t.value!==""+Se(e)&&(t.value=""+Se(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?Zn(t,y,Se(e)):i!=null?Zn(t,y,Se(i)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Se(E):t.removeAttribute("name")}function ns(t,e,i,o,f,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Ct(t);return}i=i!=null?""+Se(i):"",e=e!=null?""+Se(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ct(t)}function Zn(t,e,i){e==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ne(t,e,i,o){if(t=t.options,e){e={};for(var f=0;f<i.length;f++)e["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=e.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Se(i),e=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function ti(t,e,i){if(e!=null&&(e=""+Se(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Se(i):""}function ia(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(c(92));if(nt(o)){if(1<o.length)throw Error(c(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=Se(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Ct(t)}function En(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var to=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aa(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||to.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Qs(t,e,i){if(e!=null&&typeof e!="object")throw Error(c(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in e)o=e[f],e.hasOwnProperty(f)&&i[f]!==o&&aa(t,f,o)}else for(var h in e)e.hasOwnProperty(h)&&aa(t,h,e[h])}function is(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return eo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function en(){}var Is=null;function as(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,Lt=null;function mn(t){var e=ta(t);if(e&&(t=e.stateNode)){var i=t[ze]||null;t:switch(t=e.stateNode,e.type){case"input":if($r(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ae(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var f=o[ze]||null;if(!f)throw Error(c(90));$r(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&oe(o)}break t;case"textarea":ti(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ne(t,!!i.multiple,e,!1)}}}var Xt=!1;function no(t,e,i){if(Xt)return t(e,i);Xt=!0;try{var o=t(e);return o}finally{if(Xt=!1,(ra!==null||Lt!==null)&&(gu(),ra&&(e=ra,t=Lt,Lt=ra=null,mn(e),t)))for(e=0;e<t.length;e++)mn(t[e])}}function Ai(t,e){var i=t.stateNode;if(i===null)return null;var o=i[ze]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(c(231,e,typeof i));return i}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ss=!1;if(pn)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){ss=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{ss=!1}var Sn=null,zi=null,ce=null;function ei(){if(ce)return ce;var t,e=zi,i=e.length,o,f="value"in Sn?Sn.value:Sn.textContent,h=f.length;for(t=0;t<i&&e[t]===f[t];t++);var y=i-t;for(o=1;o<=y&&e[i-o]===f[h-o];o++);return ce=f.slice(t,1<o?1-o:void 0)}function rs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function wl(){return!1}function Be(t){function e(i,o,f,h,y){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?os:wl,this.isPropagationStopped=wl,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Be(Pn),oa=S({},Pn,{view:0,detail:0}),Ht=Be(oa),io,Xe,qn,ls=S({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(io=t.screenX-qn.screenX,Xe=t.screenY-qn.screenY):Xe=io=0,qn=t),io)},movementY:function(t){return"movementY"in t?t.movementY:Xe}}),xl=Be(ls),ao=S({},ls,{dataTransfer:0}),Tc=Be(ao),El=S({},oa,{relatedTarget:0}),so=Be(El),Ac=S({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Be(Ac),zc=S({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tn=Be(zc),Lc=S({},Pn,{data:0}),oo=Be(Lc),ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tl[t])?!!e[t]:!1}function uo(){return lo}var Al=S({},oa,{key:function(t){if(t.key){var e=ni[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zl=Be(Al),Cc=S({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=Be(Cc),co=S({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),Mc=Be(co),Cl=S({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ml=Be(Cl),Fs=S({},ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=Be(Fs),Oc=S({},Pn,{newState:0,oldState:0}),us=Be(Oc),nn=[9,13,27,32],Ws=pn&&"CompositionEvent"in window,la=null;pn&&"documentMode"in document&&(la=document.documentMode);var Nc=pn&&"TextEvent"in window&&!la,$s=pn&&(!Ws||la&&8<la&&11>=la),tr=" ",Ol=!1;function Nl(t,e){switch(t){case"keyup":return nn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function yn(t,e){switch(t){case"compositionend":return fo(e);case"keypress":return e.which!==32?null:(Ol=!0,tr);case"textInput":return t=e.data,t===tr&&Ol?null:t;default:return null}}function ca(t,e){if(ua)return t==="compositionend"||!Ws&&Nl(t,e)?(t=ei(),ce=zi=Sn=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $s&&e.locale!=="ko"?null:e.data;default:return null}}var Bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bc[t.type]:e==="textarea"}function Bl(t,e,i,o){ra?Lt?Lt.push(o):Lt=[o]:ra=o,e=Eu(e,"onChange"),0<e.length&&(i=new Js("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var zn=null,cs=null;function fs(t){Qp(t,0)}function hs(t){var e=Wn(t);if(oe(e))return t}function ds(t,e){if(t==="change")return e}var Rl=!1;if(pn){var Ln;if(pn){var fa="oninput"in document;if(!fa){var kl=document.createElement("div");kl.setAttribute("oninput","return;"),fa=typeof kl.oninput=="function"}Ln=fa}else Ln=!1;Rl=Ln&&(!document.documentMode||9<document.documentMode)}function er(){zn&&(zn.detachEvent("onpropertychange",Dl),cs=zn=null)}function Dl(t){if(t.propertyName==="value"&&hs(cs)){var e=[];Bl(e,cs,t,as(t)),no(fs,e)}}function Gn(t,e,i){t==="focusin"?(er(),zn=e,cs=i,zn.attachEvent("onpropertychange",Dl)):t==="focusout"&&er()}function Rc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hs(cs)}function ha(t,e){if(t==="click")return hs(e)}function kc(t,e){if(t==="input"||t==="change")return hs(e)}function Yn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Le=typeof Object.is=="function"?Object.is:Yn;function da(t,e){if(Le(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!Gr.call(e,f)||!Le(t[f],e[f]))return!1}return!0}function nr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ms(t,e){var i=nr(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=nr(i)}}function ir(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ir(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ps(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=na(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=na(t.document)}return e}function ii(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ar=pn&&"documentMode"in document&&11>=document.documentMode,ai=null,sr=null,gs=null,ma=!1;function Ul(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ma||ai==null||ai!==na(o)||(o=ai,"selectionStart"in o&&ii(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),gs&&da(gs,o)||(gs=o,o=Eu(sr,"onSelect"),0<o.length&&(e=new Js("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=ai)))}function si(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var pa={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},rr={},Hl={};pn&&(Hl=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Ce(t){if(rr[t])return rr[t];if(!pa[t])return t;var e=pa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Hl)return rr[t]=e[i];return t}var ys=Ce("animationend"),jl=Ce("animationiteration"),vs=Ce("animationstart"),Dc=Ce("transitionrun"),Zl=Ce("transitionstart"),Uc=Ce("transitioncancel"),ga=Ce("transitionend"),Pl=new Map,ri="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ri.push("scrollEnd");function an(t,e){Pl.set(t,e),Si(e,[t])}var _s=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},sn=[],je=0,or=0;function bs(){for(var t=je,e=or=je=0;e<t;){var i=sn[e];sn[e++]=null;var o=sn[e];sn[e++]=null;var f=sn[e];sn[e++]=null;var h=sn[e];if(sn[e++]=null,o!==null&&f!==null){var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}h!==0&&ya(i,f,h)}}function oi(t,e,i,o){sn[je++]=t,sn[je++]=e,sn[je++]=i,sn[je++]=o,or|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ho(t,e,i,o){return oi(t,e,i,o),ws(t)}function Cn(t,e){return oi(t,null,null,e),ws(t)}function ya(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&e!==null&&(f=31-Qe(i),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[e]:o.push(e),e.lane=i|536870912),h):null}function ws(t){if(50<Ho)throw Ho=0,Zf=null,Error(c(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ci={};function Hc(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,i,o){return new Hc(t,e,i,o)}function lr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,e){var i=t.alternate;return i===null?(i=Ze(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function mo(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function xs(t,e,i,o,f,h){var y=0;if(o=t,typeof t=="function")lr(t)&&(y=1);else if(typeof t=="string")y=C_(t,i,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case St:return t=Ze(31,i,e,f),t.elementType=St,t.lanes=h,t;case M:return Mi(i.children,f,h,e);case D:y=8,f|=24;break;case V:return t=Ze(12,i,e,f|2),t.elementType=V,t.lanes=h,t;case yt:return t=Ze(13,i,e,f),t.elementType=yt,t.lanes=h,t;case at:return t=Ze(19,i,e,f),t.elementType=at,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:y=10;break t;case et:y=9;break t;case pt:y=11;break t;case J:y=14;break t;case ot:y=16,o=null;break t}y=29,i=Error(c(130,t===null?"null":typeof t,"")),o=null}return e=Ze(y,i,e,f),e.elementType=t,e.type=o,e.lanes=h,e}function Mi(t,e,i,o){return t=Ze(7,t,o,e),t.lanes=i,t}function ur(t,e,i){return t=Ze(6,t,null,e),t.lanes=i,t}function po(t){var e=Ze(18,null,null,0);return e.stateNode=t,e}function go(t,e,i){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Va(e)},n.set(t,e),e)}return{value:t,source:e,stack:Va(e)}}var u=[],m=0,g=null,w=0,z=[],U=0,G=null,W=1,ct="";function Et(t,e){u[m++]=w,u[m++]=g,g=t,w=e}function Nt(t,e,i){z[U++]=W,z[U++]=ct,z[U++]=G,G=t;var o=W;t=ct;var f=32-Qe(o)-1;o&=~(1<<f),i+=1;var h=32-Qe(e)+f;if(30<h){var y=f-f%5;h=(o&(1<<y)-1).toString(32),o>>=y,f-=y,W=1<<32-Qe(e)+f|i<<f|o,ct=h+t}else W=1<<h|i<<f|o,ct=t}function Te(t){t.return!==null&&(Et(t,1),Nt(t,1,0))}function fe(t){for(;t===g;)g=u[--m],u[m]=null,w=u[--m],u[m]=null;for(;t===G;)G=z[--U],z[U]=null,ct=z[--U],z[U]=null,W=z[--U],z[U]=null}function Ie(t,e){z[U++]=W,z[U++]=ct,z[U++]=G,W=e.id,ct=e.overflow,G=t}var qt=null,Gt=null,kt=!1,li=null,rn=!1,cr=Error(c(519));function ui(t){var e=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Es(s(e,t)),cr}function yo(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[ve]=t,e[ze]=o,i){case"dialog":Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":case"embed":Ut("load",e);break;case"video":case"audio":for(i=0;i<Zo.length;i++)Ut(Zo[i],e);break;case"source":Ut("error",e);break;case"img":case"image":case"link":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"input":Ut("invalid",e),ns(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ut("invalid",e);break;case"textarea":Ut("invalid",e),ia(e,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||Fp(e.textContent,i)?(o.popover!=null&&(Ut("beforetoggle",e),Ut("toggle",e)),o.onScroll!=null&&Ut("scroll",e),o.onScrollEnd!=null&&Ut("scrollend",e),o.onClick!=null&&(e.onclick=en),e=!0):e=!1,e||ui(t,!0)}function ue(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:qt=qt.return}}function Vn(t){if(t!==qt)return!1;if(!kt)return ue(t),kt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||eh(t.type,t.memoizedProps)),i=!i),i&&Gt&&ui(t),ue(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Gt=rg(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Gt=rg(t)}else e===27?(e=Gt,Oa(t.type)?(t=rh,rh=null,Gt=t):Gt=e):Gt=qt?Nn(t.stateNode.nextSibling):null;return!0}function Oi(){Gt=qt=null,kt=!1}function vo(){var t=li;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),li=null),t}function Es(t){li===null?li=[t]:li.push(t)}var Ss=A(null),ci=null,Kn=null;function va(t,e,i){st(Ss,e._currentValue),e._currentValue=i}function Ni(t){t._currentValue=Ss.current,j(Ss)}function jc(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Zc(t,e,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var y=f.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=f;for(var C=0;C<e.length;C++)if(E.context===e[C]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),jc(h.return,i,t),o||(y=null);break t}h=E.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(c(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),jc(y,i,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function fr(t,e,i,o){t=null;for(var f=e,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(c(387));if(y=y.memoizedProps,y!==null){var E=f.type;Le(f.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(f===zt.current){if(y=f.alternate,y===null)throw Error(c(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Vo):t=[Vo])}f=f.return}t!==null&&Zc(e,t,i,o),e.flags|=262144}function ql(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ts(t){ci=t,Kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Re(t){return Dd(ci,t)}function Gl(t,e){return ci===null&&Ts(t),Dd(t,e)}function Dd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Kn===null){if(t===null)throw Error(c(308));Kn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Kn=Kn.next=e;return i}var T0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},A0=a.unstable_scheduleCallback,z0=a.unstable_NormalPriority,be={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new T0,data:new Map,refCount:0}}function _o(t){t.refCount--,t.refCount===0&&A0(z0,function(){t.controller.abort()})}var bo=null,qc=0,hr=0,dr=null;function L0(t,e){if(bo===null){var i=bo=[];qc=0,hr=Kf(),dr={status:"pending",value:void 0,then:function(o){i.push(o)}}}return qc++,e.then(Ud,Ud),e}function Ud(){if(--qc===0&&bo!==null){dr!==null&&(dr.status="fulfilled");var t=bo;bo=null,hr=0,dr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function C0(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var f=0;f<i.length;f++)(0,i[f])(e)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Hd=N.S;N.S=function(t,e){wp=Ke(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&L0(t,e),Hd!==null&&Hd(t,e)};var As=A(null);function Gc(){var t=As.current;return t!==null?t:ie.pooledCache}function Yl(t,e){e===null?st(As,As.current):st(As,e.pool)}function jd(){var t=Gc();return t===null?null:{parent:be._currentValue,pool:t}}var mr=Error(c(460)),Yc=Error(c(474)),Vl=Error(c(542)),Kl={then:function(){}};function Zd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(en,en),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t;default:if(typeof e.status=="string")e.then(en,en);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=o}},function(o){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t}throw Ls=e,mr}}function zs(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ls=i,mr):i}}var Ls=null;function qd(){if(Ls===null)throw Error(c(459));var t=Ls;return Ls=null,t}function Gd(t){if(t===mr||t===Vl)throw Error(c(483))}var pr=null,wo=0;function Ql(t){var e=wo;return wo+=1,pr===null&&(pr=[]),Pd(pr,t,e)}function xo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xl(t,e){throw e.$$typeof===R?Error(c(525)):(t=Object.prototype.toString.call(e),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Yd(t){function e(k,B){if(t){var Z=k.deletions;Z===null?(k.deletions=[B],k.flags|=16):Z.push(B)}}function i(k,B){if(!t)return null;for(;B!==null;)e(k,B),B=B.sibling;return null}function o(k){for(var B=new Map;k!==null;)k.key!==null?B.set(k.key,k):B.set(k.index,k),k=k.sibling;return B}function f(k,B){return k=Mn(k,B),k.index=0,k.sibling=null,k}function h(k,B,Z){return k.index=Z,t?(Z=k.alternate,Z!==null?(Z=Z.index,Z<B?(k.flags|=67108866,B):Z):(k.flags|=67108866,B)):(k.flags|=1048576,B)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,B,Z,F){return B===null||B.tag!==6?(B=ur(Z,k.mode,F),B.return=k,B):(B=f(B,Z),B.return=k,B)}function C(k,B,Z,F){var Tt=Z.type;return Tt===M?I(k,B,Z.props.children,F,Z.key):B!==null&&(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===ot&&zs(Tt)===B.type)?(B=f(B,Z.props),xo(B,Z),B.return=k,B):(B=xs(Z.type,Z.key,Z.props,null,k.mode,F),xo(B,Z),B.return=k,B)}function q(k,B,Z,F){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=go(Z,k.mode,F),B.return=k,B):(B=f(B,Z.children||[]),B.return=k,B)}function I(k,B,Z,F,Tt){return B===null||B.tag!==7?(B=Mi(Z,k.mode,F,Tt),B.return=k,B):(B=f(B,Z),B.return=k,B)}function $(k,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ur(""+B,k.mode,Z),B.return=k,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return Z=xs(B.type,B.key,B.props,null,k.mode,Z),xo(Z,B),Z.return=k,Z;case H:return B=go(B,k.mode,Z),B.return=k,B;case ot:return B=zs(B),$(k,B,Z)}if(nt(B)||ut(B))return B=Mi(B,k.mode,Z,null),B.return=k,B;if(typeof B.then=="function")return $(k,Ql(B),Z);if(B.$$typeof===tt)return $(k,Gl(k,B),Z);Xl(k,B)}return null}function Y(k,B,Z,F){var Tt=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Tt!==null?null:E(k,B,""+Z,F);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return Z.key===Tt?C(k,B,Z,F):null;case H:return Z.key===Tt?q(k,B,Z,F):null;case ot:return Z=zs(Z),Y(k,B,Z,F)}if(nt(Z)||ut(Z))return Tt!==null?null:I(k,B,Z,F,null);if(typeof Z.then=="function")return Y(k,B,Ql(Z),F);if(Z.$$typeof===tt)return Y(k,B,Gl(k,Z),F);Xl(k,Z)}return null}function K(k,B,Z,F,Tt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(Z)||null,E(B,k,""+F,Tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return k=k.get(F.key===null?Z:F.key)||null,C(B,k,F,Tt);case H:return k=k.get(F.key===null?Z:F.key)||null,q(B,k,F,Tt);case ot:return F=zs(F),K(k,B,Z,F,Tt)}if(nt(F)||ut(F))return k=k.get(Z)||null,I(B,k,F,Tt,null);if(typeof F.then=="function")return K(k,B,Z,Ql(F),Tt);if(F.$$typeof===tt)return K(k,B,Z,Gl(B,F),Tt);Xl(B,F)}return null}function _t(k,B,Z,F){for(var Tt=null,Yt=null,wt=B,Bt=B=0,Zt=null;wt!==null&&Bt<Z.length;Bt++){wt.index>Bt?(Zt=wt,wt=null):Zt=wt.sibling;var Vt=Y(k,wt,Z[Bt],F);if(Vt===null){wt===null&&(wt=Zt);break}t&&wt&&Vt.alternate===null&&e(k,wt),B=h(Vt,B,Bt),Yt===null?Tt=Vt:Yt.sibling=Vt,Yt=Vt,wt=Zt}if(Bt===Z.length)return i(k,wt),kt&&Et(k,Bt),Tt;if(wt===null){for(;Bt<Z.length;Bt++)wt=$(k,Z[Bt],F),wt!==null&&(B=h(wt,B,Bt),Yt===null?Tt=wt:Yt.sibling=wt,Yt=wt);return kt&&Et(k,Bt),Tt}for(wt=o(wt);Bt<Z.length;Bt++)Zt=K(wt,k,Bt,Z[Bt],F),Zt!==null&&(t&&Zt.alternate!==null&&wt.delete(Zt.key===null?Bt:Zt.key),B=h(Zt,B,Bt),Yt===null?Tt=Zt:Yt.sibling=Zt,Yt=Zt);return t&&wt.forEach(function(Da){return e(k,Da)}),kt&&Et(k,Bt),Tt}function At(k,B,Z,F){if(Z==null)throw Error(c(151));for(var Tt=null,Yt=null,wt=B,Bt=B=0,Zt=null,Vt=Z.next();wt!==null&&!Vt.done;Bt++,Vt=Z.next()){wt.index>Bt?(Zt=wt,wt=null):Zt=wt.sibling;var Da=Y(k,wt,Vt.value,F);if(Da===null){wt===null&&(wt=Zt);break}t&&wt&&Da.alternate===null&&e(k,wt),B=h(Da,B,Bt),Yt===null?Tt=Da:Yt.sibling=Da,Yt=Da,wt=Zt}if(Vt.done)return i(k,wt),kt&&Et(k,Bt),Tt;if(wt===null){for(;!Vt.done;Bt++,Vt=Z.next())Vt=$(k,Vt.value,F),Vt!==null&&(B=h(Vt,B,Bt),Yt===null?Tt=Vt:Yt.sibling=Vt,Yt=Vt);return kt&&Et(k,Bt),Tt}for(wt=o(wt);!Vt.done;Bt++,Vt=Z.next())Vt=K(wt,k,Bt,Vt.value,F),Vt!==null&&(t&&Vt.alternate!==null&&wt.delete(Vt.key===null?Bt:Vt.key),B=h(Vt,B,Bt),Yt===null?Tt=Vt:Yt.sibling=Vt,Yt=Vt);return t&&wt.forEach(function(Z_){return e(k,Z_)}),kt&&Et(k,Bt),Tt}function ee(k,B,Z,F){if(typeof Z=="object"&&Z!==null&&Z.type===M&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:t:{for(var Tt=Z.key;B!==null;){if(B.key===Tt){if(Tt=Z.type,Tt===M){if(B.tag===7){i(k,B.sibling),F=f(B,Z.props.children),F.return=k,k=F;break t}}else if(B.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===ot&&zs(Tt)===B.type){i(k,B.sibling),F=f(B,Z.props),xo(F,Z),F.return=k,k=F;break t}i(k,B);break}else e(k,B);B=B.sibling}Z.type===M?(F=Mi(Z.props.children,k.mode,F,Z.key),F.return=k,k=F):(F=xs(Z.type,Z.key,Z.props,null,k.mode,F),xo(F,Z),F.return=k,k=F)}return y(k);case H:t:{for(Tt=Z.key;B!==null;){if(B.key===Tt)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){i(k,B.sibling),F=f(B,Z.children||[]),F.return=k,k=F;break t}else{i(k,B);break}else e(k,B);B=B.sibling}F=go(Z,k.mode,F),F.return=k,k=F}return y(k);case ot:return Z=zs(Z),ee(k,B,Z,F)}if(nt(Z))return _t(k,B,Z,F);if(ut(Z)){if(Tt=ut(Z),typeof Tt!="function")throw Error(c(150));return Z=Tt.call(Z),At(k,B,Z,F)}if(typeof Z.then=="function")return ee(k,B,Ql(Z),F);if(Z.$$typeof===tt)return ee(k,B,Gl(k,Z),F);Xl(k,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(i(k,B.sibling),F=f(B,Z),F.return=k,k=F):(i(k,B),F=ur(Z,k.mode,F),F.return=k,k=F),y(k)):i(k,B)}return function(k,B,Z,F){try{wo=0;var Tt=ee(k,B,Z,F);return pr=null,Tt}catch(wt){if(wt===mr||wt===Vl)throw wt;var Yt=Ze(29,wt,null,k.mode);return Yt.lanes=F,Yt.return=k,Yt}}}var Cs=Yd(!0),Vd=Yd(!1),_a=!1;function Vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wa(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var f=o.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),o.pending=e,e=ws(t),ya(t,null,i),e}return oi(t,o,e,i),ws(t)}function Eo(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,pl(t,i)}}function Qc(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?f=h=e:h=h.next=e}else f=h=e;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Xc=!1;function So(){if(Xc){var t=dr;if(t!==null)throw t}}function To(t,e,i,o){Xc=!1;var f=t.updateQueue;_a=!1;var h=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var C=E,q=C.next;C.next=null,y===null?h=q:y.next=q,y=C;var I=t.alternate;I!==null&&(I=I.updateQueue,E=I.lastBaseUpdate,E!==y&&(E===null?I.firstBaseUpdate=q:E.next=q,I.lastBaseUpdate=C))}if(h!==null){var $=f.baseState;y=0,I=q=C=null,E=h;do{var Y=E.lane&-536870913,K=Y!==E.lane;if(K?(jt&Y)===Y:(o&Y)===Y){Y!==0&&Y===hr&&(Xc=!0),I!==null&&(I=I.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,At=E;Y=e;var ee=i;switch(At.tag){case 1:if(_t=At.payload,typeof _t=="function"){$=_t.call(ee,$,Y);break t}$=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=At.payload,Y=typeof _t=="function"?_t.call(ee,$,Y):_t,Y==null)break t;$=S({},$,Y);break t;case 2:_a=!0}}Y=E.callback,Y!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},I===null?(q=I=K,C=$):I=I.next=K,y|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;K=E,E=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);I===null&&(C=$),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=I,h===null&&(f.shared.lanes=0),Aa|=y,t.lanes=y,t.memoizedState=$}}function Kd(t,e){if(typeof t!="function")throw Error(c(191,t));t.call(e)}function Qd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Kd(i[t],e)}var gr=A(null),Il=A(0);function Xd(t,e){t=Pi,st(Il,t),st(gr,e),Pi=t|e.baseLanes}function Ic(){st(Il,Pi),st(gr,gr.current)}function Jc(){Pi=Il.current,j(gr),j(Il)}var vn=A(null),On=null;function xa(t){var e=t.alternate;st(me,me.current&1),st(vn,t),On===null&&(e===null||gr.current!==null||e.memoizedState!==null)&&(On=t)}function Fc(t){st(me,me.current),st(vn,t),On===null&&(On=t)}function Id(t){t.tag===22?(st(me,me.current),st(vn,t),On===null&&(On=t)):Ea()}function Ea(){st(me,me.current),st(vn,vn.current)}function _n(t){j(vn),On===t&&(On=null),j(me)}var me=A(0);function Jl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ah(i)||sh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bi=0,Ot=null,$t=null,we=null,Fl=!1,yr=!1,Ms=!1,Wl=0,Ao=0,vr=null,M0=0;function he(){throw Error(c(321))}function Wc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Le(t[i],e[i]))return!1;return!0}function $c(t,e,i,o,f,h){return Bi=h,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=t===null||t.memoizedState===null?Nm:pf,Ms=!1,h=i(o,f),Ms=!1,yr&&(h=Fd(e,i,o,f)),Jd(t),h}function Jd(t){N.H=Co;var e=$t!==null&&$t.next!==null;if(Bi=0,we=$t=Ot=null,Fl=!1,Ao=0,vr=null,e)throw Error(c(300));t===null||xe||(t=t.dependencies,t!==null&&ql(t)&&(xe=!0))}function Fd(t,e,i,o){Ot=t;var f=0;do{if(yr&&(vr=null),Ao=0,yr=!1,25<=f)throw Error(c(301));if(f+=1,we=$t=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}N.H=Bm,h=e(i,o)}while(yr);return h}function O0(){var t=N.H,e=t.useState()[0];return e=typeof e.then=="function"?zo(e):e,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Ot.flags|=1024),e}function tf(){var t=Wl!==0;return Wl=0,t}function ef(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function nf(t){if(Fl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Fl=!1}Bi=0,we=$t=Ot=null,yr=!1,Ao=Wl=0,vr=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=t:we=we.next=t,we}function pe(){if($t===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=we===null?Ot.memoizedState:we.next;if(e!==null)we=e,$t=t;else{if(t===null)throw Ot.alternate===null?Error(c(467)):Error(c(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?Ot.memoizedState=we=t:we=we.next=t}return we}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(t){var e=Ao;return Ao+=1,vr===null&&(vr=[]),t=Pd(vr,t,e),e=Ot,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,N.H=e===null||e.memoizedState===null?Nm:pf),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zo(t);if(t.$$typeof===tt)return Re(t)}throw Error(c(438,String(t)))}function af(t){var e=null,i=Ot.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=$l(),Ot.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=gt;return e.index++,i}function Ri(t,e){return typeof e=="function"?e(t):e}function eu(t){var e=pe();return sf(e,$t,t)}function sf(t,e,i){var o=t.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=i;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var y=f.next;f.next=h.next,h.next=y}e.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{e=f.next;var E=y=null,C=null,q=e,I=!1;do{var $=q.lane&-536870913;if($!==q.lane?(jt&$)===$:(Bi&$)===$){var Y=q.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),$===hr&&(I=!0);else if((Bi&Y)===Y){q=q.next,Y===hr&&(I=!0);continue}else $={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=$,y=h):C=C.next=$,Ot.lanes|=Y,Aa|=Y;$=q.action,Ms&&i(h,$),h=q.hasEagerState?q.eagerState:i(h,$)}else Y={lane:$,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=Y,y=h):C=C.next=Y,Ot.lanes|=$,Aa|=$;q=q.next}while(q!==null&&q!==e);if(C===null?y=h:C.next=E,!Le(h,t.memoizedState)&&(xe=!0,I&&(i=dr,i!==null)))throw i;t.memoizedState=h,t.baseState=y,t.baseQueue=C,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function rf(t){var e=pe(),i=e.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,h=e.memoizedState;if(f!==null){i.pending=null;var y=f=f.next;do h=t(h,y.action),y=y.next;while(y!==f);Le(h,e.memoizedState)||(xe=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,o]}function Wd(t,e,i){var o=Ot,f=pe(),h=kt;if(h){if(i===void 0)throw Error(c(407));i=i()}else i=e();var y=!Le(($t||f).memoizedState,i);if(y&&(f.memoizedState=i,xe=!0),f=f.queue,uf(em.bind(null,o,f,t),[t]),f.getSnapshot!==e||y||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,_r(9,{destroy:void 0},tm.bind(null,o,f,i,e),null),ie===null)throw Error(c(349));h||(Bi&127)!==0||$d(o,e,i)}return i}function $d(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ot.updateQueue,e===null?(e=$l(),Ot.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function tm(t,e,i,o){e.value=i,e.getSnapshot=o,nm(e)&&im(t)}function em(t,e,i){return i(function(){nm(e)&&im(t)})}function nm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Le(t,i)}catch{return!0}}function im(t){var e=Cn(t,2);e!==null&&fn(e,t,2)}function of(t){var e=Je();if(typeof t=="function"){var i=t;if(t=i(),Ms){Hn(!0);try{i()}finally{Hn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},e}function am(t,e,i,o){return t.baseState=i,sf(t,$t,typeof o=="function"?o:Ri)}function N0(t,e,i,o,f){if(au(t))throw Error(c(485));if(t=e.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};N.T!==null?i(!0):h.isTransition=!1,o(h),i=e.pending,i===null?(h.next=e.pending=h,sm(e,h)):(h.next=i.next,e.pending=i.next=h)}}function sm(t,e){var i=e.action,o=e.payload,f=t.state;if(e.isTransition){var h=N.T,y={};N.T=y;try{var E=i(f,o),C=N.S;C!==null&&C(y,E),rm(t,e,E)}catch(q){lf(t,e,q)}finally{h!==null&&y.types!==null&&(h.types=y.types),N.T=h}}else try{h=i(f,o),rm(t,e,h)}catch(q){lf(t,e,q)}}function rm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){om(t,e,o)},function(o){return lf(t,e,o)}):om(t,e,i)}function om(t,e,i){e.status="fulfilled",e.value=i,lm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,sm(t,i)))}function lf(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,lm(e),e=e.next;while(e!==o)}t.action=null}function lm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function um(t,e){return e}function cm(t,e){if(kt){var i=ie.formState;if(i!==null){t:{var o=Ot;if(kt){if(Gt){e:{for(var f=Gt,h=rn;f.nodeType!==8;){if(!h){f=null;break e}if(f=Nn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Gt=Nn(f.nextSibling),o=f.data==="F!";break t}}ui(o)}o=!1}o&&(e=i[0])}}return i=Je(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:e},i.queue=o,i=Cm.bind(null,Ot,o),o.dispatch=i,o=of(!1),h=mf.bind(null,Ot,!1,o.queue),o=Je(),f={state:e,dispatch:null,action:t,pending:null},o.queue=f,i=N0.bind(null,Ot,f,h,i),f.dispatch=i,o.memoizedState=t,[e,i,!1]}function fm(t){var e=pe();return hm(e,$t,t)}function hm(t,e,i){if(e=sf(t,e,um)[0],t=eu(Ri)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=zo(e)}catch(y){throw y===mr?Vl:y}else o=e;e=pe();var f=e.queue,h=f.dispatch;return i!==e.memoizedState&&(Ot.flags|=2048,_r(9,{destroy:void 0},B0.bind(null,f,i),null)),[o,h,t]}function B0(t,e){t.action=e}function dm(t){var e=pe(),i=$t;if(i!==null)return hm(e,i,t);pe(),e=e.memoizedState,i=pe();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function _r(t,e,i,o){return t={tag:t,create:i,deps:o,inst:e,next:null},e=Ot.updateQueue,e===null&&(e=$l(),Ot.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function mm(){return pe().memoizedState}function nu(t,e,i,o){var f=Je();Ot.flags|=t,f.memoizedState=_r(1|e,{destroy:void 0},i,o===void 0?null:o)}function iu(t,e,i,o){var f=pe();o=o===void 0?null:o;var h=f.memoizedState.inst;$t!==null&&o!==null&&Wc(o,$t.memoizedState.deps)?f.memoizedState=_r(e,h,i,o):(Ot.flags|=t,f.memoizedState=_r(1|e,h,i,o))}function pm(t,e){nu(8390656,8,t,e)}function uf(t,e){iu(2048,8,t,e)}function R0(t){Ot.flags|=4;var e=Ot.updateQueue;if(e===null)e=$l(),Ot.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function gm(t){var e=pe().memoizedState;return R0({ref:e,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(c(440));return e.impl.apply(void 0,arguments)}}function ym(t,e){return iu(4,2,t,e)}function vm(t,e){return iu(4,4,t,e)}function _m(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bm(t,e,i){i=i!=null?i.concat([t]):null,iu(4,4,_m.bind(null,e,t),i)}function cf(){}function wm(t,e){var i=pe();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&Wc(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function xm(t,e){var i=pe();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&Wc(e,o[1]))return o[0];if(o=t(),Ms){Hn(!0);try{t()}finally{Hn(!1)}}return i.memoizedState=[o,e],o}function ff(t,e,i){return i===void 0||(Bi&1073741824)!==0&&(jt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Ep(),Ot.lanes|=t,Aa|=t,i)}function Em(t,e,i,o){return Le(i,e)?i:gr.current!==null?(t=ff(t,i,o),Le(t,e)||(xe=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(jt&261930)===0?(xe=!0,t.memoizedState=i):(t=Ep(),Ot.lanes|=t,Aa|=t,e)}function Sm(t,e,i,o,f){var h=Q.p;Q.p=h!==0&&8>h?h:8;var y=N.T,E={};N.T=E,mf(t,!1,e,i);try{var C=f(),q=N.S;if(q!==null&&q(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=C0(C,o);Lo(t,e,I,xn(t))}else Lo(t,e,o,xn(t))}catch($){Lo(t,e,{then:function(){},status:"rejected",reason:$},xn())}finally{Q.p=h,y!==null&&E.types!==null&&(y.types=E.types),N.T=y}}function k0(){}function hf(t,e,i,o){if(t.tag!==5)throw Error(c(476));var f=Tm(t).queue;Sm(t,f,e,X,i===null?k0:function(){return Am(t),i(o)})}function Tm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:X},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Am(t){var e=Tm(t);e.next===null&&(e=t.alternate.memoizedState),Lo(t,e.next.queue,{},xn())}function df(){return Re(Vo)}function zm(){return pe().memoizedState}function Lm(){return pe().memoizedState}function D0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=xn();t=ba(i);var o=wa(e,t,i);o!==null&&(fn(o,e,i),Eo(o,e,i)),e={cache:Pc()},t.payload=e;return}e=e.return}}function U0(t,e,i){var o=xn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},au(t)?Mm(e,i):(i=ho(t,e,i,o),i!==null&&(fn(i,t,o),Om(i,e,o)))}function Cm(t,e,i){var o=xn();Lo(t,e,i,o)}function Lo(t,e,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(au(t))Mm(e,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var y=e.lastRenderedState,E=h(y,i);if(f.hasEagerState=!0,f.eagerState=E,Le(E,y))return oi(t,e,f,0),ie===null&&bs(),!1}catch{}if(i=ho(t,e,f,o),i!==null)return fn(i,t,o),Om(i,e,o),!0}return!1}function mf(t,e,i,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},au(t)){if(e)throw Error(c(479))}else e=ho(t,i,o,2),e!==null&&fn(e,t,2)}function au(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function Mm(t,e){yr=Fl=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Om(t,e,i){if((i&4194048)!==0){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,pl(t,i)}}var Co={readContext:Re,use:tu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Co.useEffectEvent=he;var Nm={readContext:Re,use:tu,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Re,useEffect:pm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,nu(4194308,4,_m.bind(null,e,t),i)},useLayoutEffect:function(t,e){return nu(4194308,4,t,e)},useInsertionEffect:function(t,e){nu(4,2,t,e)},useMemo:function(t,e){var i=Je();e=e===void 0?null:e;var o=t();if(Ms){Hn(!0);try{t()}finally{Hn(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=Je();if(i!==void 0){var f=i(e);if(Ms){Hn(!0);try{i(e)}finally{Hn(!1)}}}else f=e;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=U0.bind(null,Ot,t),[o.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=of(t);var e=t.queue,i=Cm.bind(null,Ot,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:cf,useDeferredValue:function(t,e){var i=Je();return ff(i,t,e)},useTransition:function(){var t=of(!1);return t=Sm.bind(null,Ot,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=Ot,f=Je();if(kt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=e(),ie===null)throw Error(c(349));(jt&127)!==0||$d(o,e,i)}f.memoizedState=i;var h={value:i,getSnapshot:e};return f.queue=h,pm(em.bind(null,o,h,t),[t]),o.flags|=2048,_r(9,{destroy:void 0},tm.bind(null,o,h,i,e),null),i},useId:function(){var t=Je(),e=ie.identifierPrefix;if(kt){var i=ct,o=W;i=(o&~(1<<32-Qe(o)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Wl++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=M0++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:df,useFormState:cm,useActionState:cm,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=mf.bind(null,Ot,!0,i),i.dispatch=e,[t,e]},useMemoCache:af,useCacheRefresh:function(){return Je().memoizedState=D0.bind(null,Ot)},useEffectEvent:function(t){var e=Je(),i={impl:t};return e.memoizedState=i,function(){if((Qt&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},pf={readContext:Re,use:tu,useCallback:wm,useContext:Re,useEffect:uf,useImperativeHandle:bm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:xm,useReducer:eu,useRef:mm,useState:function(){return eu(Ri)},useDebugValue:cf,useDeferredValue:function(t,e){var i=pe();return Em(i,$t.memoizedState,t,e)},useTransition:function(){var t=eu(Ri)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:zo(t),e]},useSyncExternalStore:Wd,useId:zm,useHostTransitionStatus:df,useFormState:fm,useActionState:fm,useOptimistic:function(t,e){var i=pe();return am(i,$t,t,e)},useMemoCache:af,useCacheRefresh:Lm};pf.useEffectEvent=gm;var Bm={readContext:Re,use:tu,useCallback:wm,useContext:Re,useEffect:uf,useImperativeHandle:bm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:xm,useReducer:rf,useRef:mm,useState:function(){return rf(Ri)},useDebugValue:cf,useDeferredValue:function(t,e){var i=pe();return $t===null?ff(i,t,e):Em(i,$t.memoizedState,t,e)},useTransition:function(){var t=rf(Ri)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:zo(t),e]},useSyncExternalStore:Wd,useId:zm,useHostTransitionStatus:df,useFormState:dm,useActionState:dm,useOptimistic:function(t,e){var i=pe();return $t!==null?am(i,$t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:af,useCacheRefresh:Lm};Bm.useEffectEvent=gm;function gf(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:S({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var yf={enqueueSetState:function(t,e,i){t=t._reactInternals;var o=xn(),f=ba(o);f.payload=e,i!=null&&(f.callback=i),e=wa(t,f,o),e!==null&&(fn(e,t,o),Eo(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=xn(),f=ba(o);f.tag=1,f.payload=e,i!=null&&(f.callback=i),e=wa(t,f,o),e!==null&&(fn(e,t,o),Eo(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=xn(),o=ba(i);o.tag=2,e!=null&&(o.callback=e),e=wa(t,o,i),e!==null&&(fn(e,t,i),Eo(e,t,i))}};function Rm(t,e,i,o,f,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,y):e.prototype&&e.prototype.isPureReactComponent?!da(i,o)||!da(f,h):!0}function km(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&yf.enqueueReplaceState(e,e.state,null)}function Os(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=S({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function Dm(t){_s(t)}function Um(t){console.error(t)}function Hm(t){_s(t)}function su(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function jm(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vf(t,e,i){return i=ba(i),i.tag=3,i.payload={element:null},i.callback=function(){su(t,e)},i}function Zm(t){return t=ba(t),t.tag=3,t}function Pm(t,e,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){jm(e,i,o)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){jm(e,i,o),typeof f!="function"&&(za===null?za=new Set([this]):za.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function H0(t,e,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&fr(e,i,f,!0),i=vn.current,i!==null){switch(i.tag){case 31:case 13:return On===null?yu():i.alternate===null&&de===0&&(de=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===Kl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),Gf(t,o,f)),!1;case 22:return i.flags|=65536,o===Kl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),Gf(t,o,f)),!1}throw Error(c(435,i.tag))}return Gf(t,o,f),yu(),!1}if(kt)return e=vn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,o!==cr&&(t=Error(c(422),{cause:o}),Es(s(t,i)))):(o!==cr&&(e=Error(c(423),{cause:o}),Es(s(e,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=s(o,i),f=vf(t.stateNode,o,f),Qc(t,f),de!==4&&(de=2)),!1;var h=Error(c(520),{cause:o});if(h=s(h,i),Uo===null?Uo=[h]:Uo.push(h),de!==4&&(de=2),e===null)return!0;o=s(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=vf(i.stateNode,o,t),Qc(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(za===null||!za.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Zm(f),Pm(f,t,i,o),Qc(i,f),!1}i=i.return}while(i!==null);return!1}var _f=Error(c(461)),xe=!1;function ke(t,e,i,o){e.child=t===null?Vd(e,null,i,o):Cs(e,t.child,i,o)}function qm(t,e,i,o,f){i=i.render;var h=e.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ts(e),o=$c(t,e,i,y,h,f),E=tf(),t!==null&&!xe?(ef(t,e,f),ki(t,e,f)):(kt&&E&&Te(e),e.flags|=1,ke(t,e,o,f),e.child)}function Gm(t,e,i,o,f){if(t===null){var h=i.type;return typeof h=="function"&&!lr(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,Ym(t,e,h,o,f)):(t=xs(i.type,null,o,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!zf(t,f)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:da,i(y,o)&&t.ref===e.ref)return ki(t,e,f)}return e.flags|=1,t=Mn(h,o),t.ref=e.ref,t.return=e,e.child=t}function Ym(t,e,i,o,f){if(t!==null){var h=t.memoizedProps;if(da(h,o)&&t.ref===e.ref)if(xe=!1,e.pendingProps=o=h,zf(t,f))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,ki(t,e,f)}return bf(t,e,i,o,f)}function Vm(t,e,i,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,e.child=null;return Km(t,e,h,i,o)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yl(e,h!==null?h.cachePool:null),h!==null?Xd(e,h):Ic(),Id(e);else return o=e.lanes=536870912,Km(t,e,h!==null?h.baseLanes|i:i,i,o)}else h!==null?(Yl(e,h.cachePool),Xd(e,h),Ea(),e.memoizedState=null):(t!==null&&Yl(e,null),Ic(),Ea());return ke(t,e,f,i),e.child}function Mo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Km(t,e,i,o,f){var h=Gc();return h=h===null?null:{parent:be._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&Yl(e,null),Ic(),Id(e),t!==null&&fr(t,e,o,!0),e.childLanes=f,null}function ru(t,e){return e=lu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Qm(t,e,i){return Cs(e,t.child,null,i),t=ru(e,e.pendingProps),t.flags|=2,_n(e),e.memoizedState=null,t}function j0(t,e,i){var o=e.pendingProps,f=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(kt){if(o.mode==="hidden")return t=ru(e,o),e.lanes=536870912,Mo(null,t);if(Fc(e),(t=Gt)?(t=sg(t,rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:W,overflow:ct}:null,retryLane:536870912,hydrationErrors:null},i=po(t),i.return=e,e.child=i,qt=e,Gt=null)):t=null,t===null)throw ui(e);return e.lanes=536870912,null}return ru(e,o)}var h=t.memoizedState;if(h!==null){var y=h.dehydrated;if(Fc(e),f)if(e.flags&256)e.flags&=-257,e=Qm(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(c(558));else if(xe||fr(t,e,i,!1),f=(i&t.childLanes)!==0,xe||f){if(o=ie,o!==null&&(y=gl(o,i),y!==0&&y!==h.retryLane))throw h.retryLane=y,Cn(t,y),fn(o,t,y),_f;yu(),e=Qm(t,e,i)}else t=h.treeContext,Gt=Nn(y.nextSibling),qt=e,kt=!0,li=null,rn=!1,t!==null&&Ie(e,t),e=ru(e,o),e.flags|=4096;return e}return t=Mn(t.child,{mode:o.mode,children:o.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ou(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function bf(t,e,i,o,f){return Ts(e),i=$c(t,e,i,o,void 0,f),o=tf(),t!==null&&!xe?(ef(t,e,f),ki(t,e,f)):(kt&&o&&Te(e),e.flags|=1,ke(t,e,i,f),e.child)}function Xm(t,e,i,o,f,h){return Ts(e),e.updateQueue=null,i=Fd(e,o,i,f),Jd(t),o=tf(),t!==null&&!xe?(ef(t,e,h),ki(t,e,h)):(kt&&o&&Te(e),e.flags|=1,ke(t,e,i,h),e.child)}function Im(t,e,i,o,f){if(Ts(e),e.stateNode===null){var h=Ci,y=i.contextType;typeof y=="object"&&y!==null&&(h=Re(y)),h=new i(o,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=yf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=o,h.state=e.memoizedState,h.refs={},Vc(e),y=i.contextType,h.context=typeof y=="object"&&y!==null?Re(y):Ci,h.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(gf(e,i,y,o),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&yf.enqueueReplaceState(h,h.state,null),To(e,o,h,f),So(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,C=Os(i,E);h.props=C;var q=h.context,I=i.contextType;y=Ci,typeof I=="object"&&I!==null&&(y=Re(I));var $=i.getDerivedStateFromProps;I=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||q!==y)&&km(e,h,o,y),_a=!1;var Y=e.memoizedState;h.state=Y,To(e,o,h,f),So(),q=e.memoizedState,E||Y!==q||_a?(typeof $=="function"&&(gf(e,i,$,o),q=e.memoizedState),(C=_a||Rm(e,i,C,o,Y,q,y))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=q),h.props=o,h.state=q,h.context=y,o=C):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,Kc(t,e),y=e.memoizedProps,I=Os(i,y),h.props=I,$=e.pendingProps,Y=h.context,q=i.contextType,C=Ci,typeof q=="object"&&q!==null&&(C=Re(q)),E=i.getDerivedStateFromProps,(q=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==$||Y!==C)&&km(e,h,o,C),_a=!1,Y=e.memoizedState,h.state=Y,To(e,o,h,f),So();var K=e.memoizedState;y!==$||Y!==K||_a||t!==null&&t.dependencies!==null&&ql(t.dependencies)?(typeof E=="function"&&(gf(e,i,E,o),K=e.memoizedState),(I=_a||Rm(e,i,I,o,Y,K,C)||t!==null&&t.dependencies!==null&&ql(t.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,K,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,K,C)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=K),h.props=o,h.state=K,h.context=C,o=I):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),o=!1)}return h=o,ou(t,e),o=(e.flags&128)!==0,h||o?(h=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&o?(e.child=Cs(e,t.child,null,f),e.child=Cs(e,null,i,f)):ke(t,e,i,f),e.memoizedState=h.state,t=e.child):t=ki(t,e,f),t}function Jm(t,e,i,o){return Oi(),e.flags|=256,ke(t,e,i,o),e.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(t){return{baseLanes:t,cachePool:jd()}}function Ef(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=wn),t}function Fm(t,e,i){var o=e.pendingProps,f=!1,h=(e.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),y&&(f=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(kt){if(f?xa(e):Ea(),(t=Gt)?(t=sg(t,rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:W,overflow:ct}:null,retryLane:536870912,hydrationErrors:null},i=po(t),i.return=e,e.child=i,qt=e,Gt=null)):t=null,t===null)throw ui(e);return sh(t)?e.lanes=32:e.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Ea(),f=e.mode,E=lu({mode:"hidden",children:E},f),o=Mi(o,f,i,null),E.return=e,o.return=e,E.sibling=o,e.child=E,o=e.child,o.memoizedState=xf(i),o.childLanes=Ef(t,y,i),e.memoizedState=wf,Mo(null,o)):(xa(e),Sf(e,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)e.flags&256?(xa(e),e.flags&=-257,e=Tf(t,e,i)):e.memoizedState!==null?(Ea(),e.child=t.child,e.flags|=128,e=null):(Ea(),E=o.fallback,f=e.mode,o=lu({mode:"visible",children:o.children},f),E=Mi(E,f,i,null),E.flags|=2,o.return=e,E.return=e,o.sibling=E,e.child=o,Cs(e,t.child,null,i),o=e.child,o.memoizedState=xf(i),o.childLanes=Ef(t,y,i),e.memoizedState=wf,e=Mo(null,o));else if(xa(e),sh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var q=y.dgst;y=q,o=Error(c(419)),o.stack="",o.digest=y,Es({value:o,source:null,stack:null}),e=Tf(t,e,i)}else if(xe||fr(t,e,i,!1),y=(i&t.childLanes)!==0,xe||y){if(y=ie,y!==null&&(o=gl(y,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,Cn(t,o),fn(y,t,o),_f;ah(E)||yu(),e=Tf(t,e,i)}else ah(E)?(e.flags|=192,e.child=t.child,e=null):(t=C.treeContext,Gt=Nn(E.nextSibling),qt=e,kt=!0,li=null,rn=!1,t!==null&&Ie(e,t),e=Sf(e,o.children),e.flags|=4096);return e}return f?(Ea(),E=o.fallback,f=e.mode,C=t.child,q=C.sibling,o=Mn(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,q!==null?E=Mn(q,E):(E=Mi(E,f,i,null),E.flags|=2),E.return=e,o.return=e,o.sibling=E,e.child=o,Mo(null,o),o=e.child,E=t.child.memoizedState,E===null?E=xf(i):(f=E.cachePool,f!==null?(C=be._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=jd(),E={baseLanes:E.baseLanes|i,cachePool:f}),o.memoizedState=E,o.childLanes=Ef(t,y,i),e.memoizedState=wf,Mo(t.child,o)):(xa(e),i=t.child,t=i.sibling,i=Mn(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function Sf(t,e){return e=lu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function lu(t,e){return t=Ze(22,t,null,e),t.lanes=0,t}function Tf(t,e,i){return Cs(e,t.child,null,i),t=Sf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wm(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),jc(t.return,e,i)}function Af(t,e,i,o,f,h){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:h}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=f,y.treeForkCount=h)}function $m(t,e,i){var o=e.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,e.flags|=128):y&=1,st(me,y),ke(t,e,o,i),o=kt?w:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wm(t,i,e);else if(t.tag===19)Wm(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=e.child,f=null;i!==null;)t=i.alternate,t!==null&&Jl(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=e.child,e.child=null):(f=i.sibling,i.sibling=null),Af(e,!1,f,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&Jl(t)===null){e.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Af(e,!0,i,null,h,o);break;case"together":Af(e,!1,null,null,void 0,o);break;default:e.memoizedState=null}return e.child}function ki(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Aa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(fr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(c(153));if(e.child!==null){for(t=e.child,i=Mn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Mn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function zf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ql(t)))}function Z0(t,e,i){switch(e.tag){case 3:Ft(e,e.stateNode.containerInfo),va(e,be,t.memoizedState.cache),Oi();break;case 27:case 5:He(e);break;case 4:Ft(e,e.stateNode.containerInfo);break;case 10:va(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Fc(e),null;break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(xa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Fm(t,e,i):(xa(e),t=ki(t,e,i),t!==null?t.sibling:null);xa(e);break;case 19:var f=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(fr(t,e,i,!1),o=(i&e.childLanes)!==0),f){if(o)return $m(t,e,i);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(me,me.current),o)break;return null;case 22:return e.lanes=0,Vm(t,e,i,e.pendingProps);case 24:va(e,be,t.memoizedState.cache)}return ki(t,e,i)}function tp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!zf(t,i)&&(e.flags&128)===0)return xe=!1,Z0(t,e,i);xe=(t.flags&131072)!==0}else xe=!1,kt&&(e.flags&1048576)!==0&&Nt(e,w,e.index);switch(e.lanes=0,e.tag){case 16:t:{var o=e.pendingProps;if(t=zs(e.elementType),e.type=t,typeof t=="function")lr(t)?(o=Os(t,o),e.tag=1,e=Im(null,e,t,o,i)):(e.tag=0,e=bf(null,e,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===pt){e.tag=11,e=qm(null,e,t,o,i);break t}else if(f===J){e.tag=14,e=Gm(null,e,t,o,i);break t}}throw e=bt(t)||t,Error(c(306,e,""))}}return e;case 0:return bf(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,f=Os(o,e.pendingProps),Im(t,e,o,f,i);case 3:t:{if(Ft(e,e.stateNode.containerInfo),t===null)throw Error(c(387));o=e.pendingProps;var h=e.memoizedState;f=h.element,Kc(t,e),To(e,o,null,i);var y=e.memoizedState;if(o=y.cache,va(e,be,o),o!==h.cache&&Zc(e,[be],i,!0),So(),o=y.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Jm(t,e,o,i);break t}else if(o!==f){f=s(Error(c(424)),e),Es(f),e=Jm(t,e,o,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Gt=Nn(t.firstChild),qt=e,kt=!0,li=null,rn=!0,i=Vd(e,null,o,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Oi(),o===f){e=ki(t,e,i);break t}ke(t,e,o,i)}e=e.child}return e;case 26:return ou(t,e),t===null?(i=fg(e.type,null,e.pendingProps,null))?e.memoizedState=i:kt||(i=e.type,t=e.pendingProps,o=Su(dt.current).createElement(i),o[ve]=e,o[ze]=t,De(o,i,t),_e(o),e.stateNode=o):e.memoizedState=fg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return He(e),t===null&&kt&&(o=e.stateNode=lg(e.type,e.pendingProps,dt.current),qt=e,rn=!0,f=Gt,Oa(e.type)?(rh=f,Gt=Nn(o.firstChild)):Gt=f),ke(t,e,e.pendingProps.children,i),ou(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&kt&&((f=o=Gt)&&(o=g_(o,e.type,e.pendingProps,rn),o!==null?(e.stateNode=o,qt=e,Gt=Nn(o.firstChild),rn=!1,f=!0):f=!1),f||ui(e)),He(e),f=e.type,h=e.pendingProps,y=t!==null?t.memoizedProps:null,o=h.children,eh(f,h)?o=null:y!==null&&eh(f,y)&&(e.flags|=32),e.memoizedState!==null&&(f=$c(t,e,O0,null,null,i),Vo._currentValue=f),ou(t,e),ke(t,e,o,i),e.child;case 6:return t===null&&kt&&((t=i=Gt)&&(i=y_(i,e.pendingProps,rn),i!==null?(e.stateNode=i,qt=e,Gt=null,t=!0):t=!1),t||ui(e)),null;case 13:return Fm(t,e,i);case 4:return Ft(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Cs(e,null,o,i):ke(t,e,o,i),e.child;case 11:return qm(t,e,e.type,e.pendingProps,i);case 7:return ke(t,e,e.pendingProps,i),e.child;case 8:return ke(t,e,e.pendingProps.children,i),e.child;case 12:return ke(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,va(e,e.type,o.value),ke(t,e,o.children,i),e.child;case 9:return f=e.type._context,o=e.pendingProps.children,Ts(e),f=Re(f),o=o(f),e.flags|=1,ke(t,e,o,i),e.child;case 14:return Gm(t,e,e.type,e.pendingProps,i);case 15:return Ym(t,e,e.type,e.pendingProps,i);case 19:return $m(t,e,i);case 31:return j0(t,e,i);case 22:return Vm(t,e,i,e.pendingProps);case 24:return Ts(e),o=Re(be),t===null?(f=Gc(),f===null&&(f=ie,h=Pc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),e.memoizedState={parent:o,cache:f},Vc(e),va(e,be,f)):((t.lanes&i)!==0&&(Kc(t,e),To(e,null,null,i),So()),f=t.memoizedState,h=e.memoizedState,f.parent!==o?(f={parent:o,cache:o},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),va(e,be,o)):(o=h.cache,va(e,be,o),o!==f.cache&&Zc(e,[be],i,!0))),ke(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(c(156,e.tag))}function Di(t){t.flags|=4}function Lf(t,e,i,o,f){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(zp())t.flags|=8192;else throw Ls=Kl,Yc}else t.flags&=-16777217}function ep(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gg(e))if(zp())t.flags|=8192;else throw Ls=Kl,Yc}function uu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?dl():536870912,t.lanes|=e,Er|=e)}function Oo(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function P0(t,e,i){var o=e.pendingProps;switch(fe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Ni(be),Pt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Vn(e)?Di(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,vo())),se(e),null;case 26:var f=e.type,h=e.memoizedState;return t===null?(Di(e),h!==null?(se(e),ep(e,h)):(se(e),Lf(e,f,null,o,i))):h?h!==t.memoizedState?(Di(e),se(e),ep(e,h)):(se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==o&&Di(e),se(e),Lf(e,f,t,o,i)),null;case 27:if(Un(e),i=dt.current,f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Di(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return se(e),null}t=rt.current,Vn(e)?yo(e):(t=lg(f,o,i),e.stateNode=t,Di(e))}return se(e),null;case 5:if(Un(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Di(e);else{if(!o){if(e.stateNode===null)throw Error(c(166));return se(e),null}if(h=rt.current,Vn(e))yo(e);else{var y=Su(dt.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?y.createElement(f,{is:o.is}):y.createElement(f)}}h[ve]=e,h[ze]=o;t:for(y=e.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break t;for(;y.sibling===null;){if(y.return===null||y.return===e)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}e.stateNode=h;t:switch(De(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Di(e)}}return se(e),Lf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&Di(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(c(166));if(t=dt.current,Vn(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,f=qt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Fp(t.nodeValue,i)),t||ui(e,!0)}else t=Su(t).createTextNode(o),t[ve]=e,e.stateNode=t}return se(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(o=Vn(e),i!==null){if(t===null){if(!o)throw Error(c(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[ve]=e}else Oi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),t=!1}else i=vo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(_n(e),e):(_n(e),null);if((e.flags&128)!==0)throw Error(c(558))}return se(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Vn(e),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(c(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(c(317));f[ve]=e}else Oi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),f=!1}else f=vo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(_n(e),e):(_n(e),null)}return _n(e),(e.flags&128)!==0?(e.lanes=i,e):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=e.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),uu(e,e.updateQueue),se(e),null);case 4:return Pt(),t===null&&Jf(e.stateNode.containerInfo),se(e),null;case 10:return Ni(e.type),se(e),null;case 19:if(j(me),o=e.memoizedState,o===null)return se(e),null;if(f=(e.flags&128)!==0,h=o.rendering,h===null)if(f)Oo(o,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=Jl(t),h!==null){for(e.flags|=128,Oo(o,!1),t=h.updateQueue,e.updateQueue=t,uu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)mo(i,t),i=i.sibling;return st(me,me.current&1|2),kt&&Et(e,o.treeForkCount),e.child}t=t.sibling}o.tail!==null&&Ke()>mu&&(e.flags|=128,f=!0,Oo(o,!1),e.lanes=4194304)}else{if(!f)if(t=Jl(h),t!==null){if(e.flags|=128,f=!0,t=t.updateQueue,e.updateQueue=t,uu(e,t),Oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!kt)return se(e),null}else 2*Ke()-o.renderingStartTime>mu&&i!==536870912&&(e.flags|=128,f=!0,Oo(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,i=me.current,st(me,f?i&1|2:i&1),kt&&Et(e,o.treeForkCount),t):(se(e),null);case 22:case 23:return _n(e),Jc(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?(i&536870912)!==0&&(e.flags&128)===0&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),i=e.updateQueue,i!==null&&uu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&j(As),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ni(be),se(e),null;case 25:return null;case 30:return null}throw Error(c(156,e.tag))}function q0(t,e){switch(fe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ni(be),Pt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Un(e),null;case 31:if(e.memoizedState!==null){if(_n(e),e.alternate===null)throw Error(c(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(_n(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(c(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return j(me),null;case 4:return Pt(),null;case 10:return Ni(e.type),null;case 22:case 23:return _n(e),Jc(),t!==null&&j(As),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function np(t,e){switch(fe(e),e.tag){case 3:Ni(be),Pt();break;case 26:case 27:case 5:Un(e);break;case 4:Pt();break;case 31:e.memoizedState!==null&&_n(e);break;case 13:_n(e);break;case 19:j(me);break;case 10:Ni(e.type);break;case 22:case 23:_n(e),Jc(),t!==null&&j(As);break;case 24:Ni(be)}}function No(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var h=i.create,y=i.inst;o=h(),y.destroy=o}i=i.next}while(i!==f)}}catch(E){Jt(e,e.return,E)}}function Sa(t,e,i){try{var o=e.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,f=e;var C=i,q=E;try{q()}catch(I){Jt(f,C,I)}}}o=o.next}while(o!==h)}}catch(I){Jt(e,e.return,I)}}function ip(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Qd(e,i)}catch(o){Jt(t,t.return,o)}}}function ap(t,e,i){i.props=Os(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){Jt(t,e,o)}}function Bo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){Jt(t,e,f)}}function fi(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){Jt(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Jt(t,e,f)}else i.current=null}function sp(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){Jt(t,t.return,f)}}function Cf(t,e,i){try{var o=t.stateNode;c_(o,t.type,i,e),o[ze]=e}catch(f){Jt(t,t.return,f)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oa(t.type)||t.tag===4}function Mf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=en));else if(o!==4&&(o===27&&Oa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Of(t,e,i),t=t.sibling;t!==null;)Of(t,e,i),t=t.sibling}function cu(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&(o===27&&Oa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(cu(t,e,i),t=t.sibling;t!==null;)cu(t,e,i),t=t.sibling}function op(t){var e=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);De(e,o,i),e[ve]=t,e[ze]=i}catch(h){Jt(t,t.return,h)}}var Ui=!1,Ee=!1,Nf=!1,lp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function G0(t,e){if(t=t.containerInfo,$f=Ou,t=ps(t),ii(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,E=-1,C=-1,q=0,I=0,$=t,Y=null;e:for(;;){for(var K;$!==i||f!==0&&$.nodeType!==3||(E=y+f),$!==h||o!==0&&$.nodeType!==3||(C=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(K=$.firstChild)!==null;)Y=$,$=K;for(;;){if($===t)break e;if(Y===i&&++q===f&&(E=y),Y===h&&++I===o&&(C=y),(K=$.nextSibling)!==null)break;$=Y,Y=$.parentNode}$=K}i=E===-1||C===-1?null:{start:E,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(th={focusedElem:t,selectionRange:i},Ou=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){switch(e=Me,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,f=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var _t=Os(i.type,f);t=o.getSnapshotBeforeUpdate(_t,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(At){Jt(i,i.return,At)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)ih(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ih(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function up(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ji(t,i),o&4&&No(5,i);break;case 1:if(ji(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){Jt(i,i.return,y)}else{var f=Os(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(i,i.return,y)}}o&64&&ip(i),o&512&&Bo(i,i.return);break;case 3:if(ji(t,i),o&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Qd(t,e)}catch(y){Jt(i,i.return,y)}}break;case 27:e===null&&o&4&&op(i);case 26:case 5:ji(t,i),e===null&&o&4&&sp(i),o&512&&Bo(i,i.return);break;case 12:ji(t,i);break;case 31:ji(t,i),o&4&&hp(t,i);break;case 13:ji(t,i),o&4&&dp(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=W0.bind(null,i),v_(t,i))));break;case 22:if(o=i.memoizedState!==null||Ui,!o){e=e!==null&&e.memoizedState!==null||Ee,f=Ui;var h=Ee;Ui=o,(Ee=e)&&!h?Zi(t,i,(i.subtreeFlags&8772)!==0):ji(t,i),Ui=f,Ee=h}break;case 30:break;default:ji(t,i)}}function cp(t){var e=t.alternate;e!==null&&(t.alternate=null,cp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ir(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,on=!1;function Hi(t,e,i){for(i=i.child;i!==null;)fp(t,e,i),i=i.sibling}function fp(t,e,i){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount($i,i)}catch{}switch(i.tag){case 26:Ee||fi(i,e),Hi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ee||fi(i,e);var o=le,f=on;Oa(i.type)&&(le=i.stateNode,on=!1),Hi(t,e,i),qo(i.stateNode),le=o,on=f;break;case 5:Ee||fi(i,e);case 6:if(o=le,f=on,le=null,Hi(t,e,i),le=o,on=f,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(i.stateNode)}catch(h){Jt(i,e,h)}else try{le.removeChild(i.stateNode)}catch(h){Jt(i,e,h)}break;case 18:le!==null&&(on?(t=le,ig(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Or(t)):ig(le,i.stateNode));break;case 4:o=le,f=on,le=i.stateNode.containerInfo,on=!0,Hi(t,e,i),le=o,on=f;break;case 0:case 11:case 14:case 15:Sa(2,i,e),Ee||Sa(4,i,e),Hi(t,e,i);break;case 1:Ee||(fi(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&ap(i,e,o)),Hi(t,e,i);break;case 21:Hi(t,e,i);break;case 22:Ee=(o=Ee)||i.memoizedState!==null,Hi(t,e,i),Ee=o;break;default:Hi(t,e,i)}}function hp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Or(t)}catch(i){Jt(e,e.return,i)}}}function dp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Or(t)}catch(i){Jt(e,e.return,i)}}function Y0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new lp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new lp),e;default:throw Error(c(435,t.tag))}}function fu(t,e){var i=Y0(t);e.forEach(function(o){if(!i.has(o)){i.add(o);var f=$0.bind(null,t,o);o.then(f,f)}})}function ln(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],h=t,y=e,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Oa(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(c(160));fp(h,y,f),le=null,on=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)mp(e,t),e=e.sibling}var Qn=null;function mp(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(e,t),un(t),o&4&&(Sa(3,t,t.return),No(3,t),Sa(5,t,t.return));break;case 1:ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),o&64&&Ui&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Qn;if(ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[$a]||h[ve]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),De(h,o,i),h[ve]=t,_e(h),o=h;break t;case"link":var y=mg("link","href",f).get(o+(i.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(E,1);break e}}h=f.createElement(o),De(h,o,i),f.head.appendChild(h);break;case"meta":if(y=mg("meta","content",f).get(o+(i.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(E,1);break e}}h=f.createElement(o),De(h,o,i),f.head.appendChild(h);break;default:throw Error(c(468,o))}h[ve]=t,_e(h),o=h}t.stateNode=o}else pg(f,t.type,t.stateNode);else t.stateNode=dg(f,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?pg(f,t.type,t.stateNode):dg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Cf(t,t.memoizedProps,i.memoizedProps)}break;case 27:ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),i!==null&&o&4&&Cf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(ln(e,t),un(t),o&512&&(Ee||i===null||fi(i,i.return)),t.flags&32){f=t.stateNode;try{En(f,"")}catch(_t){Jt(t,t.return,_t)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Cf(t,f,i!==null?i.memoizedProps:f)),o&1024&&(Nf=!0);break;case 6:if(ln(e,t),un(t),o&4){if(t.stateNode===null)throw Error(c(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(_t){Jt(t,t.return,_t)}}break;case 3:if(zu=null,f=Qn,Qn=Tu(e.containerInfo),ln(e,t),Qn=f,un(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Or(e.containerInfo)}catch(_t){Jt(t,t.return,_t)}Nf&&(Nf=!1,pp(t));break;case 4:o=Qn,Qn=Tu(t.stateNode.containerInfo),ln(e,t),un(t),Qn=o;break;case 12:ln(e,t),un(t);break;case 31:ln(e,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 13:ln(e,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(du=Ke()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 22:f=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,q=Ui,I=Ee;if(Ui=q||f,Ee=I||C,ln(e,t),Ee=I,Ui=q,un(t),o&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(i===null||C||Ui||Ee||Ns(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){C=i=e;try{if(h=C.stateNode,f)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,Y=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(_t){Jt(C,C.return,_t)}}}else if(e.tag===6){if(i===null){C=e;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(_t){Jt(C,C.return,_t)}}}else if(e.tag===18){if(i===null){C=e;try{var K=C.stateNode;f?ag(K,!0):ag(C.stateNode,!1)}catch(_t){Jt(C,C.return,_t)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,fu(t,i))));break;case 19:ln(e,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 30:break;case 21:break;default:ln(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{for(var i,o=t.return;o!==null;){if(rp(o)){i=o;break}o=o.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var f=i.stateNode,h=Mf(t);cu(t,h,f);break;case 5:var y=i.stateNode;i.flags&32&&(En(y,""),i.flags&=-33);var E=Mf(t);cu(t,E,y);break;case 3:case 4:var C=i.stateNode.containerInfo,q=Mf(t);Of(t,q,C);break;default:throw Error(c(161))}}catch(I){Jt(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;pp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ji(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)up(t,e.alternate,e),e=e.sibling}function Ns(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Sa(4,e,e.return),Ns(e);break;case 1:fi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&ap(e,e.return,i),Ns(e);break;case 27:qo(e.stateNode);case 26:case 5:fi(e,e.return),Ns(e);break;case 22:e.memoizedState===null&&Ns(e);break;case 30:Ns(e);break;default:Ns(e)}t=t.sibling}}function Zi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,f=t,h=e,y=h.flags;switch(h.tag){case 0:case 11:case 15:Zi(f,h,i),No(4,h);break;case 1:if(Zi(f,h,i),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Jt(o,o.return,q)}if(o=h,f=o.updateQueue,f!==null){var E=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Kd(C[f],E)}catch(q){Jt(o,o.return,q)}}i&&y&64&&ip(h),Bo(h,h.return);break;case 27:op(h);case 26:case 5:Zi(f,h,i),i&&o===null&&y&4&&sp(h),Bo(h,h.return);break;case 12:Zi(f,h,i);break;case 31:Zi(f,h,i),i&&y&4&&hp(f,h);break;case 13:Zi(f,h,i),i&&y&4&&dp(f,h);break;case 22:h.memoizedState===null&&Zi(f,h,i),Bo(h,h.return);break;case 30:break;default:Zi(f,h,i)}e=e.sibling}}function Bf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&_o(i))}function Rf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_o(t))}function Xn(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(t,e,i,o),e=e.sibling}function gp(t,e,i,o){var f=e.flags;switch(e.tag){case 0:case 11:case 15:Xn(t,e,i,o),f&2048&&No(9,e);break;case 1:Xn(t,e,i,o);break;case 3:Xn(t,e,i,o),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_o(t)));break;case 12:if(f&2048){Xn(t,e,i,o),t=e.stateNode;try{var h=e.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Jt(e,e.return,C)}}else Xn(t,e,i,o);break;case 31:Xn(t,e,i,o);break;case 13:Xn(t,e,i,o);break;case 23:break;case 22:h=e.stateNode,y=e.alternate,e.memoizedState!==null?h._visibility&2?Xn(t,e,i,o):Ro(t,e):h._visibility&2?Xn(t,e,i,o):(h._visibility|=2,br(t,e,i,o,(e.subtreeFlags&10256)!==0||!1)),f&2048&&Bf(y,e);break;case 24:Xn(t,e,i,o),f&2048&&Rf(e.alternate,e);break;default:Xn(t,e,i,o)}}function br(t,e,i,o,f){for(f=f&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,y=e,E=i,C=o,q=y.flags;switch(y.tag){case 0:case 11:case 15:br(h,y,E,C,f),No(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?br(h,y,E,C,f):Ro(h,y):(I._visibility|=2,br(h,y,E,C,f)),f&&q&2048&&Bf(y.alternate,y);break;case 24:br(h,y,E,C,f),f&&q&2048&&Rf(y.alternate,y);break;default:br(h,y,E,C,f)}e=e.sibling}}function Ro(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,f=o.flags;switch(o.tag){case 22:Ro(i,o),f&2048&&Bf(o.alternate,o);break;case 24:Ro(i,o),f&2048&&Rf(o.alternate,o);break;default:Ro(i,o)}e=e.sibling}}var ko=8192;function wr(t,e,i){if(t.subtreeFlags&ko)for(t=t.child;t!==null;)yp(t,e,i),t=t.sibling}function yp(t,e,i){switch(t.tag){case 26:wr(t,e,i),t.flags&ko&&t.memoizedState!==null&&M_(i,Qn,t.memoizedState,t.memoizedProps);break;case 5:wr(t,e,i);break;case 3:case 4:var o=Qn;Qn=Tu(t.stateNode.containerInfo),wr(t,e,i),Qn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ko,ko=16777216,wr(t,e,i),ko=o):wr(t,e,i));break;default:wr(t,e,i)}}function vp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Do(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Me=o,bp(o,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 0:case 11:case 15:Do(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:Do(t);break;case 12:Do(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,hu(t)):Do(t);break;default:Do(t)}}function hu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];Me=o,bp(o,t)}vp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Sa(8,e,e.return),hu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,hu(e));break;default:hu(e)}t=t.sibling}}function bp(t,e){for(;Me!==null;){var i=Me;switch(i.tag){case 0:case 11:case 15:Sa(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_o(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Me=o;else t:for(i=t;Me!==null;){o=Me;var f=o.sibling,h=o.return;if(cp(o),o===i){Me=null;break t}if(f!==null){f.return=h,Me=f;break t}Me=h}}}var V0={getCacheForType:function(t){var e=Re(be),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Re(be).controller.signal}},K0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,Dt=null,jt=0,It=0,bn=null,Ta=!1,xr=!1,kf=!1,Pi=0,de=0,Aa=0,Bs=0,Df=0,wn=0,Er=0,Uo=null,cn=null,Uf=!1,du=0,wp=0,mu=1/0,pu=null,za=null,Ae=0,La=null,Sr=null,qi=0,Hf=0,jf=null,xp=null,Ho=0,Zf=null;function xn(){return(Qt&2)!==0&&jt!==0?jt&-jt:N.T!==null?Kf():Qr()}function Ep(){if(wn===0)if((jt&536870912)===0||kt){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),wn=t}else wn=536870912;return t=vn.current,t!==null&&(t.flags|=32),wn}function fn(t,e,i){(t===ie&&(It===2||It===9)||t.cancelPendingCommit!==null)&&(Tr(t,0),Ca(t,jt,wn,!1)),wi(t,i),((Qt&2)===0||t!==ie)&&(t===ie&&((Qt&2)===0&&(Bs|=i),de===4&&Ca(t,jt,wn,!1)),hi(t))}function Sp(t,e,i){if((Qt&6)!==0)throw Error(c(327));var o=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Wa(t,e),f=o?I0(t,e):qf(t,e,!0),h=o;do{if(f===0){xr&&!o&&Ca(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!Q0(i)){f=qf(t,e,!1),h=!1;continue}if(f===2){if(h=e,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var E=t;f=Uo;var C=E.current.memoizedState.isDehydrated;if(C&&(Tr(E,y).flags|=256),y=qf(E,y,!1),y!==2){if(kf&&!C){E.errorRecoveryDisabledLanes|=h,Bs|=h,f=4;break t}h=cn,cn=f,h!==null&&(cn===null?cn=h:cn.push.apply(cn,h))}f=y}if(h=!1,f!==2)continue}}if(f===1){Tr(t,0),Ca(t,e,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(c(345));case 4:if((e&4194048)!==e)break;case 6:Ca(o,e,wn,!Ta);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((e&62914560)===e&&(f=du+300-Ke(),10<f)){if(Ca(o,e,wn,!Ta),Vs(o,0,!0)!==0)break t;qi=e,o.timeoutHandle=eg(Tp.bind(null,o,i,cn,pu,Uf,e,wn,Bs,Er,Ta,h,"Throttled",-0,0),f);break t}Tp(o,i,cn,pu,Uf,e,wn,Bs,Er,Ta,h,null,-0,0)}}break}while(!0);hi(t)}function Tp(t,e,i,o,f,h,y,E,C,q,I,$,Y,K){if(t.timeoutHandle=-1,$=e.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},yp(e,h,$);var _t=(h&62914560)===h?du-Ke():(h&4194048)===h?wp-Ke():0;if(_t=O_($,_t),_t!==null){qi=h,t.cancelPendingCommit=_t(Bp.bind(null,t,e,h,i,o,f,y,E,C,I,$,null,Y,K)),Ca(t,h,y,!q);return}}Bp(t,e,h,i,o,f,y,E,C)}function Q0(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],h=f.getSnapshot;f=f.value;try{if(!Le(h(),f))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e,i,o){e&=~Df,e&=~Bs,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var f=e;0<f;){var h=31-Qe(f),y=1<<h;o[h]=-1,f&=~y}i!==0&&ml(t,i,e)}function gu(){return(Qt&6)===0?(jo(0),!1):!0}function Pf(){if(Dt!==null){if(It===0)var t=Dt.return;else t=Dt,Kn=ci=null,nf(t),pr=null,wo=0,t=Dt;for(;t!==null;)np(t.alternate,t),t=t.return;Dt=null}}function Tr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,d_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),qi=0,Pf(),ie=t,Dt=i=Mn(t.current,null),jt=e,It=0,bn=null,Ta=!1,xr=Wa(t,e),kf=!1,Er=wn=Df=Bs=Aa=de=0,cn=Uo=null,Uf=!1,(e&8)!==0&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var f=31-Qe(o),h=1<<f;e|=t[f],o&=~h}return Pi=e,bs(),i}function Ap(t,e){Ot=null,N.H=Co,e===mr||e===Vl?(e=qd(),It=3):e===Yc?(e=qd(),It=4):It=e===_f?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bn=e,Dt===null&&(de=1,su(t,s(e,t.current)))}function zp(){var t=vn.current;return t===null?!0:(jt&4194048)===jt?On===null:(jt&62914560)===jt||(jt&536870912)!==0?t===On:!1}function Lp(){var t=N.H;return N.H=Co,t===null?Co:t}function Cp(){var t=N.A;return N.A=V0,t}function yu(){de=4,Ta||(jt&4194048)!==jt&&vn.current!==null||(xr=!0),(Aa&134217727)===0&&(Bs&134217727)===0||ie===null||Ca(ie,jt,wn,!1)}function qf(t,e,i){var o=Qt;Qt|=2;var f=Lp(),h=Cp();(ie!==t||jt!==e)&&(pu=null,Tr(t,e)),e=!1;var y=de;t:do try{if(It!==0&&Dt!==null){var E=Dt,C=bn;switch(It){case 8:Pf(),y=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(e=!0);var q=It;if(It=0,bn=null,Ar(t,E,C,q),i&&xr){y=0;break t}break;default:q=It,It=0,bn=null,Ar(t,E,C,q)}}X0(),y=de;break}catch(I){Ap(t,I)}while(!0);return e&&t.shellSuspendCounter++,Kn=ci=null,Qt=o,N.H=f,N.A=h,Dt===null&&(ie=null,jt=0,bs()),y}function X0(){for(;Dt!==null;)Mp(Dt)}function I0(t,e){var i=Qt;Qt|=2;var o=Lp(),f=Cp();ie!==t||jt!==e?(pu=null,mu=Ke()+500,Tr(t,e)):xr=Wa(t,e);t:do try{if(It!==0&&Dt!==null){e=Dt;var h=bn;e:switch(It){case 1:It=0,bn=null,Ar(t,e,h,1);break;case 2:case 9:if(Zd(h)){It=0,bn=null,Op(e);break}e=function(){It!==2&&It!==9||ie!==t||(It=7),hi(t)},h.then(e,e);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:Zd(h)?(It=0,bn=null,Op(e)):(It=0,bn=null,Ar(t,e,h,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(y?gg(y):E.stateNode.complete){It=0,bn=null;var C=E.sibling;if(C!==null)Dt=C;else{var q=E.return;q!==null?(Dt=q,vu(q)):Dt=null}break e}}It=0,bn=null,Ar(t,e,h,5);break;case 6:It=0,bn=null,Ar(t,e,h,6);break;case 8:Pf(),de=6;break t;default:throw Error(c(462))}}J0();break}catch(I){Ap(t,I)}while(!0);return Kn=ci=null,N.H=o,N.A=f,Qt=i,Dt!==null?0:(ie=null,jt=0,bs(),de)}function J0(){for(;Dt!==null&&!cl();)Mp(Dt)}function Mp(t){var e=tp(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?vu(t):Dt=e}function Op(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Xm(i,e,e.pendingProps,e.type,void 0,jt);break;case 11:e=Xm(i,e,e.pendingProps,e.type.render,e.ref,jt);break;case 5:nf(e);default:np(i,e),e=Dt=mo(e,Pi),e=tp(i,e,Pi)}t.memoizedProps=t.pendingProps,e===null?vu(t):Dt=e}function Ar(t,e,i,o){Kn=ci=null,nf(e),pr=null,wo=0;var f=e.return;try{if(H0(t,f,e,i,jt)){de=1,su(t,s(i,t.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;de=1,su(t,s(i,t.current)),Dt=null;return}e.flags&32768?(kt||o===1?t=!0:xr||(jt&536870912)!==0?t=!1:(Ta=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Np(e,t)):vu(e)}function vu(t){var e=t;do{if((e.flags&32768)!==0){Np(e,Ta);return}t=e.return;var i=P0(e.alternate,e,Pi);if(i!==null){Dt=i;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);de===0&&(de=5)}function Np(t,e){do{var i=q0(t.alternate,t);if(i!==null){i.flags&=32767,Dt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=i}while(t!==null);de=6,Dt=null}function Bp(t,e,i,o,f,h,y,E,C){t.cancelPendingCommit=null;do _u();while(Ae!==0);if((Qt&6)!==0)throw Error(c(327));if(e!==null){if(e===t.current)throw Error(c(177));if(h=e.lanes|e.childLanes,h|=or,Ec(t,i,h,y,E,C),t===ie&&(Dt=ie=null,jt=0),Sr=e,La=t,qi=i,Hf=h,jf=f,xp=o,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t_(Qa,function(){return Hp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,f=Q.p,Q.p=2,y=Qt,Qt|=4;try{G0(t,e,i)}finally{Qt=y,Q.p=f,N.T=o}}Ae=1,Rp(),kp(),Dp()}}function Rp(){if(Ae===1){Ae=0;var t=La,e=Sr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=N.T,N.T=null;var o=Q.p;Q.p=2;var f=Qt;Qt|=4;try{mp(e,t);var h=th,y=ps(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&ir(E.ownerDocument.documentElement,E)){if(C!==null&&ii(E)){var q=C.start,I=C.end;if(I===void 0&&(I=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(I,E.value.length);else{var $=E.ownerDocument||document,Y=$&&$.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),_t=E.textContent.length,At=Math.min(C.start,_t),ee=C.end===void 0?At:Math.min(C.end,_t);!K.extend&&At>ee&&(y=ee,ee=At,At=y);var k=ms(E,At),B=ms(E,ee);if(k&&B&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var Z=$.createRange();Z.setStart(k.node,k.offset),K.removeAllRanges(),At>ee?(K.addRange(Z),K.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),K.addRange(Z))}}}}for($=[],K=E;K=K.parentNode;)K.nodeType===1&&$.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var F=$[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ou=!!$f,th=$f=null}finally{Qt=f,Q.p=o,N.T=i}}t.current=e,Ae=2}}function kp(){if(Ae===2){Ae=0;var t=La,e=Sr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=N.T,N.T=null;var o=Q.p;Q.p=2;var f=Qt;Qt|=4;try{up(t,e.alternate,e)}finally{Qt=f,Q.p=o,N.T=i}}Ae=3}}function Dp(){if(Ae===4||Ae===3){Ae=0,fl();var t=La,e=Sr,i=qi,o=xp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ae=5:(Ae=0,Sr=La=null,Up(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(za=null),xt(i),e=e.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=N.T,f=Q.p,Q.p=2,N.T=null;try{for(var h=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];h(E.value,{componentStack:E.stack})}}finally{N.T=e,Q.p=f}}(qi&3)!==0&&_u(),hi(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===Zf?Ho++:(Ho=0,Zf=t):Ho=0,jo(0)}}function Up(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,_o(e)))}function _u(){return Rp(),kp(),Dp(),Hp()}function Hp(){if(Ae!==5)return!1;var t=La,e=Hf;Hf=0;var i=xt(qi),o=N.T,f=Q.p;try{Q.p=32>i?32:i,N.T=null,i=jf,jf=null;var h=La,y=qi;if(Ae=0,Sr=La=null,qi=0,(Qt&6)!==0)throw Error(c(331));var E=Qt;if(Qt|=4,_p(h.current),gp(h,h.current,y,i),Qt=E,jo(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot($i,h)}catch{}return!0}finally{Q.p=f,N.T=o,Up(t,e)}}function jp(t,e,i){e=s(i,e),e=vf(t.stateNode,e,2),t=wa(t,e,2),t!==null&&(wi(t,2),hi(t))}function Jt(t,e,i){if(t.tag===3)jp(t,t,i);else for(;e!==null;){if(e.tag===3){jp(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(za===null||!za.has(o))){t=s(i,t),i=Zm(2),o=wa(e,i,2),o!==null&&(Pm(i,o,e,t),wi(o,2),hi(o));break}}e=e.return}}function Gf(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new K0;var f=new Set;o.set(e,f)}else f=o.get(e),f===void 0&&(f=new Set,o.set(e,f));f.has(i)||(kf=!0,f.add(i),t=F0.bind(null,t,e,i),e.then(t,t))}function F0(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ie===t&&(jt&i)===i&&(de===4||de===3&&(jt&62914560)===jt&&300>Ke()-du?(Qt&2)===0&&Tr(t,0):Df|=i,Er===jt&&(Er=0)),hi(t)}function Zp(t,e){e===0&&(e=dl()),t=Cn(t,e),t!==null&&(wi(t,e),hi(t))}function W0(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Zp(t,i)}function $0(t,e){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(c(314))}o!==null&&o.delete(e),Zp(t,i)}function t_(t,e){return Gs(t,e)}var bu=null,zr=null,Yf=!1,wu=!1,Vf=!1,Ma=0;function hi(t){t!==zr&&t.next===null&&(zr===null?bu=zr=t:zr=zr.next=t),wu=!0,Yf||(Yf=!0,n_())}function jo(t,e){if(!Vf&&wu){Vf=!0;do for(var i=!1,o=bu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var y=o.suspendedLanes,E=o.pingedLanes;h=(1<<31-Qe(42|t)+1)-1,h&=f&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Yp(o,h))}else h=jt,h=Vs(o,o===ie?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Wa(o,h)||(i=!0,Yp(o,h));o=o.next}while(i);Vf=!1}}function e_(){Pp()}function Pp(){wu=Yf=!1;var t=0;Ma!==0&&h_()&&(t=Ma);for(var e=Ke(),i=null,o=bu;o!==null;){var f=o.next,h=qp(o,e);h===0?(o.next=null,i===null?bu=f:i.next=f,f===null&&(zr=i)):(i=o,(t!==0||(h&3)!==0)&&(wu=!0)),o=f}Ae!==0&&Ae!==5||jo(t),Ma!==0&&(Ma=0)}function qp(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Qe(h),E=1<<y,C=f[y];C===-1?((E&i)===0||(E&o)!==0)&&(f[y]=xc(E,e)):C<=e&&(t.expiredLanes|=E),h&=~E}if(e=ie,i=jt,i=Vs(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===e&&(It===2||It===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ka(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Wa(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&Ka(o),xt(i)){case 2:case 8:i=Yr;break;case 32:i=Qa;break;case 268435456:i=Vr;break;default:i=Qa}return o=Gp.bind(null,t),i=Gs(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&Ka(o),t.callbackPriority=2,t.callbackNode=null,2}function Gp(t,e){if(Ae!==0&&Ae!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(_u()&&t.callbackNode!==i)return null;var o=jt;return o=Vs(t,t===ie?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sp(t,o,e),qp(t,Ke()),t.callbackNode!=null&&t.callbackNode===i?Gp.bind(null,t):null)}function Yp(t,e){if(_u())return null;Sp(t,e,!0)}function n_(){m_(function(){(Qt&6)!==0?Gs(Ys,e_):Pp()})}function Kf(){if(Ma===0){var t=hr;t===0&&(t=Ia,Ia<<=1,(Ia&261888)===0&&(Ia=256)),Ma=t}return Ma}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function Kp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function i_(t,e,i,o,f){if(e==="submit"&&i&&i.stateNode===f){var h=Vp((f[ze]||null).action),y=o.submitter;y&&(e=(e=y[ze]||null)?Vp(e.formAction):y.getAttribute("formAction"),e!==null&&(h=e,y=null));var E=new Js("action","action",null,o,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ma!==0){var C=y?Kp(f,y):new FormData(f);hf(i,{pending:!0,data:C,method:f.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=y?Kp(f,y):new FormData(f),hf(i,{pending:!0,data:C,method:f.method,action:h},h,C))},currentTarget:f}]})}}for(var Qf=0;Qf<ri.length;Qf++){var Xf=ri[Qf],a_=Xf.toLowerCase(),s_=Xf[0].toUpperCase()+Xf.slice(1);an(a_,"on"+s_)}an(ys,"onAnimationEnd"),an(jl,"onAnimationIteration"),an(vs,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Dc,"onTransitionRun"),an(Zl,"onTransitionStart"),an(Uc,"onTransitionCancel"),an(ga,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Qp(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,q=E.currentTarget;if(E=E.listener,C!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=q;try{h(f)}catch(I){_s(I)}f.currentTarget=null,h=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,q=E.currentTarget,E=E.listener,C!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=q;try{h(f)}catch(I){_s(I)}f.currentTarget=null,h=C}}}}function Ut(t,e){var i=e[Fn];i===void 0&&(i=e[Fn]=new Set);var o=t+"__bubble";i.has(o)||(Xp(e,t,2,!1),i.add(o))}function If(t,e,i){var o=0;e&&(o|=4),Xp(i,t,o,e)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[xu]){t[xu]=!0,_l.forEach(function(i){i!=="selectionchange"&&(r_.has(i)||If(i,!1,t),If(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xu]||(e[xu]=!0,If("selectionchange",!1,e))}}function Xp(t,e,i,o){switch(Eg(e)){case 2:var f=R_;break;case 8:f=k_;break;default:f=fh}i=f.bind(null,e,i,t),f=void 0,!ss||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(e,i,{capture:!0,passive:f}):t.addEventListener(e,i,!0):f!==void 0?t.addEventListener(e,i,{passive:f}):t.addEventListener(e,i,!1)}function Ff(t,e,i,o,f){var h=o;if((e&1)===0&&(e&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===f)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;E!==null;){if(y=Ei(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=h=y;continue t}E=E.parentNode}}o=o.return}no(function(){var q=h,I=as(i),$=[];t:{var Y=Pl.get(t);if(Y!==void 0){var K=Js,_t=t;switch(t){case"keypress":if(rs(i)===0)break t;case"keydown":case"keyup":K=zl;break;case"focusin":_t="focus",K=so;break;case"focusout":_t="blur",K=so;break;case"beforeblur":case"afterblur":K=so;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Mc;break;case ys:case jl:case vs:K=ro;break;case ga:K=Ml;break;case"scroll":case"scrollend":K=Ht;break;case"wheel":K=Li;break;case"copy":case"cut":case"paste":K=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ll;break;case"toggle":case"beforetoggle":K=us}var At=(e&4)!==0,ee=!At&&(t==="scroll"||t==="scrollend"),k=At?Y!==null?Y+"Capture":null:Y;At=[];for(var B=q,Z;B!==null;){var F=B;if(Z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||Z===null||k===null||(F=Ai(B,k),F!=null&&At.push(Po(B,F,Z))),ee)break;B=B.return}0<At.length&&(Y=new K(Y,_t,null,i,I),$.push({event:Y,listeners:At}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",Y&&i!==Is&&(_t=i.relatedTarget||i.fromElement)&&(Ei(_t)||_t[xi]))break t;if((K||Y)&&(Y=I.window===I?I:(Y=I.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(_t=i.relatedTarget||i.toElement,K=q,_t=_t?Ei(_t):null,_t!==null&&(ee=p(_t),At=_t.tag,_t!==ee||At!==5&&At!==27&&At!==6)&&(_t=null)):(K=null,_t=q),K!==_t)){if(At=xl,F="onMouseLeave",k="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(At=Ll,F="onPointerLeave",k="onPointerEnter",B="pointer"),ee=K==null?Y:Wn(K),Z=_t==null?Y:Wn(_t),Y=new At(F,B+"leave",K,i,I),Y.target=ee,Y.relatedTarget=Z,F=null,Ei(I)===q&&(At=new At(k,B+"enter",_t,i,I),At.target=Z,At.relatedTarget=ee,F=At),ee=F,K&&_t)e:{for(At=o_,k=K,B=_t,Z=0,F=k;F;F=At(F))Z++;F=0;for(var Tt=B;Tt;Tt=At(Tt))F++;for(;0<Z-F;)k=At(k),Z--;for(;0<F-Z;)B=At(B),F--;for(;Z--;){if(k===B||B!==null&&k===B.alternate){At=k;break e}k=At(k),B=At(B)}At=null}else At=null;K!==null&&Ip($,Y,K,At,!1),_t!==null&&ee!==null&&Ip($,ee,_t,At,!0)}}t:{if(Y=q?Wn(q):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Yt=ds;else if(An(Y))if(Rl)Yt=kc;else{Yt=Rc;var wt=Gn}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&is(q.elementType)&&(Yt=ds):Yt=ha;if(Yt&&(Yt=Yt(t,q))){Bl($,Yt,i,I);break t}wt&&wt(t,Y,q),t==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Zn(Y,"number",Y.value)}switch(wt=q?Wn(q):window,t){case"focusin":(An(wt)||wt.contentEditable==="true")&&(ai=wt,sr=q,gs=null);break;case"focusout":gs=sr=ai=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Ul($,i,I);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":Ul($,i,I)}var Bt;if(Ws)t:{switch(t){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else ua?Nl(t,i)&&(Zt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Zt="onCompositionStart");Zt&&($s&&i.locale!=="ko"&&(ua||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ua&&(Bt=ei()):(Sn=I,zi="value"in Sn?Sn.value:Sn.textContent,ua=!0)),wt=Eu(q,Zt),0<wt.length&&(Zt=new oo(Zt,t,null,i,I),$.push({event:Zt,listeners:wt}),Bt?Zt.data=Bt:(Bt=fo(i),Bt!==null&&(Zt.data=Bt)))),(Bt=Nc?yn(t,i):ca(t,i))&&(Zt=Eu(q,"onBeforeInput"),0<Zt.length&&(wt=new oo("onBeforeInput","beforeinput",null,i,I),$.push({event:wt,listeners:Zt}),wt.data=Bt)),i_($,t,q,i,I)}Qp($,e)})}function Po(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Eu(t,e){for(var i=e+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ai(t,i),f!=null&&o.unshift(Po(t,f,h)),f=Ai(t,e),f!=null&&o.push(Po(t,f,h))),t.tag===3)return o;t=t.return}return[]}function o_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ip(t,e,i,o,f){for(var h=e._reactName,y=[];i!==null&&i!==o;){var E=i,C=E.alternate,q=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||q===null||(C=q,f?(q=Ai(i,h),q!=null&&y.unshift(Po(i,q,C))):f||(q=Ai(i,h),q!=null&&y.push(Po(i,q,C)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var l_=/\r\n?/g,u_=/\u0000|\uFFFD/g;function Jp(t){return(typeof t=="string"?t:""+t).replace(l_,`
`).replace(u_,"")}function Fp(t,e){return e=Jp(e),Jp(t)===e}function te(t,e,i,o,f,h){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&En(t,""+o);break;case"className":Wt(t,"class",o);break;case"tabIndex":Wt(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(t,i,o);break;case"style":Qs(t,o,h);break;case"data":if(e!=="object"){Wt(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=sa(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&te(t,e,"name",f.name,f,null),te(t,e,"formEncType",f.formEncType,f,null),te(t,e,"formMethod",f.formMethod,f,null),te(t,e,"formTarget",f.formTarget,f,null)):(te(t,e,"encType",f.encType,f,null),te(t,e,"method",f.method,f,null),te(t,e,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=sa(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=en);break;case"onScroll":o!=null&&Ut("scroll",t);break;case"onScrollEnd":o!=null&&Ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Ut("beforetoggle",t),Ut("toggle",t),Rt(t,"popover",o);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Rt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xs.get(i)||i,Rt(t,i,o))}}function Wf(t,e,i,o,f,h){switch(i){case"style":Qs(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(c(60));t.innerHTML=i}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&Ut("scroll",t);break;case"onScrollEnd":o!=null&&Ut("scrollend",t);break;case"onClick":o!=null&&(t.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),e=i.slice(2,f?i.length-7:void 0),h=t[ze]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,f);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Rt(t,i,o)}}}function De(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",t),Ut("load",t);var o=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:te(t,e,h,y,i,null)}}f&&te(t,e,"srcSet",i.srcSet,i,null),o&&te(t,e,"src",i.src,i,null);return;case"input":Ut("invalid",t);var E=h=y=f=null,C=null,q=null;for(o in i)if(i.hasOwnProperty(o)){var I=i[o];if(I!=null)switch(o){case"name":f=I;break;case"type":y=I;break;case"checked":C=I;break;case"defaultChecked":q=I;break;case"value":h=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,e));break;default:te(t,e,o,I,i,null)}}ns(t,h,E,C,q,y,f,!1);return;case"select":Ut("invalid",t),o=y=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:te(t,e,f,E,i,null)}e=h,i=y,t.multiple=!!o,e!=null?ne(t,!!o,e,!1):i!=null&&ne(t,!!o,i,!0);return;case"textarea":Ut("invalid",t),h=f=o=null;for(y in i)if(i.hasOwnProperty(y)&&(E=i[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(c(91));break;default:te(t,e,y,E,i,null)}ia(t,o,f,h);return;case"option":for(C in i)i.hasOwnProperty(C)&&(o=i[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":te(t,e,C,o,i,null));return;case"dialog":Ut("beforetoggle",t),Ut("toggle",t),Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":Ut("load",t);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Ut(Zo[o],t);break;case"image":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"embed":case"source":case"link":Ut("error",t),Ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(o=i[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,e));default:te(t,e,q,o,i,null)}return;default:if(is(e)){for(I in i)i.hasOwnProperty(I)&&(o=i[I],o!==void 0&&Wf(t,e,I,o,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(o=i[E],o!=null&&te(t,e,E,o,i,null))}function c_(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,y=null,E=null,C=null,q=null,I=null;for(K in i){var $=i[K];if(i.hasOwnProperty(K)&&$!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(K)||te(t,e,K,null,o,$)}}for(var Y in o){var K=o[Y];if($=i[Y],o.hasOwnProperty(Y)&&(K!=null||$!=null))switch(Y){case"type":h=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":I=K;break;case"value":y=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(137,e));break;default:K!==$&&te(t,e,Y,K,o,$)}}$r(t,y,E,C,q,I,h,f);return;case"select":K=y=E=Y=null;for(h in i)if(C=i[h],i.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":K=C;default:o.hasOwnProperty(h)||te(t,e,h,null,o,C)}for(f in o)if(h=o[f],C=i[f],o.hasOwnProperty(f)&&(h!=null||C!=null))switch(f){case"value":Y=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==C&&te(t,e,f,h,o,C)}e=E,i=y,o=K,Y!=null?ne(t,!!i,Y,!1):!!o!=!!i&&(e!=null?ne(t,!!i,e,!0):ne(t,!!i,i?[]:"",!1));return;case"textarea":K=Y=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,e,E,null,o,f)}for(y in o)if(f=o[y],h=i[y],o.hasOwnProperty(y)&&(f!=null||h!=null))switch(y){case"value":Y=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:f!==h&&te(t,e,y,f,o,h)}ti(t,Y,K);return;case"option":for(var _t in i)Y=i[_t],i.hasOwnProperty(_t)&&Y!=null&&!o.hasOwnProperty(_t)&&(_t==="selected"?t.selected=!1:te(t,e,_t,null,o,Y));for(C in o)Y=o[C],K=i[C],o.hasOwnProperty(C)&&Y!==K&&(Y!=null||K!=null)&&(C==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":te(t,e,C,Y,o,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in i)Y=i[At],i.hasOwnProperty(At)&&Y!=null&&!o.hasOwnProperty(At)&&te(t,e,At,null,o,Y);for(q in o)if(Y=o[q],K=i[q],o.hasOwnProperty(q)&&Y!==K&&(Y!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,e));break;default:te(t,e,q,Y,o,K)}return;default:if(is(e)){for(var ee in i)Y=i[ee],i.hasOwnProperty(ee)&&Y!==void 0&&!o.hasOwnProperty(ee)&&Wf(t,e,ee,void 0,o,Y);for(I in o)Y=o[I],K=i[I],!o.hasOwnProperty(I)||Y===K||Y===void 0&&K===void 0||Wf(t,e,I,Y,o,K);return}}for(var k in i)Y=i[k],i.hasOwnProperty(k)&&Y!=null&&!o.hasOwnProperty(k)&&te(t,e,k,null,o,Y);for($ in o)Y=o[$],K=i[$],!o.hasOwnProperty($)||Y===K||Y==null&&K==null||te(t,e,$,Y,o,K)}function Wp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],h=f.transferSize,y=f.initiatorType,E=f.duration;if(h&&E&&Wp(y)){for(y=0,E=f.responseEnd,o+=1;o<i.length;o++){var C=i[o],q=C.startTime;if(q>E)break;var I=C.transferSize,$=C.initiatorType;I&&Wp($)&&(C=C.responseEnd,y+=I*(C<E?1:(E-q)/(C-q)))}if(--o,e+=8*(h+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,th=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function $p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function eh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nh=null;function h_(){var t=window.event;return t&&t.type==="popstate"?t===nh?!1:(nh=t,!0):(nh=null,!1)}var eg=typeof setTimeout=="function"?setTimeout:void 0,d_=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,m_=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(t){return ng.resolve(null).then(t).catch(p_)}:eg;function p_(t){setTimeout(function(){throw t})}function Oa(t){return t==="head"}function ig(t,e){var i=e,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Or(e);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")qo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,qo(i);for(var h=i.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[$a]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=y}}else i==="body"&&qo(t.ownerDocument.body);i=f}while(i);Or(e)}function ag(t,e){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function ih(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ih(i),Ir(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function g_(t,e,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[$a])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function y_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Nn(t.nextSibling),t===null))return null;return t}function sg(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Nn(t.nextSibling),t===null))return null;return t}function ah(t){return t.data==="$?"||t.data==="$~"}function sh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function v_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var o=function(){e(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var rh=null;function rg(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Nn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function lg(t,e,i){switch(e=Su(i),t){case"html":if(t=e.documentElement,!t)throw Error(c(452));return t;case"head":if(t=e.head,!t)throw Error(c(453));return t;case"body":if(t=e.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function qo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ir(t)}var Bn=new Map,ug=new Set;function Tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=Q.d;Q.d={f:__,r:b_,D:w_,C:x_,L:E_,m:S_,X:A_,S:T_,M:z_};function __(){var t=Gi.f(),e=gu();return t||e}function b_(t){var e=ta(t);e!==null&&e.tag===5&&e.type==="form"?Am(e):Gi.r(t)}var Lr=typeof document>"u"?null:document;function cg(t,e,i){var o=Lr;if(o&&typeof e=="string"&&e){var f=ae(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),ug.has(f)||(ug.add(f),t={rel:t,crossOrigin:i,href:e},o.querySelector(f)===null&&(e=o.createElement("link"),De(e,"link",t),_e(e),o.head.appendChild(e)))}}function w_(t){Gi.D(t),cg("dns-prefetch",t,null)}function x_(t,e){Gi.C(t,e),cg("preconnect",t,e)}function E_(t,e,i){Gi.L(t,e,i);var o=Lr;if(o&&t&&e){var f='link[rel="preload"][as="'+ae(e)+'"]';e==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+ae(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+ae(i.imageSizes)+'"]')):f+='[href="'+ae(t)+'"]';var h=f;switch(e){case"style":h=Cr(t);break;case"script":h=Mr(t)}Bn.has(h)||(t=S({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Bn.set(h,t),o.querySelector(f)!==null||e==="style"&&o.querySelector(Go(h))||e==="script"&&o.querySelector(Yo(h))||(e=o.createElement("link"),De(e,"link",t),_e(e),o.head.appendChild(e)))}}function S_(t,e){Gi.m(t,e);var i=Lr;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+ae(o)+'"][href="'+ae(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Mr(t)}if(!Bn.has(h)&&(t=S({rel:"modulepreload",href:t},e),Bn.set(h,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Yo(h)))return}o=i.createElement("link"),De(o,"link",t),_e(o),i.head.appendChild(o)}}}function T_(t,e,i){Gi.S(t,e,i);var o=Lr;if(o&&t){var f=ea(o).hoistableStyles,h=Cr(t);e=e||"default";var y=f.get(h);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Go(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Bn.get(h))&&oh(t,i);var C=y=o.createElement("link");_e(C),De(C,"link",t),C._p=new Promise(function(q,I){C.onload=q,C.onerror=I}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Au(y,e,o)}y={type:"stylesheet",instance:y,count:1,state:E},f.set(h,y)}}}function A_(t,e){Gi.X(t,e);var i=Lr;if(i&&t){var o=ea(i).hoistableScripts,f=Mr(t),h=o.get(f);h||(h=i.querySelector(Yo(f)),h||(t=S({src:t,async:!0},e),(e=Bn.get(f))&&lh(t,e),h=i.createElement("script"),_e(h),De(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function z_(t,e){Gi.M(t,e);var i=Lr;if(i&&t){var o=ea(i).hoistableScripts,f=Mr(t),h=o.get(f);h||(h=i.querySelector(Yo(f)),h||(t=S({src:t,async:!0,type:"module"},e),(e=Bn.get(f))&&lh(t,e),h=i.createElement("script"),_e(h),De(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function fg(t,e,i,o){var f=(f=dt.current)?Tu(f):null;if(!f)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Cr(i.href),i=ea(f).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Cr(i.href);var h=ea(f).hoistableStyles,y=h.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=f.querySelector(Go(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Bn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bn.set(t,i),h||L_(f,t,i,y.state))),e&&o===null)throw Error(c(528,""));return y}if(e&&o!==null)throw Error(c(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Mr(i),i=ea(f).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Cr(t){return'href="'+ae(t)+'"'}function Go(t){return'link[rel="stylesheet"]['+t+"]"}function hg(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function L_(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),De(e,"link",i),_e(e),t.head.appendChild(e))}function Mr(t){return'[src="'+ae(t)+'"]'}function Yo(t){return"script[async]"+t}function dg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+ae(i.href)+'"]');if(o)return e.instance=o,_e(o),o;var f=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),_e(o),De(o,"style",f),Au(o,i.precedence,t),e.instance=o;case"stylesheet":f=Cr(i.href);var h=t.querySelector(Go(f));if(h)return e.state.loading|=4,e.instance=h,_e(h),h;o=hg(i),(f=Bn.get(f))&&oh(o,f),h=(t.ownerDocument||t).createElement("link"),_e(h);var y=h;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),De(h,"link",o),e.state.loading|=4,Au(h,i.precedence,t),e.instance=h;case"script":return h=Mr(i.src),(f=t.querySelector(Yo(h)))?(e.instance=f,_e(f),f):(o=i,(f=Bn.get(h))&&(o=S({},i),lh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),_e(f),De(f,"link",o),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(c(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(o=e.instance,e.state.loading|=4,Au(o,i.precedence,t));return e.instance}function Au(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===e)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function lh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var zu=null;function mg(t,e,i){if(zu===null){var o=new Map,f=zu=new Map;f.set(i,o)}else f=zu,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[$a]||h[ve]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(e)||"";y=t+y;var E=o.get(y);E?E.push(h):o.set(y,[h])}}return o}function pg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function C_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function gg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function M_(t,e,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Cr(o.href),h=e.querySelector(Go(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Lu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,_e(h);return}h=e.ownerDocument||e,o=hg(o),(f=Bn.get(f))&&oh(o,f),h=h.createElement("link"),_e(h);var y=h;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),De(h,"link",o),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Lu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var uh=0;function O_(t,e){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&uh===0&&(uh=62500*f_());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>uh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cu=null;function Mu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cu=new Map,e.forEach(N_,t),Cu=null,Lu.call(t))}function N_(t,e){if(!(e.state.loading&4)){var i=Cu.get(t);if(i)var o=i.get(null);else{i=new Map,Cu.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var y=f[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),o=y)}o&&i.set(null,o)}f=e.instance,y=f.getAttribute("data-precedence"),h=i.get(y)||o,h===o&&i.set(null,f),i.set(y,f),this.count++,o=Lu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var Vo={$$typeof:tt,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function B_(t,e,i,o,f,h,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function yg(t,e,i,o,f,h,y,E,C,q,I,$){return t=new B_(t,e,i,y,C,q,I,$,E),e=1,h===!0&&(e|=24),h=Ze(3,null,null,e),t.current=h,h.stateNode=t,e=Pc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:e},Vc(h),t}function vg(t){return t?(t=Ci,t):Ci}function _g(t,e,i,o,f,h){f=vg(f),o.context===null?o.context=f:o.pendingContext=f,o=ba(e),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=wa(t,o,e),i!==null&&(fn(i,t,e),Eo(i,t,e))}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function ch(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function wg(t){if(t.tag===13||t.tag===31){var e=Cn(t,67108864);e!==null&&fn(e,t,67108864),ch(t,67108864)}}function xg(t){if(t.tag===13||t.tag===31){var e=xn();e=$e(e);var i=Cn(t,e);i!==null&&fn(i,t,e),ch(t,e)}}var Ou=!0;function R_(t,e,i,o){var f=N.T;N.T=null;var h=Q.p;try{Q.p=2,fh(t,e,i,o)}finally{Q.p=h,N.T=f}}function k_(t,e,i,o){var f=N.T;N.T=null;var h=Q.p;try{Q.p=8,fh(t,e,i,o)}finally{Q.p=h,N.T=f}}function fh(t,e,i,o){if(Ou){var f=hh(o);if(f===null)Ff(t,e,o,Nu,i),Sg(t,o);else if(U_(f,t,e,i,o))o.stopPropagation();else if(Sg(t,o),e&4&&-1<D_.indexOf(t)){for(;f!==null;){var h=ta(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=bi(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-Qe(y);E.entanglements[1]|=C,y&=~C}hi(h),(Qt&6)===0&&(mu=Ke()+500,jo(0))}}break;case 31:case 13:E=Cn(h,2),E!==null&&fn(E,h,2),gu(),ch(h,2)}if(h=hh(o),h===null&&Ff(t,e,o,Nu,i),h===f)break;f=h}f!==null&&o.stopPropagation()}else Ff(t,e,o,null,i)}}function hh(t){return t=as(t),dh(t)}var Nu=null;function dh(t){if(Nu=null,t=Ei(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=v(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Nu=t,null}function Eg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case Ys:return 2;case Yr:return 8;case Qa:case vc:return 32;case Vr:return 268435456;default:return 32}default:return 32}}var mh=!1,Na=null,Ba=null,Ra=null,Ko=new Map,Qo=new Map,ka=[],D_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sg(t,e){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(e.pointerId)}}function Xo(t,e,i,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},e!==null&&(e=ta(e),e!==null&&wg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function U_(t,e,i,o,f){switch(e){case"focusin":return Na=Xo(Na,t,e,i,o,f),!0;case"dragenter":return Ba=Xo(Ba,t,e,i,o,f),!0;case"mouseover":return Ra=Xo(Ra,t,e,i,o,f),!0;case"pointerover":var h=f.pointerId;return Ko.set(h,Xo(Ko.get(h)||null,t,e,i,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Qo.set(h,Xo(Qo.get(h)||null,t,e,i,o,f)),!0}return!1}function Tg(t){var e=Ei(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=v(i),e!==null){t.blockedOn=e,Xr(t.priority,function(){xg(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,Xr(t.priority,function(){xg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=hh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);Is=o,i.target.dispatchEvent(o),Is=null}else return e=ta(i),e!==null&&wg(e),t.blockedOn=i,!1;e.shift()}return!0}function Ag(t,e,i){Bu(t)&&i.delete(e)}function H_(){mh=!1,Na!==null&&Bu(Na)&&(Na=null),Ba!==null&&Bu(Ba)&&(Ba=null),Ra!==null&&Bu(Ra)&&(Ra=null),Ko.forEach(Ag),Qo.forEach(Ag)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,mh||(mh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,H_)))}var ku=null;function zg(t){ku!==t&&(ku=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],f=t[e+2];if(typeof o!="function"){if(dh(o||i)===null)continue;break}var h=ta(i);h!==null&&(t.splice(e,3),e-=3,hf(h,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Or(t){function e(C){return Ru(C,t)}Na!==null&&Ru(Na,t),Ba!==null&&Ru(Ba,t),Ra!==null&&Ru(Ra,t),Ko.forEach(e),Qo.forEach(e);for(var i=0;i<ka.length;i++){var o=ka[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ka.length&&(i=ka[0],i.blockedOn===null);)Tg(i),i.blockedOn===null&&ka.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],y=f[ze]||null;if(typeof h=="function")y||zg(i);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,y=h[ze]||null)E=y.formAction;else if(dh(f)!==null)continue}else E=y.action;typeof E=="function"?i[o+1]=E:(i.splice(o,3),o-=3),zg(i)}}}function Lg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function e(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),f!==null&&(f(),f=null)}}}function ph(t){this._internalRoot=t}Du.prototype.render=ph.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(c(409));var i=e.current,o=xn();_g(i,o,t,e,null,null)},Du.prototype.unmount=ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_g(t.current,2,null,t,null,null),gu(),e[xi]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ka.length&&e!==0&&e<ka[i].priority;i++);ka.splice(i,0,t),i===0&&Tg(t)}};var Cg=r.version;if(Cg!=="19.2.3")throw Error(c(527,Cg,"19.2.3"));Q.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=x(e),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var j_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{$i=Uu.inject(j_),Ne=Uu}catch{}}return Jo.createRoot=function(t,e){if(!d(t))throw Error(c(299));var i=!1,o="",f=Dm,h=Um,y=Hm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError)),e=yg(t,1,!1,null,null,i,o,null,f,h,y,Lg),t[xi]=e.current,Jf(t),new ph(e)},Jo.hydrateRoot=function(t,e,i){if(!d(t))throw Error(c(299));var o=!1,f="",h=Dm,y=Um,E=Hm,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),e=yg(t,1,!0,e,i??null,o,f,C,h,y,E,Lg),e.context=vg(null),i=e.current,o=xn(),o=$e(o),f=ba(o),f.callback=null,wa(i,f,o),i=o,e.current.lanes=i,wi(e,i),hi(e),t[xi]=e.current,Jf(t),new Du(e)},Jo.version="19.2.3",Jo}var jg;function X_(){if(jg)return vh.exports;jg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),vh.exports=Q_(),vh.exports}var I_=X_();const J_=$h(I_);function Zg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Ey(a,...r){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(a.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${a.length}`)}function F_(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zg(a.outputLen),Zg(a.blockLen)}function Vu(a,r=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(r&&a.finished)throw new Error("Hash#digest() has already been called")}function W_(a,r){Ey(a);const l=r.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const xh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const Sy=a=>a instanceof Uint8Array,Eh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),di=(a,r)=>a<<32-r|a>>>r,$_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$_)throw new Error("Non little-endian hardware is not supported");function tb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function ed(a){if(typeof a=="string"&&(a=tb(a)),!Sy(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function eb(...a){const r=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!Sy(c))throw new Error("Uint8Array expected");r.set(c,l),l+=c.length}),r}let Ty=class{clone(){return this._cloneInto()}};function nb(a){const r=c=>a().update(ed(c)).digest(),l=a();return r.outputLen=l.outputLen,r.blockLen=l.blockLen,r.create=()=>a(),r}function Ay(a=32){if(xh&&typeof xh.getRandomValues=="function")return xh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function ib(a,r,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(r,l,c);const d=BigInt(32),p=BigInt(4294967295),v=Number(l>>d&p),b=Number(l&p),_=c?4:0,x=c?0:4;a.setUint32(r+_,v,c),a.setUint32(r+x,b,c)}let ab=class extends Ty{constructor(r,l,c,d){super(),this.blockLen=r,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=Eh(this.buffer)}update(r){Vu(this);const{view:l,buffer:c,blockLen:d}=this;r=ed(r);const p=r.length;for(let v=0;v<p;){const b=Math.min(d-this.pos,p-v);if(b===d){const _=Eh(r);for(;d<=p-v;v+=d)this.process(_,v);continue}c.set(r.subarray(v,v+b),this.pos),this.pos+=b,v+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){Vu(this),W_(r,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:v}=this;l[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>d-v&&(this.process(c,0),v=0);for(let S=v;S<d;S++)l[S]=0;ib(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Eh(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)b.setUint32(4*S,T[S],p)}digest(){const{buffer:r,outputLen:l}=this;this.digestInto(r);const c=r.slice(0,l);return this.destroy(),c}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:v,pos:b}=this;return r.length=d,r.pos=b,r.finished=p,r.destroyed=v,d%l&&r.buffer.set(c),r}};const sb=(a,r,l)=>a&r^~a&l,rb=(a,r,l)=>a&r^a&l^r&l,ob=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ua=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ha=new Uint32Array(64);let lb=class extends ab{constructor(){super(64,32,8,!1),this.A=Ua[0]|0,this.B=Ua[1]|0,this.C=Ua[2]|0,this.D=Ua[3]|0,this.E=Ua[4]|0,this.F=Ua[5]|0,this.G=Ua[6]|0,this.H=Ua[7]|0}get(){const{A:r,B:l,C:c,D:d,E:p,F:v,G:b,H:_}=this;return[r,l,c,d,p,v,b,_]}set(r,l,c,d,p,v,b,_){this.A=r|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=v|0,this.G=b|0,this.H=_|0}process(r,l){for(let S=0;S<16;S++,l+=4)Ha[S]=r.getUint32(l,!1);for(let S=16;S<64;S++){const R=Ha[S-15],P=Ha[S-2],H=di(R,7)^di(R,18)^R>>>3,M=di(P,17)^di(P,19)^P>>>10;Ha[S]=M+Ha[S-7]+H+Ha[S-16]|0}let{A:c,B:d,C:p,D:v,E:b,F:_,G:x,H:T}=this;for(let S=0;S<64;S++){const R=di(b,6)^di(b,11)^di(b,25),P=T+R+sb(b,_,x)+ob[S]+Ha[S]|0,M=(di(c,2)^di(c,13)^di(c,22))+rb(c,d,p)|0;T=x,x=_,_=b,b=v+P|0,v=p,p=d,d=c,c=P+M|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,v=v+this.D|0,b=b+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(c,d,p,v,b,_,x,T)}roundClean(){Ha.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const kh=nb(()=>new lb);const zy=BigInt(0),tc=BigInt(1),ub=BigInt(2),ec=a=>a instanceof Uint8Array,cb=Array.from({length:256},(a,r)=>r.toString(16).padStart(2,"0"));function Dr(a){if(!ec(a))throw new Error("Uint8Array expected");let r="";for(let l=0;l<a.length;l++)r+=cb[a[l]];return r}function Ly(a){const r=a.toString(16);return r.length&1?`0${r}`:r}function nd(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Ur(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const r=a.length;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const l=new Uint8Array(r/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),v=Number.parseInt(p,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");l[c]=v}return l}function hn(a){return nd(Dr(a))}function id(a){if(!ec(a))throw new Error("Uint8Array expected");return nd(Dr(Uint8Array.from(a).reverse()))}function Ga(a,r){return Ur(a.toString(16).padStart(r*2,"0"))}function ad(a,r){return Ga(a,r).reverse()}function fb(a){return Ur(Ly(a))}function qe(a,r,l){let c;if(typeof r=="string")try{c=Ur(r)}catch(p){throw new Error(`${a} must be valid hex string, got "${r}". Cause: ${p}`)}else if(ec(r))c=Uint8Array.from(r);else throw new Error(`${a} must be hex string or Uint8Array`);const d=c.length;if(typeof l=="number"&&d!==l)throw new Error(`${a} expected ${l} bytes, got ${d}`);return c}function js(...a){const r=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!ec(c))throw new Error("Uint8Array expected");r.set(c,l),l+=c.length}),r}function hb(a,r){if(a.length!==r.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==r[l])return!1;return!0}function db(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function mb(a){let r;for(r=0;a>zy;a>>=tc,r+=1);return r}function pb(a,r){return a>>BigInt(r)&tc}const gb=(a,r,l)=>a|(l?tc:zy)<<BigInt(r),sd=a=>(ub<<BigInt(a-1))-tc,Sh=a=>new Uint8Array(a),Pg=a=>Uint8Array.from(a);function Cy(a,r,l){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");if(typeof l!="function")throw new Error("hmacFn must be a function");let c=Sh(a),d=Sh(a),p=0;const v=()=>{c.fill(1),d.fill(0),p=0},b=(...S)=>l(d,c,...S),_=(S=Sh())=>{d=b(Pg([0]),S),c=b(),S.length!==0&&(d=b(Pg([1]),S),c=b())},x=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let S=0;const R=[];for(;S<r;){c=b();const P=c.slice();R.push(P),S+=c.length}return js(...R)};return(S,R)=>{v(),_(S);let P;for(;!(P=R(x()));)_();return v(),P}}const yb={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,r)=>r.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function ol(a,r,l={}){const c=(d,p,v)=>{const b=yb[p];if(typeof b!="function")throw new Error(`Invalid validator "${p}", expected function`);const _=a[d];if(!(v&&_===void 0)&&!b(_,a))throw new Error(`Invalid param ${String(d)}=${_} (${typeof _}), expected ${p}`)};for(const[d,p]of Object.entries(r))c(d,p,!1);for(const[d,p]of Object.entries(l))c(d,p,!0);return a}const vb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:pb,bitLen:mb,bitMask:sd,bitSet:gb,bytesToHex:Dr,bytesToNumberBE:hn,bytesToNumberLE:id,concatBytes:js,createHmacDrbg:Cy,ensureBytes:qe,equalBytes:hb,hexToBytes:Ur,hexToNumber:nd,numberToBytesBE:Ga,numberToBytesLE:ad,numberToHexUnpadded:Ly,numberToVarBytesBE:fb,utf8ToBytes:db,validateObject:ol},Symbol.toStringTag,{value:"Module"}));const Oe=BigInt(0),ge=BigInt(1),Ds=BigInt(2),_b=BigInt(3),Dh=BigInt(4),qg=BigInt(5),Gg=BigInt(8);BigInt(9);BigInt(16);function Ue(a,r){const l=a%r;return l>=Oe?l:r+l}function bb(a,r,l){if(l<=Oe||r<Oe)throw new Error("Expected power/modulo > 0");if(l===ge)return Oe;let c=ge;for(;r>Oe;)r&ge&&(c=c*a%l),a=a*a%l,r>>=ge;return c}function Rn(a,r,l){let c=a;for(;r-- >Oe;)c*=c,c%=l;return c}function Uh(a,r){if(a===Oe||r<=Oe)throw new Error(`invert: expected positive integers, got n=${a} mod=${r}`);let l=Ue(a,r),c=r,d=Oe,p=ge;for(;l!==Oe;){const b=c/l,_=c%l,x=d-p*b;c=l,l=_,d=p,p=x}if(c!==ge)throw new Error("invert: does not exist");return Ue(d,r)}function wb(a){const r=(a-ge)/Ds;let l,c,d;for(l=a-ge,c=0;l%Ds===Oe;l/=Ds,c++);for(d=Ds;d<a&&bb(d,r,a)!==a-ge;d++);if(c===1){const v=(a+ge)/Dh;return function(_,x){const T=_.pow(x,v);if(!_.eql(_.sqr(T),x))throw new Error("Cannot find square root");return T}}const p=(l+ge)/Ds;return function(b,_){if(b.pow(_,r)===b.neg(b.ONE))throw new Error("Cannot find square root");let x=c,T=b.pow(b.mul(b.ONE,d),l),S=b.pow(_,p),R=b.pow(_,l);for(;!b.eql(R,b.ONE);){if(b.eql(R,b.ZERO))return b.ZERO;let P=1;for(let M=b.sqr(R);P<x&&!b.eql(M,b.ONE);P++)M=b.sqr(M);const H=b.pow(T,ge<<BigInt(x-P-1));T=b.sqr(H),S=b.mul(S,H),R=b.mul(R,T),x=P}return S}}function xb(a){if(a%Dh===_b){const r=(a+ge)/Dh;return function(c,d){const p=c.pow(d,r);if(!c.eql(c.sqr(p),d))throw new Error("Cannot find square root");return p}}if(a%Gg===qg){const r=(a-qg)/Gg;return function(c,d){const p=c.mul(d,Ds),v=c.pow(p,r),b=c.mul(d,v),_=c.mul(c.mul(b,Ds),v),x=c.mul(b,c.sub(_,c.ONE));if(!c.eql(c.sqr(x),d))throw new Error("Cannot find square root");return x}}return wb(a)}const Eb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sb(a){const r={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},l=Eb.reduce((c,d)=>(c[d]="function",c),r);return ol(a,l)}function Tb(a,r,l){if(l<Oe)throw new Error("Expected power > 0");if(l===Oe)return a.ONE;if(l===ge)return r;let c=a.ONE,d=r;for(;l>Oe;)l&ge&&(c=a.mul(c,d)),d=a.sqr(d),l>>=ge;return c}function Ab(a,r){const l=new Array(r.length),c=r.reduce((p,v,b)=>a.is0(v)?p:(l[b]=p,a.mul(p,v)),a.ONE),d=a.inv(c);return r.reduceRight((p,v,b)=>a.is0(v)?p:(l[b]=a.mul(p,l[b]),a.mul(p,v)),d),l}function My(a,r){const l=r!==void 0?r:a.toString(2).length,c=Math.ceil(l/8);return{nBitLength:l,nByteLength:c}}function zb(a,r,l=!1,c={}){if(a<=Oe)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:p}=My(a,r);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const v=xb(a),b=Object.freeze({ORDER:a,BITS:d,BYTES:p,MASK:sd(d),ZERO:Oe,ONE:ge,create:_=>Ue(_,a),isValid:_=>{if(typeof _!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof _}`);return Oe<=_&&_<a},is0:_=>_===Oe,isOdd:_=>(_&ge)===ge,neg:_=>Ue(-_,a),eql:(_,x)=>_===x,sqr:_=>Ue(_*_,a),add:(_,x)=>Ue(_+x,a),sub:(_,x)=>Ue(_-x,a),mul:(_,x)=>Ue(_*x,a),pow:(_,x)=>Tb(b,_,x),div:(_,x)=>Ue(_*Uh(x,a),a),sqrN:_=>_*_,addN:(_,x)=>_+x,subN:(_,x)=>_-x,mulN:(_,x)=>_*x,inv:_=>Uh(_,a),sqrt:c.sqrt||(_=>v(b,_)),invertBatch:_=>Ab(b,_),cmov:(_,x,T)=>T?x:_,toBytes:_=>l?ad(_,p):Ga(_,p),fromBytes:_=>{if(_.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${_.length}`);return l?id(_):hn(_)}});return Object.freeze(b)}function Oy(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const r=a.toString(2).length;return Math.ceil(r/8)}function Ny(a){const r=Oy(a);return r+Math.ceil(r/2)}function Lb(a,r,l=!1){const c=a.length,d=Oy(r),p=Ny(r);if(c<16||c<p||c>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${c}`);const v=l?hn(a):id(a),b=Ue(v,r-ge)+ge;return l?ad(b,d):Ga(b,d)}const Cb=BigInt(0),Th=BigInt(1);function Mb(a,r){const l=(d,p)=>{const v=p.negate();return d?v:p},c=d=>{const p=Math.ceil(r/d)+1,v=2**(d-1);return{windows:p,windowSize:v}};return{constTimeNegate:l,unsafeLadder(d,p){let v=a.ZERO,b=d;for(;p>Cb;)p&Th&&(v=v.add(b)),b=b.double(),p>>=Th;return v},precomputeWindow(d,p){const{windows:v,windowSize:b}=c(p),_=[];let x=d,T=x;for(let S=0;S<v;S++){T=x,_.push(T);for(let R=1;R<b;R++)T=T.add(x),_.push(T);x=T.double()}return _},wNAF(d,p,v){const{windows:b,windowSize:_}=c(d);let x=a.ZERO,T=a.BASE;const S=BigInt(2**d-1),R=2**d,P=BigInt(d);for(let H=0;H<b;H++){const M=H*_;let D=Number(v&S);v>>=P,D>_&&(D-=R,v+=Th);const V=M,et=M+Math.abs(D)-1,tt=H%2!==0,pt=D<0;D===0?T=T.add(l(tt,p[V])):x=x.add(l(pt,p[et]))}return{p:x,f:T}},wNAFCached(d,p,v,b){const _=d._WINDOW_SIZE||1;let x=p.get(d);return x||(x=this.precomputeWindow(d,_),_!==1&&p.set(d,b(x))),this.wNAF(_,x,v)}}}function By(a){return Sb(a.Fp),ol(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...My(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}function Ob(a){const r=By(a);ol(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:l,Fp:c,a:d}=r;if(l){if(!c.eql(d,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof l!="object"||typeof l.beta!="bigint"||typeof l.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}const{bytesToNumberBE:Nb,hexToBytes:Bb}=vb,Hs={Err:class extends Error{constructor(r=""){super(r)}},_parseInt(a){const{Err:r}=Hs;if(a.length<2||a[0]!==2)throw new r("Invalid signature integer tag");const l=a[1],c=a.subarray(2,l+2);if(!l||c.length!==l)throw new r("Invalid signature integer: wrong length");if(c[0]&128)throw new r("Invalid signature integer: negative");if(c[0]===0&&!(c[1]&128))throw new r("Invalid signature integer: unnecessary leading zero");return{d:Nb(c),l:a.subarray(l+2)}},toSig(a){const{Err:r}=Hs,l=typeof a=="string"?Bb(a):a;if(!(l instanceof Uint8Array))throw new Error("ui8a expected");let c=l.length;if(c<2||l[0]!=48)throw new r("Invalid signature tag");if(l[1]!==c-2)throw new r("Invalid signature: incorrect length");const{d,l:p}=Hs._parseInt(l.subarray(2)),{d:v,l:b}=Hs._parseInt(p);if(b.length)throw new r("Invalid signature: left bytes after parsing");return{r:d,s:v}},hexFromSig(a){const r=x=>Number.parseInt(x[0],16)&8?"00"+x:x,l=x=>{const T=x.toString(16);return T.length&1?`0${T}`:T},c=r(l(a.s)),d=r(l(a.r)),p=c.length/2,v=d.length/2,b=l(p),_=l(v);return`30${l(v+p+4)}02${_}${d}02${b}${c}`}},Ki=BigInt(0),kn=BigInt(1);BigInt(2);const Yg=BigInt(3);BigInt(4);function Rb(a){const r=Ob(a),{Fp:l}=r,c=r.toBytes||((H,M,D)=>{const V=M.toAffine();return js(Uint8Array.from([4]),l.toBytes(V.x),l.toBytes(V.y))}),d=r.fromBytes||(H=>{const M=H.subarray(1),D=l.fromBytes(M.subarray(0,l.BYTES)),V=l.fromBytes(M.subarray(l.BYTES,2*l.BYTES));return{x:D,y:V}});function p(H){const{a:M,b:D}=r,V=l.sqr(H),et=l.mul(V,H);return l.add(l.add(et,l.mul(H,M)),D)}if(!l.eql(l.sqr(r.Gy),p(r.Gx)))throw new Error("bad generator point: equation left != right");function v(H){return typeof H=="bigint"&&Ki<H&&H<r.n}function b(H){if(!v(H))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function _(H){const{allowedPrivateKeyLengths:M,nByteLength:D,wrapPrivateKey:V,n:et}=r;if(M&&typeof H!="bigint"){if(H instanceof Uint8Array&&(H=Dr(H)),typeof H!="string"||!M.includes(H.length))throw new Error("Invalid key");H=H.padStart(D*2,"0")}let tt;try{tt=typeof H=="bigint"?H:hn(qe("private key",H,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof H}`)}return V&&(tt=Ue(tt,et)),b(tt),tt}const x=new Map;function T(H){if(!(H instanceof S))throw new Error("ProjectivePoint expected")}class S{constructor(M,D,V){if(this.px=M,this.py=D,this.pz=V,M==null||!l.isValid(M))throw new Error("x required");if(D==null||!l.isValid(D))throw new Error("y required");if(V==null||!l.isValid(V))throw new Error("z required")}static fromAffine(M){const{x:D,y:V}=M||{};if(!M||!l.isValid(D)||!l.isValid(V))throw new Error("invalid affine point");if(M instanceof S)throw new Error("projective point not allowed");const et=tt=>l.eql(tt,l.ZERO);return et(D)&&et(V)?S.ZERO:new S(D,V,l.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const D=l.invertBatch(M.map(V=>V.pz));return M.map((V,et)=>V.toAffine(D[et])).map(S.fromAffine)}static fromHex(M){const D=S.fromAffine(d(qe("pointHex",M)));return D.assertValidity(),D}static fromPrivateKey(M){return S.BASE.multiply(_(M))}_setWindowSize(M){this._WINDOW_SIZE=M,x.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!l.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:M,y:D}=this.toAffine();if(!l.isValid(M)||!l.isValid(D))throw new Error("bad point: x or y not FE");const V=l.sqr(D),et=p(M);if(!l.eql(V,et))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:M}=this.toAffine();if(l.isOdd)return!l.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){T(M);const{px:D,py:V,pz:et}=this,{px:tt,py:pt,pz:yt}=M,at=l.eql(l.mul(D,yt),l.mul(tt,et)),J=l.eql(l.mul(V,yt),l.mul(pt,et));return at&&J}negate(){return new S(this.px,l.neg(this.py),this.pz)}double(){const{a:M,b:D}=r,V=l.mul(D,Yg),{px:et,py:tt,pz:pt}=this;let yt=l.ZERO,at=l.ZERO,J=l.ZERO,ot=l.mul(et,et),St=l.mul(tt,tt),gt=l.mul(pt,pt),lt=l.mul(et,tt);return lt=l.add(lt,lt),J=l.mul(et,pt),J=l.add(J,J),yt=l.mul(M,J),at=l.mul(V,gt),at=l.add(yt,at),yt=l.sub(St,at),at=l.add(St,at),at=l.mul(yt,at),yt=l.mul(lt,yt),J=l.mul(V,J),gt=l.mul(M,gt),lt=l.sub(ot,gt),lt=l.mul(M,lt),lt=l.add(lt,J),J=l.add(ot,ot),ot=l.add(J,ot),ot=l.add(ot,gt),ot=l.mul(ot,lt),at=l.add(at,ot),gt=l.mul(tt,pt),gt=l.add(gt,gt),ot=l.mul(gt,lt),yt=l.sub(yt,ot),J=l.mul(gt,St),J=l.add(J,J),J=l.add(J,J),new S(yt,at,J)}add(M){T(M);const{px:D,py:V,pz:et}=this,{px:tt,py:pt,pz:yt}=M;let at=l.ZERO,J=l.ZERO,ot=l.ZERO;const St=r.a,gt=l.mul(r.b,Yg);let lt=l.mul(D,tt),ut=l.mul(V,pt),vt=l.mul(et,yt),bt=l.add(D,V),nt=l.add(tt,pt);bt=l.mul(bt,nt),nt=l.add(lt,ut),bt=l.sub(bt,nt),nt=l.add(D,et);let N=l.add(tt,yt);return nt=l.mul(nt,N),N=l.add(lt,vt),nt=l.sub(nt,N),N=l.add(V,et),at=l.add(pt,yt),N=l.mul(N,at),at=l.add(ut,vt),N=l.sub(N,at),ot=l.mul(St,nt),at=l.mul(gt,vt),ot=l.add(at,ot),at=l.sub(ut,ot),ot=l.add(ut,ot),J=l.mul(at,ot),ut=l.add(lt,lt),ut=l.add(ut,lt),vt=l.mul(St,vt),nt=l.mul(gt,nt),ut=l.add(ut,vt),vt=l.sub(lt,vt),vt=l.mul(St,vt),nt=l.add(nt,vt),lt=l.mul(ut,nt),J=l.add(J,lt),lt=l.mul(N,nt),at=l.mul(bt,at),at=l.sub(at,lt),lt=l.mul(bt,ut),ot=l.mul(N,ot),ot=l.add(ot,lt),new S(at,J,ot)}subtract(M){return this.add(M.negate())}is0(){return this.equals(S.ZERO)}wNAF(M){return P.wNAFCached(this,x,M,D=>{const V=l.invertBatch(D.map(et=>et.pz));return D.map((et,tt)=>et.toAffine(V[tt])).map(S.fromAffine)})}multiplyUnsafe(M){const D=S.ZERO;if(M===Ki)return D;if(b(M),M===kn)return this;const{endo:V}=r;if(!V)return P.unsafeLadder(this,M);let{k1neg:et,k1:tt,k2neg:pt,k2:yt}=V.splitScalar(M),at=D,J=D,ot=this;for(;tt>Ki||yt>Ki;)tt&kn&&(at=at.add(ot)),yt&kn&&(J=J.add(ot)),ot=ot.double(),tt>>=kn,yt>>=kn;return et&&(at=at.negate()),pt&&(J=J.negate()),J=new S(l.mul(J.px,V.beta),J.py,J.pz),at.add(J)}multiply(M){b(M);let D=M,V,et;const{endo:tt}=r;if(tt){const{k1neg:pt,k1:yt,k2neg:at,k2:J}=tt.splitScalar(D);let{p:ot,f:St}=this.wNAF(yt),{p:gt,f:lt}=this.wNAF(J);ot=P.constTimeNegate(pt,ot),gt=P.constTimeNegate(at,gt),gt=new S(l.mul(gt.px,tt.beta),gt.py,gt.pz),V=ot.add(gt),et=St.add(lt)}else{const{p:pt,f:yt}=this.wNAF(D);V=pt,et=yt}return S.normalizeZ([V,et])[0]}multiplyAndAddUnsafe(M,D,V){const et=S.BASE,tt=(yt,at)=>at===Ki||at===kn||!yt.equals(et)?yt.multiplyUnsafe(at):yt.multiply(at),pt=tt(this,D).add(tt(M,V));return pt.is0()?void 0:pt}toAffine(M){const{px:D,py:V,pz:et}=this,tt=this.is0();M==null&&(M=tt?l.ONE:l.inv(et));const pt=l.mul(D,M),yt=l.mul(V,M),at=l.mul(et,M);if(tt)return{x:l.ZERO,y:l.ZERO};if(!l.eql(at,l.ONE))throw new Error("invZ was invalid");return{x:pt,y:yt}}isTorsionFree(){const{h:M,isTorsionFree:D}=r;if(M===kn)return!0;if(D)return D(S,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:D}=r;return M===kn?this:D?D(S,this):this.multiplyUnsafe(r.h)}toRawBytes(M=!0){return this.assertValidity(),c(S,this,M)}toHex(M=!0){return Dr(this.toRawBytes(M))}}S.BASE=new S(r.Gx,r.Gy,l.ONE),S.ZERO=new S(l.ZERO,l.ONE,l.ZERO);const R=r.nBitLength,P=Mb(S,r.endo?Math.ceil(R/2):R);return{CURVE:r,ProjectivePoint:S,normPrivateKeyToScalar:_,weierstrassEquation:p,isWithinCurveOrder:v}}function kb(a){const r=By(a);return ol(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}function Db(a){const r=kb(a),{Fp:l,n:c}=r,d=l.BYTES+1,p=2*l.BYTES+1;function v(nt){return Ki<nt&&nt<l.ORDER}function b(nt){return Ue(nt,c)}function _(nt){return Uh(nt,c)}const{ProjectivePoint:x,normPrivateKeyToScalar:T,weierstrassEquation:S,isWithinCurveOrder:R}=Rb({...r,toBytes(nt,N,Q){const X=N.toAffine(),mt=l.toBytes(X.x),it=js;return Q?it(Uint8Array.from([N.hasEvenY()?2:3]),mt):it(Uint8Array.from([4]),mt,l.toBytes(X.y))},fromBytes(nt){const N=nt.length,Q=nt[0],X=nt.subarray(1);if(N===d&&(Q===2||Q===3)){const mt=hn(X);if(!v(mt))throw new Error("Point is not on curve");const it=S(mt);let A=l.sqrt(it);const j=(A&kn)===kn;return(Q&1)===1!==j&&(A=l.neg(A)),{x:mt,y:A}}else if(N===p&&Q===4){const mt=l.fromBytes(X.subarray(0,l.BYTES)),it=l.fromBytes(X.subarray(l.BYTES,2*l.BYTES));return{x:mt,y:it}}else throw new Error(`Point of length ${N} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}}),P=nt=>Dr(Ga(nt,r.nByteLength));function H(nt){const N=c>>kn;return nt>N}function M(nt){return H(nt)?b(-nt):nt}const D=(nt,N,Q)=>hn(nt.slice(N,Q));class V{constructor(N,Q,X){this.r=N,this.s=Q,this.recovery=X,this.assertValidity()}static fromCompact(N){const Q=r.nByteLength;return N=qe("compactSignature",N,Q*2),new V(D(N,0,Q),D(N,Q,2*Q))}static fromDER(N){const{r:Q,s:X}=Hs.toSig(qe("DER",N));return new V(Q,X)}assertValidity(){if(!R(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!R(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(N){return new V(this.r,this.s,N)}recoverPublicKey(N){const{r:Q,s:X,recovery:mt}=this,it=J(qe("msgHash",N));if(mt==null||![0,1,2,3].includes(mt))throw new Error("recovery id invalid");const A=mt===2||mt===3?Q+r.n:Q;if(A>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(mt&1)===0?"02":"03",st=x.fromHex(j+P(A)),rt=_(A),ht=b(-it*rt),dt=b(X*rt),zt=x.BASE.multiplyAndAddUnsafe(st,ht,dt);if(!zt)throw new Error("point at infinify");return zt.assertValidity(),zt}hasHighS(){return H(this.s)}normalizeS(){return this.hasHighS()?new V(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return Ur(this.toDERHex())}toDERHex(){return Hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ur(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}const et={isValidPrivateKey(nt){try{return T(nt),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const nt=Ny(r.n);return Lb(r.randomBytes(nt),r.n)},precompute(nt=8,N=x.BASE){return N._setWindowSize(nt),N.multiply(BigInt(3)),N}};function tt(nt,N=!0){return x.fromPrivateKey(nt).toRawBytes(N)}function pt(nt){const N=nt instanceof Uint8Array,Q=typeof nt=="string",X=(N||Q)&&nt.length;return N?X===d||X===p:Q?X===2*d||X===2*p:nt instanceof x}function yt(nt,N,Q=!0){if(pt(nt))throw new Error("first arg must be private key");if(!pt(N))throw new Error("second arg must be public key");return x.fromHex(N).multiply(T(nt)).toRawBytes(Q)}const at=r.bits2int||function(nt){const N=hn(nt),Q=nt.length*8-r.nBitLength;return Q>0?N>>BigInt(Q):N},J=r.bits2int_modN||function(nt){return b(at(nt))},ot=sd(r.nBitLength);function St(nt){if(typeof nt!="bigint")throw new Error("bigint expected");if(!(Ki<=nt&&nt<ot))throw new Error(`bigint expected < 2^${r.nBitLength}`);return Ga(nt,r.nByteLength)}function gt(nt,N,Q=lt){if(["recovered","canonical"].some(Pt=>Pt in Q))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:mt}=r;let{lowS:it,prehash:A,extraEntropy:j}=Q;it==null&&(it=!0),nt=qe("msgHash",nt),A&&(nt=qe("prehashed msgHash",X(nt)));const st=J(nt),rt=T(N),ht=[St(rt),St(st)];if(j!=null){const Pt=j===!0?mt(l.BYTES):j;ht.push(qe("extraEntropy",Pt))}const dt=js(...ht),zt=st;function Ft(Pt){const He=at(Pt);if(!R(He))return;const Un=_(He),ye=x.BASE.multiply(He).toAffine(),dn=b(ye.x);if(dn===Ki)return;const We=b(Un*b(zt+dn*rt));if(We===Ki)return;let vi=(ye.x===dn?0:2)|Number(ye.y&kn),_i=We;return it&&H(We)&&(_i=M(We),vi^=1),new V(dn,_i,vi)}return{seed:dt,k2sig:Ft}}const lt={lowS:r.lowS,prehash:!1},ut={lowS:r.lowS,prehash:!1};function vt(nt,N,Q=lt){const{seed:X,k2sig:mt}=gt(nt,N,Q),it=r;return Cy(it.hash.outputLen,it.nByteLength,it.hmac)(X,mt)}x.BASE._setWindowSize(8);function bt(nt,N,Q,X=ut){const mt=nt;if(N=qe("msgHash",N),Q=qe("publicKey",Q),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:it,prehash:A}=X;let j,st;try{if(typeof mt=="string"||mt instanceof Uint8Array)try{j=V.fromDER(mt)}catch(ye){if(!(ye instanceof Hs.Err))throw ye;j=V.fromCompact(mt)}else if(typeof mt=="object"&&typeof mt.r=="bigint"&&typeof mt.s=="bigint"){const{r:ye,s:dn}=mt;j=new V(ye,dn)}else throw new Error("PARSE");st=x.fromHex(Q)}catch(ye){if(ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(it&&j.hasHighS())return!1;A&&(N=r.hash(N));const{r:rt,s:ht}=j,dt=J(N),zt=_(ht),Ft=b(dt*zt),Pt=b(rt*zt),He=x.BASE.multiplyAndAddUnsafe(st,Ft,Pt)?.toAffine();return He?b(He.x)===rt:!1}return{CURVE:r,getPublicKey:tt,getSharedSecret:yt,sign:vt,verify:bt,ProjectivePoint:x,Signature:V,utils:et}}let Ry=class extends Ty{constructor(r,l){super(),this.finished=!1,this.destroyed=!1,F_(r);const c=ed(l);if(this.iHash=r.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?r.create().update(c).digest():c);for(let v=0;v<p.length;v++)p[v]^=54;this.iHash.update(p),this.oHash=r.create();for(let v=0;v<p.length;v++)p[v]^=106;this.oHash.update(p),p.fill(0)}update(r){return Vu(this),this.iHash.update(r),this}digestInto(r){Vu(this),Ey(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:v,outputLen:b}=this;return r=r,r.finished=d,r.destroyed=p,r.blockLen=v,r.outputLen=b,r.oHash=l._cloneInto(r.oHash),r.iHash=c._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ky=(a,r,l)=>new Ry(a,r).update(l).digest();ky.create=(a,r)=>new Ry(a,r);function Ub(a){return{hash:a,hmac:(r,...l)=>ky(a,r,eb(...l)),randomBytes:Ay}}function Hb(a,r){const l=c=>Db({...a,...Ub(c)});return Object.freeze({...l(r),create:l})}const nc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ku=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dy=BigInt(1),Qu=BigInt(2),Vg=(a,r)=>(a+r/Qu)/r;function Uy(a){const r=nc,l=BigInt(3),c=BigInt(6),d=BigInt(11),p=BigInt(22),v=BigInt(23),b=BigInt(44),_=BigInt(88),x=a*a*a%r,T=x*x*a%r,S=Rn(T,l,r)*T%r,R=Rn(S,l,r)*T%r,P=Rn(R,Qu,r)*x%r,H=Rn(P,d,r)*P%r,M=Rn(H,p,r)*H%r,D=Rn(M,b,r)*M%r,V=Rn(D,_,r)*D%r,et=Rn(V,b,r)*M%r,tt=Rn(et,l,r)*T%r,pt=Rn(tt,v,r)*H%r,yt=Rn(pt,c,r)*x%r,at=Rn(yt,Qu,r);if(!Hh.eql(Hh.sqr(at),a))throw new Error("Cannot find square root");return at}const Hh=zb(nc,void 0,void 0,{sqrt:Uy}),Zr=Hb({a:BigInt(0),b:BigInt(7),Fp:Hh,n:Ku,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const r=Ku,l=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-Dy*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=l,v=BigInt("0x100000000000000000000000000000000"),b=Vg(p*a,r),_=Vg(-c*a,r);let x=Ue(a-b*l-_*d,r),T=Ue(-b*c-_*p,r);const S=x>v,R=T>v;if(S&&(x=r-x),R&&(T=r-T),x>v||T>v)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:S,k1:x,k2neg:R,k2:T}}}},kh),ic=BigInt(0),Hy=a=>typeof a=="bigint"&&ic<a&&a<nc,jb=a=>typeof a=="bigint"&&ic<a&&a<Ku,Kg={};function Xu(a,...r){let l=Kg[a];if(l===void 0){const c=kh(Uint8Array.from(a,d=>d.charCodeAt(0)));l=js(c,c),Kg[a]=l}return kh(js(l,...r))}const rd=a=>a.toRawBytes(!0).slice(1),jh=a=>Ga(a,32),Ah=a=>Ue(a,nc),el=a=>Ue(a,Ku),od=Zr.ProjectivePoint,Zb=(a,r,l)=>od.BASE.multiplyAndAddUnsafe(a,r,l);function Zh(a){let r=Zr.utils.normPrivateKeyToScalar(a),l=od.fromPrivateKey(r);return{scalar:l.hasEvenY()?r:el(-r),bytes:rd(l)}}function jy(a){if(!Hy(a))throw new Error("bad x: need 0 < x < p");const r=Ah(a*a),l=Ah(r*a+BigInt(7));let c=Uy(l);c%Qu!==ic&&(c=Ah(-c));const d=new od(a,c,Dy);return d.assertValidity(),d}function Zy(...a){return el(hn(Xu("BIP0340/challenge",...a)))}function Pb(a){return Zh(a).bytes}function qb(a,r,l=Ay(32)){const c=qe("message",a),{bytes:d,scalar:p}=Zh(r),v=qe("auxRand",l,32),b=jh(p^hn(Xu("BIP0340/aux",v))),_=Xu("BIP0340/nonce",b,d,c),x=el(hn(_));if(x===ic)throw new Error("sign failed: k is zero");const{bytes:T,scalar:S}=Zh(x),R=Zy(T,d,c),P=new Uint8Array(64);if(P.set(T,0),P.set(jh(el(S+R*p)),32),!Py(P,c,d))throw new Error("sign: Invalid signature produced");return P}function Py(a,r,l){const c=qe("signature",a,64),d=qe("message",r),p=qe("publicKey",l,32);try{const v=jy(hn(p)),b=hn(c.subarray(0,32));if(!Hy(b))return!1;const _=hn(c.subarray(32,64));if(!jb(_))return!1;const x=Zy(jh(b),rd(v),d),T=Zb(v,_,el(-x));return!(!T||!T.hasEvenY()||T.toAffine().x!==b)}catch{return!1}}const Fo={getPublicKey:Pb,sign:qb,verify:Py,utils:{randomPrivateKey:Zr.utils.randomPrivateKey,lift_x:jy,pointToBytes:rd,numberToBytesBE:Ga,bytesToNumberBE:hn,taggedHash:Xu,mod:Ue}},zh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const ld=a=>a instanceof Uint8Array,Lh=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),mi=(a,r)=>a<<32-r|a>>>r,Gb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Gb)throw new Error("Non little-endian hardware is not supported");const Yb=Array.from({length:256},(a,r)=>r.toString(16).padStart(2,"0"));function Ge(a){if(!ld(a))throw new Error("Uint8Array expected");let r="";for(let l=0;l<a.length;l++)r+=Yb[a[l]];return r}function Zs(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const r=a.length;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const l=new Uint8Array(r/2);for(let c=0;c<l.length;c++){const d=c*2,p=a.slice(d,d+2),v=Number.parseInt(p,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");l[c]=v}return l}function Vb(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function nl(a){if(typeof a=="string"&&(a=Vb(a)),!ld(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function ac(...a){const r=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let l=0;return a.forEach(c=>{if(!ld(c))throw new Error("Uint8Array expected");r.set(c,l),l+=c.length}),r}class qy{clone(){return this._cloneInto()}}function Gy(a){const r=c=>a().update(nl(c)).digest(),l=a();return r.outputLen=l.outputLen,r.blockLen=l.blockLen,r.create=()=>a(),r}function Yy(a=32){if(zh&&typeof zh.getRandomValues=="function")return zh.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Ph(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Kb(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function Vy(a,...r){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(a.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${a.length}`)}function Qb(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ph(a.outputLen),Ph(a.blockLen)}function Xb(a,r=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(r&&a.finished)throw new Error("Hash#digest() has already been called")}function Ib(a,r){Vy(a);const l=r.outputLen;if(a.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}const pi={number:Ph,bool:Kb,bytes:Vy,hash:Qb,exists:Xb,output:Ib};function Jb(a,r,l,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(r,l,c);const d=BigInt(32),p=BigInt(4294967295),v=Number(l>>d&p),b=Number(l&p),_=c?4:0,x=c?0:4;a.setUint32(r+_,v,c),a.setUint32(r+x,b,c)}class Fb extends qy{constructor(r,l,c,d){super(),this.blockLen=r,this.outputLen=l,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=Lh(this.buffer)}update(r){pi.exists(this);const{view:l,buffer:c,blockLen:d}=this;r=nl(r);const p=r.length;for(let v=0;v<p;){const b=Math.min(d-this.pos,p-v);if(b===d){const _=Lh(r);for(;d<=p-v;v+=d)this.process(_,v);continue}c.set(r.subarray(v,v+b),this.pos),this.pos+=b,v+=b,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){pi.exists(this),pi.output(r,this),this.finished=!0;const{buffer:l,view:c,blockLen:d,isLE:p}=this;let{pos:v}=this;l[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>d-v&&(this.process(c,0),v=0);for(let S=v;S<d;S++)l[S]=0;Jb(c,d-8,BigInt(this.length*8),p),this.process(c,0);const b=Lh(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)b.setUint32(4*S,T[S],p)}digest(){const{buffer:r,outputLen:l}=this;this.digestInto(r);const c=r.slice(0,l);return this.destroy(),c}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:l,buffer:c,length:d,finished:p,destroyed:v,pos:b}=this;return r.length=d,r.pos=b,r.finished=p,r.destroyed=v,d%l&&r.buffer.set(c),r}}const Wb=(a,r,l)=>a&r^~a&l,$b=(a,r,l)=>a&r^a&l^r&l,t1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ja=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Za=new Uint32Array(64);class Ky extends Fb{constructor(){super(64,32,8,!1),this.A=ja[0]|0,this.B=ja[1]|0,this.C=ja[2]|0,this.D=ja[3]|0,this.E=ja[4]|0,this.F=ja[5]|0,this.G=ja[6]|0,this.H=ja[7]|0}get(){const{A:r,B:l,C:c,D:d,E:p,F:v,G:b,H:_}=this;return[r,l,c,d,p,v,b,_]}set(r,l,c,d,p,v,b,_){this.A=r|0,this.B=l|0,this.C=c|0,this.D=d|0,this.E=p|0,this.F=v|0,this.G=b|0,this.H=_|0}process(r,l){for(let S=0;S<16;S++,l+=4)Za[S]=r.getUint32(l,!1);for(let S=16;S<64;S++){const R=Za[S-15],P=Za[S-2],H=mi(R,7)^mi(R,18)^R>>>3,M=mi(P,17)^mi(P,19)^P>>>10;Za[S]=M+Za[S-7]+H+Za[S-16]|0}let{A:c,B:d,C:p,D:v,E:b,F:_,G:x,H:T}=this;for(let S=0;S<64;S++){const R=mi(b,6)^mi(b,11)^mi(b,25),P=T+R+Wb(b,_,x)+t1[S]+Za[S]|0,M=(mi(c,2)^mi(c,13)^mi(c,22))+$b(c,d,p)|0;T=x,x=_,_=b,b=v+P|0,v=p,p=d,d=c,c=P+M|0}c=c+this.A|0,d=d+this.B|0,p=p+this.C|0,v=v+this.D|0,b=b+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(c,d,p,v,b,_,x,T)}roundClean(){Za.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class e1 extends Ky{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Ps=Gy(()=>new Ky);Gy(()=>new e1);function Pr(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function Ji(...a){const r=(d,p)=>v=>d(p(v)),l=Array.from(a).reverse().reduce((d,p)=>d?r(d,p.encode):p.encode,void 0),c=a.reduce((d,p)=>d?r(d,p.decode):p.decode,void 0);return{encode:l,decode:c}}function Fi(a){return{encode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return r.map(l=>{if(Pr(l),l<0||l>=a.length)throw new Error(`Digit index outside alphabet: ${l} (alphabet: ${a.length})`);return a[l]})},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("alphabet.decode input should be array of strings");return r.map(l=>{if(typeof l!="string")throw new Error(`alphabet.decode: not string element=${l}`);const c=a.indexOf(l);if(c===-1)throw new Error(`Unknown letter: "${l}". Allowed: ${a}`);return c})}}}function Wi(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("join.encode input should be array of strings");for(let l of r)if(typeof l!="string")throw new Error(`join.encode: non-string input=${l}`);return r.join(a)},decode:r=>{if(typeof r!="string")throw new Error("join.decode input should be string");return r.split(a)}}}function sc(a,r="="){if(Pr(a),typeof r!="string")throw new Error("padding chr should be string");return{encode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of l)if(typeof c!="string")throw new Error(`padding.encode: non-string input=${c}`);for(;l.length*a%8;)l.push(r);return l},decode(l){if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of l)if(typeof d!="string")throw new Error(`padding.decode: non-string input=${d}`);let c=l.length;if(c*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;c>0&&l[c-1]===r;c--)if(!((c-1)*a%8))throw new Error("Invalid padding: string has too much padding");return l.slice(0,c)}}}function Qy(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:r=>r,decode:r=>a(r)}}function Qg(a,r,l){if(r<2)throw new Error(`convertRadix: wrong from=${r}, base cannot be less than 2`);if(l<2)throw new Error(`convertRadix: wrong to=${l}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let c=0;const d=[],p=Array.from(a);for(p.forEach(v=>{if(Pr(v),v<0||v>=r)throw new Error(`Wrong integer: ${v}`)});;){let v=0,b=!0;for(let _=c;_<p.length;_++){const x=p[_],T=r*v+x;if(!Number.isSafeInteger(T)||r*v/r!==v||T-x!==r*v)throw new Error("convertRadix: carry overflow");if(v=T%l,p[_]=Math.floor(T/l),!Number.isSafeInteger(p[_])||p[_]*l+v!==T)throw new Error("convertRadix: carry overflow");if(b)p[_]?b=!1:c=_;else continue}if(d.push(v),b)break}for(let v=0;v<a.length-1&&a[v]===0;v++)d.push(0);return d.reverse()}const Xy=(a,r)=>r?Xy(r,a%r):a,Iu=(a,r)=>a+(r-Xy(a,r));function qh(a,r,l,c){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(r<=0||r>32)throw new Error(`convertRadix2: wrong from=${r}`);if(l<=0||l>32)throw new Error(`convertRadix2: wrong to=${l}`);if(Iu(r,l)>32)throw new Error(`convertRadix2: carry overflow from=${r} to=${l} carryBits=${Iu(r,l)}`);let d=0,p=0;const v=2**l-1,b=[];for(const _ of a){if(Pr(_),_>=2**r)throw new Error(`convertRadix2: invalid data word=${_} from=${r}`);if(d=d<<r|_,p+r>32)throw new Error(`convertRadix2: carry overflow pos=${p} from=${r}`);for(p+=r;p>=l;p-=l)b.push((d>>p-l&v)>>>0);d&=2**p-1}if(d=d<<l-p&v,!c&&p>=r)throw new Error("Excess padding");if(!c&&d)throw new Error(`Non-zero padding: ${d}`);return c&&p>0&&b.push(d>>>0),b}function n1(a){return Pr(a),{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Qg(Array.from(r),2**8,a)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Qg(r,a,2**8))}}}function Ya(a,r=!1){if(Pr(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(Iu(8,a)>32||Iu(a,8)>32)throw new Error("radix2: carry overflow");return{encode:l=>{if(!(l instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return qh(Array.from(l),8,a,!r)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(qh(l,a,8,r))}}}function Xg(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...r){try{return a.apply(null,r)}catch{}}}const i1=Ji(Ya(4),Fi("0123456789ABCDEF"),Wi("")),a1=Ji(Ya(5),Fi("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),sc(5),Wi(""));Ji(Ya(5),Fi("0123456789ABCDEFGHIJKLMNOPQRSTUV"),sc(5),Wi(""));Ji(Ya(5),Fi("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Wi(""),Qy(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ii=Ji(Ya(6),Fi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),sc(6),Wi("")),s1=Ji(Ya(6),Fi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),sc(6),Wi("")),ud=a=>Ji(n1(58),Fi(a),Wi("")),Gh=ud("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");ud("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");ud("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Ig=[0,2,3,5,6,7,9,10,11],r1={encode(a){let r="";for(let l=0;l<a.length;l+=8){const c=a.subarray(l,l+8);r+=Gh.encode(c).padStart(Ig[c.length],"1")}return r},decode(a){let r=[];for(let l=0;l<a.length;l+=11){const c=a.slice(l,l+11),d=Ig.indexOf(c.length),p=Gh.decode(c);for(let v=0;v<p.length-d;v++)if(p[v]!==0)throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(p.slice(p.length-d)))}return Uint8Array.from(r)}},Yh=Ji(Fi("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Wi("")),Jg=[996825010,642813549,513874426,1027748829,705979059];function Wo(a){const r=a>>25;let l=(a&33554431)<<5;for(let c=0;c<Jg.length;c++)(r>>c&1)===1&&(l^=Jg[c]);return l}function Fg(a,r,l=1){const c=a.length;let d=1;for(let p=0;p<c;p++){const v=a.charCodeAt(p);if(v<33||v>126)throw new Error(`Invalid prefix (${a})`);d=Wo(d)^v>>5}d=Wo(d);for(let p=0;p<c;p++)d=Wo(d)^a.charCodeAt(p)&31;for(let p of r)d=Wo(d)^p;for(let p=0;p<6;p++)d=Wo(d);return d^=l,Yh.encode(qh([d%2**30],30,5,!1))}function Iy(a){const r=a==="bech32"?1:734539939,l=Ya(5),c=l.decode,d=l.encode,p=Xg(c);function v(T,S,R=90){if(typeof T!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof T}`);if(!Array.isArray(S)||S.length&&typeof S[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof S}`);const P=T.length+7+S.length;if(R!==!1&&P>R)throw new TypeError(`Length ${P} exceeds limit ${R}`);return T=T.toLowerCase(),`${T}1${Yh.encode(S)}${Fg(T,S,r)}`}function b(T,S=90){if(typeof T!="string")throw new Error(`bech32.decode input should be string, not ${typeof T}`);if(T.length<8||S!==!1&&T.length>S)throw new TypeError(`Wrong string length: ${T.length} (${T}). Expected (8..${S})`);const R=T.toLowerCase();if(T!==R&&T!==T.toUpperCase())throw new Error("String must be lowercase or uppercase");T=R;const P=T.lastIndexOf("1");if(P===0||P===-1)throw new Error('Letter "1" must be present between prefix and data only');const H=T.slice(0,P),M=T.slice(P+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");const D=Yh.decode(M).slice(0,-6),V=Fg(H,D,r);if(!M.endsWith(V))throw new Error(`Invalid checksum in ${T}: expected "${V}"`);return{prefix:H,words:D}}const _=Xg(b);function x(T){const{prefix:S,words:R}=b(T,!1);return{prefix:S,words:R,bytes:c(R)}}return{encode:v,decode:b,decodeToBytes:x,decodeUnsafe:_,fromWords:c,fromWordsUnsafe:p,toWords:d}}const Hr=Iy("bech32");Iy("bech32m");const o1={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},l1=Ji(Ya(4),Fi("0123456789abcdef"),Wi(""),Qy(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),u1={utf8:o1,hex:l1,base16:i1,base32:a1,base64:Ii,base64url:s1,base58:Gh,base58xmr:r1};`${Object.keys(u1).join(", ")}`;function Ch(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function Wg(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function c1(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function gi(a,...r){if(!c1(a))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(a.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${a.length}`)}const Ye=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),f1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!f1)throw new Error("Non little-endian hardware is not supported");const h1=Array.from({length:256},(a,r)=>r.toString(16).padStart(2,"0"));function Nr(a){gi(a);let r="";for(let l=0;l<a.length;l++)r+=h1[a[l]];return r}const Yi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function $g(a){if(a>=Yi._0&&a<=Yi._9)return a-Yi._0;if(a>=Yi._A&&a<=Yi._F)return a-(Yi._A-10);if(a>=Yi._a&&a<=Yi._f)return a-(Yi._a-10)}function Jy(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const r=a.length,l=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const c=new Uint8Array(l);for(let d=0,p=0;d<l;d++,p+=2){const v=$g(a.charCodeAt(p)),b=$g(a.charCodeAt(p+1));if(v===void 0||b===void 0){const _=a[p]+a[p+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+p)}c[d]=v*16+b}return c}function d1(a,r){if(r==null||typeof r!="object")throw new Error("options must be defined");return Object.assign(a,r)}function m1(a,r){if(a.length!==r.length)return!1;let l=0;for(let c=0;c<a.length;c++)l|=a[c]^r[c];return l===0}const p1=(a,r)=>(Object.assign(r,a),r),qa=16,g1=283;function cd(a){return a<<1^g1&-(a>>7)}function Br(a,r){let l=0;for(;r>0;r>>=1)l^=a&-(r&1),a=cd(a);return l}const Vh=(()=>{let a=new Uint8Array(256);for(let l=0,c=1;l<256;l++,c^=cd(c))a[l]=c;const r=new Uint8Array(256);r[0]=99;for(let l=0;l<255;l++){let c=a[255-l];c|=c<<8,r[a[l]]=(c^c>>4^c>>5^c>>6^c>>7^99)&255}return r})(),y1=Vh.map((a,r)=>Vh.indexOf(r)),v1=a=>a<<24|a>>>8,Mh=a=>a<<8|a>>>24;function Fy(a,r){if(a.length!==256)throw new Error("Wrong sbox length");const l=new Uint32Array(256).map((x,T)=>r(a[T])),c=l.map(Mh),d=c.map(Mh),p=d.map(Mh),v=new Uint32Array(256*256),b=new Uint32Array(256*256),_=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let T=0;T<256;T++){const S=x*256+T;v[S]=l[x]^c[T],b[S]=d[x]^p[T],_[S]=a[x]<<8|a[T]}return{sbox:a,sbox2:_,T0:l,T1:c,T2:d,T3:p,T01:v,T23:b}}const fd=Fy(Vh,a=>Br(a,3)<<24|a<<16|a<<8|Br(a,2)),Wy=Fy(y1,a=>Br(a,11)<<24|Br(a,13)<<16|Br(a,9)<<8|Br(a,14)),_1=(()=>{const a=new Uint8Array(16);for(let r=0,l=1;r<16;r++,l=cd(l))a[r]=l;return a})();function $y(a){gi(a);const r=a.length;if(![16,24,32].includes(r))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${r}`);const{sbox2:l}=fd,c=Ye(a),d=c.length,p=b=>yi(l,b,b,b,b),v=new Uint32Array(r+28);v.set(c);for(let b=d;b<v.length;b++){let _=v[b-1];b%d===0?_=p(v1(_))^_1[b/d-1]:d>6&&b%d===4&&(_=p(_)),v[b]=v[b-d]^_}return v}function b1(a){const r=$y(a),l=r.slice(),c=r.length,{sbox2:d}=fd,{T0:p,T1:v,T2:b,T3:_}=Wy;for(let x=0;x<c;x+=4)for(let T=0;T<4;T++)l[x+T]=r[c-x-4+T];r.fill(0);for(let x=4;x<c-4;x++){const T=l[x],S=yi(d,T,T,T,T);l[x]=p[S&255]^v[S>>>8&255]^b[S>>>16&255]^_[S>>>24]}return l}function Pa(a,r,l,c,d,p){return a[l<<8&65280|c>>>8&255]^r[d>>>8&65280|p>>>24&255]}function yi(a,r,l,c,d){return a[r&255|l&65280]|a[c>>>16&255|d>>>16&65280]<<16}function ty(a,r,l,c,d){const{sbox2:p,T01:v,T23:b}=fd;let _=0;r^=a[_++],l^=a[_++],c^=a[_++],d^=a[_++];const x=a.length/4-2;for(let H=0;H<x;H++){const M=a[_++]^Pa(v,b,r,l,c,d),D=a[_++]^Pa(v,b,l,c,d,r),V=a[_++]^Pa(v,b,c,d,r,l),et=a[_++]^Pa(v,b,d,r,l,c);r=M,l=D,c=V,d=et}const T=a[_++]^yi(p,r,l,c,d),S=a[_++]^yi(p,l,c,d,r),R=a[_++]^yi(p,c,d,r,l),P=a[_++]^yi(p,d,r,l,c);return{s0:T,s1:S,s2:R,s3:P}}function w1(a,r,l,c,d){const{sbox2:p,T01:v,T23:b}=Wy;let _=0;r^=a[_++],l^=a[_++],c^=a[_++],d^=a[_++];const x=a.length/4-2;for(let H=0;H<x;H++){const M=a[_++]^Pa(v,b,r,d,c,l),D=a[_++]^Pa(v,b,l,r,d,c),V=a[_++]^Pa(v,b,c,l,r,d),et=a[_++]^Pa(v,b,d,c,l,r);r=M,l=D,c=V,d=et}const T=a[_++]^yi(p,r,d,c,l),S=a[_++]^yi(p,l,r,d,c),R=a[_++]^yi(p,c,l,r,d),P=a[_++]^yi(p,d,c,l,r);return{s0:T,s1:S,s2:R,s3:P}}function tv(a,r){if(!r)return new Uint8Array(a);if(gi(r),r.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${r.length}`);return r}function x1(a){if(gi(a),a.length%qa!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${qa}`)}function E1(a,r,l){let c=a.length;const d=c%qa;if(!r&&d!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const p=Ye(a);if(r){let _=qa-d;_||(_=qa),c=c+_}const v=tv(c,l),b=Ye(v);return{b:p,o:b,out:v}}function S1(a,r){if(!r)return a;const l=a.length;if(!l)throw new Error("aes/pcks5: empty ciphertext not allowed");const c=a[l-1];if(c<=0||c>16)throw new Error(`aes/pcks5: wrong padding byte: ${c}`);const d=a.subarray(0,-c);for(let p=0;p<c;p++)if(a[l-p-1]!==c)throw new Error("aes/pcks5: wrong padding");return d}function T1(a){const r=new Uint8Array(16),l=Ye(r);r.set(a);const c=qa-a.length;for(let d=qa-c;d<qa;d++)r[d]=c;return l}const ev=p1({blockSize:16,nonceLength:16},function(r,l,c={}){gi(r),gi(l,16);const d=!c.disablePadding;return{encrypt:(p,v)=>{const b=$y(r),{b:_,o:x,out:T}=E1(p,d,v),S=Ye(l);let R=S[0],P=S[1],H=S[2],M=S[3],D=0;for(;D+4<=_.length;)R^=_[D+0],P^=_[D+1],H^=_[D+2],M^=_[D+3],{s0:R,s1:P,s2:H,s3:M}=ty(b,R,P,H,M),x[D++]=R,x[D++]=P,x[D++]=H,x[D++]=M;if(d){const V=T1(p.subarray(D*4));R^=V[0],P^=V[1],H^=V[2],M^=V[3],{s0:R,s1:P,s2:H,s3:M}=ty(b,R,P,H,M),x[D++]=R,x[D++]=P,x[D++]=H,x[D++]=M}return b.fill(0),T},decrypt:(p,v)=>{x1(p);const b=b1(r),_=Ye(l),x=tv(p.length,v),T=Ye(p),S=Ye(x);let R=_[0],P=_[1],H=_[2],M=_[3];for(let D=0;D+4<=T.length;){const V=R,et=P,tt=H,pt=M;R=T[D+0],P=T[D+1],H=T[D+2],M=T[D+3];const{s0:yt,s1:at,s2:J,s3:ot}=w1(b,R,P,H,M);S[D++]=yt^V,S[D++]=at^et,S[D++]=J^tt,S[D++]=ot^pt}return b.fill(0),S1(x,d)}}}),nv=a=>Uint8Array.from(a.split("").map(r=>r.charCodeAt(0))),A1=nv("expand 16-byte k"),z1=nv("expand 32-byte k"),L1=Ye(A1),iv=Ye(z1);iv.slice();function Kt(a,r){return a<<r|a>>>32-r}function Kh(a){return a.byteOffset%4===0}const Hu=64,C1=16,av=2**32-1,ey=new Uint32Array;function M1(a,r,l,c,d,p,v,b){const _=d.length,x=new Uint8Array(Hu),T=Ye(x),S=Kh(d)&&Kh(p),R=S?Ye(d):ey,P=S?Ye(p):ey;for(let H=0;H<_;v++){if(a(r,l,c,T,v,b),v>=av)throw new Error("arx: counter overflow");const M=Math.min(Hu,_-H);if(S&&M===Hu){const D=H/4;if(H%4!==0)throw new Error("arx: invalid block position");for(let V=0,et;V<C1;V++)et=D+V,P[et]=R[et]^T[V];H+=Hu;continue}for(let D=0,V;D<M;D++)V=H+D,p[V]=d[V]^x[D];H+=M}}function O1(a,r){const{allowShortKeys:l,extendNonceFn:c,counterLength:d,counterRight:p,rounds:v}=d1({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},r);if(typeof a!="function")throw new Error("core must be a function");return Ch(d),Ch(v),Wg(p),Wg(l),(b,_,x,T,S=0)=>{gi(b),gi(_),gi(x);const R=x.length;if(T||(T=new Uint8Array(R)),gi(T),Ch(S),S<0||S>=av)throw new Error("arx: counter overflow");if(T.length<R)throw new Error(`arx: output (${T.length}) is shorter than data (${R})`);const P=[];let H=b.length,M,D;if(H===32)M=b.slice(),P.push(M),D=iv;else if(H===16&&l)M=new Uint8Array(32),M.set(b),M.set(b,16),D=L1,P.push(M);else throw new Error(`arx: invalid 32-byte key, got length=${H}`);Kh(_)||(_=_.slice(),P.push(_));const V=Ye(M);if(c){if(_.length!==24)throw new Error("arx: extended nonce must be 24 bytes");c(D,V,Ye(_.subarray(0,16)),V),_=_.subarray(16)}const et=16-d;if(et!==_.length)throw new Error(`arx: nonce must be ${et} or 16 bytes`);if(et!==12){const pt=new Uint8Array(12);pt.set(_,p?0:12-_.length),_=pt,P.push(_)}const tt=Ye(_);for(M1(a,D,V,tt,x,T,S,v);P.length>0;)P.pop().fill(0);return T}}function N1(a,r,l,c,d,p=20){let v=a[0],b=a[1],_=a[2],x=a[3],T=r[0],S=r[1],R=r[2],P=r[3],H=r[4],M=r[5],D=r[6],V=r[7],et=d,tt=l[0],pt=l[1],yt=l[2],at=v,J=b,ot=_,St=x,gt=T,lt=S,ut=R,vt=P,bt=H,nt=M,N=D,Q=V,X=et,mt=tt,it=pt,A=yt;for(let st=0;st<p;st+=2)at=at+gt|0,X=Kt(X^at,16),bt=bt+X|0,gt=Kt(gt^bt,12),at=at+gt|0,X=Kt(X^at,8),bt=bt+X|0,gt=Kt(gt^bt,7),J=J+lt|0,mt=Kt(mt^J,16),nt=nt+mt|0,lt=Kt(lt^nt,12),J=J+lt|0,mt=Kt(mt^J,8),nt=nt+mt|0,lt=Kt(lt^nt,7),ot=ot+ut|0,it=Kt(it^ot,16),N=N+it|0,ut=Kt(ut^N,12),ot=ot+ut|0,it=Kt(it^ot,8),N=N+it|0,ut=Kt(ut^N,7),St=St+vt|0,A=Kt(A^St,16),Q=Q+A|0,vt=Kt(vt^Q,12),St=St+vt|0,A=Kt(A^St,8),Q=Q+A|0,vt=Kt(vt^Q,7),at=at+lt|0,A=Kt(A^at,16),N=N+A|0,lt=Kt(lt^N,12),at=at+lt|0,A=Kt(A^at,8),N=N+A|0,lt=Kt(lt^N,7),J=J+ut|0,X=Kt(X^J,16),Q=Q+X|0,ut=Kt(ut^Q,12),J=J+ut|0,X=Kt(X^J,8),Q=Q+X|0,ut=Kt(ut^Q,7),ot=ot+vt|0,mt=Kt(mt^ot,16),bt=bt+mt|0,vt=Kt(vt^bt,12),ot=ot+vt|0,mt=Kt(mt^ot,8),bt=bt+mt|0,vt=Kt(vt^bt,7),St=St+gt|0,it=Kt(it^St,16),nt=nt+it|0,gt=Kt(gt^nt,12),St=St+gt|0,it=Kt(it^St,8),nt=nt+it|0,gt=Kt(gt^nt,7);let j=0;c[j++]=v+at|0,c[j++]=b+J|0,c[j++]=_+ot|0,c[j++]=x+St|0,c[j++]=T+gt|0,c[j++]=S+lt|0,c[j++]=R+ut|0,c[j++]=P+vt|0,c[j++]=H+bt|0,c[j++]=M+nt|0,c[j++]=D+N|0,c[j++]=V+Q|0,c[j++]=et+X|0,c[j++]=tt+mt|0,c[j++]=pt+it|0,c[j++]=yt+A|0}const sv=O1(N1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class rv extends qy{constructor(r,l){super(),this.finished=!1,this.destroyed=!1,pi.hash(r);const c=nl(l);if(this.iHash=r.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(c.length>d?r.create().update(c).digest():c);for(let v=0;v<p.length;v++)p[v]^=54;this.iHash.update(p),this.oHash=r.create();for(let v=0;v<p.length;v++)p[v]^=106;this.oHash.update(p),p.fill(0)}update(r){return pi.exists(this),this.iHash.update(r),this}digestInto(r){pi.exists(this),pi.bytes(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:p,blockLen:v,outputLen:b}=this;return r=r,r.finished=d,r.destroyed=p,r.blockLen=v,r.outputLen=b,r.oHash=l._cloneInto(r.oHash),r.iHash=c._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rc=(a,r,l)=>new rv(a,r).update(l).digest();rc.create=(a,r)=>new rv(a,r);function B1(a,r,l){return pi.hash(a),rc(a,nl(l),nl(r))}const Oh=new Uint8Array([0]),ny=new Uint8Array;function R1(a,r,l,c=32){if(pi.hash(a),pi.number(c),c>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(c/a.outputLen);l===void 0&&(l=ny);const p=new Uint8Array(d*a.outputLen),v=rc.create(a,r),b=v._cloneInto(),_=new Uint8Array(v.outputLen);for(let x=0;x<d;x++)Oh[0]=x+1,b.update(x===0?ny:_).update(l).update(Oh).digestInto(_),p.set(_,a.outputLen*x),v._cloneInto(b);return v.destroy(),b.destroy(),_.fill(0),Oh.fill(0),p.slice(0,c)}var k1=Object.defineProperty,re=(a,r)=>{for(var l in r)k1(a,l,{get:r[l],enumerable:!0})},ks=Symbol("verified"),D1=a=>a instanceof Object;function hd(a){if(!D1(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let r=0;r<a.tags.length;r++){let l=a.tags[r];if(!Array.isArray(l))return!1;for(let c=0;c<l.length;c++)if(typeof l[c]!="string")return!1}return!0}var U1={};re(U1,{Queue:()=>lv,QueueNode:()=>ov,binarySearch:()=>dd,bytesToHex:()=>Ge,hexToBytes:()=>Zs,insertEventIntoAscendingList:()=>j1,insertEventIntoDescendingList:()=>H1,normalizeURL:()=>Us,utf8Decoder:()=>Xi,utf8Encoder:()=>Jn});var Xi=new TextDecoder("utf-8"),Jn=new TextEncoder;function Us(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let r=new URL(a);return r.protocol==="http:"?r.protocol="ws:":r.protocol==="https:"&&(r.protocol="wss:"),r.pathname=r.pathname.replace(/\/+/g,"/"),r.pathname.endsWith("/")&&(r.pathname=r.pathname.slice(0,-1)),(r.port==="80"&&r.protocol==="ws:"||r.port==="443"&&r.protocol==="wss:")&&(r.port=""),r.searchParams.sort(),r.hash="",r.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function H1(a,r){const[l,c]=dd(a,d=>r.id===d.id?0:r.created_at===d.created_at?-1:d.created_at-r.created_at);return c||a.splice(l,0,r),a}function j1(a,r){const[l,c]=dd(a,d=>r.id===d.id?0:r.created_at===d.created_at?-1:r.created_at-d.created_at);return c||a.splice(l,0,r),a}function dd(a,r){let l=0,c=a.length-1;for(;l<=c;){const d=Math.floor((l+c)/2),p=r(a[d]);if(p===0)return[d,!0];p<0?c=d-1:l=d+1}return[l,!1]}var ov=class{value;next=null;prev=null;constructor(a){this.value=a}},lv=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const r=new ov(a);return this.last?this.last===this.first?(this.last=r,this.last.prev=this.first,this.first.next=r):(r.prev=this.last,this.last.next=r,this.last=r):(this.first=r,this.last=r),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const r=this.first;return this.first=null,this.last=null,r.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},Z1=class{generateSecretKey(){return Fo.utils.randomPrivateKey()}getPublicKey(a){return Ge(Fo.getPublicKey(a))}finalizeEvent(a,r){const l=a;return l.pubkey=Ge(Fo.getPublicKey(r)),l.id=Pu(l),l.sig=Ge(Fo.sign(Pu(l),r)),l[ks]=!0,l}verifyEvent(a){if(typeof a[ks]=="boolean")return a[ks];const r=Pu(a);if(r!==a.id)return a[ks]=!1,!1;try{const l=Fo.verify(a.sig,r,a.pubkey);return a[ks]=l,l}catch{return a[ks]=!1,!1}}};function P1(a){if(!hd(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function Pu(a){let r=Ps(Jn.encode(P1(a)));return Ge(r)}var oc=new Z1,uv=oc.generateSecretKey,il=oc.getPublicKey,Dn=oc.finalizeEvent,lc=oc.verifyEvent,q1={};re(q1,{Application:()=>tx,BadgeAward:()=>J1,BadgeDefinition:()=>Qw,BlockedRelaysList:()=>Cw,BlossomServerList:()=>Dw,BookmarkList:()=>Aw,Bookmarksets:()=>Yw,Calendar:()=>ox,CalendarEventRSVP:()=>lx,ChannelCreation:()=>pv,ChannelHideMessage:()=>vv,ChannelMessage:()=>yv,ChannelMetadata:()=>gv,ChannelMuteUser:()=>_v,ChatMessage:()=>F1,ClassifiedListing:()=>ix,ClientAuth:()=>wv,Comment:()=>rw,CommunitiesList:()=>zw,CommunityDefinition:()=>hx,CommunityPostApproval:()=>mw,Contacts:()=>Q1,CreateOrUpdateProduct:()=>Jw,CreateOrUpdateStall:()=>Iw,Curationsets:()=>Vw,Date:()=>sx,DirectMessageRelaysList:()=>Rw,DraftClassifiedListing:()=>ax,DraftLong:()=>Ww,Emojisets:()=>$w,EncryptedDirectMessage:()=>X1,EventDeletion:()=>I1,FavoriteRelays:()=>Ow,FileMessage:()=>$1,FileMetadata:()=>sw,FileServerPreference:()=>kw,Followsets:()=>Pw,ForumThread:()=>W1,GenericRepost:()=>vd,Genericlists:()=>qw,GiftWrap:()=>bv,GroupMetadata:()=>dx,HTTPAuth:()=>_d,Handlerinformation:()=>fx,Handlerrecommendation:()=>cx,Highlights:()=>ww,InterestsList:()=>Nw,Interestsets:()=>Xw,JobFeedback:()=>yw,JobRequest:()=>pw,JobResult:()=>gw,Label:()=>dw,LightningPubRPC:()=>Hw,LiveChatMessage:()=>ow,LiveEvent:()=>ex,LongFormArticle:()=>Fw,Metadata:()=>V1,Mutelist:()=>Ew,NWCWalletInfo:()=>Uw,NWCWalletRequest:()=>xv,NWCWalletResponse:()=>jw,NormalVideo:()=>ew,NostrConnect:()=>Zw,OpenTimestamps:()=>iw,Photo:()=>tw,Pinlist:()=>Sw,Poll:()=>aw,PollResponse:()=>xw,PrivateDirectMessage:()=>mv,ProblemTracker:()=>cw,ProfileBadges:()=>Kw,PublicChatsList:()=>Lw,Reaction:()=>yd,RecommendRelay:()=>K1,RelayList:()=>Tw,RelayReview:()=>ux,Relaysets:()=>Gw,Report:()=>fw,Reporting:()=>hw,Repost:()=>gd,Seal:()=>dv,SearchRelaysList:()=>Mw,ShortTextNote:()=>hv,ShortVideo:()=>nw,Time:()=>rx,UserEmojiList:()=>Bw,UserStatuses:()=>nx,Voice:()=>lw,VoiceComment:()=>uw,Zap:()=>bw,ZapGoal:()=>vw,ZapRequest:()=>_w,classifyKind:()=>G1,isAddressableKind:()=>pd,isEphemeralKind:()=>fv,isKind:()=>Y1,isRegularKind:()=>cv,isReplaceableKind:()=>md});function cv(a){return a<1e4&&a!==0&&a!==3}function md(a){return a===0||a===3||1e4<=a&&a<2e4}function fv(a){return 2e4<=a&&a<3e4}function pd(a){return 3e4<=a&&a<4e4}function G1(a){return cv(a)?"regular":md(a)?"replaceable":fv(a)?"ephemeral":pd(a)?"parameterized":"unknown"}function Y1(a,r){const l=r instanceof Array?r:[r];return hd(a)&&l.includes(a.kind)||!1}var V1=0,hv=1,K1=2,Q1=3,X1=4,I1=5,gd=6,yd=7,J1=8,F1=9,W1=11,dv=13,mv=14,$1=15,vd=16,tw=20,ew=21,nw=22,pv=40,gv=41,yv=42,vv=43,_v=44,iw=1040,bv=1059,aw=1068,sw=1063,rw=1111,ow=1311,lw=1222,uw=1244,cw=1971,fw=1984,hw=1984,dw=1985,mw=4550,pw=5999,gw=6999,yw=7e3,vw=9041,_w=9734,bw=9735,ww=9802,xw=1018,Ew=1e4,Sw=10001,Tw=10002,Aw=10003,zw=10004,Lw=10005,Cw=10006,Mw=10007,Ow=10012,Nw=10015,Bw=10030,Rw=10050,kw=10096,Dw=10063,Uw=13194,Hw=21e3,wv=22242,xv=23194,jw=23195,Zw=24133,_d=27235,Pw=3e4,qw=30001,Gw=30002,Yw=30003,Vw=30004,Kw=30008,Qw=30009,Xw=30015,Iw=30017,Jw=30018,Fw=30023,Ww=30024,$w=30030,tx=30078,ex=30311,nx=30315,ix=30402,ax=30403,sx=31922,rx=31923,ox=31924,lx=31925,ux=31987,cx=31989,fx=31990,hx=34550,dx=39e3;function mx(a,r){if(a.ids&&a.ids.indexOf(r.id)===-1||a.kinds&&a.kinds.indexOf(r.kind)===-1||a.authors&&a.authors.indexOf(r.pubkey)===-1)return!1;for(let l in a)if(l[0]==="#"){let c=l.slice(1),d=a[`#${c}`];if(d&&!r.tags.find(([p,v])=>p===l.slice(1)&&d.indexOf(v)!==-1))return!1}return!(a.since&&r.created_at<a.since||a.until&&r.created_at>a.until)}function px(a,r){for(let l=0;l<a.length;l++)if(mx(a[l],r))return!0;return!1}var gx={};re(gx,{getHex64:()=>uc,getInt:()=>Ev,getSubscriptionId:()=>Sv,matchEventId:()=>yx,matchEventKind:()=>_x,matchEventPubkey:()=>vx});function uc(a,r){let l=r.length+3,c=a.indexOf(`"${r}":`)+l,d=a.slice(c).indexOf('"')+c+1;return a.slice(d,d+64)}function Ev(a,r){let l=r.length,c=a.indexOf(`"${r}":`)+l+3,d=a.slice(c),p=Math.min(d.indexOf(","),d.indexOf("}"));return parseInt(d.slice(0,p),10)}function Sv(a){let r=a.slice(0,22).indexOf('"EVENT"');if(r===-1)return null;let l=a.slice(r+7+1).indexOf('"');if(l===-1)return null;let c=r+7+1+l,d=a.slice(c+1,80).indexOf('"');if(d===-1)return null;let p=c+1+d;return a.slice(c+1,p)}function yx(a,r){return r===uc(a,"id")}function vx(a,r){return r===uc(a,"pubkey")}function _x(a,r){return r===Ev(a,"kind")}var bx={};re(bx,{makeAuthEvent:()=>Tv});function Tv(a,r){return{kind:wv,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",r]],content:""}}async function wx(){return new Promise((a,r)=>{try{if(typeof MessageChannel<"u"){const l=new MessageChannel,c=()=>{l.port1.removeEventListener("message",c),a()};l.port1.addEventListener("message",c),l.port2.postMessage(0),l.port1.start()}else typeof setImmediate<"u"?setImmediate(a):typeof setTimeout<"u"?setTimeout(a,0):a()}catch(l){console.error("during yield: ",l),r(l)}})}var xx=a=>(a[ks]=!0,!0),Av=class extends Error{constructor(a,r){super(`Tried to send message '${a} on a closed connection to ${r}.`),this.name="SendingOnClosedConnection"}},zv=class{url;_connected=!1;onclose=null;onnotice=a=>console.debug(`NOTICE from ${this.url}: ${a}`);onauth;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;pingFrequency=29e3;pingTimeout=2e4;resubscribeBackoff=[1e4,1e4,1e4,2e4,2e4,3e4,6e4];openSubs=new Map;enablePing;enableReconnect;connectionTimeoutHandle;reconnectTimeoutHandle;pingIntervalHandle;reconnectAttempts=0;closedIntentionally=!1;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new lv;queueRunning=!1;challenge;authPromise;serial=0;verifyEvent;_WebSocket;constructor(a,r){this.url=Us(a),this.verifyEvent=r.verifyEvent,this._WebSocket=r.websocketImplementation||WebSocket,this.enablePing=r.enablePing,this.enableReconnect=r.enableReconnect||!1}static async connect(a,r){const l=new zv(a,r);return await l.connect(),l}closeAllSubscriptions(a){for(let[r,l]of this.openSubs)l.close(a);this.openSubs.clear();for(let[r,l]of this.openEventPublishes)l.reject(new Error(a));this.openEventPublishes.clear();for(let[r,l]of this.openCountRequests)l.reject(new Error(a));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const a=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},a)}handleHardClose(a){this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const r=this.closedIntentionally;this.closedIntentionally=!1,this.onclose?.(),this.enableReconnect&&!r?this.reconnect():this.closeAllSubscriptions(a)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((a,r)=>{this.connectionTimeoutHandle=setTimeout(()=>{r("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(l){clearTimeout(this.connectionTimeoutHandle),r(l);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0;const l=this.reconnectAttempts>0;this.reconnectAttempts=0;for(const c of this.openSubs.values()){if(c.eosed=!1,l)for(let d=0;d<c.filters.length;d++)c.lastEmitted&&(c.filters[d].since=c.lastEmitted+1);c.fire()}this.enablePing&&(this.pingIntervalHandle=setInterval(()=>this.pingpong(),this.pingFrequency)),a()},this.ws.onerror=l=>{clearTimeout(this.connectionTimeoutHandle),r(l.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=l=>{clearTimeout(this.connectionTimeoutHandle),r(l.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(a=>{this.ws.once("pong",()=>a(!0)),this.ws.ping()})}waitForDummyReq(){return new Promise((a,r)=>{if(!this.connectionPromise)return r(new Error(`no connection to ${this.url}, can't ping`));try{const l=this.subscribe([{ids:["aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"],limit:0}],{label:"forced-ping",oneose:()=>{a(!0),l.close()},onclose(){a(!0)},eoseTimeout:this.pingTimeout+1e3})}catch(l){r(l)}})}async pingpong(){this.ws?.readyState===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(r=>setTimeout(()=>r(!1),this.pingTimeout))])||this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close())}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await wx();this.queueRunning=!1}handleNext(){const a=this.incomingMessageQueue.dequeue();if(!a)return!1;const r=Sv(a);if(r){const l=this.openSubs.get(r);if(!l)return;const c=uc(a,"id"),d=l.alreadyHaveEvent?.(c);if(l.receivedEvent?.(this,c),d)return}try{let l=JSON.parse(a);switch(l[0]){case"EVENT":{const c=this.openSubs.get(l[1]),d=l[2];this.verifyEvent(d)&&px(c.filters,d)&&c.onevent(d),(!c.lastEmitted||c.lastEmitted<d.created_at)&&(c.lastEmitted=d.created_at);return}case"COUNT":{const c=l[1],d=l[2],p=this.openCountRequests.get(c);p&&(p.resolve(d.count),this.openCountRequests.delete(c));return}case"EOSE":{const c=this.openSubs.get(l[1]);if(!c)return;c.receivedEose();return}case"OK":{const c=l[1],d=l[2],p=l[3],v=this.openEventPublishes.get(c);v&&(clearTimeout(v.timeout),d?v.resolve(p):v.reject(new Error(p)),this.openEventPublishes.delete(c));return}case"CLOSED":{const c=l[1],d=this.openSubs.get(c);if(!d)return;d.closed=!0,d.close(l[2]);return}case"NOTICE":{this.onnotice(l[1]);return}case"AUTH":{this.challenge=l[1],this.onauth&&this.auth(this.onauth);return}default:{this.openSubs.get(l[1])?.oncustom?.(l);return}}}catch{return}}async send(a){if(!this.connectionPromise)throw new Av(a,this.url);this.connectionPromise.then(()=>{this.ws?.send(a)})}async auth(a){const r=this.challenge;if(!r)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(l,c)=>{try{let d=await a(Tv(this.url,r)),p=setTimeout(()=>{let v=this.openEventPublishes.get(d.id);v&&(v.reject(new Error("auth timed out")),this.openEventPublishes.delete(d.id))},this.publishTimeout);this.openEventPublishes.set(d.id,{resolve:l,reject:c,timeout:p}),this.send('["AUTH",'+JSON.stringify(d)+"]")}catch(d){console.warn("subscribe auth function failed:",d)}}),this.authPromise)}async publish(a){const r=new Promise((l,c)=>{const d=setTimeout(()=>{const p=this.openEventPublishes.get(a.id);p&&(p.reject(new Error("publish timed out")),this.openEventPublishes.delete(a.id))},this.publishTimeout);this.openEventPublishes.set(a.id,{resolve:l,reject:c,timeout:d})});return this.send('["EVENT",'+JSON.stringify(a)+"]"),r}async count(a,r){this.serial++;const l=r?.id||"count:"+this.serial,c=new Promise((d,p)=>{this.openCountRequests.set(l,{resolve:d,reject:p})});return this.send('["COUNT","'+l+'",'+JSON.stringify(a).substring(1)),c}subscribe(a,r){const l=this.prepareSubscription(a,r);return l.fire(),l}prepareSubscription(a,r){this.serial++;const l=r.id||(r.label?r.label+":":"sub:")+this.serial,c=new Ex(this,l,a,r);return this.openSubs.set(l,c),c}close(){this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.onclose?.(),this.ws?.readyState===this._WebSocket.OPEN&&this.ws?.close()}_onmessage(a){this.incomingMessageQueue.enqueue(a.data),this.queueRunning||this.runQueue()}},Ex=class{relay;id;lastEmitted;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;oncustom;eoseTimeout;eoseTimeoutHandle;constructor(a,r,l,c){if(l.length===0)throw new Error("subscription can't be created with zero filters");this.relay=a,this.filters=l,this.id=r,this.alreadyHaveEvent=c.alreadyHaveEvent,this.receivedEvent=c.receivedEvent,this.eoseTimeout=c.eoseTimeout||a.baseEoseTimeout,this.oneose=c.oneose,this.onclose=c.onclose,this.onevent=c.onevent||(d=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,d)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(a="closed by caller"){if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(r){if(!(r instanceof Av))throw r}this.closed=!0}this.relay.openSubs.delete(this.id),this.onclose?.(a)}},Sx;try{Sx=WebSocket}catch{}var Tx=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;enablePing;enableReconnect;automaticallyAuth;trustedRelayURLs=new Set;_WebSocket;constructor(a){this.verifyEvent=a.verifyEvent,this._WebSocket=a.websocketImplementation,this.enablePing=a.enablePing,this.enableReconnect=a.enableReconnect||!1,this.automaticallyAuth=a.automaticallyAuth}async ensureRelay(a,r){a=Us(a);let l=this.relays.get(a);if(l||(l=new zv(a,{verifyEvent:this.trustedRelayURLs.has(a)?xx:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),l.onclose=()=>{l&&!l.enableReconnect&&this.relays.delete(a)},r?.connectionTimeout&&(l.connectionTimeout=r.connectionTimeout),this.relays.set(a,l)),this.automaticallyAuth){const c=this.automaticallyAuth(a);c&&(l.onauth=c)}return await l.connect(),l}close(a){a.map(Us).forEach(r=>{this.relays.get(r)?.close(),this.relays.delete(r)})}subscribe(a,r,l){const c=[];for(let d=0;d<a.length;d++){const p=Us(a[d]);c.find(v=>v.url===p)||c.push({url:p,filter:r})}return this.subscribeMap(c,l)}subscribeMany(a,r,l){const c=[],d=[];for(let p=0;p<a.length;p++){const v=Us(a[p]);d.indexOf(v)===-1&&(d.push(v),c.push({url:v,filter:r}))}return this.subscribeMap(c,l)}subscribeMap(a,r){const l=new Map;for(const R of a){const{url:P,filter:H}=R;l.has(P)||l.set(P,[]),l.get(P).push(H)}const c=Array.from(l.entries()).map(([R,P])=>({url:R,filters:P}));this.trackRelays&&(r.receivedEvent=(R,P)=>{let H=this.seenOn.get(P);H||(H=new Set,this.seenOn.set(P,H)),H.add(R)});const d=new Set,p=[],v=[];let b=R=>{v[R]||(v[R]=!0,v.filter(P=>P).length===c.length&&(r.oneose?.(),b=()=>{}))};const _=[];let x=(R,P)=>{_[R]||(b(R),_[R]=P,_.filter(H=>H).length===c.length&&(r.onclose?.(_),x=()=>{}))};const T=R=>{if(r.alreadyHaveEvent?.(R))return!0;const P=d.has(R);return d.add(R),P},S=Promise.all(c.map(async({url:R,filters:P},H)=>{let M;try{M=await this.ensureRelay(R,{connectionTimeout:r.maxWait?Math.max(r.maxWait*.8,r.maxWait-1e3):void 0})}catch(V){x(H,V?.message||String(V));return}let D=M.subscribe(P,{...r,oneose:()=>b(H),onclose:V=>{V.startsWith("auth-required: ")&&r.onauth?M.auth(r.onauth).then(()=>{M.subscribe(P,{...r,oneose:()=>b(H),onclose:et=>{x(H,et)},alreadyHaveEvent:T,eoseTimeout:r.maxWait})}).catch(et=>{x(H,`auth was required and attempted, but failed with: ${et}`)}):x(H,V)},alreadyHaveEvent:T,eoseTimeout:r.maxWait});p.push(D)}));return{async close(R){await S,p.forEach(P=>{P.close(R)})}}}subscribeEose(a,r,l){const c=this.subscribe(a,r,{...l,oneose(){c.close("closed automatically on eose")}});return c}subscribeManyEose(a,r,l){const c=this.subscribeMany(a,r,{...l,oneose(){c.close("closed automatically on eose")}});return c}async querySync(a,r,l){return new Promise(async c=>{const d=[];this.subscribeEose(a,r,{...l,onevent(p){d.push(p)},onclose(p){c(d)}})})}async get(a,r,l){r.limit=1;const c=await this.querySync(a,r,l);return c.sort((d,p)=>p.created_at-d.created_at),c[0]||null}publish(a,r,l){return a.map(Us).map(async(c,d,p)=>{if(p.indexOf(c)!==d)return Promise.reject("duplicate url");let v=await this.ensureRelay(c);return v.publish(r).catch(async b=>{if(b instanceof Error&&b.message.startsWith("auth-required: ")&&l?.onauth)return await v.auth(l.onauth),v.publish(r);throw b}).then(b=>{if(this.trackRelays){let _=this.seenOn.get(r.id);_||(_=new Set,this.seenOn.set(r.id,_)),_.add(v)}return b})})}listConnectionStatus(){const a=new Map;return this.relays.forEach((r,l)=>a.set(l,r.connected)),a}destroy(){this.relays.forEach(a=>a.close()),this.relays=new Map}},Lv;try{Lv=WebSocket}catch{}var Ax=class extends Tx{constructor(a){super({verifyEvent:lc,websocketImplementation:Lv,...a})}},tl={};re(tl,{BECH32_REGEX:()=>Cv,Bech32MaxSize:()=>bd,NostrTypeGuard:()=>zx,decode:()=>cc,decodeNostrURI:()=>Cx,encodeBytes:()=>hc,naddrEncode:()=>kx,neventEncode:()=>Rx,noteEncode:()=>Nx,nprofileEncode:()=>Bx,npubEncode:()=>Ox,nsecEncode:()=>Mx});var zx={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},bd=5e3,Cv=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Lx(a){const r=new Uint8Array(4);return r[0]=a>>24&255,r[1]=a>>16&255,r[2]=a>>8&255,r[3]=a&255,r}function Cx(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),cc(a)}catch{return{type:"invalid",data:null}}}function cc(a){let{prefix:r,words:l}=Hr.decode(a,bd),c=new Uint8Array(Hr.fromWords(l));switch(r){case"nprofile":{let d=Nh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ge(d[0][0]),relays:d[1]?d[1].map(p=>Xi.decode(p)):[]}}}case"nevent":{let d=Nh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ge(d[0][0]),relays:d[1]?d[1].map(p=>Xi.decode(p)):[],author:d[2]?.[0]?Ge(d[2][0]):void 0,kind:d[3]?.[0]?parseInt(Ge(d[3][0]),16):void 0}}}case"naddr":{let d=Nh(c);if(!d[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!d[2]?.[0])throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!d[3]?.[0])throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Xi.decode(d[0][0]),pubkey:Ge(d[2][0]),kind:parseInt(Ge(d[3][0]),16),relays:d[1]?d[1].map(p=>Xi.decode(p)):[]}}}case"nsec":return{type:r,data:c};case"npub":case"note":return{type:r,data:Ge(c)};default:throw new Error(`unknown prefix ${r}`)}}function Nh(a){let r={},l=a;for(;l.length>0;){let c=l[0],d=l[1],p=l.slice(2,2+d);if(l=l.slice(2+d),p.length<d)throw new Error(`not enough data to read on TLV ${c}`);r[c]=r[c]||[],r[c].push(p)}return r}function Mx(a){return hc("nsec",a)}function Ox(a){return hc("npub",Zs(a))}function Nx(a){return hc("note",Zs(a))}function fc(a,r){let l=Hr.toWords(r);return Hr.encode(a,l,bd)}function hc(a,r){return fc(a,r)}function Bx(a){let r=wd({0:[Zs(a.pubkey)],1:(a.relays||[]).map(l=>Jn.encode(l))});return fc("nprofile",r)}function Rx(a){let r;a.kind!==void 0&&(r=Lx(a.kind));let l=wd({0:[Zs(a.id)],1:(a.relays||[]).map(c=>Jn.encode(c)),2:a.author?[Zs(a.author)]:[],3:r?[new Uint8Array(r)]:[]});return fc("nevent",l)}function kx(a){let r=new ArrayBuffer(4);new DataView(r).setUint32(0,a.kind,!1);let l=wd({0:[Jn.encode(a.identifier)],1:(a.relays||[]).map(c=>Jn.encode(c)),2:[Zs(a.pubkey)],3:[new Uint8Array(r)]});return fc("naddr",l)}function wd(a){let r=[];return Object.entries(a).reverse().forEach(([l,c])=>{c.forEach(d=>{let p=new Uint8Array(d.length+2);p.set([parseInt(l)],0),p.set([d.length],1),p.set(d,2),r.push(p)})}),ac(...r)}var Dx={};re(Dx,{decrypt:()=>Ux,encrypt:()=>Mv});function Mv(a,r,l){const c=a instanceof Uint8Array?Ge(a):a,d=Zr.getSharedSecret(c,"02"+r),p=Ov(d);let v=Uint8Array.from(Yy(16)),b=Jn.encode(l),_=ev(p,v).encrypt(b),x=Ii.encode(new Uint8Array(_)),T=Ii.encode(new Uint8Array(v.buffer));return`${x}?iv=${T}`}function Ux(a,r,l){const c=a instanceof Uint8Array?Ge(a):a;let[d,p]=l.split("?iv="),v=Zr.getSharedSecret(c,"02"+r),b=Ov(v),_=Ii.decode(p),x=Ii.decode(d),T=ev(b,_).decrypt(x);return Xi.decode(T)}function Ov(a){return a.slice(1,33)}var Hx={};re(Hx,{NIP05_REGEX:()=>xd,isNip05:()=>jx,isValid:()=>qx,queryProfile:()=>Nv,searchDomain:()=>Px,useFetchImplementation:()=>Zx});var xd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,jx=a=>xd.test(a||""),dc;try{dc=fetch}catch{}function Zx(a){dc=a}async function Px(a,r=""){try{const l=`https://${a}/.well-known/nostr.json?name=${r}`,c=await dc(l,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");return(await c.json()).names}catch{return{}}}async function Nv(a){const r=a.match(xd);if(!r)return null;const[,l="_",c]=r;try{const d=`https://${c}/.well-known/nostr.json?name=${l}`,p=await dc(d,{redirect:"manual"});if(p.status!==200)throw Error("Wrong response code");const v=await p.json(),b=v.names[l];return b?{pubkey:b,relays:v.relays?.[b]}:null}catch{return null}}async function qx(a,r){const l=await Nv(r);return l?l.pubkey===a:!1}var Gx={};re(Gx,{parse:()=>Yx});function Yx(a){const r={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let l,c;for(let d=a.tags.length-1;d>=0;d--){const p=a.tags[d];if(p[0]==="e"&&p[1]){const[v,b,_,x,T]=p,S={id:b,relays:_?[_]:[],author:T};if(x==="root"){r.root=S;continue}if(x==="reply"){r.reply=S;continue}if(x==="mention"){r.mentions.push(S);continue}l?c=S:l=S,r.mentions.push(S);continue}if(p[0]==="q"&&p[1]){const[v,b,_]=p;r.quotes.push({id:b,relays:_?[_]:[]})}if(p[0]==="p"&&p[1]){r.profiles.push({pubkey:p[1],relays:p[2]?[p[2]]:[]});continue}}return r.root||(r.root=c||l||r.reply),r.reply||(r.reply=l||r.root),[r.reply,r.root].forEach(d=>{if(!d)return;let p=r.mentions.indexOf(d);if(p!==-1&&r.mentions.splice(p,1),d.author){let v=r.profiles.find(b=>b.pubkey===d.author);v&&v.relays&&(d.relays||(d.relays=[]),v.relays.forEach(b=>{d.relays?.indexOf(b)===-1&&d.relays.push(b)}),v.relays=d.relays)}}),r.mentions.forEach(d=>{if(d.author){let p=r.profiles.find(v=>v.pubkey===d.author);p&&p.relays&&(d.relays||(d.relays=[]),p.relays.forEach(v=>{d.relays.indexOf(v)===-1&&d.relays.push(v)}),p.relays=d.relays)}}),r}var Vx={};re(Vx,{fetchRelayInformation:()=>Qx,useFetchImplementation:()=>Kx});var Bv;try{Bv=fetch}catch{}function Kx(a){Bv=a}async function Qx(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Xx={};re(Xx,{fastEventHash:()=>kv,getPow:()=>Rv,minePow:()=>Ix});function Rv(a){let r=0;for(let l=0;l<64;l+=8){const c=parseInt(a.substring(l,l+8),16);if(c===0)r+=32;else{r+=Math.clz32(c);break}}return r}function Ix(a,r){let l=0;const c=a,d=["nonce",l.toString(),r.toString()];for(c.tags.push(d);;){const p=Math.floor(new Date().getTime()/1e3);if(p!==c.created_at&&(l=0,c.created_at=p),d[1]=(++l).toString(),c.id=kv(c),Rv(c.id)>=r)break}return c}function kv(a){return Ge(Ps(Jn.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var Jx={};re(Jx,{unwrapEvent:()=>o2,unwrapManyEvents:()=>l2,wrapEvent:()=>Xv,wrapManyEvents:()=>r2});var Fx={};re(Fx,{createRumor:()=>Yv,createSeal:()=>Vv,createWrap:()=>Kv,unwrapEvent:()=>zd,unwrapManyEvents:()=>Qv,wrapEvent:()=>Ju,wrapManyEvents:()=>a2});var al={};re(al,{decrypt:()=>Ad,encrypt:()=>Td,getConversationKey:()=>Ed,v2:()=>n2});var Dv=1,Uv=65535;function Ed(a,r){const l=Zr.getSharedSecret(a,"02"+r).subarray(1,33);return B1(Ps,l,"nip44-v2")}function Hv(a,r){const l=R1(Ps,a,r,76);return{chacha_key:l.subarray(0,32),chacha_nonce:l.subarray(32,44),hmac_key:l.subarray(44,76)}}function Sd(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const r=1<<Math.floor(Math.log2(a-1))+1,l=r<=256?32:r/8;return l*(Math.floor((a-1)/l)+1)}function Wx(a){if(!Number.isSafeInteger(a)||a<Dv||a>Uv)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const r=new Uint8Array(2);return new DataView(r.buffer).setUint16(0,a,!1),r}function $x(a){const r=Jn.encode(a),l=r.length,c=Wx(l),d=new Uint8Array(Sd(l)-l);return ac(c,r,d)}function t2(a){const r=new DataView(a.buffer).getUint16(0),l=a.subarray(2,2+r);if(r<Dv||r>Uv||l.length!==r||a.length!==2+Sd(r))throw new Error("invalid padding");return Xi.decode(l)}function jv(a,r,l){if(l.length!==32)throw new Error("AAD associated data must be 32 bytes");const c=ac(l,r);return rc(Ps,a,c)}function e2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const r=a.length;if(r<132||r>87472)throw new Error("invalid payload length: "+r);if(a[0]==="#")throw new Error("unknown encryption version");let l;try{l=Ii.decode(a)}catch(p){throw new Error("invalid base64: "+p.message)}const c=l.length;if(c<99||c>65603)throw new Error("invalid data length: "+c);const d=l[0];if(d!==2)throw new Error("unknown encryption version "+d);return{nonce:l.subarray(1,33),ciphertext:l.subarray(33,-32),mac:l.subarray(-32)}}function Td(a,r,l=Yy(32)){const{chacha_key:c,chacha_nonce:d,hmac_key:p}=Hv(r,l),v=$x(a),b=sv(c,d,v),_=jv(p,b,l);return Ii.encode(ac(new Uint8Array([2]),l,b,_))}function Ad(a,r){const{nonce:l,ciphertext:c,mac:d}=e2(a),{chacha_key:p,chacha_nonce:v,hmac_key:b}=Hv(r,l),_=jv(b,c,l);if(!m1(_,d))throw new Error("invalid MAC");const x=sv(p,v,c);return t2(x)}var n2={utils:{getConversationKey:Ed,calcPaddedLen:Sd},encrypt:Td,decrypt:Ad},i2=2880*60,Zv=()=>Math.round(Date.now()/1e3),Pv=()=>Math.round(Zv()-Math.random()*i2),qv=(a,r)=>Ed(a,r),Gv=(a,r,l)=>Td(JSON.stringify(a),qv(r,l)),iy=(a,r)=>JSON.parse(Ad(a.content,qv(r,a.pubkey)));function Yv(a,r){const l={created_at:Zv(),content:"",tags:[],...a,pubkey:il(r)};return l.id=Pu(l),l}function Vv(a,r,l){return Dn({kind:dv,content:Gv(a,r,l),created_at:Pv(),tags:[]},r)}function Kv(a,r){const l=uv();return Dn({kind:bv,content:Gv(a,l,r),created_at:Pv(),tags:[["p",r]]},l)}function Ju(a,r,l){const c=Yv(a,r),d=Vv(c,r,l);return Kv(d,l)}function a2(a,r,l){if(!l||l.length===0)throw new Error("At least one recipient is required.");const c=il(r),d=[Ju(a,r,c)];return l.forEach(p=>{d.push(Ju(a,r,p))}),d}function zd(a,r){const l=iy(a,r);return iy(l,r)}function Qv(a,r){let l=[];return a.forEach(c=>{l.push(zd(c,r))}),l.sort((c,d)=>c.created_at-d.created_at),l}function s2(a,r,l,c){const d={created_at:Math.ceil(Date.now()/1e3),kind:mv,tags:[],content:r};return(Array.isArray(a)?a:[a]).forEach(({publicKey:v,relayUrl:b})=>{d.tags.push(b?["p",v,b]:["p",v])}),c&&d.tags.push(["e",c.eventId,c.relayUrl||"","reply"]),l&&d.tags.push(["subject",l]),d}function Xv(a,r,l,c,d){const p=s2(r,l,c,d);return Ju(p,a,r.publicKey)}function r2(a,r,l,c,d){if(!r||r.length===0)throw new Error("At least one recipient is required.");return[{publicKey:il(a)},...r].map(v=>Xv(a,v,l,c,d))}var o2=zd,l2=Qv,u2={};re(u2,{finishRepostEvent:()=>c2,getRepostedEvent:()=>f2,getRepostedEventPointer:()=>Iv});function c2(a,r,l,c){let d;const p=[...a.tags??[],["e",r.id,l],["p",r.pubkey]];return r.kind===hv?d=gd:(d=vd,p.push(["k",String(r.kind)])),Dn({kind:d,tags:p,content:a.content===""||r.tags?.find(v=>v[0]==="-")?"":JSON.stringify(r),created_at:a.created_at},c)}function Iv(a){if(![gd,vd].includes(a.kind))return;let r,l;for(let c=a.tags.length-1;c>=0&&(r===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&r===void 0?r=d:d[0]==="p"&&l===void 0&&(l=d))}if(r!==void 0)return{id:r[1],relays:[r[2],l?.[2]].filter(c=>typeof c=="string"),author:l?.[1]}}function f2(a,{skipVerification:r}={}){const l=Iv(a);if(l===void 0||a.content==="")return;let c;try{c=JSON.parse(a.content)}catch{return}if(c.id===l.id&&!(!r&&!lc(c)))return c}var h2={};re(h2,{NOSTR_URI_REGEX:()=>Ld,parse:()=>m2,test:()=>d2});var Ld=new RegExp(`nostr:(${Cv.source})`);function d2(a){return typeof a=="string"&&new RegExp(`^${Ld.source}$`).test(a)}function m2(a){const r=a.match(new RegExp(`^${Ld.source}$`));if(!r)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:r[0],value:r[1],decoded:cc(r[1])}}var p2={};re(p2,{finishReactionEvent:()=>g2,getReactedEventPointer:()=>y2});function g2(a,r,l){const c=r.tags.filter(d=>d.length>=2&&(d[0]==="e"||d[0]==="p"));return Dn({...a,kind:yd,tags:[...a.tags??[],...c,["e",r.id],["p",r.pubkey]],content:a.content??"+"},l)}function y2(a){if(a.kind!==yd)return;let r,l;for(let c=a.tags.length-1;c>=0&&(r===void 0||l===void 0);c--){const d=a.tags[c];d.length>=2&&(d[0]==="e"&&r===void 0?r=d:d[0]==="p"&&l===void 0&&(l=d))}if(!(r===void 0||l===void 0))return{id:r[1],relays:[r[2],l[2]].filter(c=>c!==void 0),author:l[1]}}var v2={};re(v2,{parse:()=>b2});var ay=/\W/m,sy=/[^\w\/] |[^\w\/]$|$|,| /m,_2=42;function*b2(a){let r=[];if(typeof a!="string"){for(let p=0;p<a.tags.length;p++){const v=a.tags[p];v[0]==="emoji"&&v.length>=3&&r.push({type:"emoji",shortcode:v[1],url:v[2]})}a=a.content}const l=a.length;let c=0,d=0;t:for(;d<l;){const p=a.indexOf(":",d),v=a.indexOf("#",d);if(p===-1&&v===-1)break t;if(p===-1||v>=0&&v<p){if(v===0||a[v-1]===" "){const b=a.slice(v+1,v+_2).match(ay),_=b?v+1+b.index:l;yield{type:"text",text:a.slice(c,v)},yield{type:"hashtag",value:a.slice(v+1,_)},d=_,c=d;continue t}d=v+1;continue t}if(a.slice(p-5,p)==="nostr"){const b=a.slice(p+60).match(ay),_=b?p+60+b.index:l;try{let x,{data:T,type:S}=cc(a.slice(p+1,_));switch(S){case"npub":x={pubkey:T};break;case"note":x={id:T};break;case"nsec":d=_+1;continue;default:x=T}c!==p-5&&(yield{type:"text",text:a.slice(c,p-5)}),yield{type:"reference",pointer:x},d=_,c=d;continue t}catch{d=p+1;continue t}}else if(a.slice(p-5,p)==="https"||a.slice(p-4,p)==="http"){const b=a.slice(p+4).match(sy),_=b?p+4+b.index:l,x=a[p-1]==="s"?5:4;try{let T=new URL(a.slice(p-x,_));if(T.hostname.indexOf(".")===-1)throw new Error("invalid url");if(c!==p-x&&(yield{type:"text",text:a.slice(c,p-x)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(T.pathname)){yield{type:"image",url:T.toString()},d=_,c=d;continue t}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(T.pathname)){yield{type:"video",url:T.toString()},d=_,c=d;continue t}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(T.pathname)){yield{type:"audio",url:T.toString()},d=_,c=d;continue t}yield{type:"url",url:T.toString()},d=_,c=d;continue t}catch{d=_+1;continue t}}else if(a.slice(p-3,p)==="wss"||a.slice(p-2,p)==="ws"){const b=a.slice(p+4).match(sy),_=b?p+4+b.index:l,x=a[p-1]==="s"?3:2;try{let T=new URL(a.slice(p-x,_));if(T.hostname.indexOf(".")===-1)throw new Error("invalid ws url");c!==p-x&&(yield{type:"text",text:a.slice(c,p-x)}),yield{type:"relay",url:T.toString()},d=_,c=d;continue t}catch{d=_+1;continue t}}else{for(let b=0;b<r.length;b++){const _=r[b];if(a[p+_.shortcode.length+1]===":"&&a.slice(p+1,p+_.shortcode.length+1)===_.shortcode){c!==p&&(yield{type:"text",text:a.slice(c,p)}),yield _,d=p+_.shortcode.length+2,c=d;continue t}}d=p+1;continue t}}c!==l&&(yield{type:"text",text:a.slice(c)})}var w2={};re(w2,{channelCreateEvent:()=>x2,channelHideMessageEvent:()=>T2,channelMessageEvent:()=>S2,channelMetadataEvent:()=>E2,channelMuteUserEvent:()=>A2});var x2=(a,r)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:pv,tags:[...a.tags??[]],content:l,created_at:a.created_at},r)},E2=(a,r)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:gv,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:l,created_at:a.created_at},r)},S2=(a,r)=>{const l=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&l.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),Dn({kind:yv,tags:[...l,...a.tags??[]],content:a.content,created_at:a.created_at},r)},T2=(a,r)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:vv,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:l,created_at:a.created_at},r)},A2=(a,r)=>{let l;if(typeof a.content=="object")l=JSON.stringify(a.content);else if(typeof a.content=="string")l=a.content;else return;return Dn({kind:_v,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:l,created_at:a.created_at},r)},z2={};re(z2,{EMOJI_SHORTCODE_REGEX:()=>Jv,matchAll:()=>L2,regex:()=>Cd,replaceAll:()=>C2});var Jv=/:(\w+):/,Cd=()=>new RegExp(`\\B${Jv.source}\\B`,"g");function*L2(a){const r=a.matchAll(Cd());for(const l of r)try{const[c,d]=l;yield{shortcode:c,name:d,start:l.index,end:l.index+c.length}}catch{}}function C2(a,r){return a.replaceAll(Cd(),(l,c)=>r({shortcode:l,name:c}))}var M2={};re(M2,{useFetchImplementation:()=>O2,validateGithub:()=>N2});var Md;try{Md=fetch}catch{}function O2(a){Md=a}async function N2(a,r,l){try{return await(await Md(`https://gist.github.com/${r}/${l}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var B2={};re(B2,{makeNwcRequestEvent:()=>k2,parseConnectionString:()=>R2});function R2(a){const{host:r,pathname:l,searchParams:c}=new URL(a),d=l||r,p=c.get("relay"),v=c.get("secret");if(!d||!p||!v)throw new Error("invalid connection string");return{pubkey:d,relay:p,secret:v}}async function k2(a,r,l){const d=Mv(r,a,JSON.stringify({method:"pay_invoice",params:{invoice:l}})),p={kind:xv,created_at:Math.round(Date.now()/1e3),content:d,tags:[["p",a]]};return Dn(p,r)}var D2={};re(D2,{normalizeIdentifier:()=>U2});function U2(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(r=>new RegExp("\\p{Letter}","u").test(r)||new RegExp("\\p{Number}","u").test(r)?r:"-").join("")}var H2={};re(H2,{getSatoshisAmountFromBolt11:()=>Y2,getZapEndpoint:()=>Z2,makeZapReceipt:()=>G2,makeZapRequest:()=>P2,useFetchImplementation:()=>j2,validateZapRequest:()=>q2});var Od;try{Od=fetch}catch{}function j2(a){Od=a}async function Z2(a){try{let r="",{lud06:l,lud16:c}=JSON.parse(a.content);if(c){let[v,b]=c.split("@");r=new URL(`/.well-known/lnurlp/${v}`,`https://${b}`).toString()}else if(l){let{words:v}=Hr.decode(l,1e3),b=Hr.fromWords(v);r=Xi.decode(b)}else return null;let p=await(await Od(r)).json();if(p.allowsNostr&&p.nostrPubkey)return p.callback}catch{}return null}function P2(a){let r={kind:9734,created_at:Math.round(Date.now()/1e3),content:a.comment||"",tags:[["p","pubkey"in a?a.pubkey:a.event.pubkey],["amount",a.amount.toString()],["relays",...a.relays]]};if("event"in a){if(r.tags.push(["e",a.event.id]),md(a.event.kind)){const l=["a",`${a.event.kind}:${a.event.pubkey}:`];r.tags.push(l)}else if(pd(a.event.kind)){let l=a.event.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${a.event.kind}:${a.event.pubkey}:${l[1]}`];r.tags.push(c)}r.tags.push(["k",a.event.kind.toString()])}return r}function q2(a){let r;try{r=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!hd(r))return"Zap request is not a valid Nostr event.";if(!lc(r))return"Invalid signature on zap request.";let l=r.tags.find(([p,v])=>p==="p"&&v);if(!l)return"Zap request doesn't have a 'p' tag.";if(!l[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let c=r.tags.find(([p,v])=>p==="e"&&v);return c&&!c[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":r.tags.find(([p,v])=>p==="relays"&&v)?null:"Zap request doesn't have a 'relays' tag."}function G2({zapRequest:a,preimage:r,bolt11:l,paidAt:c}){let d=JSON.parse(a),p=d.tags.filter(([b])=>b==="e"||b==="p"||b==="a"),v={kind:9735,created_at:Math.round(c.getTime()/1e3),content:"",tags:[...p,["P",d.pubkey],["bolt11",l],["description",a]]};return r&&v.tags.push(["preimage",r]),v}function Y2(a){if(a.length<50)return 0;a=a.substring(0,50);const r=a.lastIndexOf("1");if(r===-1)return 0;const l=a.substring(0,r);if(!l.startsWith("lnbc"))return 0;const c=l.substring(4);if(c.length<1)return 0;const d=c[c.length-1],p=d.charCodeAt(0)-48,v=p>=0&&p<=9;let b=c.length-1;if(v&&b++,b<1)return 0;const _=parseInt(c.substring(0,b));switch(d){case"m":return _*1e5;case"u":return _*100;case"n":return _/10;case"p":return _/1e4;default:return _*1e8}}var V2={};re(V2,{Negentropy:()=>Wv,NegentropyStorageVector:()=>X2,NegentropySync:()=>I2});var Bh=97,kr=32,Fv=16,Rs={Skip:0,Fingerprint:1,IdList:2},Qi=class{_raw;length;constructor(a){typeof a=="number"?(this._raw=new Uint8Array(a),this.length=0):a instanceof Uint8Array?(this._raw=new Uint8Array(a),this.length=a.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(a){if(a instanceof Qi&&(a=a.unwrap()),typeof a.length!="number")throw Error("bad length");const r=a.length+this.length;if(this.capacity<r){const l=this._raw,c=Math.max(this.capacity*2,r);this._raw=new Uint8Array(c),this._raw.set(l)}this._raw.set(a,this.length),this.length+=a.length}shift(){const a=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,a}shiftN(a=1){const r=this._raw.subarray(0,a);return this._raw=this._raw.subarray(a),this.length-=a,r}};function ju(a){let r=0;for(;;){if(a.length===0)throw Error("parse ends prematurely");let l=a.shift();if(r=r<<7|l&127,(l&128)===0)break}return r}function Vi(a){if(a===0)return new Qi(new Uint8Array([0]));let r=[];for(;a!==0;)r.push(a&127),a>>>=7;r.reverse();for(let l=0;l<r.length-1;l++)r[l]|=128;return new Qi(new Uint8Array(r))}function K2(a){return qu(a,1)[0]}function qu(a,r){if(a.length<r)throw Error("parse ends prematurely");return a.shiftN(r)}var Q2=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(kr)}add(a){let r=0,l=0,c=new DataView(this.buf.buffer),d=new DataView(a.buffer);for(let p=0;p<8;p++){let v=p*4,b=c.getUint32(v,!0),_=d.getUint32(v,!0),x=b;x+=r,x+=_,x>4294967295&&(l=1),c.setUint32(v,x&4294967295,!0),r=l,l=0}}negate(){let a=new DataView(this.buf.buffer);for(let l=0;l<8;l++){let c=l*4;a.setUint32(c,~a.getUint32(c,!0))}let r=new Uint8Array(kr);r[0]=1,this.add(r)}getFingerprint(a){let r=new Qi;return r.extend(this.buf),r.extend(Vi(a)),Ps(r.unwrap()).subarray(0,Fv)}},X2=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(a,r){if(this.sealed)throw Error("already sealed");const l=Jy(r);if(l.byteLength!==kr)throw Error("bad id size for added item");this.items.push({timestamp:a,id:l})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(Rh);for(let a=1;a<this.items.length;a++)if(Rh(this.items[a-1],this.items[a])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(a){if(this._checkSealed(),a>=this.items.length)throw Error("out of range");return this.items[a]}iterate(a,r,l){this._checkSealed(),this._checkBounds(a,r);for(let c=a;c<r&&l(this.items[c],c);++c);}findLowerBound(a,r,l){return this._checkSealed(),this._checkBounds(a,r),this._binarySearch(this.items,a,r,c=>Rh(c,l)<0)}fingerprint(a,r){let l=new Q2;return l.setToZero(),this.iterate(a,r,c=>(l.add(c.id),!0)),l.getFingerprint(r-a)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(a,r){if(a>r||r>this.items.length)throw Error("bad range")}_binarySearch(a,r,l,c){let d=l-r;for(;d>0;){let p=r,v=Math.floor(d/2);p+=v,c(a[p])?(r=++p,d-=v+1):d=v}return r}},Wv=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(a,r=6e4){if(r<4096)throw Error("frameSizeLimit too small");this.storage=a,this.frameSizeLimit=r,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(a,r){return{timestamp:a,id:r||new Uint8Array(0)}}initiate(){let a=new Qi;return a.extend(new Uint8Array([Bh])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),a),Nr(a.unwrap())}reconcile(a,r,l){const c=new Qi(Jy(a));this.lastTimestampIn=this.lastTimestampOut=0;let d=new Qi;d.extend(new Uint8Array([Bh]));let p=K2(c);if(p<96||p>111)throw Error("invalid negentropy protocol version byte");if(p!==Bh)throw Error("unsupported negentropy protocol version requested: "+(p-96));let v=this.storage.size(),b=this._bound(0),_=0,x=!1;for(;c.length!==0;){let T=new Qi,S=()=>{x&&(x=!1,T.extend(this.encodeBound(b)),T.extend(Vi(Rs.Skip)))},R=this.decodeBound(c),P=ju(c),H=_,M=this.storage.findLowerBound(_,v,R);if(P===Rs.Skip)x=!0;else if(P===Rs.Fingerprint){let D=qu(c,Fv),V=this.storage.fingerprint(H,M);$v(D,V)!==0?(S(),this.splitRange(H,M,R,T)):x=!0}else if(P===Rs.IdList){let D=ju(c),V={};for(let et=0;et<D;et++){let tt=qu(c,kr);V[Nr(tt)]=tt}if(x=!0,this.storage.iterate(H,M,et=>{let tt=et.id;const pt=Nr(tt);return V[pt]?delete V[Nr(tt)]:r?.(pt),!0}),l)for(let et of Object.values(V))l(Nr(et))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(d.length+T.length)){let D=this.storage.fingerprint(M,v);d.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),d.extend(Vi(Rs.Fingerprint)),d.extend(D);break}else d.extend(T);_=M,b=R}return d.length===1?null:Nr(d.unwrap())}splitRange(a,r,l,c){let d=r-a,p=16;if(d<p*2)c.extend(this.encodeBound(l)),c.extend(Vi(Rs.IdList)),c.extend(Vi(d)),this.storage.iterate(a,r,v=>(c.extend(v.id),!0));else{let v=Math.floor(d/p),b=d%p,_=a;for(let x=0;x<p;x++){let T=v+(x<b?1:0),S=this.storage.fingerprint(_,_+T);_+=T;let R;if(_===r)R=l;else{let P,H;this.storage.iterate(_-1,_+1,(M,D)=>(D===_-1?P=M:H=M,!0)),R=this.getMinimalBound(P,H)}c.extend(this.encodeBound(R)),c.extend(Vi(Rs.Fingerprint)),c.extend(S)}}}exceededFrameSizeLimit(a){return a>this.frameSizeLimit-200}decodeTimestampIn(a){let r=ju(a);return r=r===0?Number.MAX_VALUE:r-1,this.lastTimestampIn===Number.MAX_VALUE||r===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(r+=this.lastTimestampIn,this.lastTimestampIn=r,r)}decodeBound(a){let r=this.decodeTimestampIn(a),l=ju(a);if(l>kr)throw Error("bound key too long");let c=qu(a,l);return{timestamp:r,id:c}}encodeTimestampOut(a){if(a===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,Vi(0);let r=a;return a-=this.lastTimestampOut,this.lastTimestampOut=r,Vi(a+1)}encodeBound(a){let r=new Qi;return r.extend(this.encodeTimestampOut(a.timestamp)),r.extend(Vi(a.id.length)),r.extend(a.id),r}getMinimalBound(a,r){if(r.timestamp!==a.timestamp)return this._bound(r.timestamp);{let l=0,c=r.id,d=a.id;for(let p=0;p<kr&&c[p]===d[p];p++)l++;return this._bound(r.timestamp,r.id.subarray(0,l+1))}}};function $v(a,r){for(let l=0;l<a.byteLength;l++){if(a[l]<r[l])return-1;if(a[l]>r[l])return 1}return a.byteLength>r.byteLength?1:a.byteLength<r.byteLength?-1:0}function Rh(a,r){return a.timestamp===r.timestamp?$v(a.id,r.id):a.timestamp-r.timestamp}var I2=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(a,r,l,c={}){this.relay=a,this.storage=r,this.neg=new Wv(r),this.onhave=c.onhave,this.onneed=c.onneed,this.filter=l,this.subscription=this.relay.prepareSubscription([{}],{label:c.label||"negentropy"}),this.subscription.oncustom=d=>{switch(d[0]){case"NEG-MSG":{d.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${d}`);try{const p=this.neg.reconcile(d[2],this.onhave,this.onneed);p?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${p}"]`):(this.close(),c.onclose?.())}catch(p){console.error("negentropy reconcile error:",p),c?.onclose?.(`reconcile error: ${p}`)}break}case"NEG-CLOSE":{const p=d[2];console.warn("negentropy error:",p),c.onclose?.(p);break}case"NEG-ERR":c.onclose?.()}}}async start(){const a=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${a}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},J2={};re(J2,{getToken:()=>F2,hashPayload:()=>Nd,unpackEventFromToken:()=>e0,validateEvent:()=>o0,validateEventKind:()=>i0,validateEventMethodTag:()=>s0,validateEventPayloadTag:()=>r0,validateEventTimestamp:()=>n0,validateEventUrlTag:()=>a0,validateToken:()=>W2});var t0="Nostr ";async function F2(a,r,l,c=!1,d){const p={kind:_d,tags:[["u",a],["method",r]],created_at:Math.round(new Date().getTime()/1e3),content:""};d&&p.tags.push(["payload",Nd(d)]);const v=await l(p);return(c?t0:"")+Ii.encode(Jn.encode(JSON.stringify(v)))}async function W2(a,r,l){const c=await e0(a).catch(p=>{throw p});return await o0(c,r,l).catch(p=>{throw p})}async function e0(a){if(!a)throw new Error("Missing token");a=a.replace(t0,"");const r=Xi.decode(Ii.decode(a));if(!r||r.length===0||!r.startsWith("{"))throw new Error("Invalid token");return JSON.parse(r)}function n0(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function i0(a){return a.kind===_d}function a0(a,r){const l=a.tags.find(c=>c[0]==="u");return l?l.length>0&&l[1]===r:!1}function s0(a,r){const l=a.tags.find(c=>c[0]==="method");return l?l.length>0&&l[1].toLowerCase()===r.toLowerCase():!1}function Nd(a){const r=Ps(Jn.encode(JSON.stringify(a)));return Ge(r)}function r0(a,r){const l=a.tags.find(d=>d[0]==="payload");if(!l)return!1;const c=Nd(r);return l.length>0&&l[1]===c}async function o0(a,r,l,c){if(!lc(a))throw new Error("Invalid nostr event, signature invalid");if(!i0(a))throw new Error("Invalid nostr event, kind invalid");if(!n0(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!a0(a,r))throw new Error("Invalid nostr event, url tag invalid");if(!s0(a,l))throw new Error("Invalid nostr event, method tag invalid");if(c&&typeof c=="object"&&Object.keys(c).length>0&&!r0(a,c))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const ry=a=>Array.from(a).map(r=>r.toString(16).padStart(2,"0")).join(""),l0=ft.createContext(null),$2=({children:a})=>{const[r,l]=ft.useState(localStorage.getItem("parlens_pubkey")),[c]=ft.useState(new Ax),d=async(b,_,x)=>{let T="",S=null;if(b==="extension"){if(!window.nostr)throw new Error("Nostr extension not found");T=await window.nostr.getPublicKey()}else if(b==="nsec"&&_)try{const R=tl.decode(_);if(R.type!=="nsec")throw new Error("Not an nsec");S=R.data,T=il(S),localStorage.setItem("parlens_privkey",ry(S))}catch{throw new Error("Invalid nsec format")}else b==="create"&&(S=uv(),T=il(S),localStorage.setItem("parlens_privkey",ry(S)));if(l(T),localStorage.setItem("parlens_pubkey",T),b==="create"&&x&&S)try{const R=Dn({kind:0,created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify({name:x,display_name:x,picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${T}`})},S);await Promise.any([c.publish(["wss://relay.damus.io","wss://nos.lol"],R)])}catch(R){console.warn("Failed to publish metadata:",R)}},p=()=>{l(null),localStorage.removeItem("parlens_pubkey"),localStorage.removeItem("parlens_privkey")},v=async b=>{const _=localStorage.getItem("parlens_privkey");if(_){const x=new Uint8Array(_.match(/.{1,2}/g).map(T=>parseInt(T,16)));return Dn(b,x)}if(window.nostr)return await window.nostr.signEvent(b);throw new Error("No signing method available")};return O.jsx(l0.Provider,{value:{pubkey:r,login:d,logout:p,pool:c,signEvent:v},children:a})},ll=()=>{const a=ft.useContext(l0);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};const tE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,l,c)=>c?c.toUpperCase():l.toLowerCase()),oy=a=>{const r=eE(a);return r.charAt(0).toUpperCase()+r.slice(1)},u0=(...a)=>a.filter((r,l,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===l).join(" ").trim(),nE=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var iE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aE=ft.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:p,iconNode:v,...b},_)=>ft.createElement("svg",{ref:_,...iE,width:r,height:r,stroke:a,strokeWidth:c?Number(l)*24/Number(r):l,className:u0("lucide",d),...!p&&!nE(b)&&{"aria-hidden":"true"},...b},[...v.map(([x,T])=>ft.createElement(x,T)),...Array.isArray(p)?p:[p]]));const Ve=(a,r)=>{const l=ft.forwardRef(({className:c,...d},p)=>ft.createElement(aE,{ref:p,iconNode:r,className:u0(`lucide-${tE(oy(a))}`,`lucide-${a}`,c),...d}));return l.displayName=oy(a),l};const sE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rE=Ve("arrow-right",sE);const oE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qh=Ve("chevron-down",oE);const lE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ly=Ve("chevron-right",lE);const uE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cE=Ve("chevron-up",uE);const fE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uy=Ve("circle-question-mark",fE);const hE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dE=Ve("clipboard-list",hE);const mE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pE=Ve("clock",mE);const gE=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yE=Ve("compass",gE);const vE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],c0=Ve("key",vE);const _E=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xh=Ve("map-pin",_E);const bE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],wE=Ve("navigation",bE);const xE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EE=Ve("search",xE);const SE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TE=Ve("shield-check",SE);const AE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zE=Ve("shield",AE);const LE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],CE=Ve("user-plus",LE);const ME=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f0=Ve("x",ME);function OE(a,r){const l=ft.useRef(r);ft.useEffect(function(){r!==l.current&&a.attributionControl!=null&&(l.current!=null&&a.attributionControl.removeAttribution(l.current),r!=null&&a.attributionControl.addAttribution(r)),l.current=r},[a,r])}xy();const NE=1;function BE(a){return Object.freeze({__version:NE,map:a})}function RE(a,r){return Object.freeze({...a,...r})}const Bd=ft.createContext(null);function h0(){const a=ft.use(Bd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function kE(a){function r(l,c){const{instance:d,context:p}=a(l).current;ft.useImperativeHandle(c,()=>d);const{children:v}=l;return v==null?null:Yu.createElement(Bd,{value:p},v)}return ft.forwardRef(r)}function DE(a){function r(l,c){const{instance:d}=a(l).current;return ft.useImperativeHandle(c,()=>d),null}return ft.forwardRef(r)}function UE(a,r){const l=ft.useRef(void 0);ft.useEffect(function(){return r!=null&&a.instance.on(r),l.current=r,function(){l.current!=null&&a.instance.off(l.current),l.current=null}},[a,r])}function d0(a,r){const l=a.pane??r.pane;return l?{...a,pane:l}:a}var $o={exports:{}};var HE=$o.exports,cy;function jE(){return cy||(cy=1,(function(a,r){(function(l,c){c(r)})(HE,(function(l){var c="1.9.4";function d(n){var s,u,m,g;for(u=1,m=arguments.length;u<m;u++){g=arguments[u];for(s in g)n[s]=g[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function v(n,s){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var m=u.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(u.call(arguments)):arguments)}}var b=0;function _(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function x(n,s,u){var m,g,w,z;return z=function(){m=!1,g&&(w.apply(u,g),g=!1)},w=function(){m?g=arguments:(n.apply(u,arguments),setTimeout(z,s),m=!0)},w}function T(n,s,u){var m=s[1],g=s[0],w=m-g;return n===m&&u?n:((n-g)%w+w)%w+g}function S(){return!1}function R(n,s){if(s===!1)return n;var u=Math.pow(10,s===void 0?6:s);return Math.round(n*u)/u}function P(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function H(n){return P(n).split(/\s+/)}function M(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var u in s)n.options[u]=s[u];return n.options}function D(n,s,u){var m=[];for(var g in n)m.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function et(n,s){return n.replace(V,function(u,m){var g=s[m];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(s)),g})}var tt=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function pt(n,s){for(var u=0;u<n.length;u++)if(n[u]===s)return u;return-1}var yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function at(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var J=0;function ot(n){var s=+new Date,u=Math.max(0,16-(s-J));return J=s+u,window.setTimeout(n,u)}var St=window.requestAnimationFrame||at("RequestAnimationFrame")||ot,gt=window.cancelAnimationFrame||at("CancelAnimationFrame")||at("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function lt(n,s,u){if(u&&St===ot)n.call(s);else return St.call(window,v(n,s))}function ut(n){n&&gt.call(window,n)}var vt={__proto__:null,extend:d,create:p,bind:v,get lastId(){return b},stamp:_,throttle:x,wrapNum:T,falseFn:S,formatNum:R,trim:P,splitWords:H,setOptions:M,getParamString:D,template:et,isArray:tt,indexOf:pt,emptyImageUrl:yt,requestFn:St,cancelFn:gt,requestAnimFrame:lt,cancelAnimFrame:ut};function bt(){}bt.extend=function(n){var s=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,m=p(u);m.constructor=s,s.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return n.statics&&d(s,n.statics),n.includes&&(nt(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=u.options?p(u.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,z=m._initHooks.length;w<z;w++)m._initHooks[w].call(this)}},s},bt.include=function(n){var s=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},bt.mergeOptions=function(n){return d(this.prototype.options,n),this},bt.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function nt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=tt(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var N={on:function(n,s,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=H(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],s,u)}return this},off:function(n,s,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=H(n);for(var g=arguments.length===1,w=0,z=n.length;w<z;w++)g?this._off(n[w]):this._off(n[w],s,u)}return this},_on:function(n,s,u,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,u)===!1){u===this&&(u=void 0);var g={fn:s,ctx:u};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,s,u){var m,g,w;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,w=m.length;g<w;g++)m[g].fn=S;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var z=this._listens(n,s,u);if(z!==!1){var U=m[z];this._firingCount&&(U.fn=S,this._events[n]=m=m.slice()),m.splice(z,1)}}},fire:function(n,s,u){if(!this.listens(n,u))return this;var m=d({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,z=g.length;w<z;w++){var U=g[w],G=U.fn;U.once&&this.off(n,G,U.ctx),G.call(U.ctx||this,m)}this._firingCount--}}return u&&this._propagateEvent(m),this},listens:function(n,s,u,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(m=!!s,g=void 0,u=void 0);var w=this._events&&this._events[n];if(w&&w.length&&this._listens(n,g,u)!==!1)return!0;if(m){for(var z in this._eventParents)if(this._eventParents[z].listens(n,s,u,m))return!0}return!1},_listens:function(n,s,u){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;u===this&&(u=void 0);for(var g=0,w=m.length;g<w;g++)if(m[g].fn===s&&m[g].ctx===u)return g;return!1},once:function(n,s,u){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=H(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],s,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[_(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[_(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var Q=bt.extend(N);function X(n,s,u){this.x=u?Math.round(n):n,this.y=u?Math.round(s):s}var mt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(n){return this.clone()._add(it(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(it(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new X(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new X(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=mt(this.x),this.y=mt(this.y),this},distanceTo:function(n){n=it(n);var s=n.x-this.x,u=n.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(n){return n=it(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=it(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function it(n,s,u){return n instanceof X?n:tt(n)?new X(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new X(n.x,n.y):new X(n,s,u)}function A(n,s){if(n)for(var u=s?[n,s]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}A.prototype={extend:function(n){var s,u;if(!n)return this;if(n instanceof X||typeof n[0]=="number"||"x"in n)s=u=it(n);else if(n=j(n),s=n.min,u=n.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return it((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return it(this.min.x,this.max.y)},getTopRight:function(){return it(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,u;return typeof n[0]=="number"||n instanceof X?n=it(n):n=j(n),n instanceof A?(s=n.min,u=n.max):s=u=n,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=j(n);var s=this.min,u=this.max,m=n.min,g=n.max,w=g.x>=s.x&&m.x<=u.x,z=g.y>=s.y&&m.y<=u.y;return w&&z},overlaps:function(n){n=j(n);var s=this.min,u=this.max,m=n.min,g=n.max,w=g.x>s.x&&m.x<u.x,z=g.y>s.y&&m.y<u.y;return w&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,u=this.max,m=Math.abs(s.x-u.x)*n,g=Math.abs(s.y-u.y)*n;return j(it(s.x-m,s.y-g),it(u.x+m,u.y+g))},equals:function(n){return n?(n=j(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function j(n,s){return!n||n instanceof A?n:new A(n,s)}function st(n,s){if(n)for(var u=s?[n,s]:n,m=0,g=u.length;m<g;m++)this.extend(u[m])}st.prototype={extend:function(n){var s=this._southWest,u=this._northEast,m,g;if(n instanceof ht)m=n,g=n;else if(n instanceof st){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(dt(n)||rt(n)):this;return!s&&!u?(this._southWest=new ht(m.lat,m.lng),this._northEast=new ht(g.lat,g.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(n){var s=this._southWest,u=this._northEast,m=Math.abs(s.lat-u.lat)*n,g=Math.abs(s.lng-u.lng)*n;return new st(new ht(s.lat-m,s.lng-g),new ht(u.lat+m,u.lng+g))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ht||"lat"in n?n=dt(n):n=rt(n);var s=this._southWest,u=this._northEast,m,g;return n instanceof st?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=s.lat&&g.lat<=u.lat&&m.lng>=s.lng&&g.lng<=u.lng},intersects:function(n){n=rt(n);var s=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>=s.lat&&m.lat<=u.lat,z=g.lng>=s.lng&&m.lng<=u.lng;return w&&z},overlaps:function(n){n=rt(n);var s=this._southWest,u=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>s.lat&&m.lat<u.lat,z=g.lng>s.lng&&m.lng<u.lng;return w&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=rt(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function rt(n,s){return n instanceof st?n:new st(n,s)}function ht(n,s,u){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,u!==void 0&&(this.alt=+u)}ht.prototype={equals:function(n,s){if(!n)return!1;n=dt(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+R(this.lat,n)+", "+R(this.lng,n)+")"},distanceTo:function(n){return Ft.distance(this,dt(n))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,u=s/Math.cos(Math.PI/180*this.lat);return rt([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function dt(n,s,u){return n instanceof ht?n:tt(n)&&typeof n[0]!="object"?n.length===3?new ht(n[0],n[1],n[2]):n.length===2?new ht(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ht(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new ht(n,s,u)}var zt={latLngToPoint:function(n,s){var u=this.projection.project(n),m=this.scale(s);return this.transformation._transform(u,m)},pointToLatLng:function(n,s){var u=this.scale(s),m=this.transformation.untransform(n,u);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(n),m=this.transformation.transform(s.min,u),g=this.transformation.transform(s.max,u);return new A(m,g)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?T(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?T(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ht(u,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),u=this.wrapLatLng(s),m=s.lat-u.lat,g=s.lng-u.lng;if(m===0&&g===0)return n;var w=n.getSouthWest(),z=n.getNorthEast(),U=new ht(w.lat-m,w.lng-g),G=new ht(z.lat-m,z.lng-g);return new st(U,G)}},Ft=d({},zt,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var u=Math.PI/180,m=n.lat*u,g=s.lat*u,w=Math.sin((s.lat-n.lat)*u/2),z=Math.sin((s.lng-n.lng)*u/2),U=w*w+Math.cos(m)*Math.cos(g)*z*z,G=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*G}}),Pt=6378137,He={R:Pt,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,u=this.MAX_LATITUDE,m=Math.max(Math.min(u,n.lat),-u),g=Math.sin(m*s);return new X(this.R*n.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var s=180/Math.PI;return new ht((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=Pt*Math.PI;return new A([-n,-n],[n,n])})()};function Un(n,s,u,m){if(tt(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=u,this._d=m}Un.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new X((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function ye(n,s,u,m){return new Un(n,s,u,m)}var dn=d({},Ft,{code:"EPSG:3857",projection:He,transformation:(function(){var n=.5/(Math.PI*He.R);return ye(n,.5,-n,.5)})()}),We=d({},dn,{code:"EPSG:900913"});function vi(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function _i(n,s){var u="",m,g,w,z,U,G;for(m=0,w=n.length;m<w;m++){for(U=n[m],g=0,z=U.length;g<z;g++)G=U[g],u+=(g?"L":"M")+G.x+" "+G.y;u+=s?xt.svg?"z":"x":""}return u||"M0 0"}var qr=document.documentElement.style,Va="ActiveXObject"in window,Gr=Va&&!document.addEventListener,Gs="msLaunchUri"in navigator&&!("documentMode"in document),Ka=$e("webkit"),cl=$e("android"),fl=$e("android 2")||$e("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yc=cl&&$e("Google")&&Ke<537&&!("AudioNode"in window),Ys=!!window.opera,Yr=!Gs&&$e("chrome"),Qa=$e("gecko")&&!Ka&&!Ys&&!Va,vc=!Yr&&$e("safari"),Vr=$e("phantom"),hl="OTransition"in qr,_c=navigator.platform.indexOf("Win")===0,$i=Va&&"transition"in qr,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fl,Hn="MozPerspective"in qr,Qe=!window.L_DISABLE_3D&&($i||Ne||Hn)&&!hl&&!Vr,Xa=typeof orientation<"u"||$e("mobile"),bc=Xa&&Ka,wc=Xa&&Ne,Ia=!window.PointerEvent&&window.MSPointerEvent,Ja=!!(window.PointerEvent||Ia),Fa="ontouchstart"in window||!!window.TouchEvent,bi=!window.L_NO_TOUCH&&(Fa||Ja),Vs=Xa&&Ys,Wa=Xa&&Qa,xc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,dl=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",S,s),window.removeEventListener("testPassiveEventSupport",S,s)}catch{}return n})(),Kr=(function(){return!!document.createElement("canvas").getContext})(),wi=!!(document.createElementNS&&vi("svg").createSVGRect),Ec=!!wi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ml=!wi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),pl=navigator.platform.indexOf("Mac")===0,gl=navigator.platform.indexOf("Linux")===0;function $e(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var xt={ie:Va,ielt9:Gr,edge:Gs,webkit:Ka,android:cl,android23:fl,androidStock:yc,opera:Ys,chrome:Yr,gecko:Qa,safari:vc,phantom:Vr,opera12:hl,win:_c,ie3d:$i,webkit3d:Ne,gecko3d:Hn,any3d:Qe,mobile:Xa,mobileWebkit:bc,mobileWebkit3d:wc,msPointer:Ia,pointer:Ja,touch:bi,touchNative:Fa,mobileOpera:Vs,mobileGecko:Wa,retina:xc,passiveEvents:dl,canvas:Kr,svg:wi,vml:ml,inlineSvg:Ec,mac:pl,linux:gl},Qr=xt.msPointer?"MSPointerDown":"pointerdown",Xr=xt.msPointer?"MSPointerMove":"pointermove",jn=xt.msPointer?"MSPointerUp":"pointerup",ve=xt.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Qr,touchmove:Xr,touchend:jn,touchcancel:ve},xi={touchstart:ea,touchmove:Wn,touchend:Wn,touchcancel:Wn},Fn={},yl=!1;function Sc(n,s,u){return s==="touchstart"&&ta(),xi[s]?(u=xi[s].bind(this,u),n.addEventListener(ze[s],u,!1),u):(console.warn("wrong event specified:",s),S)}function vl(n,s,u){if(!ze[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(ze[s],u,!1)}function $a(n){Fn[n.pointerId]=n}function Ir(n){Fn[n.pointerId]&&(Fn[n.pointerId]=n)}function Ei(n){delete Fn[n.pointerId]}function ta(){yl||(document.addEventListener(Qr,$a,!0),document.addEventListener(Xr,Ir,!0),document.addEventListener(jn,Ei,!0),document.addEventListener(ve,Ei,!0),yl=!0)}function Wn(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in Fn)s.touches.push(Fn[u]);s.changedTouches=[s],n(s)}}function ea(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ce(s),Wn(n,s)}function _e(n){var s={},u,m;for(m in n)u=n[m],s[m]=u&&u.bind?u.bind(n):u;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var _l=200;function bl(n,s){n.addEventListener("dblclick",s);var u=0,m;function g(w){if(w.detail!==1){m=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var z=rs(w);if(!(z.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!z.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var U=Date.now();U-u<=_l?(m++,m===2&&s(_e(w))):m=1,u=U}}}return n.addEventListener("click",g),{dblclick:s,simDblclick:g}}function Si(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var $n=ns(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ts=ns(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jr=ts==="webkitTransition"||ts==="OTransition"?ts+"End":"transitionend";function Fr(n){return typeof n=="string"?document.getElementById(n):n}function es(n,s){var u=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);u=m?m[s]:null}return u==="auto"?null:u}function Rt(n,s,u){var m=document.createElement(n);return m.className=s||"",u&&u.appendChild(m),m}function Wt(n){var s=n.parentNode;s&&s.removeChild(n)}function tn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Se(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Ti(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Wr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var u=Ks(n);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function Ct(n,s){if(n.classList!==void 0)for(var u=H(s),m=0,g=u.length;m<g;m++)n.classList.add(u[m]);else if(!Wr(n,s)){var w=Ks(n);na(n,(w?w+" ":"")+s)}}function oe(n,s){n.classList!==void 0?n.classList.remove(s):na(n,P((" "+Ks(n)+" ").replace(" "+s+" "," ")))}function na(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Ks(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&$r(n,s)}function $r(n,s){var u=!1,m="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function ns(n){for(var s=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in s)return n[u];return!1}function Zn(n,s,u){var m=s||new X(0,0);n.style[$n]=(xt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(u?" scale("+u+")":"")}function ne(n,s){n._leaflet_pos=s,xt.any3d?Zn(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function ti(n){return n._leaflet_pos||new X(0,0)}var ia,En,to;if("onselectstart"in document)ia=function(){Lt(window,"selectstart",ce)},En=function(){Xt(window,"selectstart",ce)};else{var aa=ns(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ia=function(){if(aa){var n=document.documentElement.style;to=n[aa],n[aa]="none"}},En=function(){aa&&(document.documentElement.style[aa]=to,to=void 0)}}function Qs(){Lt(window,"dragstart",ce)}function is(){Xt(window,"dragstart",ce)}var Xs,eo;function sa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(en(),Xs=n,eo=n.style.outlineStyle,n.style.outlineStyle="none",Lt(window,"keydown",en))}function en(){Xs&&(Xs.style.outlineStyle=eo,Xs=void 0,eo=void 0,Xt(window,"keydown",en))}function Is(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function as(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var ra={__proto__:null,TRANSFORM:$n,TRANSITION:ts,TRANSITION_END:Jr,get:Fr,getStyle:es,create:Rt,remove:Wt,empty:tn,toFront:Se,toBack:Ti,hasClass:Wr,addClass:Ct,removeClass:oe,setClass:na,getClass:Ks,setOpacity:ae,testProp:ns,setTransform:Zn,setPosition:ne,getPosition:ti,get disableTextSelection(){return ia},get enableTextSelection(){return En},disableImageDrag:Qs,enableImageDrag:is,preventOutline:sa,restoreOutline:en,getSizedParentNode:Is,getScale:as};function Lt(n,s,u,m){if(s&&typeof s=="object")for(var g in s)pn(n,g,s[g],u);else{s=H(s);for(var w=0,z=s.length;w<z;w++)pn(n,s[w],u,m)}return this}var mn="_leaflet_events";function Xt(n,s,u,m){if(arguments.length===1)no(n),delete n[mn];else if(s&&typeof s=="object")for(var g in s)ss(n,g,s[g],u);else if(s=H(s),arguments.length===2)no(n,function(U){return pt(s,U)!==-1});else for(var w=0,z=s.length;w<z;w++)ss(n,s[w],u,m);return this}function no(n,s){for(var u in n[mn]){var m=u.split(/\d/)[0];(!s||s(m))&&ss(n,m,null,null,u)}}var Ai={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pn(n,s,u,m){var g=s+_(u)+(m?"_"+_(m):"");if(n[mn]&&n[mn][g])return this;var w=function(U){return u.call(m||n,U||window.event)},z=w;!xt.touchNative&&xt.pointer&&s.indexOf("touch")===0?w=Sc(n,s,w):xt.touch&&s==="dblclick"?w=bl(n,w):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Ai[s]||s,w,xt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(w=function(U){U=U||window.event,Pn(n,U)&&z(U)},n.addEventListener(Ai[s],w,!1)):n.addEventListener(s,z,!1):n.attachEvent("on"+s,w),n[mn]=n[mn]||{},n[mn][g]=w}function ss(n,s,u,m,g){g=g||s+_(u)+(m?"_"+_(m):"");var w=n[mn]&&n[mn][g];if(!w)return this;!xt.touchNative&&xt.pointer&&s.indexOf("touch")===0?vl(n,s,w):xt.touch&&s==="dblclick"?Si(n,w):"removeEventListener"in n?n.removeEventListener(Ai[s]||s,w,!1):n.detachEvent("on"+s,w),n[mn][g]=null}function gn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Sn(n){return pn(n,"wheel",gn),this}function zi(n){return Lt(n,"mousedown touchstart dblclick contextmenu",gn),n._leaflet_disable_click=!0,this}function ce(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ei(n){return ce(n),gn(n),this}function rs(n){if(n.composedPath)return n.composedPath();for(var s=[],u=n.target;u;)s.push(u),u=u.parentNode;return s}function os(n,s){if(!s)return new X(n.clientX,n.clientY);var u=as(s),m=u.boundingClientRect;return new X((n.clientX-m.left)/u.x-s.clientLeft,(n.clientY-m.top)/u.y-s.clientTop)}var wl=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Be(n){return xt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/wl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Pn(n,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var Js={__proto__:null,on:Lt,off:Xt,stopPropagation:gn,disableScrollPropagation:Sn,disableClickPropagation:zi,preventDefault:ce,stop:ei,getPropagationPath:rs,getMousePosition:os,getWheelDelta:Be,isExternalTarget:Pn,addListener:Lt,removeListener:Xt},oa=Q.extend({run:function(n,s,u,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ti(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=lt(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var u=this._startPos.add(this._offset.multiplyBy(n));s&&u._round(),ne(this._el,u),this.fire("step")},_complete:function(){ut(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ht=Q.extend({options:{crs:dn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=M(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(dt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ts&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Jr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(dt(n),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=d({animate:u.animate},u.zoom),u.pan=d({animate:u.animate,duration:u.duration},u.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,u.zoom):this._tryAnimatedPan(n,u.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,u){var m=this.getZoomScale(s),g=this.getSize().divideBy(2),w=n instanceof X?n:this.latLngToContainerPoint(n),z=w.subtract(g).multiplyBy(1-1/m),U=this.containerPointToLatLng(g.add(z));return this.setView(U,s,{zoom:u})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():rt(n);var u=it(s.paddingTopLeft||s.padding||[0,0]),m=it(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(n,!1,u.add(m));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var w=m.subtract(u).divideBy(2),z=this.project(n.getSouthWest(),g),U=this.project(n.getNorthEast(),g),G=this.unproject(z.add(U).divideBy(2).add(w),g);return{center:G,zoom:g}},fitBounds:function(n,s){if(n=rt(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=it(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,u){if(u=u||{},u.animate===!1||!xt.any3d)return this.setView(n,s,u);this._stop();var m=this.project(this.getCenter()),g=this.project(n),w=this.getSize(),z=this._zoom;n=dt(n),s=s===void 0?z:s;var U=Math.max(w.x,w.y),G=U*this.getZoomScale(z,s),W=g.distanceTo(m)||1,ct=1.42,Et=ct*ct;function Nt(ue){var Vn=ue?-1:1,Oi=ue?G:U,vo=G*G-U*U+Vn*Et*Et*W*W,Es=2*Oi*Et*W,Ss=vo/Es,ci=Math.sqrt(Ss*Ss+1)-Ss,Kn=ci<1e-9?-18:Math.log(ci);return Kn}function Te(ue){return(Math.exp(ue)-Math.exp(-ue))/2}function fe(ue){return(Math.exp(ue)+Math.exp(-ue))/2}function Ie(ue){return Te(ue)/fe(ue)}var qt=Nt(0);function Gt(ue){return U*(fe(qt)/fe(qt+ct*ue))}function kt(ue){return U*(fe(qt)*Ie(qt+ct*ue)-Te(qt))/Et}function li(ue){return 1-Math.pow(1-ue,1.5)}var rn=Date.now(),cr=(Nt(1)-qt)/ct,ui=u.duration?1e3*u.duration:1e3*cr*.8;function yo(){var ue=(Date.now()-rn)/ui,Vn=li(ue)*cr;ue<=1?(this._flyToFrame=lt(yo,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(kt(Vn)/W)),z),this.getScaleZoom(U/Gt(Vn),z),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),yo.call(this),this},flyToBounds:function(n,s){var u=this._getBoundsCenterZoom(n,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(n){return n=rt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var u=this.getCenter(),m=this._limitCenter(u,this._zoom,rt(n));return u.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var u=it(s.paddingTopLeft||s.padding||[0,0]),m=it(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(n),z=this.getPixelBounds(),U=j([z.min.add(u),z.max.subtract(m)]),G=U.getSize();if(!U.contains(w)){this._enforcingBounds=!0;var W=w.subtract(U.getCenter()),ct=U.extend(w).getSize().subtract(G);g.x+=W.x<0?-ct.x:ct.x,g.y+=W.y<0?-ct.y:ct.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),m=s.divideBy(2).round(),g=u.divideBy(2).round(),w=m.subtract(g);return!w.x&&!w.y?this:(n.animate&&n.pan?this.panBy(w):(n.pan&&this._rawPanBy(w),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=v(this._handleGeolocationResponse,this),u=v(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,n):navigator.geolocation.getCurrentPosition(s,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,u=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,u=n.coords.longitude,m=new ht(s,u),g=m.toBounds(n.coords.accuracy*2),w=this._locateOptions;if(w.setView){var z=this.getBoundsZoom(g);this.setView(m,w.maxZoom?Math.min(z,w.maxZoom):z)}var U={latlng:m,bounds:g,timestamp:n.timestamp};for(var G in n.coords)typeof n.coords[G]=="number"&&(U[G]=n.coords[G]);this.fire("locationfound",U)}},addHandler:function(n,s){if(!s)return this;var u=this[n]=new s(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ut(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Wt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Rt("div",u,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new st(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,u){n=rt(n),u=it(u||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),z=n.getNorthWest(),U=n.getSouthEast(),G=this.getSize().subtract(u),W=j(this.project(U,m),this.project(z,m)).getSize(),ct=xt.any3d?this.options.zoomSnap:1,Et=G.x/W.x,Nt=G.y/W.y,Te=s?Math.max(Et,Nt):Math.min(Et,Nt);return m=this.getScaleZoom(Te,m),ct&&(m=Math.round(m/(ct/100))*(ct/100),m=s?Math.ceil(m/ct)*ct:Math.floor(m/ct)*ct),Math.max(g,Math.min(w,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var u=this._getTopLeftPoint(n,s);return new A(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(n)/u.scale(s)},getScaleZoom:function(n,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var m=u.zoom(n*u.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(dt(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(it(n),s)},layerPointToLatLng:function(n){var s=it(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(dt(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(dt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(rt(n))},distance:function(n,s){return this.options.crs.distance(dt(n),dt(s))},containerPointToLayerPoint:function(n){return it(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return it(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(it(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(n)))},mouseEventToContainerPoint:function(n){return os(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Fr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(s,"scroll",this._onScroll,this),this._containerId=_(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,Ct(n,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=es(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(n.markerPane,"leaflet-zoom-hide"),Ct(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,u){ne(this._mapPane,new X(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,u)._move(n,s)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,u,m){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ut(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ne(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[_(this._container)]=this;var s=n?Xt:Lt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ut(this._resizeRequest),this._resizeRequest=lt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var u=[],m,g=s==="mouseout"||s==="mouseover",w=n.target||n.srcElement,z=!1;w;){if(m=this._targets[_(w)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){z=!0;break}if(m&&m.listens(s,!0)&&(g&&!Pn(w,n)||(u.push(m),g))||w===this._container)break;w=w.parentNode}return!u.length&&!z&&!g&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var u=n.type;u==="mousedown"&&sa(s),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,u){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,u)}var g=this._findEventTargets(n,s);if(u){for(var w=[],z=0;z<u.length;z++)u[z].listens(s,!0)&&w.push(u[z]);g=w.concat(g)}if(g.length){s==="contextmenu"&&ce(n);var U=g[0],G={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var W=U.getLatLng&&(!U._radius||U._radius<=10);G.containerPoint=W?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(n),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=W?U.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(z=0;z<g.length;z++)if(g[z].fire(s,G,!0),G.originalEvent._stopped||g[z].options.bubblingMouseEvents===!1&&pt(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return ti(this._mapPane)||new X(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var u=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var u=this.getSize()._divideBy(2);return this.project(n,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,u){var m=this._getNewPixelOrigin(u,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,u){var m=this._getNewPixelOrigin(u,s);return j([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,u){if(!u)return n;var m=this.project(n,s),g=this.getSize().divideBy(2),w=new A(m.subtract(g),m.add(g)),z=this._getBoundsOffset(w,u,s);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?n:this.unproject(m.add(z),s)},_limitOffset:function(n,s){if(!s)return n;var u=this.getPixelBounds(),m=new A(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,u){var m=j(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),g=m.min.subtract(n.min),w=m.max.subtract(n.max),z=this._rebound(g.x,-w.x),U=this._rebound(g.y,-w.y);return new X(z,U)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),u=this.getMaxZoom(),m=xt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var u=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var n=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var u=$n,m=this._proxy.style[u];Zn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Zn(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),g=this._getCenterOffset(n)._divideBy(1-1/m);return u.animate!==!0&&!this.getSize().contains(g)?!1:(lt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,u,m){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function io(n,s){return new Ht(n,s)}var Xe=bt.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),u=this.getPosition(),m=n._controlCorners[u];return Ct(s,"leaflet-control"),u.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),qn=function(n){return new Xe(n)};Ht.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",u=this._controlContainer=Rt("div",s+"control-container",this._container);function m(g,w){var z=s+g+" "+s+w;n[g+w]=Rt("div",z,u)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Wt(this._controlCorners[n]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ls=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,u,m){return u<m?-1:m<u?1:0}},initialize:function(n,s,u){M(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Xe.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(_(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Rt("div",n),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),zi(s),Sn(s);var m=this._section=Rt("section",n+"-list");u&&(this._map.on("click",this.collapse,this),Lt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Rt("a",n+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),Lt(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){ce(w),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Rt("div",n+"-base",m),this._separator=Rt("div",n+"-separator",m),this._overlaysList=Rt("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&_(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(v(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tn(this._baseLayersList),tn(this._overlaysList),this._layerControlInputs=[];var n,s,u,m,g=0;for(u=0;u<this._layers.length;u++)m=this._layers[u],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(_(n.target)),u=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(n,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=u,m.firstChild},_addItem:function(n){var s=document.createElement("label"),u=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=u):m=this._createRadioElement("leaflet-base-layers_"+_(this),u),this._layerControlInputs.push(m),m.layerId=_(n.layer),Lt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var w=document.createElement("span");s.appendChild(w),w.appendChild(m),w.appendChild(g);var z=n.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,u,m=[],g=[];this._handlingClick=!0;for(var w=n.length-1;w>=0;w--)s=n[w],u=this._getLayer(s.layerId).layer,s.checked?m.push(u):s.checked||g.push(u);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<m.length;w++)this._map.hasLayer(m[w])||this._map.addLayer(m[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,u,m=this._map.getZoom(),g=n.length-1;g>=0;g--)s=n[g],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&m<u.options.minZoom||u.options.maxZoom!==void 0&&m>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Lt(n,"click",ce),this.expand();var s=this;setTimeout(function(){Xt(n,"click",ce),s._preventClick=!1})}}),xl=function(n,s,u){return new ls(n,s,u)},ao=Xe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",u=Rt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,u,m,g){var w=Rt("a",u,m);return w.innerHTML=n,w.href="#",w.title=s,w.setAttribute("role","button"),w.setAttribute("aria-label",s),zi(w),Lt(w,"click",ei),Lt(w,"click",g,this),Lt(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";oe(this._zoomInButton,s),oe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Ct(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Ct(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ao,this.addControl(this.zoomControl))});var Tc=function(n){return new ao(n)},El=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",u=Rt("div",s),m=this.options;return this._addScales(m,s+"-line",u),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,u){n.metric&&(this._mScale=Rt("div",s,u)),n.imperial&&(this._iScale=Rt("div",s,u))},_update:function(){var n=this._map,s=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/n)},_updateImperial:function(n){var s=n*3.2808399,u,m,g;s>5280?(u=s/5280,m=this._getRoundNum(u),this._updateScale(this._iScale,m+" mi",m/u)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(n,s,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),u=n/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),so=function(n){return new El(n)},Ac='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ro=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?Ac+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),zi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook(function(){this.options.attributionControl&&new ro().addTo(this)});var zc=function(n){return new ro(n)};Xe.Layers=ls,Xe.Zoom=ao,Xe.Scale=El,Xe.Attribution=ro,qn.layers=xl,qn.zoom=Tc,qn.scale=so,qn.attribution=zc;var Tn=bt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tn.addTo=function(n,s){return n.addHandler(s,this),this};var Lc={Events:N},oo=xt.touch?"touchstart mousedown":"mousedown",ni=Q.extend({options:{clickTolerance:3},initialize:function(n,s,u,m){M(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=u},enable:function(){this._enabled||(Lt(this._dragStartTarget,oo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,oo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Wr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ni._dragging=this,this._preventOutline&&sa(this._element),Qs(),ia(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,u=Is(this._element);this._startPoint=new X(s.clientX,s.clientY),this._startPos=ti(this._element),this._parentScale=as(u);var m=n.type==="mousedown";Lt(document,m?"mousemove":"touchmove",this._onMove,this),Lt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,u=new X(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ce(n),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ne(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xt(document,"mousemove touchmove",this._onMove,this),Xt(document,"mouseup touchend touchcancel",this._onUp,this),is(),En();var s=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Sl(n,s,u){var m,g=[1,4,2,8],w,z,U,G,W,ct,Et,Nt;for(w=0,ct=n.length;w<ct;w++)n[w]._code=Li(n[w],s);for(U=0;U<4;U++){for(Et=g[U],m=[],w=0,ct=n.length,z=ct-1;w<ct;z=w++)G=n[w],W=n[z],G._code&Et?W._code&Et||(Nt=Fs(W,G,Et,s,u),Nt._code=Li(Nt,s),m.push(Nt)):(W._code&Et&&(Nt=Fs(W,G,Et,s,u),Nt._code=Li(Nt,s),m.push(Nt)),m.push(G));n=m}return n}function Tl(n,s){var u,m,g,w,z,U,G,W,ct;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Et=dt([0,0]),Nt=rt(n),Te=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Te<1700&&(Et=lo(n));var fe=n.length,Ie=[];for(u=0;u<fe;u++){var qt=dt(n[u]);Ie.push(s.project(dt([qt.lat-Et.lat,qt.lng-Et.lng])))}for(U=G=W=0,u=0,m=fe-1;u<fe;m=u++)g=Ie[u],w=Ie[m],z=g.y*w.x-w.y*g.x,G+=(g.x+w.x)*z,W+=(g.y+w.y)*z,U+=z*3;U===0?ct=Ie[0]:ct=[G/U,W/U];var Gt=s.unproject(it(ct));return dt([Gt.lat+Et.lat,Gt.lng+Et.lng])}function lo(n){for(var s=0,u=0,m=0,g=0;g<n.length;g++){var w=dt(n[g]);s+=w.lat,u+=w.lng,m++}return dt([s/m,u/m])}var uo={__proto__:null,clipPolygon:Sl,polygonCenter:Tl,centroid:lo};function Al(n,s){if(!s||!n.length)return n.slice();var u=s*s;return n=Mc(n,u),n=Ll(n,u),n}function zl(n,s,u){return Math.sqrt(us(n,s,u,!0))}function Cc(n,s,u){return us(n,s,u)}function Ll(n,s){var u=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(u);g[0]=g[u-1]=1,co(n,g,s,0,u-1);var w,z=[];for(w=0;w<u;w++)g[w]&&z.push(n[w]);return z}function co(n,s,u,m,g){var w=0,z,U,G;for(U=m+1;U<=g-1;U++)G=us(n[U],n[m],n[g],!0),G>w&&(z=U,w=G);w>u&&(s[z]=1,co(n,s,u,m,z),co(n,s,u,z,g))}function Mc(n,s){for(var u=[n[0]],m=1,g=0,w=n.length;m<w;m++)Oc(n[m],n[g])>s&&(u.push(n[m]),g=m);return g<w-1&&u.push(n[w-1]),u}var Cl;function Ml(n,s,u,m,g){var w=m?Cl:Li(n,u),z=Li(s,u),U,G,W;for(Cl=z;;){if(!(w|z))return[n,s];if(w&z)return!1;U=w||z,G=Fs(n,s,U,u,g),W=Li(G,u),U===w?(n=G,w=W):(s=G,z=W)}}function Fs(n,s,u,m,g){var w=s.x-n.x,z=s.y-n.y,U=m.min,G=m.max,W,ct;return u&8?(W=n.x+w*(G.y-n.y)/z,ct=G.y):u&4?(W=n.x+w*(U.y-n.y)/z,ct=U.y):u&2?(W=G.x,ct=n.y+z*(G.x-n.x)/w):u&1&&(W=U.x,ct=n.y+z*(U.x-n.x)/w),new X(W,ct,g)}function Li(n,s){var u=0;return n.x<s.min.x?u|=1:n.x>s.max.x&&(u|=2),n.y<s.min.y?u|=4:n.y>s.max.y&&(u|=8),u}function Oc(n,s){var u=s.x-n.x,m=s.y-n.y;return u*u+m*m}function us(n,s,u,m){var g=s.x,w=s.y,z=u.x-g,U=u.y-w,G=z*z+U*U,W;return G>0&&(W=((n.x-g)*z+(n.y-w)*U)/G,W>1?(g=u.x,w=u.y):W>0&&(g+=z*W,w+=U*W)),z=n.x-g,U=n.y-w,m?z*z+U*U:new X(g,w)}function nn(n){return!tt(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ws(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(n)}function la(n,s){var u,m,g,w,z,U,G,W;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ct=dt([0,0]),Et=rt(n),Nt=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Nt<1700&&(ct=lo(n));var Te=n.length,fe=[];for(u=0;u<Te;u++){var Ie=dt(n[u]);fe.push(s.project(dt([Ie.lat-ct.lat,Ie.lng-ct.lng])))}for(u=0,m=0;u<Te-1;u++)m+=fe[u].distanceTo(fe[u+1])/2;if(m===0)W=fe[0];else for(u=0,w=0;u<Te-1;u++)if(z=fe[u],U=fe[u+1],g=z.distanceTo(U),w+=g,w>m){G=(w-m)/g,W=[U.x-G*(U.x-z.x),U.y-G*(U.y-z.y)];break}var qt=s.unproject(it(W));return dt([qt.lat+ct.lat,qt.lng+ct.lng])}var Nc={__proto__:null,simplify:Al,pointToSegmentDistance:zl,closestPointOnSegment:Cc,clipSegment:Ml,_getEdgeIntersection:Fs,_getBitCode:Li,_sqClosestPointOnSegment:us,isFlat:nn,_flat:Ws,polylineCenter:la},$s={project:function(n){return new X(n.lng,n.lat)},unproject:function(n){return new ht(n.y,n.x)},bounds:new A([-180,-90],[180,90])},tr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,u=this.R,m=n.lat*s,g=this.R_MINOR/u,w=Math.sqrt(1-g*g),z=w*Math.sin(m),U=Math.tan(Math.PI/4-m/2)/Math.pow((1-z)/(1+z),w/2);return m=-u*Math.log(Math.max(U,1e-10)),new X(n.lng*s*u,m)},unproject:function(n){for(var s=180/Math.PI,u=this.R,m=this.R_MINOR/u,g=Math.sqrt(1-m*m),w=Math.exp(-n.y/u),z=Math.PI/2-2*Math.atan(w),U=0,G=.1,W;U<15&&Math.abs(G)>1e-7;U++)W=g*Math.sin(z),W=Math.pow((1-W)/(1+W),g/2),G=Math.PI/2-2*Math.atan(w*W)-z,z+=G;return new ht(z*s,n.x*s/u)}},Ol={__proto__:null,LonLat:$s,Mercator:tr,SphericalMercator:He},Nl=d({},Ft,{code:"EPSG:3395",projection:tr,transformation:(function(){var n=.5/(Math.PI*tr.R);return ye(n,.5,-n,.5)})()}),fo=d({},Ft,{code:"EPSG:4326",projection:$s,transformation:ye(1/180,1,-1/180,.5)}),ua=d({},zt,{projection:$s,transformation:ye(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var u=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(u*u+m*m)},infinite:!0});zt.Earth=Ft,zt.EPSG3395=Nl,zt.EPSG3857=dn,zt.EPSG900913=We,zt.EPSG4326=fo,zt.Simple=ua;var yn=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[_(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[_(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=_(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=_(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return _(n)in this._layers},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},_addLayers:function(n){n=n?tt(n)?n:[n]:[];for(var s=0,u=n.length;s<u;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[_(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=_(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,u=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ca=yn.extend({initialize:function(n,s){M(this,s),this._layers={};var u,m;if(n)for(u=0,m=n.length;u<m;u++)this.addLayer(n[u])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),u,m;for(u in this._layers)m=this._layers[u],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return _(n)}}),Bc=function(n,s){return new ca(n,s)},An=ca.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ca.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ca.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new st;for(var s in this._layers){var u=this._layers[s];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),Bl=function(n,s){return new An(n,s)},zn=bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var u=this.options,m=u[s+"Size"];typeof m=="number"&&(m=[m,m]);var g=it(m),w=it(s==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(u.className||""),w&&(n.style.marginLeft=-w.x+"px",n.style.marginTop=-w.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return xt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function cs(n){return new zn(n)}var fs=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof fs.imagePath!="string"&&(fs.imagePath=this._detectIconPath()),(this.options.imagePath||fs.imagePath)+zn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(u,m,g){var w=m.exec(u);return w&&w[g]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Rt("div","leaflet-default-icon-path",document.body),s=es(n,"background-image")||es(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),hs=Tn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ni(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,u=s._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=ti(s._icon),z=u.getPixelBounds(),U=u.getPixelOrigin(),G=j(z.min._subtract(U).add(g),z.max._subtract(U).subtract(g));if(!G.contains(w)){var W=it((Math.max(G.max.x,w.x)-G.max.x)/(z.max.x-G.max.x)-(Math.min(G.min.x,w.x)-G.min.x)/(z.min.x-G.min.x),(Math.max(G.max.y,w.y)-G.max.y)/(z.max.y-G.max.y)-(Math.min(G.min.y,w.y)-G.min.y)/(z.min.y-G.min.y)).multiplyBy(m);u.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),ne(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=lt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ut(this._panRequest),this._panRequest=lt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,u=s._shadow,m=ti(s._icon),g=s._map.layerPointToLatLng(m);u&&ne(u,m),s._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ut(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ds=yn.extend({options:{icon:new fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){M(this,s),this._latlng=dt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=dt(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),m=!1;u!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),Ct(u,s),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(u,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(Ct(g,s),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ne(this._icon,n),this._shadow&&ne(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hs)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hs(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,u=s.iconSize?it(s.iconSize):it(0,0),m=s.iconAnchor?it(s.iconAnchor):it(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:u.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rl(n,s){return new ds(n,s)}var Ln=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fa=Ln.extend({options:{fill:!0,radius:10},initialize:function(n,s){M(this,s),this._latlng=dt(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=dt(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Ln.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,u=this._clickTolerance(),m=[n+u,s+u];this._pxBounds=new A(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kl(n,s){return new fa(n,s)}var er=fa.extend({initialize:function(n,s,u){if(typeof s=="number"&&(s=d({},u,{radius:s})),M(this,s),this._latlng=dt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new st(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Ln.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,u=this._map,m=u.options.crs;if(m.distance===Ft.distance){var g=Math.PI/180,w=this._mRadius/Ft.R/g,z=u.project([s+w,n]),U=u.project([s-w,n]),G=z.add(U).divideBy(2),W=u.unproject(G).lat,ct=Math.acos((Math.cos(w*g)-Math.sin(s*g)*Math.sin(W*g))/(Math.cos(s*g)*Math.cos(W*g)))/g;(isNaN(ct)||ct===0)&&(ct=w/Math.cos(Math.PI/180*s)),this._point=G.subtract(u.getPixelOrigin()),this._radius=isNaN(ct)?0:G.x-u.project([W,n-ct]).x,this._radiusY=G.y-z.y}else{var Et=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Et).x}this._updateBounds()}});function Dl(n,s,u){return new er(n,s,u)}var Gn=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){M(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,u=null,m=us,g,w,z=0,U=this._parts.length;z<U;z++)for(var G=this._parts[z],W=1,ct=G.length;W<ct;W++){g=G[W-1],w=G[W];var Et=m(n,g,w,!0);Et<s&&(s=Et,u=m(n,g,w))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return la(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=dt(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new st,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],u=nn(n),m=0,g=n.length;m<g;m++)u?(s[m]=dt(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new X(n,n);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,u){var m=n[0]instanceof ht,g=n.length,w,z;if(m){for(z=[],w=0;w<g;w++)z[w]=this._map.latLngToLayerPoint(n[w]),u.extend(z[w]);s.push(z)}else for(w=0;w<g;w++)this._projectLatlngs(n[w],s,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,m,g,w,z,U,G;for(u=0,g=0,w=this._rings.length;u<w;u++)for(G=this._rings[u],m=0,z=G.length;m<z-1;m++)U=Ml(G[m],G[m+1],n,m,!0),U&&(s[g]=s[g]||[],s[g].push(U[0]),(U[1]!==G[m+1]||m===z-2)&&(s[g].push(U[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,u=0,m=n.length;u<m;u++)n[u]=Al(n[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var u,m,g,w,z,U,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,w=this._parts.length;u<w;u++)for(U=this._parts[u],m=0,z=U.length,g=z-1;m<z;g=m++)if(!(!s&&m===0)&&zl(n,U[g],U[m])<=G)return!0;return!1}});function Rc(n,s){return new Gn(n,s)}Gn._flat=Ws;var ha=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Gn.prototype._convertLatLngs.call(this,n),u=s.length;return u>=2&&s[0]instanceof ht&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(n){Gn.prototype._setLatLngs.call(this,n),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,u=new X(s,s);if(n=new A(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,w;m<g;m++)w=Sl(this._rings[m],n,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,u,m,g,w,z,U,G,W;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(w=0,G=this._parts.length;w<G;w++)for(u=this._parts[w],z=0,W=u.length,U=W-1;z<W;U=z++)m=u[z],g=u[U],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(s=!s);return s||Gn.prototype._containsPoint.call(this,n,!0)}});function kc(n,s){return new ha(n,s)}var Yn=An.extend({initialize:function(n,s){M(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=tt(n)?n:n.features,u,m,g;if(s){for(u=0,m=s.length;u<m;u++)g=s[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(n))return this;var z=Le(n,w);return z?(z.feature=ar(n),z.defaultOptions=z.options,this.resetStyle(z),w.onEachFeature&&w.onEachFeature(n,z),this.addLayer(z)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Le(n,s){var u=n.type==="Feature"?n.geometry:n,m=u?u.coordinates:null,g=[],w=s&&s.pointToLayer,z=s&&s.coordsToLatLng||nr,U,G,W,ct;if(!m&&!u)return null;switch(u.type){case"Point":return U=z(m),da(w,n,U,s);case"MultiPoint":for(W=0,ct=m.length;W<ct;W++)U=z(m[W]),g.push(da(w,n,U,s));return new An(g);case"LineString":case"MultiLineString":return G=ms(m,u.type==="LineString"?0:1,z),new Gn(G,s);case"Polygon":case"MultiPolygon":return G=ms(m,u.type==="Polygon"?1:2,z),new ha(G,s);case"GeometryCollection":for(W=0,ct=u.geometries.length;W<ct;W++){var Et=Le({geometry:u.geometries[W],type:"Feature",properties:n.properties},s);Et&&g.push(Et)}return new An(g);case"FeatureCollection":for(W=0,ct=u.features.length;W<ct;W++){var Nt=Le(u.features[W],s);Nt&&g.push(Nt)}return new An(g);default:throw new Error("Invalid GeoJSON object.")}}function da(n,s,u,m){return n?n(s,u):new ds(u,m&&m.markersInheritOptions&&m)}function nr(n){return new ht(n[1],n[0],n[2])}function ms(n,s,u){for(var m=[],g=0,w=n.length,z;g<w;g++)z=s?ms(n[g],s-1,u):(u||nr)(n[g]),m.push(z);return m}function ir(n,s){return n=dt(n),n.alt!==void 0?[R(n.lng,s),R(n.lat,s),R(n.alt,s)]:[R(n.lng,s),R(n.lat,s)]}function ps(n,s,u,m){for(var g=[],w=0,z=n.length;w<z;w++)g.push(s?ps(n[w],nn(n[w])?0:s-1,u,m):ir(n[w],m));return!s&&u&&g.length>0&&g.push(g[0].slice()),g}function ii(n,s){return n.feature?d({},n.feature,{geometry:s}):ar(s)}function ar(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ai={toGeoJSON:function(n){return ii(this,{type:"Point",coordinates:ir(this.getLatLng(),n)})}};ds.include(ai),er.include(ai),fa.include(ai),Gn.include({toGeoJSON:function(n){var s=!nn(this._latlngs),u=ps(this._latlngs,s?1:0,!1,n);return ii(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),ha.include({toGeoJSON:function(n){var s=!nn(this._latlngs),u=s&&!nn(this._latlngs[0]),m=ps(this._latlngs,u?2:s?1:0,!0,n);return s||(m=[m]),ii(this,{type:(u?"Multi":"")+"Polygon",coordinates:m})}}),ca.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(n).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var u=s==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(n);if(u)m.push(w.geometry);else{var z=ar(w);z.type==="FeatureCollection"?m.push.apply(m,z.features):m.push(z)}}}),u?ii(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function sr(n,s){return new Yn(n,s)}var gs=sr,ma=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,u){this._url=n,this._bounds=rt(s),M(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Se(this._image),this},bringToBack:function(){return this._map&&Ti(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=rt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Rt("img");if(Ct(s,"leaflet-image-layer"),this._zoomAnimated&&Ct(s,"leaflet-zoom-animated"),this.options.className&&Ct(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onload=v(this.fire,this,"load"),s.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Zn(this._image,u,s)},_reset:function(){var n=this._image,s=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();ne(n,s.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Ul=function(n,s,u){return new ma(n,s,u)},si=ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Rt("video");if(Ct(s,"leaflet-image-layer"),this._zoomAnimated&&Ct(s,"leaflet-zoom-animated"),this.options.className&&Ct(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onloadeddata=v(this.fire,this,"load"),n){for(var u=s.getElementsByTagName("source"),m=[],g=0;g<u.length;g++)m.push(u[g].src);this._url=u.length>0?m:[s.src];return}tt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var z=Rt("source");z.src=this._url[w],s.appendChild(z)}}});function pa(n,s,u){return new si(n,s,u)}var rr=ma.extend({_initImage:function(){var n=this._image=this._url;Ct(n,"leaflet-image-layer"),this._zoomAnimated&&Ct(n,"leaflet-zoom-animated"),this.options.className&&Ct(n,this.options.className),n.onselectstart=S,n.onmousemove=S}});function Hl(n,s,u){return new rr(n,s,u)}var Ce=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof ht||tt(n))?(this._latlng=dt(n),M(this,s)):(M(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(v(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=dt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Se(this._container),this},bringToBack:function(){return this._map&&Ti(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof An){s=null;var u=this._source._layers;for(var m in u)if(u[m]._map){s=u[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=it(this.options.offset),u=this._getAnchor();this._zoomAnimated?ne(this._container,n.add(u)):s=s.add(n).add(u);var m=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(n,s,u,m){var g=s;return g instanceof n||(g=new n(m).setContent(s)),u&&g.setLatLng(u),g}}),yn.include({_initOverlay:function(n,s,u,m){var g=u;return g instanceof n?(M(g,m),g._source=this):(g=s&&!m?s:new n(m,this),g.setContent(u)),g}});var ys=Ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ce.prototype.openOn.call(this,n)},onAdd:function(n){Ce.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",gn))},onRemove:function(n){Ce.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",gn))},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Rt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Rt("div",n+"-content-wrapper",s);if(this._contentNode=Rt("div",n+"-content",u),zi(s),Sn(this._contentNode),Lt(s,"contextmenu",gn),this._tipContainer=Rt("div",n+"-tip-container",s),this._tip=Rt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Rt("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(m,"click",function(g){ce(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&m>g?(s.height=g+"px",Ct(n,w)):oe(n,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();ne(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(es(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,m=this._containerWidth,g=new X(this._containerLeft,-u-this._containerBottom);g._add(ti(this._container));var w=n.layerPointToContainerPoint(g),z=it(this.options.autoPanPadding),U=it(this.options.autoPanPaddingTopLeft||z),G=it(this.options.autoPanPaddingBottomRight||z),W=n.getSize(),ct=0,Et=0;w.x+m+G.x>W.x&&(ct=w.x+m-W.x+G.x),w.x-ct-U.x<0&&(ct=w.x-U.x),w.y+u+G.y>W.y&&(Et=w.y+u-W.y+G.y),w.y-Et-U.y<0&&(Et=w.y-U.y),(ct||Et)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ct,Et]))}},_getAnchor:function(){return it(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),jl=function(n,s){return new ys(n,s)};Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(n,s,u){return this._initOverlay(ys,n,s,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),yn.include({bindPopup:function(n,s){return this._popup=this._initOverlay(ys,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ei(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Ln)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var vs=Ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ce.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ce.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,u,m=this._map,g=this._container,w=m.latLngToContainerPoint(m.getCenter()),z=m.layerPointToContainerPoint(n),U=this.options.direction,G=g.offsetWidth,W=g.offsetHeight,ct=it(this.options.offset),Et=this._getAnchor();U==="top"?(s=G/2,u=W):U==="bottom"?(s=G/2,u=0):U==="center"?(s=G/2,u=W/2):U==="right"?(s=0,u=W/2):U==="left"?(s=G,u=W/2):z.x<w.x?(U="right",s=0,u=W/2):(U="left",s=G+(ct.x+Et.x)*2,u=W/2),n=n.subtract(it(s,u,!0)).add(ct).add(Et),oe(g,"leaflet-tooltip-right"),oe(g,"leaflet-tooltip-left"),oe(g,"leaflet-tooltip-top"),oe(g,"leaflet-tooltip-bottom"),Ct(g,"leaflet-tooltip-"+U),ne(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return it(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dc=function(n,s){return new vs(n,s)};Ht.include({openTooltip:function(n,s,u){return this._initOverlay(vs,n,s,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),yn.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vs,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(Lt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Lt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,u,m;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Zl=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(tn(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var m=it(u.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Uc(n){return new Zl(n)}zn.Default=fs;var ga=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Wt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof X?n:new X(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,u=-n(-1/0,1/0),m=0,g=s.length,w;m<g;m++)w=s[m].style.zIndex,s[m]!==this._container&&w&&(u=n(u,+w));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){ae(this._container,this.options.opacity);var n=+new Date,s=!1,u=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var w=Math.min(1,(n-g.loaded)/200);ae(g.el,w),w<1?s=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(ut(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=s-Math.abs(n-u),this._onUpdateLevel(u)):(Wt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),S(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var n,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Wt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,u,m){var g=Math.floor(n/2),w=Math.floor(s/2),z=u-1,U=new X(+g,+w);U.z=+z;var G=this._tileCoordsToKey(U),W=this._tiles[G];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),z>m?this._retainParent(g,w,z,m):!1)},_retainChildren:function(n,s,u,m){for(var g=2*n;g<2*n+2;g++)for(var w=2*s;w<2*s+2;w++){var z=new X(g,w);z.z=u+1;var U=this._tileCoordsToKey(z),G=this._tiles[U];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);u+1<m&&this._retainChildren(g,w,u+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,u,m){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,s)},_setZoomTransform:function(n,s,u){var m=this._map.getZoomScale(u,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,u)).round();xt.any3d?Zn(n.el,g,m):ne(n.el,g)},_resetGrid:function(){var n=this._map,s=n.options.crs,u=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/u.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/u.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(u,this._tileZoom),g=s.project(n,this._tileZoom).floor(),w=s.getSize().divideBy(m*2);return new A(g.subtract(w),g.add(w))},_update:function(n){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),w=g.getCenter(),z=[],U=this.options.keepBuffer,G=new A(g.getBottomLeft().subtract([U,-U]),g.getTopRight().add([U,-U]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var ct=this._tiles[W].coords;(ct.z!==this._tileZoom||!G.contains(new X(ct.x,ct.y)))&&(this._tiles[W].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var Et=g.min.y;Et<=g.max.y;Et++)for(var Nt=g.min.x;Nt<=g.max.x;Nt++){var Te=new X(Nt,Et);if(Te.z=this._tileZoom,!!this._isValidTile(Te)){var fe=this._tiles[this._tileCoordsToKey(Te)];fe?fe.current=!0:z.push(Te)}}if(z.sort(function(qt,Gt){return qt.distanceTo(w)-Gt.distanceTo(w)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(Nt=0;Nt<z.length;Nt++)this._addTile(z[Nt],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!s.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return rt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,u=this.getTileSize(),m=n.scaleBy(u),g=m.add(u),w=s.unproject(m,n.z),z=s.unproject(g,n.z);return[w,z]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),u=new st(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),u=new X(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(n){var s=this._tiles[n];s&&(Wt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Ct(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=S,n.onmousemove=S,xt.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,s){var u=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),v(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&lt(v(this._tileReady,this,n,null,g)),ne(g,u),this._tiles[m]={el:g,coords:n,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:n});var m=this._tileCoordsToKey(n);u=this._tiles[m],u&&(u.loaded=+new Date,this._map._fadeAnimated?(ae(u.el,0),ut(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(Ct(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?lt(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new X(this._wrapX?T(n.x,this._wrapX):n.x,this._wrapY?T(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new A(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Pl(n){return new ga(n)}var ri=ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=M(this,s),s.detectRetina&&xt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var u=document.createElement("img");return Lt(u,"load",v(this._tileOnLoad,this,s,u)),Lt(u,"error",v(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var s={r:xt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=u),s["-y"]=u}return et(this._url,d(s,this.options))},_tileOnLoad:function(n,s){xt.ielt9?setTimeout(v(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,u){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(u,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,m=this.options.zoomOffset;return u&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=S,s.onerror=S,!s.complete)){s.src=yt;var u=this._tiles[n].coords;Wt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",yt),ga.prototype._removeTile.call(this,n)},_tileReady:function(n,s,u){if(!(!this._map||u&&u.getAttribute("src")===yt))return ga.prototype._tileReady.call(this,n,s,u)}});function an(n,s){return new ri(n,s)}var _s=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var u=d({},this.defaultWmsParams);for(var m in s)m in this.options||(u[m]=s[m]);s=M(this,s);var g=s.detectRetina&&xt.retina?2:1,w=this.getTileSize();u.width=w.x*g,u.height=w.y*g,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ri.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),u=this._crs,m=j(u.project(s[0]),u.project(s[1])),g=m.min,w=m.max,z=(this._wmsVersion>=1.3&&this._crs===fo?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),U=ri.prototype.getTileUrl.call(this,n);return U+D(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(n,s){return d(this.wmsParams,n),s||this.redraw(),this}});function sn(n,s){return new _s(n,s)}ri.WMS=_s,an.wms=sn;var je=yn.extend({options:{padding:.1},initialize:function(n){M(this,n),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var u=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),w=m.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(n,s));xt.any3d?Zn(this._container,w,u):ne(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new A(u,u.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),or=je.extend({options:{tolerance:0},getEvents:function(){var n=je.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Lt(n,"mousemove",this._onMouseMove,this),Lt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ut(this._redrawRequest),delete this._ctx,Wt(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var n=this._bounds,s=this._container,u=n.getSize(),m=xt.retina?2:1;ne(s,n.min),s.width=m*u.x,s.height=m*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[_(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,u=s.next,m=s.prev;u?u.prev=m:this._drawLast=m,m?m.next=u:this._drawFirst=u,delete n._order,delete this._layers[_(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),u=[],m,g;for(g=0;g<s.length;g++){if(m=Number(s[g]),isNaN(m))return;u.push(m)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||lt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var u,m,g,w,z=n._parts,U=z.length,G=this._ctx;if(U){for(G.beginPath(),u=0;u<U;u++){for(m=0,g=z[u].length;m<g;m++)w=z[u][m],G[m?"lineTo":"moveTo"](w.x,w.y);s&&G.closePath()}this._fillStroke(G,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,u=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(s.x,s.y/g,m,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,s){var u=s.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(m=u);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(oe(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var u,m,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(s)&&(m=u);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,u){this._map._fireDOMEvent(s,u||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var u=s.next,m=s.prev;if(u)u.prev=m;else return;m?m.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var u=s.next,m=s.prev;if(m)m.next=u;else return;u?u.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function bs(n){return xt.canvas?new or(n):null}var oi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ho={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(je.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=oi("shape");Ct(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=oi("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Wt(s),n.removeInteractiveTarget(s),delete this._layers[_(n)]},_updateStyle:function(n){var s=n._stroke,u=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(s||(s=n._stroke=oi("stroke")),g.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=tt(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(g.removeChild(s),n._stroke=null),m.fill?(u||(u=n._fill=oi("fill")),g.appendChild(u),u.color=m.fillColor||m.color,u.opacity=m.fillOpacity):u&&(g.removeChild(u),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),u=Math.round(n._radius),m=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Se(n._container)},_bringToBack:function(n){Ti(n._container)}},Cn=xt.vml?oi:vi,ya=je.extend({_initContainer:function(){this._container=Cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var n=this._bounds,s=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),ne(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Cn("path");n.options.className&&Ct(s,n.options.className),n.options.interactive&&Ct(s,"leaflet-interactive"),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Wt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[_(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,u=n.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,_i(n._parts,s))},_updateCircle:function(n){var s=n._point,u=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||u,g="a"+u+","+m+" 0 1,0 ",w=n._empty()?"M0 0":"M"+(s.x-u)+","+s.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(n,w)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Se(n._path)},_bringToBack:function(n){Ti(n._path)}});xt.vml&&ya.include(ho);function ws(n){return xt.svg||xt.vml?new ya(n):null}Ht.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&bs(n)||ws(n)}});var Ci=ha.extend({initialize:function(n,s){ha.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=rt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Hc(n,s){return new Ci(n,s)}ya.create=Cn,ya.pointsToPath=_i,Yn.geometryToLayer=Le,Yn.coordsToLatLng=nr,Yn.coordsToLatLngs=ms,Yn.latLngToCoords=ir,Yn.latLngsToCoords=ps,Yn.getFeature=ii,Yn.asFeature=ar,Ht.mergeOptions({boxZoom:!0});var Ze=Tn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ia(),Qs(),this._startPoint=this._map.mouseEventToContainerPoint(n),Lt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new A(this._point,this._startPoint),u=s.getSize();ne(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Wt(this._box),oe(this._container,"leaflet-crosshair")),En(),is(),Xt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var s=new st(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",Ze),Ht.mergeOptions({doubleClickZoom:!0});var lr=Tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,u=s.getZoom(),m=s.options.zoomDelta,g=n.originalEvent.shiftKey?u-m:u+m;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(n.containerPoint,g)}});Ht.addInitHook("addHandler","doubleClickZoom",lr),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mn=Tn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ni(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=rt(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),u=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-s+u)%n+s-u,w=(m+s+u)%n-s-u,z=Math.abs(g+u)<Math.abs(w+u)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(n){var s=this._map,u=s.options,m=!u.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,z=u.easeLinearity,U=g.multiplyBy(z/w),G=U.distanceTo([0,0]),W=Math.min(u.inertiaMaxSpeed,G),ct=U.multiplyBy(W/G),Et=W/(u.inertiaDeceleration*z),Nt=ct.multiplyBy(-Et/2).round();!Nt.x&&!Nt.y?s.fire("moveend"):(Nt=s._limitOffset(Nt,s.options.maxBounds),lt(function(){s.panBy(Nt,{duration:Et,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Ht.addInitHook("addHandler","dragging",Mn),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mo=Tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Lt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,u=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},u=this.keyCodes,m,g;for(m=0,g=u.left.length;m<g;m++)s[u.left[m]]=[-1*n,0];for(m=0,g=u.right.length;m<g;m++)s[u.right[m]]=[n,0];for(m=0,g=u.down.length;m<g;m++)s[u.down[m]]=[0,n];for(m=0,g=u.up.length;m<g;m++)s[u.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},u=this.keyCodes,m,g;for(m=0,g=u.zoomIn.length;m<g;m++)s[u.zoomIn[m]]=n;for(m=0,g=u.zoomOut.length;m<g;m++)s[u.zoomOut[m]]=-n},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,u=this._map,m;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=it(m).multiplyBy(3)),u.options.maxBounds&&(m=u._limitOffset(it(m),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(m)));u.panTo(g)}else u.panBy(m)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ei(n)}}});Ht.addInitHook("addHandler","keyboard",mo),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xs=Tn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Be(n),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),m),ei(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,w=u?Math.ceil(g/u)*u:g,z=n._limitZoom(s+(this._delta>0?w:-w))-s;this._delta=0,this._startTime=null,z&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+z):n.setZoomAround(this._lastMousePos,s+z))}});Ht.addInitHook("addHandler","scrollWheelZoom",xs);var Mi=600;Ht.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var ur=Tn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new X(s.clientX,s.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",ce),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Mi),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Xt(document,"touchend",ce),Xt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new X(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});Ht.addInitHook("addHandler","tapHold",ur),Ht.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var po=Tn.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(m)._divideBy(2))),this._startDist=u.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),ce(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),g=u.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=u._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ut(this._animRequest);var z=v(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=lt(z,this,!0),ce(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ut(this._animRequest),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ht.addInitHook("addHandler","touchZoom",po),Ht.BoxZoom=Ze,Ht.DoubleClickZoom=lr,Ht.Drag=Mn,Ht.Keyboard=mo,Ht.ScrollWheelZoom=xs,Ht.TapHold=ur,Ht.TouchZoom=po,l.Bounds=A,l.Browser=xt,l.CRS=zt,l.Canvas=or,l.Circle=er,l.CircleMarker=fa,l.Class=bt,l.Control=Xe,l.DivIcon=Zl,l.DivOverlay=Ce,l.DomEvent=Js,l.DomUtil=ra,l.Draggable=ni,l.Evented=Q,l.FeatureGroup=An,l.GeoJSON=Yn,l.GridLayer=ga,l.Handler=Tn,l.Icon=zn,l.ImageOverlay=ma,l.LatLng=ht,l.LatLngBounds=st,l.Layer=yn,l.LayerGroup=ca,l.LineUtil=Nc,l.Map=Ht,l.Marker=ds,l.Mixin=Lc,l.Path=Ln,l.Point=X,l.PolyUtil=uo,l.Polygon=ha,l.Polyline=Gn,l.Popup=ys,l.PosAnimation=oa,l.Projection=Ol,l.Rectangle=Ci,l.Renderer=je,l.SVG=ya,l.SVGOverlay=rr,l.TileLayer=ri,l.Tooltip=vs,l.Transformation=Un,l.Util=vt,l.VideoOverlay=si,l.bind=v,l.bounds=j,l.canvas=bs,l.circle=Dl,l.circleMarker=kl,l.control=qn,l.divIcon=Uc,l.extend=d,l.featureGroup=Bl,l.geoJSON=sr,l.geoJson=gs,l.gridLayer=Pl,l.icon=cs,l.imageOverlay=Ul,l.latLng=dt,l.latLngBounds=rt,l.layerGroup=Bc,l.map=io,l.marker=Rl,l.point=it,l.polygon=kc,l.polyline=Rc,l.popup=jl,l.rectangle=Hc,l.setOptions=M,l.stamp=_,l.svg=ws,l.svgOverlay=Hl,l.tileLayer=an,l.tooltip=Dc,l.transformation=ye,l.version=c,l.videoOverlay=pa;var go=window.L;l.noConflict=function(){return window.L=go,this},window.L=l}))})($o,$o.exports)),$o.exports}var mc=jE();const qs=$h(mc);function m0(a,r,l){return Object.freeze({instance:a,context:r,container:l})}function p0(a,r){return r==null?function(c,d){const p=ft.useRef(void 0);return p.current||(p.current=a(c,d)),p}:function(c,d){const p=ft.useRef(void 0);p.current||(p.current=a(c,d));const v=ft.useRef(c),{instance:b}=p.current;return ft.useEffect(function(){v.current!==c&&(r(b,c,v.current),v.current=c)},[b,c,r]),p}}function ZE(a,r){ft.useEffect(function(){return(r.layerContainer??r.map).addLayer(a.instance),function(){r.layerContainer?.removeLayer(a.instance),r.map.removeLayer(a.instance)}},[r,a])}function g0(a){return function(l){const c=h0(),d=a(d0(l,c),c);return OE(c.map,l.attribution),UE(d.current,l.eventHandlers),ZE(d.current,c),d}}function PE(a,r){const l=p0(a,r),c=g0(l);return kE(c)}function qE(a,r){const l=p0(a,r),c=g0(l);return DE(c)}function GE(a,r,l){const{opacity:c,zIndex:d}=r;c!=null&&c!==l.opacity&&a.setOpacity(c),d!=null&&d!==l.zIndex&&a.setZIndex(d)}function y0(){return h0().map}function YE(a){const r=y0();return ft.useEffect(function(){return r.on(a),function(){r.off(a)}},[r,a]),r}function VE({bounds:a,boundsOptions:r,center:l,children:c,className:d,id:p,placeholder:v,style:b,whenReady:_,zoom:x,...T},S){const[R]=ft.useState({className:d,id:p,style:b}),[P,H]=ft.useState(null),M=ft.useRef(void 0);ft.useImperativeHandle(S,()=>P?.map??null,[P]);const D=ft.useCallback(et=>{if(et!==null&&!M.current){const tt=new mc.Map(et,T);M.current=tt,l!=null&&x!=null?tt.setView(l,x):a!=null&&tt.fitBounds(a,r),_!=null&&tt.whenReady(_),H(BE(tt))}},[]);ft.useEffect(()=>()=>{P?.map.remove()},[P]);const V=P?Yu.createElement(Bd,{value:P},c):v??null;return Yu.createElement("div",{...R,ref:D},V)}const KE=ft.forwardRef(VE),ul=PE(function({position:r,...l},c){const d=new mc.Marker(r,l);return m0(d,RE(c,{overlayContainer:d}))},function(r,l,c){l.position!==c.position&&r.setLatLng(l.position),l.icon!=null&&l.icon!==c.icon&&r.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==c.zIndexOffset&&r.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==c.opacity&&r.setOpacity(l.opacity),r.dragging!=null&&l.draggable!==c.draggable&&(l.draggable===!0?r.dragging.enable():r.dragging.disable())}),QE=qE(function({url:r,...l},c){const d=new mc.TileLayer(r,d0(l,c));return m0(d,c)},function(r,l,c){GE(r,l,c);const{url:d}=l;d!=null&&d!==c.url&&r.setUrl(d)}),Gu={PARKING_LOG:31417,OPEN_SPOT_BROADCAST:21011},Rr=["wss://relay.damus.io","wss://nos.lol","wss://relay.primal.net","wss://relay.snort.social"];function Fu(a,r,l=10){const c=[16,8,4,2,1],d="0123456789bcdefghjkmnpqrstuvwxyz";let p=!0,v=-90,b=90,_=-180,x=180,T="",S=0,R=0;for(;T.length<l;){if(p){const P=(_+x)/2;r>P?(R|=c[S],_=P):x=P}else{const P=(v+b)/2;a>P?(R|=c[S],v=P):b=P}p=!p,S<4?S++:(T+=d[R],S=0,R=0)}return T}function XE(a,r,l=5){const c=Fu(a,r,l),d=l===5?.02:l===6?.005:.001,p=l===5?.04:l===6?.01:.002,v=new Set;v.add(c);const b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[_,x]of b){const T=a+_*d,S=r+x*p;v.add(Fu(T,S,l))}return Array.from(v)}async function IE(a,r,l){const c=JSON.stringify(a);if(l){const d=al.getConversationKey(l,r);return al.encrypt(c,d)}else if(window.nostr?.nip44?.encrypt)return await window.nostr.nip44.encrypt(r,c);throw new Error("No encryption method available")}async function JE(a,r,l){let c;if(l){const d=al.getConversationKey(l,r);c=al.decrypt(a,d)}else if(window.nostr?.nip44?.decrypt)c=await window.nostr.nip44.decrypt(r,a);else throw new Error("No decryption method available");return JSON.parse(c)}const Wu={IN:"INR",US:"USD",GB:"GBP",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",AT:"EUR",PT:"EUR",IE:"EUR",JP:"JPY",CA:"CAD",AU:"AUD",CN:"CNY",AE:"AED",SG:"SGD",HK:"HKD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",NZ:"NZD",MX:"MXN",BR:"BRL",ZA:"ZAR",KR:"KRW",TH:"THB",MY:"MYR",PH:"PHP",ID:"IDR",VN:"VND",RU:"RUB",PL:"PLN",TR:"TRY",SA:"SAR",EG:"EGP"};async function FE(a,r){try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${r}&zoom=3`,{headers:{"User-Agent":"Parlens-PWA/1.0"}});if(!l.ok)throw new Error("Geocoding failed");const d=(await l.json()).address?.country_code?.toUpperCase();return d&&Wu[d]?Wu[d]:"USD"}catch(l){return console.warn("Currency detection failed, using locale fallback:",l),v0()}}function v0(){try{const r=window.navigator.language.split("-")[1]?.toUpperCase();return r&&Wu[r]?Wu[r]:"USD"}catch{return"USD"}}function jr(a){try{return 0 .toLocaleString(window.navigator.language,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}catch{return{INR:"",USD:"$",GBP:"",EUR:"",JPY:"",CAD:"C$",AUD:"A$",CNY:"",AED:".",SGD:"S$"}[a]||"$"}}const WE={INR:"IN",USD:"US",GBP:"GB",EUR:"EU",JPY:"JP",CAD:"CA",AUD:"AU",CNY:"CN",AED:"AE",SGD:"SG",HKD:"HK",CHF:"CH",SEK:"SE",NOK:"NO",DKK:"DK",NZD:"NZ",MXN:"MX",BRL:"BR",ZAR:"ZA",KRW:"KR",THB:"TH",MYR:"MY",PHP:"PH",IDR:"ID",VND:"VN",RUB:"RU",PLN:"PL",TRY:"TR",SAR:"SA",EGP:"EG"};function $E(a){return(WE[a]||"US").toUpperCase().replace(/./g,l=>String.fromCodePoint(l.charCodeAt(0)+127397))}const tS=({status:a,setStatus:r,location:l,vehicleType:c,setOpenSpots:d,parkLocation:p,setParkLocation:v})=>{const{pubkey:b,pool:_,signEvent:x}=ll(),[T,S]=ft.useState(!1),[R,P]=ft.useState("0"),[H,M]=ft.useState("USD"),[D,V]=ft.useState("$"),[et,tt]=ft.useState(null);ft.useEffect(()=>{if(a==="search"&&l){const at=XE(l[0],l[1],5);console.log("[Parlens] Searching for spots in geohashes:",at);const J=_.subscribeMany(Rr,[{kinds:[Gu.OPEN_SPOT_BROADCAST],"#g":at,since:Math.floor(Date.now()/1e3)-3600}],{onevent(ot){console.log("[Parlens] Received open spot event:",ot.id,ot.tags);try{const St=ot.tags,gt=St.find(bt=>bt[0]==="location"),lt=St.find(bt=>bt[0]==="hourly_rate"),ut=St.find(bt=>bt[0]==="currency"),vt=St.find(bt=>bt[0]==="type");if(gt){const[bt,nt]=gt[1].split(",").map(Number),N=vt?vt[1]:"car";if(N!==c){console.log("[Parlens] Skipping spot - type mismatch:",N,"vs",c);return}const Q={id:ot.id,lat:bt,lon:nt,price:lt?parseFloat(lt[1]):0,currency:ut?ut[1]:"USD",type:N};console.log("[Parlens] Adding spot to map:",Q),d(X=>X.find(mt=>mt.id===Q.id)?X:[...X,Q])}}catch(St){console.warn("[Parlens] Error parsing spot:",St)}},oneose(){console.log("[Parlens] End of stored events for spot search")}});return()=>{J.close(),d([])}}},[a,l,c]),ft.useEffect(()=>{const at=localStorage.getItem("parlens_session");if(at)try{const J=JSON.parse(at);J.status==="parked"&&J.parkLocation&&J.sessionStart?(console.log("[Parlens] Restoring parked session:",J),tt(J.sessionStart),v(J.parkLocation),r("parked")):J.status==="search"&&(console.log("[Parlens] Restoring search session"),r("search"))}catch(J){console.warn("[Parlens] Failed to restore session:",J),localStorage.removeItem("parlens_session")}},[]),ft.useEffect(()=>{a==="parked"&&et&&p?localStorage.setItem("parlens_session",JSON.stringify({status:"parked",sessionStart:et,parkLocation:p})):a==="search"?localStorage.setItem("parlens_session",JSON.stringify({status:"search"})):a==="idle"&&localStorage.removeItem("parlens_session")},[a,et,p]),ft.useEffect(()=>{(async()=>{const J=v0();if(M(J),V(jr(J)),l)try{const ot=await FE(l[0],l[1]);M(ot),V(jr(ot))}catch{console.warn("GPS currency detection failed")}})()},[l]);const pt=async()=>{a==="idle"?r("search"):a==="search"?(tt(Math.floor(Date.now()/1e3)),v([l[0],l[1]]),r("parked")):a==="parked"&&S(!0)},yt=async()=>{r("idle"),S(!1);const at=p?p[0]:l[0],J=p?p[1]:l[1],ot=Fu(at,J,5),St=Math.floor(Date.now()/1e3),gt=et||St;try{const lt={status:"vacated",lat:at,lon:J,geohash:ot,fee:R,currency:H,started_at:gt,finished_at:St},ut=localStorage.getItem("parlens_privkey"),vt=ut?new Uint8Array(ut.match(/.{1,2}/g).map(j=>parseInt(j,16))):void 0,bt=await IE(lt,b,vt),nt={kind:Gu.PARKING_LOG,content:bt,tags:[["g",ot],["client","parlens"],["type",c],["d",`session_${gt}`]],created_at:St,pubkey:b},N=await x(nt);console.log("Publishing log:",N.id,"to",Rr);const Q=_.publish(Rr,N);await Promise.allSettled(Q),console.log("Log published");const X=Math.max((St-gt)/3600,.1),mt=(parseFloat(R)/X).toFixed(2),it={kind:Gu.OPEN_SPOT_BROADCAST,content:"",tags:[["g",ot],["location",`${at},${J}`],["hourly_rate",mt],["currency",H],["type",c],["client","parlens"]],created_at:St,pubkey:b},A=await x(it);console.log("Broadcasting open spot:",A.id),_.publish(Rr,A),tt(null),v(null)}catch(lt){console.error("Persistence error:",lt),alert("Could not save to Nostr. Check relay connections.")}};return O.jsxs("div",{className:"relative flex flex-col items-end gap-4",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[a==="search"&&O.jsx("button",{onClick:()=>r("idle"),className:"h-14 px-8 rounded-full bg-red-500/90 text-white font-bold text-xs tracking-widest shadow-2xl backdrop-blur-md animate-in slide-in-from-left-8",children:"CANCEL"}),O.jsxs("button",{onClick:pt,className:`h-20 w-20 flex items-center justify-center rounded-[2.5rem] shadow-2xl transition-all active:scale-90 ${a==="idle"?"bg-[#007AFF] text-white shadow-blue-500/20":a==="search"?"bg-[#FF9500] text-white shadow-orange-500/20":"bg-[#34C759] text-white shadow-green-500/20"}`,children:[a==="idle"&&O.jsx(EE,{size:32,strokeWidth:2.5}),a==="search"&&O.jsx(Xh,{size:32,strokeWidth:2.5,className:"animate-pulse"}),a==="parked"&&(c==="bicycle"?O.jsx("span",{className:"text-3xl",children:""}):c==="motorcycle"?O.jsx("span",{className:"text-3xl",children:""}):O.jsx("span",{className:"text-3xl",children:""}))]})]}),T&&O.jsx("div",{className:"fixed inset-0 z-[2000] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 p-4",children:O.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col items-center space-y-5 animate-in slide-in-from-bottom-10 sm:zoom-in-95 border border-black/5 dark:border-white/10 transition-colors",children:[O.jsxs("div",{className:"text-center space-y-1",children:[O.jsx("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"End Session"}),O.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-white/40",children:"Enter total parking fee, 0 if free parking"})]}),O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 px-5 py-4 rounded-[1.5rem] border border-black/5 dark:border-white/5",children:[O.jsx("span",{className:"text-2xl font-bold text-blue-500",children:D}),O.jsx("input",{type:"number",value:R,onChange:at=>P(at.target.value),autoFocus:!0,className:"w-20 bg-transparent text-4xl font-black text-center text-zinc-900 dark:text-white focus:outline-none placeholder:text-zinc-300 dark:placeholder:text-white/10 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",min:"0"}),O.jsx("span",{className:"text-sm font-bold text-zinc-400 dark:text-white/20",children:H})]}),O.jsxs("div",{className:"flex flex-col gap-1.5",children:[O.jsx("button",{onClick:()=>P(String(Math.max(0,parseFloat(R||"0")+1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:O.jsx(cE,{size:22,className:"text-zinc-600 dark:text-white/70"})}),O.jsx("button",{onClick:()=>P(String(Math.max(0,parseFloat(R||"0")-1))),className:"h-10 w-10 rounded-xl bg-zinc-100 hover:bg-zinc-200 dark:bg-white/10 dark:hover:bg-white/20 active:scale-95 transition-all flex items-center justify-center",children:O.jsx(Qh,{size:22,className:"text-zinc-600 dark:text-white/70"})})]})]}),O.jsxs("div",{className:"w-full space-y-3",children:[O.jsxs("button",{onClick:yt,className:"w-full h-14 rounded-[1.5rem] bg-[#007AFF] text-white text-lg font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:["Log Parking ",O.jsx(rE,{size:20})]}),O.jsx("button",{onClick:()=>S(!1),className:"w-full text-xs font-bold text-zinc-400 dark:text-white/30 tracking-widest uppercase py-3 hover:text-zinc-600 dark:hover:text-white/50 transition-colors",children:"Cancel"})]})]})})]})};function eS(){const{pool:a,pubkey:r}=ll(),[l,c]=ft.useState([]),[d,p]=ft.useState(!0),v=ft.useCallback(async()=>{if(r){p(!0),console.log("[useParkingLogs] Fetching logs for",r);try{const b=await a.querySync(Rr,{kinds:[Gu.PARKING_LOG],authors:[r],limit:50});console.log("[useParkingLogs] Fetched",b.length,"events");const _=b.sort((x,T)=>T.created_at-x.created_at);c(_)}catch(b){console.error("[useParkingLogs] Fetch error:",b)}finally{p(!1)}}},[a,r]);return ft.useEffect(()=>{v()},[v]),{logs:l,loading:d,refetch:v}}const nS=({setHistorySpots:a})=>{const{pubkey:r,logout:l,pool:c}=ll(),{logs:d,refetch:p}=eS(),[v,b]=ft.useState(!1),[_,x]=ft.useState(null),[T,S]=ft.useState([]),[R,P]=ft.useState(!1);ft.useEffect(()=>{r&&(async()=>{const D=await c.get(Rr,{kinds:[0],authors:[r]});if(D)try{const V=JSON.parse(D.content);x({name:V.name||V.display_name||"Nostr User",npub:tl.npubEncode(r),picture:V.picture})}catch(V){console.error("Error parsing profile:",V)}else x({name:"Nostr User",npub:tl.npubEncode(r),picture:`https://api.dicebear.com/7.x/bottts/svg?seed=${r}`})})()},[r,c]),ft.useEffect(()=>{(async()=>{if(!r||!d.length)return;const D=localStorage.getItem("parlens_privkey"),V=D?new Uint8Array(D.match(/.{1,2}/g).map(tt=>parseInt(tt,16))):void 0,et=await Promise.all(d.map(async tt=>{try{const pt=await JE(tt.content,r,V);return{...tt,decryptedContent:pt}}catch{return{...tt,decryptedContent:null}}}));S(et.filter(tt=>tt.decryptedContent))})()},[d,r]),ft.useEffect(()=>{a&&a(R?T:[])},[R,T,a]);const H=()=>{const M=localStorage.getItem("parlens_privkey");if(M){const D=tl.nsecEncode(new Uint8Array(M.match(/.{1,2}/g).map(V=>parseInt(V,16))));navigator.clipboard.writeText(D),alert("Secret key copied to clipboard")}};return O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:()=>{p(),b(!0)},className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-white/10 backdrop-blur-md text-zinc-600 dark:text-white/70 hover:bg-white dark:hover:bg-white/20 active:scale-95 transition-all shadow-lg border border-black/5 dark:border-white/10",title:"Activity Log",children:O.jsx(dE,{size:20})}),v&&O.jsxs("div",{className:"fixed inset-0 z-[2000] flex flex-col items-center justify-start bg-black/60 backdrop-blur-xl animate-in fade-in duration-300 pt-2 px-4 pb-4",children:[O.jsx("button",{onClick:()=>b(!1),className:"absolute inset-0 z-0 cursor-default"}),O.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2rem] shadow-2xl p-6 flex flex-col gap-6 animate-in slide-in-from-bottom-10 duration-300 h-[calc(100vh-1.5rem)] overflow-y-auto no-scrollbar border border-black/5 dark:border-white/5 transition-colors",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:_?.name||"Nostr User"}),O.jsx("button",{onClick:()=>b(!1),className:"p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:O.jsx(f0,{size:20,className:"text-black/60 dark:text-white/60"})})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Keys"}),O.jsxs("div",{className:"space-y-0.5 rounded-[2rem] overflow-hidden bg-zinc-50 dark:bg-white/[0.03] border border-black/5 dark:border-white/5",children:[O.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{navigator.clipboard.writeText(_?.npub),alert("Public key copied")},children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400",children:O.jsx(c0,{size:20})}),O.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Public Key (Npub)"})]}),O.jsx(ly,{size:18,className:"text-zinc-400 dark:text-white/20"})]}),localStorage.getItem("parlens_privkey")&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"h-[1px] bg-black/5 dark:bg-white/5 mx-4"}),O.jsxs("div",{onClick:H,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors active:bg-black/10 dark:active:bg-white/10",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-500",children:O.jsx(zE,{size:20})}),O.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Copy Nostr Secret Key (Nsec)"})]}),O.jsx(ly,{size:18,className:"text-zinc-400 dark:text-white/20"})]})]})]}),O.jsx("p",{className:"text-xs text-zinc-400 dark:text-white/30 mt-2 ml-2 leading-relaxed",children:" Store your npub and nsec securely. These are your account access keys and cannot be recovered if lost."})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400 dark:text-white/20 ml-2",children:"Parking History"}),a&&O.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-white/5 rounded-[2rem] border border-black/5 dark:border-white/5 mb-4",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 text-purple-500 dark:text-purple-400",children:O.jsx(Xh,{size:20})}),O.jsx("span",{className:"font-semibold text-sm text-zinc-700 dark:text-white",children:"Show logs on map"})]}),O.jsx("button",{onClick:()=>P(!R),className:`w-12 h-7 rounded-full transition-colors relative ${R?"bg-blue-500":"bg-zinc-200 dark:bg-white/20"}`,children:O.jsx("div",{className:`absolute top-1 bottom-1 w-5 h-5 rounded-full bg-white transition-transform ${R?"left-[calc(100%-1.25rem-0.25rem)]":"left-1"}`})})]}),O.jsx("div",{className:"space-y-2",children:T.length>0?T.map(M=>{const D=M.decryptedContent,V=jr(D.currency||"USD"),et=D.started_at?new Date(D.started_at*1e3):null,tt=D.finished_at?new Date(D.finished_at*1e3):new Date(M.created_at*1e3),pt=D.lat&&D.lon?`${D.lat.toFixed(5)}, ${D.lon.toFixed(5)}`:null,yt=M.tags?.find(J=>J[0]==="type")?.[1]||"car",at=yt==="bicycle"?"":yt==="motorcycle"?"":"";return O.jsxs("div",{className:"p-5 rounded-[2rem] bg-zinc-50 dark:bg-white/[0.03] space-y-3 border border-black/5 dark:border-white/5 text-zinc-900 dark:text-white",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("span",{className:"text-2xl",children:at}),O.jsx("p",{className:"font-bold text-xl",children:D.fee?`${V}${D.fee}`:"Free"})]}),O.jsx("span",{className:"text-2xl",children:$E(D.currency||"USD")})]}),pt&&O.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/40",children:[O.jsx(Xh,{size:12,className:"text-blue-500 dark:text-blue-400"}),O.jsx("span",{className:"font-mono",children:pt})]}),O.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-white/30",children:[O.jsx(pE,{size:12,className:"text-green-500 dark:text-green-400"}),O.jsxs("div",{className:"space-x-1",children:[et&&O.jsxs("span",{children:["Start: ",et.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",et.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),O.jsx("span",{className:"text-black/10 dark:text-white/10",children:""}),O.jsxs("span",{children:["End: ",tt.toLocaleDateString(void 0,{month:"short",day:"numeric"})," ",tt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},M.id)}):O.jsx("div",{className:"p-10 rounded-[2.5rem] border-2 border-dashed border-black/5 dark:border-white/5 text-center",children:O.jsx("p",{className:"text-sm font-medium text-zinc-400 dark:text-white/10",children:"No recent activity"})})})]}),O.jsx("button",{onClick:()=>{l(),b(!1)},className:"w-full py-5 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800 text-red-500 font-bold tracking-wide border border-black/5 dark:border-white/5 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all active:scale-95 text-center mt-4",children:"Logout Session"})]})]})]})};function iS(a){return a>=17?8:a>=15?7:a>=13?6:a>=11?5:a>=9?4:3}function fy(a,r,l=!0){if(!l||r>=17||a.length<2)return a;const c=iS(r),d=new Map;for(const v of a){const b=Fu(v.lat,v.lon,c);if(d.has(b)){const _=d.get(b);_.spots.push(v),_.count++,_.minPrice=Math.min(_.minPrice,v.price),_.maxPrice=Math.max(_.maxPrice,v.price),_.lat=_.spots.reduce((x,T)=>x+T.lat,0)/_.count,_.lon=_.spots.reduce((x,T)=>x+T.lon,0)/_.count}else d.set(b,{id:`cluster-${b}`,lat:v.lat,lon:v.lon,spots:[v],minPrice:v.price,maxPrice:v.price,currency:v.currency,count:1})}const p=[];for(const v of d.values())v.count===1?p.push(v.spots[0]):p.push(v);return p}function hy(a){return"count"in a&&a.count>1}const aS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",sS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",rS=qs.icon({iconUrl:aS,shadowUrl:sS,iconSize:[25,41],iconAnchor:[12,41]});qs.Marker.prototype.options.icon=rS;const oS=({location:a,bearing:r})=>{const l=`
           <div style="transform: rotate(${r}deg); transition: transform 0.05s linear; display: flex; align-items: center; justify-content: center;">
             <div style="width: 28px; height: 28px; background: #007AFF; border: 3px solid white; border-radius: 50%; box-shadow: 0 0 0 2px rgba(0,122,255,0.4), 0 4px 12px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; position: relative;">
                <svg width="14" height="14" viewBox="0 0 14 14" style="transform: translateY(-1px); filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2));">
                  <path d="M7 0L14 14L7 12L0 14L7 0Z" fill="white" />
                </svg>
             </div>
           </div>`,c=qs.divIcon({className:"user-location-marker",html:l,iconSize:[40,40],iconAnchor:[20,20]});return O.jsx(ul,{position:a,icon:c})},lS=({location:a,vehicleType:r})=>{const c=`<div style="font-size: 36px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));">${r==="bicycle"?"":r==="motorcycle"?"":""}</div>`,d=qs.divIcon({className:"active-session-marker",html:c,iconSize:[40,40],iconAnchor:[20,20]});return O.jsx(ul,{position:a,icon:d})},uS=({spot:a,bearing:r,orientationMode:l})=>{const d=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?r:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
                
             </div>
             <div style="background: #34C759; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${a.price>0?`${a.currency==="USD"?"$":a.currency}${a.price.toFixed(2)}/hr`:"Free"}
             </div>
        </div>
    `,p=qs.divIcon({className:"spot-marker",html:d,iconSize:[60,60],iconAnchor:[30,45]});return O.jsx(ul,{position:[a.lat,a.lon],icon:p})},cS=({spot:a,bearing:r,orientationMode:l})=>{const c=a.decryptedContent;if(!c||!c.lat||!c.lon)return null;const p=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 60px; transform: rotate(${l==="auto"?r:0}deg);">
             <div style="font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); opacity: 0.7;">
                
             </div>
             <div style="background: #8E8E93; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 11px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${c.fee?`${jr(c.currency||"USD")}${c.fee}`:"Free"}
             </div>
        </div>
    `,v=qs.divIcon({className:"history-marker",html:p,iconSize:[60,60],iconAnchor:[30,45]});return O.jsx(ul,{position:[c.lat,c.lon],icon:v})},dy=({cluster:a,type:r,bearing:l,orientationMode:c})=>{const d=r==="open"?"":"",p=r==="open"?"#34C759":"#8E8E93",v=c==="auto"?l:0,b=a.minPrice===a.maxPrice?a.minPrice>0?`${jr(a.currency)}${a.minPrice}`:"Free":`${jr(a.currency)}${a.minPrice}-${a.maxPrice}`,_=`
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 70px; transform: rotate(${v}deg);">
             <div style="font-size: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); position: relative;">
                ${d}
                <div style="position: absolute; top: -5px; right: -5px; background: ${p}; color: white; font-size: 10px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                    ${a.count}
                </div>
             </div>
             <div style="background: ${p}; border-radius: 12px; padding: 2px 8px; font-weight: bold; font-size: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transform: translateY(-5px); white-space: nowrap; color: white;">
                ${b}
             </div>
        </div>
    `,x=qs.divIcon({className:"cluster-marker",html:_,iconSize:[70,60],iconAnchor:[35,45]});return O.jsx(ul,{position:[a.lat,a.lon],icon:x})},fS=({onZoomChange:a})=>{const r=YE({zoomend:()=>{a(r.getZoom())}});return ft.useEffect(()=>{a(r.getZoom())},[]),null},hS=({location:a,bearing:r,orientationMode:l,shouldRecenter:c,setShouldRecenter:d})=>{const p=y0();return ft.useEffect(()=>{c&&a&&(p.setView(a,16,{animate:!0}),d(!1))},[c,a,p,d]),ft.useEffect(()=>{if(a){l==="auto"&&p.setView(a,p.getZoom(),{animate:!0});const v=p.getContainer();v.style.transition="transform 0.5s cubic-bezier(0.1, 0, 0.3, 1)",v.style.transformOrigin="center center",l==="auto"?(v.style.transform=`rotate(${-r}deg)`,v.style.width="200%",v.style.height="200%",v.style.top="-50%",v.style.left="-50%"):(v.style.transform="rotate(0deg)",v.style.width="100%",v.style.height="100%",v.style.top="0",v.style.left="0"),v.style.position="absolute",p.invalidateSize()}},[a,r,l,p]),null},dS=()=>{const[a,r]=ft.useState(null),[l,c]=ft.useState(0),[d,p]=ft.useState("idle"),[v,b]=ft.useState("auto"),[_,x]=ft.useState(!1),[T,S]=ft.useState("car"),[R,P]=ft.useState([]),[H,M]=ft.useState([]),[D,V]=ft.useState(null),[et,tt]=ft.useState(!1),[pt,yt]=ft.useState(16),[at,J]=ft.useState(!1);ft.useEffect(()=>{const gt=window.matchMedia("(prefers-color-scheme: dark)");J(gt.matches);const lt=ut=>J(ut.matches);return gt.addEventListener("change",lt),()=>gt.removeEventListener("change",lt)},[]);const ot=ft.useRef(null);ft.useEffect(()=>("geolocation"in navigator&&(ot.current=navigator.geolocation.watchPosition(gt=>{const{latitude:lt,longitude:ut,heading:vt}=gt.coords;r([lt,ut]),vt!==null&&c(vt)},gt=>console.error("Location error:",gt),{enableHighAccuracy:!0,maximumAge:0,timeout:5e3})),()=>{ot.current!==null&&navigator.geolocation.clearWatch(ot.current)}),[]),ft.useEffect(()=>{const lt=setTimeout(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{if(await DeviceOrientationEvent.requestPermission()!=="granted"){console.warn("Device orientation permission denied");return}}catch(vt){console.error("Error requesting device orientation permission:",vt);return}const ut=vt=>{vt.webkitCompassHeading!==void 0?c(vt.webkitCompassHeading):vt.alpha!==null&&c(360-vt.alpha)};return window.addEventListener("deviceorientation",ut,!0),()=>window.removeEventListener("deviceorientation",ut,!0)},500);return()=>clearTimeout(lt)},[]);const St=gt=>{if(d!=="idle"){alert("Please end your current session before changing vehicle type.");return}S(gt)};return a?O.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-gray-50 dark:bg-black transition-colors duration-300",children:[O.jsx("div",{className:"absolute inset-0",children:O.jsxs(KE,{center:a,zoom:16,zoomControl:!1,className:"h-full w-full",dragging:!0,scrollWheelZoom:!0,touchZoom:!0,doubleClickZoom:!0,children:[O.jsx(QE,{url:at?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" CARTO"}),O.jsx(fS,{onZoomChange:yt}),O.jsx(oS,{location:a,bearing:l}),d==="parked"&&D&&O.jsx(lS,{location:D,vehicleType:T}),d==="search"&&R.length>0&&(()=>{const gt=R.map(ut=>({id:ut.id,lat:ut.lat,lon:ut.lon,price:ut.price,currency:ut.currency,original:ut}));return fy(gt,pt).map(ut=>hy(ut)?O.jsx(dy,{cluster:ut,type:"open",bearing:l,orientationMode:v},ut.id):O.jsx(uS,{spot:ut.original||ut,bearing:l,orientationMode:v},ut.id))})(),H.length>0&&(()=>{const lt=H.filter(vt=>(vt.tags?.find(nt=>nt[0]==="type")?.[1]||"car")===T).map(vt=>{const bt=vt.decryptedContent;return bt&&bt.lat&&bt.lon?{id:vt.id,lat:bt.lat,lon:bt.lon,price:parseFloat(bt.fee)||0,currency:bt.currency||"USD",original:vt}:null}).filter(Boolean);return fy(lt,pt).map(vt=>hy(vt)?O.jsx(dy,{cluster:vt,type:"history",bearing:l,orientationMode:v},vt.id):O.jsx(cS,{spot:vt.original||vt,bearing:l,orientationMode:v},vt.id))})(),O.jsx(hS,{location:a,bearing:l,orientationMode:v,shouldRecenter:et,setShouldRecenter:tt})]})}),O.jsxs("div",{className:"absolute bottom-10 left-6 z-[1000] flex flex-col items-start gap-4 animate-in slide-in-from-left-6",children:[O.jsxs("div",{className:"flex flex-col gap-1 p-1 rounded-[2rem] bg-white/80 dark:bg-white/10 backdrop-blur-md border border-black/5 dark:border-white/10 shadow-lg mb-2",children:[O.jsx("button",{onClick:()=>St("bicycle"),className:`p-2.5 rounded-full transition-all ${T==="bicycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:O.jsx("span",{className:"text-xl",children:""})}),O.jsx("button",{onClick:()=>St("motorcycle"),className:`p-2.5 rounded-full transition-all ${T==="motorcycle"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:O.jsx("span",{className:"text-xl",children:""})}),O.jsx("button",{onClick:()=>St("car"),className:`p-2.5 rounded-full transition-all ${T==="car"?"bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white shadow-lg scale-110":"text-black/50 dark:text-white/50 hover:text-black hover:bg-black/5 dark:hover:text-white dark:hover:bg-white/10"}`,children:O.jsx("span",{className:"text-xl",children:""})})]}),O.jsx("button",{onClick:()=>x(!0),className:"h-12 w-12 flex items-center justify-center rounded-[1.5rem] bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl border border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70 shadow-2xl active:scale-95 transition-all",children:O.jsx(uy,{size:20})})]}),O.jsxs("div",{className:"absolute bottom-10 right-6 z-[1000] flex flex-col items-end gap-5 animate-in slide-in-from-right-6",children:[O.jsx("button",{onClick:()=>{b(gt=>gt==="auto"?"fixed":"auto"),tt(!0)},className:`h-12 w-12 flex items-center justify-center rounded-[1.5rem] backdrop-blur-md transition-all active:scale-95 border shadow-lg ${v==="auto"?"bg-blue-500/20 border-blue-500/50 text-blue-500 dark:text-blue-400":"bg-white/80 dark:bg-zinc-800/80 border-black/5 dark:border-white/10 text-zinc-600 dark:text-white/70"}`,children:v==="auto"?O.jsx(wE,{size:20,className:"fill-current"}):O.jsx(yE,{size:20})}),O.jsx(nS,{setHistorySpots:M}),O.jsx(tS,{status:d,setStatus:p,location:a,vehicleType:T,setOpenSpots:P,parkLocation:D,setParkLocation:V})]}),_&&O.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/40 dark:bg-black/80 backdrop-blur-xl p-6 animate-in fade-in",children:O.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-[#1c1c1e] rounded-[2.5rem] border border-black/5 dark:border-white/10 shadow-2xl p-8 space-y-8 animate-in zoom-in-95 max-h-[85vh] overflow-y-auto no-scrollbar relative transition-colors",children:[O.jsx("button",{onClick:()=>x(!1),className:"absolute top-6 right-6 p-2 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:O.jsx(f0,{size:20,className:"text-black/60 dark:text-white/60"})}),O.jsxs("div",{className:"text-center space-y-2 pt-4",children:[O.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-500 dark:text-blue-400 mb-4",children:O.jsx(uy,{size:32})}),O.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"How to use Parlens"})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("h3",{className:"text-center font-bold text-zinc-600 dark:text-white/90",children:"Add to your homescreen"}),O.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[O.jsxs("button",{onClick:()=>{document.getElementById("android-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",children:[O.jsx("span",{children:"Using Browser Menu (Android)"}),O.jsx(Qh,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),O.jsxs("div",{id:"android-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:[O.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white",children:"Chrome & Brave:"}),O.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[O.jsx("li",{children:"Tap menu button (three dots)"}),O.jsx("li",{children:'Tap "Add to Home screen"'}),O.jsx("li",{children:'Tap "Add" to confirm'})]}),O.jsx("p",{className:"font-semibold text-zinc-900 dark:text-white mt-3",children:"Firefox:"}),O.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[O.jsx("li",{children:"Tap menu button (three dots)"}),O.jsx("li",{children:'Tap "Install"'})]})]})]}),O.jsxs("div",{className:"rounded-2xl bg-zinc-100 dark:bg-white/5 overflow-hidden",children:[O.jsxs("button",{onClick:()=>{document.getElementById("ios-guide")?.classList.toggle("hidden")},className:"w-full flex items-center justify-between p-4 font-bold text-sm text-left hover:bg-zinc-200 dark:hover:bg-white/5 text-zinc-800 dark:text-zinc-200 transition-colors",children:[O.jsx("span",{children:"Using Share Button (iOS)"}),O.jsx(Qh,{size:16,className:"text-zinc-400 dark:text-white/50"})]}),O.jsx("div",{id:"ios-guide",className:"hidden p-4 pt-0 text-xs text-zinc-600 dark:text-white/70 space-y-2",children:O.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"Share"})," button in Safari menu bar."]}),O.jsxs("li",{children:["Scroll down and tap ",O.jsx("strong",{children:"Add to Home Screen"}),"."]}),O.jsx("li",{children:"Launch Parlens from your home screen."})]})})]})]}),O.jsxs("div",{className:"space-y-6 text-sm text-zinc-600 dark:text-white/80 leading-relaxed pt-4 border-t border-black/5 dark:border-white/10",children:[O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"1. Select vehicle type"}),"Use the vertical toggle on the bottom-left to switch between Bicycle , Motorcycle , or Car ."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"2. Search for spots"}),"Click the main button once to see open spots reported by others."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"3. Park & End Session"}),"Click again to mark your location. When leaving, click once more to end the session and report the fee."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"4. View History"}),"Use the log button (clipboard icon) to see your parking history."]}),O.jsxs("p",{children:[O.jsx("strong",{className:"text-zinc-900 dark:text-white block mb-1",children:"5. Secure your keys"}),"Copy and store your npub (public key) and nsec (secret key) from the profile section. These are your account access keys and cannot be recovered if lost."]})]})]})}),d==="search"&&O.jsx("div",{className:"absolute top-12 left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",children:O.jsxs("div",{className:"px-6 py-3 rounded-full bg-white text-black font-bold shadow-xl flex items-center gap-3 border border-black/5 whitespace-nowrap min-w-max",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),O.jsx("span",{className:"text-sm tracking-tight",children:"Searching for spots"})]})}),d==="parked"&&O.jsx("div",{className:"absolute top-12 left-1/2 z-[1000] -translate-x-1/2 animate-in slide-in-from-top-6 duration-500",children:O.jsxs("div",{className:"px-6 py-3 rounded-full bg-[#34C759] text-white font-bold shadow-xl flex items-center gap-3",children:[O.jsx("span",{className:"text-lg",children:T==="bicycle"?"":T==="motorcycle"?"":""}),O.jsx("span",{className:"text-sm tracking-tight text-white/90",children:"Session Active"})]})})]}):O.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-black",children:O.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in duration-700",children:[O.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-blue-500/20 border-t-blue-500 animate-spin"}),O.jsx("p",{className:"text-sm font-semibold text-zinc-400 dark:text-white/40 tracking-tight",children:"Locating..."})]})})},mS=()=>{const{login:a}=ll(),[r,l]=ft.useState(""),[c,d]=ft.useState(""),[p,v]=ft.useState(!1),[b,_]=ft.useState("landing"),[x,T]=ft.useState(""),S=async H=>{v(!0),d("");try{await a(H,H==="nsec"?r:void 0)}catch(M){d(M.message)}finally{v(!1)}},R=()=>{_("setup")},P=async()=>{if(!x.trim()){d("Please enter a username");return}v(!0);try{await a("create",void 0,x)}catch(H){d(H.message)}finally{v(!1)}};return O.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-black p-6 text-white text-center",children:O.jsxs("div",{className:"w-full max-w-sm space-y-12 animate-in fade-in zoom-in-95 duration-700",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsx("div",{className:"mx-auto flex h-24 w-24 items-center justify-center rounded-[2.5rem] bg-blue-500 shadow-2xl shadow-blue-500/20",children:O.jsx("span",{className:"text-5xl font-black text-white",children:"P"})}),O.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter",children:"Parlens"}),O.jsx("p",{className:"text-sm font-medium text-white/40 tracking-tight",children:"Public Parking Management"})]}),O.jsxs("div",{className:"space-y-4",children:[b==="landing"?O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:R,disabled:p,className:"w-full h-16 rounded-3xl bg-white text-black font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3",children:p?"Creating...":O.jsxs(O.Fragment,{children:[O.jsx(CE,{size:20,strokeWidth:3}),"Create a Nostr Account"]})}),O.jsx("div",{className:"pt-4 pb-2",children:O.jsx("h2",{className:"text-lg font-bold text-white/50 uppercase tracking-widest text-center",children:"Login"})}),O.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.jsxs("button",{onClick:()=>_("nsec"),disabled:p,className:"h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[O.jsx(c0,{size:18}),"Secret Key"]}),O.jsxs("button",{onClick:()=>S("extension"),disabled:p,className:"h-16 rounded-3xl bg-zinc-900 border border-white/10 text-white font-bold active:scale-95 transition-all flex items-center justify-center gap-2",children:[O.jsx(TE,{size:18,className:"text-blue-400"}),"Browser"]})]})]}):b==="setup"?O.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-right-4",children:[O.jsxs("div",{className:"text-center pb-2",children:[O.jsx("h3",{className:"text-xl font-bold",children:"Pick a Username"}),O.jsx("p",{className:"text-white/40 text-sm",children:"This will be your identity on Nostr"})]}),O.jsx("input",{type:"text",placeholder:"Username",value:x,onChange:H=>T(H.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-white/20",autoFocus:!0}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{onClick:()=>_("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),O.jsx("button",{onClick:P,disabled:p||!x,className:"flex-1 h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Creating...":"Continue"})]})]}):O.jsxs("div",{className:"space-y-4 pt-4 animate-in slide-in-from-bottom-4",children:[O.jsx("input",{type:"password",placeholder:"Paste your nsec...",value:r,onChange:H=>l(H.target.value),className:"w-full h-16 rounded-3xl bg-zinc-900 border border-white/10 px-6 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-white/20",autoFocus:!0}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{onClick:()=>_("landing"),className:"h-16 px-6 rounded-3xl bg-zinc-900 text-white font-bold",children:"Back"}),O.jsx("button",{onClick:()=>S("nsec"),disabled:p||!r,className:"flex-1 h-16 rounded-3xl bg-blue-500 text-white font-bold shadow-lg active:scale-95 transition-all",children:p?"Decrypting...":"Login with Key"})]})]}),c&&O.jsx("div",{className:"p-4 rounded-3xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:c})]})]})})},pS=()=>{const{pubkey:a}=ll();return a?O.jsx(dS,{}):O.jsx(mS,{})};var pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gS={setTimeout:(a,r)=>setTimeout(a,r),clearTimeout:a=>clearTimeout(a),setInterval:(a,r)=>setInterval(a,r),clearInterval:a=>clearInterval(a)},yS=class{#t=gS;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,r){return this.#t.setTimeout(a,r)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,r){return this.#t.setInterval(a,r)}clearInterval(a){this.#t.clearInterval(a)}},Ih=new yS;function vS(a){setTimeout(a,0)}var gc=typeof window>"u"||"Deno"in globalThis;function In(){}function _S(a,r){return typeof a=="function"?a(r):a}function bS(a){return typeof a=="number"&&a>=0&&a!==1/0}function wS(a,r){return Math.max(a+(r||0)-Date.now(),0)}function Jh(a,r){return typeof a=="function"?a(r):a}function xS(a,r){return typeof a=="function"?a(r):a}function my(a,r){const{type:l="all",exact:c,fetchStatus:d,predicate:p,queryKey:v,stale:b}=a;if(v){if(c){if(r.queryHash!==Rd(v,r.options))return!1}else if(!rl(r.queryKey,v))return!1}if(l!=="all"){const _=r.isActive();if(l==="active"&&!_||l==="inactive"&&_)return!1}return!(typeof b=="boolean"&&r.isStale()!==b||d&&d!==r.state.fetchStatus||p&&!p(r))}function py(a,r){const{exact:l,status:c,predicate:d,mutationKey:p}=a;if(p){if(!r.options.mutationKey)return!1;if(l){if(sl(r.options.mutationKey)!==sl(p))return!1}else if(!rl(r.options.mutationKey,p))return!1}return!(c&&r.state.status!==c||d&&!d(r))}function Rd(a,r){return(r?.queryKeyHashFn||sl)(a)}function sl(a){return JSON.stringify(a,(r,l)=>Fh(l)?Object.keys(l).sort().reduce((c,d)=>(c[d]=l[d],c),{}):l)}function rl(a,r){return a===r?!0:typeof a!=typeof r?!1:a&&r&&typeof a=="object"&&typeof r=="object"?Object.keys(r).every(l=>rl(a[l],r[l])):!1}var ES=Object.prototype.hasOwnProperty;function _0(a,r){if(a===r)return a;const l=gy(a)&&gy(r);if(!l&&!(Fh(a)&&Fh(r)))return r;const d=(l?a:Object.keys(a)).length,p=l?r:Object.keys(r),v=p.length,b=l?new Array(v):{};let _=0;for(let x=0;x<v;x++){const T=l?x:p[x],S=a[T],R=r[T];if(S===R){b[T]=S,(l?x<d:ES.call(a,T))&&_++;continue}if(S===null||R===null||typeof S!="object"||typeof R!="object"){b[T]=R;continue}const P=_0(S,R);b[T]=P,P===S&&_++}return d===v&&_===d?a:b}function gy(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Fh(a){if(!yy(a))return!1;const r=a.constructor;if(r===void 0)return!0;const l=r.prototype;return!(!yy(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function yy(a){return Object.prototype.toString.call(a)==="[object Object]"}function SS(a){return new Promise(r=>{Ih.setTimeout(r,a)})}function TS(a,r,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,r):l.structuralSharing!==!1?_0(a,r):r}function AS(a,r,l=0){const c=[...a,r];return l&&c.length>l?c.slice(1):c}function zS(a,r,l=0){const c=[r,...a];return l&&c.length>l?c.slice(0,-1):c}var kd=Symbol();function b0(a,r){return!a.queryFn&&r?.initialPromise?()=>r.initialPromise:!a.queryFn||a.queryFn===kd?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var LS=class extends pc{#t;#e;#n;constructor(){super(),this.#n=a=>{if(!gc&&window.addEventListener){const r=()=>a();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(r=>{r(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},w0=new LS;function CS(){let a,r;const l=new Promise((d,p)=>{a=d,r=p});l.status="pending",l.catch(()=>{});function c(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{c({status:"fulfilled",value:d}),a(d)},l.reject=d=>{c({status:"rejected",reason:d}),r(d)},l}var MS=vS;function OS(){let a=[],r=0,l=b=>{b()},c=b=>{b()},d=MS;const p=b=>{r?a.push(b):d(()=>{l(b)})},v=()=>{const b=a;a=[],b.length&&d(()=>{c(()=>{b.forEach(_=>{l(_)})})})};return{batch:b=>{let _;r++;try{_=b()}finally{r--,r||v()}return _},batchCalls:b=>(..._)=>{p(()=>{b(..._)})},schedule:p,setNotifyFunction:b=>{l=b},setBatchNotifyFunction:b=>{c=b},setScheduler:b=>{d=b}}}var Fe=OS(),NS=class extends pc{#t=!0;#e;#n;constructor(){super(),this.#n=a=>{if(!gc&&window.addEventListener){const r=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#n=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(l=>{l(a)}))}isOnline(){return this.#t}},$u=new NS;function BS(a){return Math.min(1e3*2**a,3e4)}function x0(a){return(a??"online")==="online"?$u.isOnline():!0}var Wh=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function E0(a){let r=!1,l=0,c;const d=CS(),p=()=>d.status!=="pending",v=M=>{if(!p()){const D=new Wh(M);R(D),a.onCancel?.(D)}},b=()=>{r=!0},_=()=>{r=!1},x=()=>w0.isFocused()&&(a.networkMode==="always"||$u.isOnline())&&a.canRun(),T=()=>x0(a.networkMode)&&a.canRun(),S=M=>{p()||(c?.(),d.resolve(M))},R=M=>{p()||(c?.(),d.reject(M))},P=()=>new Promise(M=>{c=D=>{(p()||x())&&M(D)},a.onPause?.()}).then(()=>{c=void 0,p()||a.onContinue?.()}),H=()=>{if(p())return;let M;const D=l===0?a.initialPromise:void 0;try{M=D??a.fn()}catch(V){M=Promise.reject(V)}Promise.resolve(M).then(S).catch(V=>{if(p())return;const et=a.retry??(gc?0:3),tt=a.retryDelay??BS,pt=typeof tt=="function"?tt(l,V):tt,yt=et===!0||typeof et=="number"&&l<et||typeof et=="function"&&et(l,V);if(r||!yt){R(V);return}l++,a.onFail?.(l,V),SS(pt).then(()=>x()?void 0:P()).then(()=>{r?R(V):H()})})};return{promise:d,status:()=>d.status,cancel:v,continue:()=>(c?.(),d),cancelRetry:b,continueRetry:_,canStart:T,start:()=>(T()?H():P().then(H),d)}}var S0=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bS(this.gcTime)&&(this.#t=Ih.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(gc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Ih.clearTimeout(this.#t),this.#t=void 0)}},RS=class extends S0{#t;#e;#n;#a;#i;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#n=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=_y(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(a){if(this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=_y(this.options);r.data!==void 0&&(this.setState(vy(r.data,r.dataUpdatedAt)),this.#t=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,r){const l=TS(this.state.data,a,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),l}setState(a,r){this.#s({type:"setState",state:a,setStateOptions:r})}cancel(a){const r=this.#i?.promise;return this.#i?.cancel(a),r?r.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>xS(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>Jh(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!wS(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(r=>r!==a),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(a,r){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(a&&this.setOptions(a),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const l=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(this.#o=!0,l.signal)})},d=()=>{const b=b0(this.options,r),x=(()=>{const T={client:this.#a,queryKey:this.queryKey,meta:this.meta};return c(T),T})();return this.#o=!1,this.options.persister?this.options.persister(b,x,this):b(x)},v=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:d};return c(b),b})();this.options.behavior?.onFetch(v,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==v.fetchOptions?.meta)&&this.#s({type:"fetch",meta:v.fetchOptions?.meta}),this.#i=E0({initialPromise:r?.initialPromise,fn:v.fetchFn,onCancel:b=>{b instanceof Wh&&b.revert&&this.setState({...this.#e,fetchStatus:"idle"}),l.abort()},onFail:(b,_)=>{this.#s({type:"failed",failureCount:b,error:_})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay,networkMode:v.options.networkMode,canRun:()=>!0});try{const b=await this.#i.start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),this.#n.config.onSuccess?.(b,this),this.#n.config.onSettled?.(b,this.state.error,this),b}catch(b){if(b instanceof Wh){if(b.silent)return this.#i.promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw this.#s({type:"error",error:b}),this.#n.config.onError?.(b,this),this.#n.config.onSettled?.(this.state.data,b,this),b}finally{this.scheduleGc()}}#s(a){const r=l=>{switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...kS(l.data,this.options),fetchMeta:a.meta??null};case"success":const c={...l,...vy(a.data,a.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?c:void 0,c;case"error":const d=a.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=r(this.state),Fe.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function kS(a,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x0(r.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function vy(a,r){return{data:a,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _y(a){const r=typeof a.initialData=="function"?a.initialData():a.initialData,l=r!==void 0,c=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:l?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function by(a){return{onFetch:(r,l)=>{const c=r.options,d=r.fetchOptions?.meta?.fetchMore?.direction,p=r.state.data?.pages||[],v=r.state.data?.pageParams||[];let b={pages:[],pageParams:[]},_=0;const x=async()=>{let T=!1;const S=H=>{Object.defineProperty(H,"signal",{enumerable:!0,get:()=>(r.signal.aborted?T=!0:r.signal.addEventListener("abort",()=>{T=!0}),r.signal)})},R=b0(r.options,r.fetchOptions),P=async(H,M,D)=>{if(T)return Promise.reject();if(M==null&&H.pages.length)return Promise.resolve(H);const et=(()=>{const at={client:r.client,queryKey:r.queryKey,pageParam:M,direction:D?"backward":"forward",meta:r.options.meta};return S(at),at})(),tt=await R(et),{maxPages:pt}=r.options,yt=D?zS:AS;return{pages:yt(H.pages,tt,pt),pageParams:yt(H.pageParams,M,pt)}};if(d&&p.length){const H=d==="backward",M=H?DS:wy,D={pages:p,pageParams:v},V=M(c,D);b=await P(D,V,H)}else{const H=a??p.length;do{const M=_===0?v[0]??c.initialPageParam:wy(c,b);if(_>0&&M==null)break;b=await P(b,M),_++}while(_<H)}return b};r.options.persister?r.fetchFn=()=>r.options.persister?.(x,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},l):r.fetchFn=x}}}function wy(a,{pages:r,pageParams:l}){const c=r.length-1;return r.length>0?a.getNextPageParam(r[c],r,l[c],l):void 0}function DS(a,{pages:r,pageParams:l}){return r.length>0?a.getPreviousPageParam?.(r[0],r,l[0],l):void 0}var US=class extends S0{#t;#e;#n;#a;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#e=[],this.state=a.state||HS(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(r=>r!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(a){const r=()=>{this.#i({type:"continue"})},l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=E0({fn:()=>this.options.mutationFn?this.options.mutationFn(a,l):Promise.reject(new Error("No mutationFn found")),onFail:(p,v)=>{this.#i({type:"failed",failureCount:p,error:v})},onPause:()=>{this.#i({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const c=this.state.status==="pending",d=!this.#a.canStart();try{if(c)r();else{this.#i({type:"pending",variables:a,isPaused:d}),await this.#n.config.onMutate?.(a,this,l);const v=await this.options.onMutate?.(a,l);v!==this.state.context&&this.#i({type:"pending",context:v,variables:a,isPaused:d})}const p=await this.#a.start();return await this.#n.config.onSuccess?.(p,a,this.state.context,this,l),await this.options.onSuccess?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(p,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(p,null,a,this.state.context,l),this.#i({type:"success",data:p}),p}catch(p){try{throw await this.#n.config.onError?.(p,a,this.state.context,this,l),await this.options.onError?.(p,a,this.state.context,l),await this.#n.config.onSettled?.(void 0,p,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,p,a,this.state.context,l),p}finally{this.#i({type:"error",error:p})}}finally{this.#n.runNext(this)}}#i(a){const r=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fe.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function HS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jS=class extends pc{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(a,r,l){const c=new US({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(r),state:l});return this.add(c),c}add(a){this.#t.add(a);const r=Zu(a);if(typeof r=="string"){const l=this.#e.get(r);l?l.push(a):this.#e.set(r,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const r=Zu(a);if(typeof r=="string"){const l=this.#e.get(r);if(l)if(l.length>1){const c=l.indexOf(a);c!==-1&&l.splice(c,1)}else l[0]===a&&this.#e.delete(r)}}this.notify({type:"removed",mutation:a})}canRun(a){const r=Zu(a);if(typeof r=="string"){const c=this.#e.get(r)?.find(d=>d.state.status==="pending");return!c||c===a}else return!0}runNext(a){const r=Zu(a);return typeof r=="string"?this.#e.get(r)?.find(c=>c!==a&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fe.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const r={exact:!0,...a};return this.getAll().find(l=>py(r,l))}findAll(a={}){return this.getAll().filter(r=>py(a,r))}notify(a){Fe.batch(()=>{this.listeners.forEach(r=>{r(a)})})}resumePausedMutations(){const a=this.getAll().filter(r=>r.state.isPaused);return Fe.batch(()=>Promise.all(a.map(r=>r.continue().catch(In))))}};function Zu(a){return a.options.scope?.id}var ZS=class extends pc{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,r,l){const c=r.queryKey,d=r.queryHash??Rd(c,r);let p=this.get(d);return p||(p=new RS({client:a,queryKey:c,queryHash:d,options:a.defaultQueryOptions(r),state:l,defaultOptions:a.getQueryDefaults(c)}),this.add(p)),p}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const r=this.#t.get(a.queryHash);r&&(a.destroy(),r===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Fe.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const r={exact:!0,...a};return this.getAll().find(l=>my(r,l))}findAll(a={}){const r=this.getAll();return Object.keys(a).length>0?r.filter(l=>my(a,l)):r}notify(a){Fe.batch(()=>{this.listeners.forEach(r=>{r(a)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},PS=class{#t;#e;#n;#a;#i;#r;#o;#s;constructor(a={}){this.#t=a.queryCache||new ZS,this.#e=a.mutationCache||new jS,this.#n=a.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=w0.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=$u.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const r=this.defaultQueryOptions({queryKey:a});return this.#t.get(r.queryHash)?.state.data}ensureQueryData(a){const r=this.defaultQueryOptions(a),l=this.#t.build(this,r),c=l.state.data;return c===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(Jh(r.staleTime,l))&&this.prefetchQuery(r),Promise.resolve(c))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:r,state:l})=>{const c=l.data;return[r,c]})}setQueryData(a,r,l){const c=this.defaultQueryOptions({queryKey:a}),p=this.#t.get(c.queryHash)?.state.data,v=_S(r,p);if(v!==void 0)return this.#t.build(this,c).setData(v,{...l,manual:!0})}setQueriesData(a,r,l){return Fe.batch(()=>this.#t.findAll(a).map(({queryKey:c})=>[c,this.setQueryData(c,r,l)]))}getQueryState(a){const r=this.defaultQueryOptions({queryKey:a});return this.#t.get(r.queryHash)?.state}removeQueries(a){const r=this.#t;Fe.batch(()=>{r.findAll(a).forEach(l=>{r.remove(l)})})}resetQueries(a,r){const l=this.#t;return Fe.batch(()=>(l.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...a},r)))}cancelQueries(a,r={}){const l={revert:!0,...r},c=Fe.batch(()=>this.#t.findAll(a).map(d=>d.cancel(l)));return Promise.all(c).then(In).catch(In)}invalidateQueries(a,r={}){return Fe.batch(()=>(this.#t.findAll(a).forEach(l=>{l.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},r)))}refetchQueries(a,r={}){const l={...r,cancelRefetch:r.cancelRefetch??!0},c=Fe.batch(()=>this.#t.findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let p=d.fetch(void 0,l);return l.throwOnError||(p=p.catch(In)),d.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(c).then(In)}fetchQuery(a){const r=this.defaultQueryOptions(a);r.retry===void 0&&(r.retry=!1);const l=this.#t.build(this,r);return l.isStaleByTime(Jh(r.staleTime,l))?l.fetch(r):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(In).catch(In)}fetchInfiniteQuery(a){return a.behavior=by(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(In).catch(In)}ensureInfiniteQueryData(a){return a.behavior=by(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return $u.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,r){this.#a.set(sl(a),{queryKey:a,defaultOptions:r})}getQueryDefaults(a){const r=[...this.#a.values()],l={};return r.forEach(c=>{rl(a,c.queryKey)&&Object.assign(l,c.defaultOptions)}),l}setMutationDefaults(a,r){this.#i.set(sl(a),{mutationKey:a,defaultOptions:r})}getMutationDefaults(a){const r=[...this.#i.values()],l={};return r.forEach(c=>{rl(a,c.mutationKey)&&Object.assign(l,c.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const r={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return r.queryHash||(r.queryHash=Rd(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===kd&&(r.enabled=!1),r}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},qS=ft.createContext(void 0),GS=({client:a,children:r})=>(ft.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),O.jsx(qS.Provider,{value:a,children:r}));const YS=new PS;J_.createRoot(document.getElementById("root")).render(O.jsx(Yu.StrictMode,{children:O.jsx(GS,{client:YS,children:O.jsx($2,{children:O.jsx(pS,{})})})}));
